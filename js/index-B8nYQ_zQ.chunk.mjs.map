{"version":3,"file":"index-B8nYQ_zQ.chunk.mjs","sources":["../node_modules/@nextcloud/initial-state/dist/index.js"],"sourcesContent":["/**\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: GPL-3.0-or-later\n */\n/**\n * @param app app ID, e.g. \"mail\"\n * @param key name of the property\n * @param fallback optional parameter to use as default value\n * @throws if the key can't be found\n */\nexport function loadState(app, key, fallback) {\n    const selector = `#initial-state-${app}-${key}`;\n    if (window._nc_initial_state?.has(selector)) {\n        return window._nc_initial_state.get(selector);\n    }\n    else if (!window._nc_initial_state) {\n        window._nc_initial_state = new Map();\n    }\n    const elem = document.querySelector(selector);\n    if (elem === null) {\n        if (fallback !== undefined) {\n            return fallback;\n        }\n        throw new Error(`Could not find initial state ${key} of ${app}`);\n    }\n    try {\n        const parsedValue = JSON.parse(atob(elem.value));\n        window._nc_initial_state.set(selector, parsedValue);\n        return parsedValue;\n    }\n    catch (error) {\n        console.error('[@nextcloud/initial-state] Could not parse initial state', { key, app, error });\n        if (fallback !== undefined) {\n            return fallback;\n        }\n        throw new Error(`Could not parse initial state ${key} of ${app}`, { cause: error });\n    }\n}\n"],"names":["loadState","app","key","fallback","selector","elem","parsedValue","error"],"mappings":"AAUO,SAASA,EAAUC,EAAKC,EAAKC,EAAU,CAC1C,MAAMC,EAAW,kBAAkBH,CAAG,IAAIC,CAAG,GAC7C,GAAI,OAAO,mBAAmB,IAAIE,CAAQ,EACtC,OAAO,OAAO,kBAAkB,IAAIA,CAAQ,EAEtC,OAAO,oBACb,OAAO,kBAAoB,IAAI,KAEnC,MAAMC,EAAO,SAAS,cAAcD,CAAQ,EAC5C,GAAIC,IAAS,KAAM,CACf,GAAIF,IAAa,OACb,OAAOA,EAEX,MAAM,IAAI,MAAM,gCAAgCD,CAAG,OAAOD,CAAG,EAAE,CACnE,CACA,GAAI,CACA,MAAMK,EAAc,KAAK,MAAM,KAAKD,EAAK,KAAK,CAAC,EAC/C,cAAO,kBAAkB,IAAID,EAAUE,CAAW,EAC3CA,CACX,OACOC,EAAO,CAEV,GADA,QAAQ,MAAM,2DAA4D,CAAE,IAAAL,EAAK,IAAAD,EAAK,MAAAM,EAAO,EACzFJ,IAAa,OACb,OAAOA,EAEX,MAAM,IAAI,MAAM,iCAAiCD,CAAG,OAAOD,CAAG,GAAI,CAAE,MAAOM,EAAO,CACtF,CACJ","x_google_ignoreList":[0]}