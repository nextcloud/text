import{p as Ct,g as Ae,o as lr,a as hr}from"./modulepreload-polyfill-nb9XBeg7.chunk.mjs";import{b as pr,d as fr,B as te}from"./index-Dtu68Mmq.chunk.mjs";import{g as $t}from"./vue.runtime.esm-C7aVrvtW.chunk.mjs";import{g as dr}from"./index-_QHNqdwt.chunk.mjs";import{a as gr}from"./emoji-picker-DlAAdvrL.chunk.mjs";import{g as mr,d as Sn}from"./NcLoadingIcon-CHw5fok5.chunk.mjs";function Rn(e,t,n){const r=`#initial-state-${e}-${t}`;if(window._nc_initial_state?.has(r))return window._nc_initial_state.get(r);window._nc_initial_state||(window._nc_initial_state=new Map);const i=document.querySelector(r);if(i===null)return n;try{const o=JSON.parse(atob(i.value));return window._nc_initial_state.set(r,o),o}catch(o){return console.error("[@nextcloud/initial-state] Could not parse initial state",{key:t,app:e,error:o}),n}}function Pe(){return Rn("files_sharing","isPublic",null)??document.querySelector('input#isPublic[type="hidden"][name="isPublic"][value="1"]')!==null}function Er(){return Rn("files_sharing","sharingToken",null)??document.querySelector('input#sharingToken[type="hidden"]')?.value??null}function yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ze(e,t,n){yr(e,t),t.set(e,n)}function yr(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Q(e,t){var n=Ln(e,t,"get");return wr(e,n)}function wr(e,t){return t.get?t.get.call(e):t.value}function He(e,t,n){var r=Ln(e,t,"set");return br(e,r,n),n}function Ln(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function br(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}var Tr=typeof Symbol<"u"?Symbol.toStringTag:"@@toStringTag",tt=new WeakMap,Ot=new WeakMap;class Ht{constructor(t){var{executor:n=()=>{},internals:r=Se(),promise:i=new Promise((o,u)=>n(o,u,a=>{r.onCancelList.push(a)}))}=t;ze(this,tt,{writable:!0,value:void 0}),ze(this,Ot,{writable:!0,value:void 0}),yt(this,Tr,"CancelablePromise"),this.cancel=this.cancel.bind(this),He(this,tt,r),He(this,Ot,i||new Promise((o,u)=>n(o,u,a=>{r.onCancelList.push(a)})))}then(t,n){return kt(Q(this,Ot).then(Ft(t,Q(this,tt)),Ft(n,Q(this,tt))),Q(this,tt))}catch(t){return kt(Q(this,Ot).catch(Ft(t,Q(this,tt))),Q(this,tt))}finally(t,n){return n&&Q(this,tt).onCancelList.push(t),kt(Q(this,Ot).finally(Ft(()=>{if(t)return n&&(Q(this,tt).onCancelList=Q(this,tt).onCancelList.filter(r=>r!==t)),t()},Q(this,tt))),Q(this,tt))}cancel(){Q(this,tt).isCanceled=!0;var t=Q(this,tt).onCancelList;Q(this,tt).onCancelList=[];for(var n of t)if(typeof n=="function")try{n()}catch(r){console.error(r)}}isCanceled(){return Q(this,tt).isCanceled===!0}}class dt extends Ht{constructor(t){super({executor:t})}}yt(dt,"all",function(e){return jt(e,Promise.all(e))}),yt(dt,"allSettled",function(e){return jt(e,Promise.allSettled(e))}),yt(dt,"any",function(e){return jt(e,Promise.any(e))}),yt(dt,"race",function(e){return jt(e,Promise.race(e))}),yt(dt,"resolve",function(e){return Ye(Promise.resolve(e))}),yt(dt,"reject",function(e){return Ye(Promise.reject(e))}),yt(dt,"isCancelable",Ce);function Ye(e){return kt(e,Se())}function Ce(e){return e instanceof dt||e instanceof Ht}function Ft(e,t){if(e)return n=>{if(!t.isCanceled){var r=e(n);return Ce(r)&&t.onCancelList.push(r.cancel),r}return n}}function kt(e,t){return new Ht({internals:t,promise:e})}function jt(e,t){var n=Se();return n.onCancelList.push(()=>{for(var r of e)Ce(r)&&r.cancel()}),new Ht({internals:n,promise:t})}function Se(){return{isCanceled:!1,onCancelList:[]}}var ee={},vr={2:e=>{function t(i,o,u){i instanceof RegExp&&(i=n(i,u)),o instanceof RegExp&&(o=n(o,u));var a=r(i,o,u);return a&&{start:a[0],end:a[1],pre:u.slice(0,a[0]),body:u.slice(a[0]+i.length,a[1]),post:u.slice(a[1]+o.length)}}function n(i,o){var u=o.match(i);return u?u[0]:null}function r(i,o,u){var a,p,l,s,h,c=u.indexOf(i),m=u.indexOf(o,c+1),E=c;if(c>=0&&m>0){for(a=[],l=u.length;E>=0&&!h;)E==c?(a.push(E),c=u.indexOf(i,E+1)):a.length==1?h=[a.pop(),m]:((p=a.pop())<l&&(l=p,s=m),m=u.indexOf(o,E+1)),E=c<m&&c>=0?c:m;a.length&&(h=[l,s])}return h}e.exports=t,t.range=r},101:function(e,t,n){var r;e=n.nmd(e),function(i){var o=(e&&e.exports,typeof $t=="object"&&$t);o.global!==o&&o.window;var u=function(h){this.message=h};(u.prototype=new Error).name="InvalidCharacterError";var a=function(h){throw new u(h)},p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=/[\t\n\f\r ]/g,s={encode:function(h){h=String(h),/[^\0-\xFF]/.test(h)&&a("The string to be encoded contains characters outside of the Latin1 range.");for(var c,m,E,d,w=h.length%3,x="",g=-1,T=h.length-w;++g<T;)c=h.charCodeAt(g)<<16,m=h.charCodeAt(++g)<<8,E=h.charCodeAt(++g),x+=p.charAt((d=c+m+E)>>18&63)+p.charAt(d>>12&63)+p.charAt(d>>6&63)+p.charAt(63&d);return w==2?(c=h.charCodeAt(g)<<8,m=h.charCodeAt(++g),x+=p.charAt((d=c+m)>>10)+p.charAt(d>>4&63)+p.charAt(d<<2&63)+"="):w==1&&(d=h.charCodeAt(g),x+=p.charAt(d>>2)+p.charAt(d<<4&63)+"=="),x},decode:function(h){var c=(h=String(h).replace(l,"")).length;c%4==0&&(c=(h=h.replace(/==?$/,"")).length),(c%4==1||/[^+a-zA-Z0-9/]/.test(h))&&a("Invalid character: the string to be decoded is not correctly encoded.");for(var m,E,d=0,w="",x=-1;++x<c;)E=p.indexOf(h.charAt(x)),m=d%4?64*m+E:E,d++%4&&(w+=String.fromCharCode(255&m>>(-2*d&6)));return w},version:"1.0.0"};(r=function(){return s}.call(t,n,t,e))===void 0||(e.exports=r)}()},172:(e,t)=>{t.d=function(n){if(!n)return 0;for(var r=(n=n.toString()).length,i=n.length;i--;){var o=n.charCodeAt(i);56320<=o&&o<=57343&&i--,127<o&&o<=2047?r++:2047<o&&o<=65535&&(r+=2)}return r}},526:e=>{var t={utf8:{stringToBytes:function(n){return t.bin.stringToBytes(unescape(encodeURIComponent(n)))},bytesToString:function(n){return decodeURIComponent(escape(t.bin.bytesToString(n)))}},bin:{stringToBytes:function(n){for(var r=[],i=0;i<n.length;i++)r.push(255&n.charCodeAt(i));return r},bytesToString:function(n){for(var r=[],i=0;i<n.length;i++)r.push(String.fromCharCode(n[i]));return r.join("")}}};e.exports=t},298:e=>{var t,n;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(r,i){return r<<i|r>>>32-i},rotr:function(r,i){return r<<32-i|r>>>i},endian:function(r){if(r.constructor==Number)return 16711935&n.rotl(r,8)|4278255360&n.rotl(r,24);for(var i=0;i<r.length;i++)r[i]=n.endian(r[i]);return r},randomBytes:function(r){for(var i=[];r>0;r--)i.push(Math.floor(256*Math.random()));return i},bytesToWords:function(r){for(var i=[],o=0,u=0;o<r.length;o++,u+=8)i[u>>>5]|=r[o]<<24-u%32;return i},wordsToBytes:function(r){for(var i=[],o=0;o<32*r.length;o+=8)i.push(r[o>>>5]>>>24-o%32&255);return i},bytesToHex:function(r){for(var i=[],o=0;o<r.length;o++)i.push((r[o]>>>4).toString(16)),i.push((15&r[o]).toString(16));return i.join("")},hexToBytes:function(r){for(var i=[],o=0;o<r.length;o+=2)i.push(parseInt(r.substr(o,2),16));return i},bytesToBase64:function(r){for(var i=[],o=0;o<r.length;o+=3)for(var u=r[o]<<16|r[o+1]<<8|r[o+2],a=0;a<4;a++)8*o+6*a<=8*r.length?i.push(t.charAt(u>>>6*(3-a)&63)):i.push("=");return i.join("")},base64ToBytes:function(r){r=r.replace(/[^A-Z0-9+\/]/gi,"");for(var i=[],o=0,u=0;o<r.length;u=++o%4)u!=0&&i.push((t.indexOf(r.charAt(o-1))&Math.pow(2,-2*u+8)-1)<<2*u|t.indexOf(r.charAt(o))>>>6-2*u);return i}},e.exports=n},635:(e,t,n)=>{const r=n(31),i=n(338),o=n(221);e.exports={XMLParser:i,XMLValidator:r,XMLBuilder:o}},118:e=>{e.exports=function(t){return typeof t=="function"?t:Array.isArray(t)?n=>{for(const r of t)if(typeof r=="string"&&n===r||r instanceof RegExp&&r.test(n))return!0}:()=>!1}},705:(e,t)=>{const n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r="["+n+"]["+n+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",i=new RegExp("^"+r+"$");t.isExist=function(o){return o!==void 0},t.isEmptyObject=function(o){return Object.keys(o).length===0},t.merge=function(o,u,a){if(u){const p=Object.keys(u),l=p.length;for(let s=0;s<l;s++)o[p[s]]=a==="strict"?[u[p[s]]]:u[p[s]]}},t.getValue=function(o){return t.isExist(o)?o:""},t.isName=function(o){return i.exec(o)!=null},t.getAllMatches=function(o,u){const a=[];let p=u.exec(o);for(;p;){const l=[];l.startIndex=u.lastIndex-p[0].length;const s=p.length;for(let h=0;h<s;h++)l.push(p[h]);a.push(l),p=u.exec(o)}return a},t.nameRegexp=r},31:(e,t,n)=>{const r=n(705),i={allowBooleanAttributes:!1,unpairedTags:[]};function o(g){return g===" "||g==="	"||g===`
`||g==="\r"}function u(g,T){const N=T;for(;T<g.length;T++)if(!(g[T]!="?"&&g[T]!=" ")){const _=g.substr(N,T-N);if(T>5&&_==="xml")return E("InvalidXml","XML declaration allowed only at the start of the document.",w(g,T));if(g[T]=="?"&&g[T+1]==">"){T++;break}}return T}function a(g,T){if(g.length>T+5&&g[T+1]==="-"&&g[T+2]==="-"){for(T+=3;T<g.length;T++)if(g[T]==="-"&&g[T+1]==="-"&&g[T+2]===">"){T+=2;break}}else if(g.length>T+8&&g[T+1]==="D"&&g[T+2]==="O"&&g[T+3]==="C"&&g[T+4]==="T"&&g[T+5]==="Y"&&g[T+6]==="P"&&g[T+7]==="E"){let N=1;for(T+=8;T<g.length;T++)if(g[T]==="<")N++;else if(g[T]===">"&&(N--,N===0))break}else if(g.length>T+9&&g[T+1]==="["&&g[T+2]==="C"&&g[T+3]==="D"&&g[T+4]==="A"&&g[T+5]==="T"&&g[T+6]==="A"&&g[T+7]==="["){for(T+=8;T<g.length;T++)if(g[T]==="]"&&g[T+1]==="]"&&g[T+2]===">"){T+=2;break}}return T}t.validate=function(g,T){T=Object.assign({},i,T);const N=[];let _=!1,v=!1;g[0]==="\uFEFF"&&(g=g.substr(1));for(let I=0;I<g.length;I++)if(g[I]==="<"&&g[I+1]==="?"){if(I+=2,I=u(g,I),I.err)return I}else{if(g[I]!=="<"){if(o(g[I]))continue;return E("InvalidChar","char '"+g[I]+"' is not expected.",w(g,I))}{let b=I;if(I++,g[I]==="!"){I=a(g,I);continue}{let S=!1;g[I]==="/"&&(S=!0,I++);let R="";for(;I<g.length&&g[I]!==">"&&g[I]!==" "&&g[I]!=="	"&&g[I]!==`
`&&g[I]!=="\r";I++)R+=g[I];if(R=R.trim(),R[R.length-1]==="/"&&(R=R.substring(0,R.length-1),I--),P=R,!r.isName(P)){let $;return $=R.trim().length===0?"Invalid space after '<'.":"Tag '"+R+"' is an invalid name.",E("InvalidTag",$,w(g,I))}const L=s(g,I);if(L===!1)return E("InvalidAttr","Attributes for '"+R+"' have open quote.",w(g,I));let A=L.value;if(I=L.index,A[A.length-1]==="/"){const $=I-A.length;A=A.substring(0,A.length-1);const D=c(A,T);if(D!==!0)return E(D.err.code,D.err.msg,w(g,$+D.err.line));_=!0}else if(S){if(!L.tagClosed)return E("InvalidTag","Closing tag '"+R+"' doesn't have proper closing.",w(g,I));if(A.trim().length>0)return E("InvalidTag","Closing tag '"+R+"' can't have attributes or invalid starting.",w(g,b));if(N.length===0)return E("InvalidTag","Closing tag '"+R+"' has not been opened.",w(g,b));{const $=N.pop();if(R!==$.tagName){let D=w(g,$.tagStartPos);return E("InvalidTag","Expected closing tag '"+$.tagName+"' (opened in line "+D.line+", col "+D.col+") instead of closing tag '"+R+"'.",w(g,b))}N.length==0&&(v=!0)}}else{const $=c(A,T);if($!==!0)return E($.err.code,$.err.msg,w(g,I-A.length+$.err.line));if(v===!0)return E("InvalidXml","Multiple possible root nodes found.",w(g,I));T.unpairedTags.indexOf(R)!==-1||N.push({tagName:R,tagStartPos:b}),_=!0}for(I++;I<g.length;I++)if(g[I]==="<"){if(g[I+1]==="!"){I++,I=a(g,I);continue}if(g[I+1]!=="?")break;if(I=u(g,++I),I.err)return I}else if(g[I]==="&"){const $=m(g,I);if($==-1)return E("InvalidChar","char '&' is not expected.",w(g,I));I=$}else if(v===!0&&!o(g[I]))return E("InvalidXml","Extra text at the end",w(g,I));g[I]==="<"&&I--}}}var P;return _?N.length==1?E("InvalidTag","Unclosed tag '"+N[0].tagName+"'.",w(g,N[0].tagStartPos)):!(N.length>0)||E("InvalidXml","Invalid '"+JSON.stringify(N.map(I=>I.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):E("InvalidXml","Start tag expected.",1)};const p='"',l="'";function s(g,T){let N="",_="",v=!1;for(;T<g.length;T++){if(g[T]===p||g[T]===l)_===""?_=g[T]:_!==g[T]||(_="");else if(g[T]===">"&&_===""){v=!0;break}N+=g[T]}return _===""&&{value:N,index:T,tagClosed:v}}const h=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function c(g,T){const N=r.getAllMatches(g,h),_={};for(let v=0;v<N.length;v++){if(N[v][1].length===0)return E("InvalidAttr","Attribute '"+N[v][2]+"' has no space in starting.",x(N[v]));if(N[v][3]!==void 0&&N[v][4]===void 0)return E("InvalidAttr","Attribute '"+N[v][2]+"' is without value.",x(N[v]));if(N[v][3]===void 0&&!T.allowBooleanAttributes)return E("InvalidAttr","boolean attribute '"+N[v][2]+"' is not allowed.",x(N[v]));const P=N[v][2];if(!d(P))return E("InvalidAttr","Attribute '"+P+"' is an invalid name.",x(N[v]));if(_.hasOwnProperty(P))return E("InvalidAttr","Attribute '"+P+"' is repeated.",x(N[v]));_[P]=1}return!0}function m(g,T){if(g[++T]===";")return-1;if(g[T]==="#")return function(_,v){let P=/\d/;for(_[v]==="x"&&(v++,P=/[\da-fA-F]/);v<_.length;v++){if(_[v]===";")return v;if(!_[v].match(P))break}return-1}(g,++T);let N=0;for(;T<g.length;T++,N++)if(!(g[T].match(/\w/)&&N<20)){if(g[T]===";")break;return-1}return T}function E(g,T,N){return{err:{code:g,msg:T,line:N.line||N,col:N.col}}}function d(g){return r.isName(g)}function w(g,T){const N=g.substring(0,T).split(/\r?\n/);return{line:N.length,col:N[N.length-1].length+1}}function x(g){return g.startIndex+g[1].length}},221:(e,t,n)=>{const r=n(87),i=n(118),o={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(s,h){return h},attributeValueProcessor:function(s,h){return h},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function u(s){this.options=Object.assign({},o,s),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=i(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=l),this.processTextOrObjNode=a,this.options.format?(this.indentate=p,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function a(s,h,c,m){const E=this.j2x(s,c+1,m.concat(h));return s[this.options.textNodeName]!==void 0&&Object.keys(s).length===1?this.buildTextValNode(s[this.options.textNodeName],h,E.attrStr,c):this.buildObjectNode(E.val,h,E.attrStr,c)}function p(s){return this.options.indentBy.repeat(s)}function l(s){return!(!s.startsWith(this.options.attributeNamePrefix)||s===this.options.textNodeName)&&s.substr(this.attrPrefixLen)}u.prototype.build=function(s){return this.options.preserveOrder?r(s,this.options):(Array.isArray(s)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(s={[this.options.arrayNodeName]:s}),this.j2x(s,0,[]).val)},u.prototype.j2x=function(s,h,c){let m="",E="";const d=c.join(".");for(let w in s)if(Object.prototype.hasOwnProperty.call(s,w))if(s[w]===void 0)this.isAttribute(w)&&(E+="");else if(s[w]===null)this.isAttribute(w)?E+="":w[0]==="?"?E+=this.indentate(h)+"<"+w+"?"+this.tagEndChar:E+=this.indentate(h)+"<"+w+"/"+this.tagEndChar;else if(s[w]instanceof Date)E+=this.buildTextValNode(s[w],w,"",h);else if(typeof s[w]!="object"){const x=this.isAttribute(w);if(x&&!this.ignoreAttributesFn(x,d))m+=this.buildAttrPairStr(x,""+s[w]);else if(!x)if(w===this.options.textNodeName){let g=this.options.tagValueProcessor(w,""+s[w]);E+=this.replaceEntitiesValue(g)}else E+=this.buildTextValNode(s[w],w,"",h)}else if(Array.isArray(s[w])){const x=s[w].length;let g="",T="";for(let N=0;N<x;N++){const _=s[w][N];if(_!==void 0)if(_===null)w[0]==="?"?E+=this.indentate(h)+"<"+w+"?"+this.tagEndChar:E+=this.indentate(h)+"<"+w+"/"+this.tagEndChar;else if(typeof _=="object")if(this.options.oneListGroup){const v=this.j2x(_,h+1,c.concat(w));g+=v.val,this.options.attributesGroupName&&_.hasOwnProperty(this.options.attributesGroupName)&&(T+=v.attrStr)}else g+=this.processTextOrObjNode(_,w,h,c);else if(this.options.oneListGroup){let v=this.options.tagValueProcessor(w,_);v=this.replaceEntitiesValue(v),g+=v}else g+=this.buildTextValNode(_,w,"",h)}this.options.oneListGroup&&(g=this.buildObjectNode(g,w,T,h)),E+=g}else if(this.options.attributesGroupName&&w===this.options.attributesGroupName){const x=Object.keys(s[w]),g=x.length;for(let T=0;T<g;T++)m+=this.buildAttrPairStr(x[T],""+s[w][x[T]])}else E+=this.processTextOrObjNode(s[w],w,h,c);return{attrStr:m,val:E}},u.prototype.buildAttrPairStr=function(s,h){return h=this.options.attributeValueProcessor(s,""+h),h=this.replaceEntitiesValue(h),this.options.suppressBooleanAttributes&&h==="true"?" "+s:" "+s+'="'+h+'"'},u.prototype.buildObjectNode=function(s,h,c,m){if(s==="")return h[0]==="?"?this.indentate(m)+"<"+h+c+"?"+this.tagEndChar:this.indentate(m)+"<"+h+c+this.closeTag(h)+this.tagEndChar;{let E="</"+h+this.tagEndChar,d="";return h[0]==="?"&&(d="?",E=""),!c&&c!==""||s.indexOf("<")!==-1?this.options.commentPropName!==!1&&h===this.options.commentPropName&&d.length===0?this.indentate(m)+`<!--${s}-->`+this.newLine:this.indentate(m)+"<"+h+c+d+this.tagEndChar+s+this.indentate(m)+E:this.indentate(m)+"<"+h+c+d+">"+s+E}},u.prototype.closeTag=function(s){let h="";return this.options.unpairedTags.indexOf(s)!==-1?this.options.suppressUnpairedNode||(h="/"):h=this.options.suppressEmptyNode?"/":`></${s}`,h},u.prototype.buildTextValNode=function(s,h,c,m){if(this.options.cdataPropName!==!1&&h===this.options.cdataPropName)return this.indentate(m)+`<![CDATA[${s}]]>`+this.newLine;if(this.options.commentPropName!==!1&&h===this.options.commentPropName)return this.indentate(m)+`<!--${s}-->`+this.newLine;if(h[0]==="?")return this.indentate(m)+"<"+h+c+"?"+this.tagEndChar;{let E=this.options.tagValueProcessor(h,s);return E=this.replaceEntitiesValue(E),E===""?this.indentate(m)+"<"+h+c+this.closeTag(h)+this.tagEndChar:this.indentate(m)+"<"+h+c+">"+E+"</"+h+this.tagEndChar}},u.prototype.replaceEntitiesValue=function(s){if(s&&s.length>0&&this.options.processEntities)for(let h=0;h<this.options.entities.length;h++){const c=this.options.entities[h];s=s.replace(c.regex,c.val)}return s},e.exports=u},87:e=>{function t(u,a,p,l){let s="",h=!1;for(let c=0;c<u.length;c++){const m=u[c],E=n(m);if(E===void 0)continue;let d="";if(d=p.length===0?E:`${p}.${E}`,E===a.textNodeName){let T=m[E];i(d,a)||(T=a.tagValueProcessor(E,T),T=o(T,a)),h&&(s+=l),s+=T,h=!1;continue}if(E===a.cdataPropName){h&&(s+=l),s+=`<![CDATA[${m[E][0][a.textNodeName]}]]>`,h=!1;continue}if(E===a.commentPropName){s+=l+`<!--${m[E][0][a.textNodeName]}-->`,h=!0;continue}if(E[0]==="?"){const T=r(m[":@"],a),N=E==="?xml"?"":l;let _=m[E][0][a.textNodeName];_=_.length!==0?" "+_:"",s+=N+`<${E}${_}${T}?>`,h=!0;continue}let w=l;w!==""&&(w+=a.indentBy);const x=l+`<${E}${r(m[":@"],a)}`,g=t(m[E],a,d,w);a.unpairedTags.indexOf(E)!==-1?a.suppressUnpairedNode?s+=x+">":s+=x+"/>":g&&g.length!==0||!a.suppressEmptyNode?g&&g.endsWith(">")?s+=x+`>${g}${l}</${E}>`:(s+=x+">",g&&l!==""&&(g.includes("/>")||g.includes("</"))?s+=l+a.indentBy+g+l:s+=g,s+=`</${E}>`):s+=x+"/>",h=!0}return s}function n(u){const a=Object.keys(u);for(let p=0;p<a.length;p++){const l=a[p];if(u.hasOwnProperty(l)&&l!==":@")return l}}function r(u,a){let p="";if(u&&!a.ignoreAttributes)for(let l in u){if(!u.hasOwnProperty(l))continue;let s=a.attributeValueProcessor(l,u[l]);s=o(s,a),s===!0&&a.suppressBooleanAttributes?p+=` ${l.substr(a.attributeNamePrefix.length)}`:p+=` ${l.substr(a.attributeNamePrefix.length)}="${s}"`}return p}function i(u,a){let p=(u=u.substr(0,u.length-a.textNodeName.length-1)).substr(u.lastIndexOf(".")+1);for(let l in a.stopNodes)if(a.stopNodes[l]===u||a.stopNodes[l]==="*."+p)return!0;return!1}function o(u,a){if(u&&u.length>0&&a.processEntities)for(let p=0;p<a.entities.length;p++){const l=a.entities[p];u=u.replace(l.regex,l.val)}return u}e.exports=function(u,a){let p="";return a.format&&a.indentBy.length>0&&(p=`
`),t(u,a,"",p)}},193:(e,t,n)=>{const r=n(705);function i(h,c){let m="";for(;c<h.length&&h[c]!=="'"&&h[c]!=='"';c++)m+=h[c];if(m=m.trim(),m.indexOf(" ")!==-1)throw new Error("External entites are not supported");const E=h[c++];let d="";for(;c<h.length&&h[c]!==E;c++)d+=h[c];return[m,d,c]}function o(h,c){return h[c+1]==="!"&&h[c+2]==="-"&&h[c+3]==="-"}function u(h,c){return h[c+1]==="!"&&h[c+2]==="E"&&h[c+3]==="N"&&h[c+4]==="T"&&h[c+5]==="I"&&h[c+6]==="T"&&h[c+7]==="Y"}function a(h,c){return h[c+1]==="!"&&h[c+2]==="E"&&h[c+3]==="L"&&h[c+4]==="E"&&h[c+5]==="M"&&h[c+6]==="E"&&h[c+7]==="N"&&h[c+8]==="T"}function p(h,c){return h[c+1]==="!"&&h[c+2]==="A"&&h[c+3]==="T"&&h[c+4]==="T"&&h[c+5]==="L"&&h[c+6]==="I"&&h[c+7]==="S"&&h[c+8]==="T"}function l(h,c){return h[c+1]==="!"&&h[c+2]==="N"&&h[c+3]==="O"&&h[c+4]==="T"&&h[c+5]==="A"&&h[c+6]==="T"&&h[c+7]==="I"&&h[c+8]==="O"&&h[c+9]==="N"}function s(h){if(r.isName(h))return h;throw new Error(`Invalid entity name ${h}`)}e.exports=function(h,c){const m={};if(h[c+3]!=="O"||h[c+4]!=="C"||h[c+5]!=="T"||h[c+6]!=="Y"||h[c+7]!=="P"||h[c+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{c+=9;let E=1,d=!1,w=!1,x="";for(;c<h.length;c++)if(h[c]!=="<"||w)if(h[c]===">"){if(w?h[c-1]==="-"&&h[c-2]==="-"&&(w=!1,E--):E--,E===0)break}else h[c]==="["?d=!0:x+=h[c];else{if(d&&u(h,c)){let g,T;c+=7,[g,T,c]=i(h,c+1),T.indexOf("&")===-1&&(m[s(g)]={regx:RegExp(`&${g};`,"g"),val:T})}else if(d&&a(h,c))c+=8;else if(d&&p(h,c))c+=8;else if(d&&l(h,c))c+=9;else{if(!o)throw new Error("Invalid DOCTYPE");w=!0}E++,x=""}if(E!==0)throw new Error("Unclosed DOCTYPE")}return{entities:m,i:c}}},63:(e,t)=>{const n={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(r,i){return i},attributeValueProcessor:function(r,i){return i},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(r,i,o){return r}};t.buildOptions=function(r){return Object.assign({},n,r)},t.defaultOptions=n},299:(e,t,n)=>{const r=n(705),i=n(365),o=n(193),u=n(494),a=n(118);function p(v){const P=Object.keys(v);for(let I=0;I<P.length;I++){const b=P[I];this.lastEntities[b]={regex:new RegExp("&"+b+";","g"),val:v[b]}}}function l(v,P,I,b,S,R,L){if(v!==void 0&&(this.options.trimValues&&!b&&(v=v.trim()),v.length>0)){L||(v=this.replaceEntitiesValue(v));const A=this.options.tagValueProcessor(P,v,I,S,R);return A==null?v:typeof A!=typeof v||A!==v?A:this.options.trimValues||v.trim()===v?_(v,this.options.parseTagValue,this.options.numberParseOptions):v}}function s(v){if(this.options.removeNSPrefix){const P=v.split(":"),I=v.charAt(0)==="/"?"/":"";if(P[0]==="xmlns")return"";P.length===2&&(v=I+P[1])}return v}const h=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function c(v,P,I){if(this.options.ignoreAttributes!==!0&&typeof v=="string"){const b=r.getAllMatches(v,h),S=b.length,R={};for(let L=0;L<S;L++){const A=this.resolveNameSpace(b[L][1]);if(this.ignoreAttributesFn(A,P))continue;let $=b[L][4],D=this.options.attributeNamePrefix+A;if(A.length)if(this.options.transformAttributeName&&(D=this.options.transformAttributeName(D)),D==="__proto__"&&(D="#__proto__"),$!==void 0){this.options.trimValues&&($=$.trim()),$=this.replaceEntitiesValue($);const j=this.options.attributeValueProcessor(A,$,P);R[D]=j==null?$:typeof j!=typeof $||j!==$?j:_($,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(R[D]=!0)}if(!Object.keys(R).length)return;if(this.options.attributesGroupName){const L={};return L[this.options.attributesGroupName]=R,L}return R}}const m=function(v){v=v.replace(/\r\n?/g,`
`);const P=new i("!xml");let I=P,b="",S="";for(let R=0;R<v.length;R++)if(v[R]==="<")if(v[R+1]==="/"){const L=g(v,">",R,"Closing Tag is not closed.");let A=v.substring(R+2,L).trim();if(this.options.removeNSPrefix){const j=A.indexOf(":");j!==-1&&(A=A.substr(j+1))}this.options.transformTagName&&(A=this.options.transformTagName(A)),I&&(b=this.saveTextToParentTag(b,I,S));const $=S.substring(S.lastIndexOf(".")+1);if(A&&this.options.unpairedTags.indexOf(A)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${A}>`);let D=0;$&&this.options.unpairedTags.indexOf($)!==-1?(D=S.lastIndexOf(".",S.lastIndexOf(".")-1),this.tagsNodeStack.pop()):D=S.lastIndexOf("."),S=S.substring(0,D),I=this.tagsNodeStack.pop(),b="",R=L}else if(v[R+1]==="?"){let L=T(v,R,!1,"?>");if(!L)throw new Error("Pi Tag is not closed.");if(b=this.saveTextToParentTag(b,I,S),!(this.options.ignoreDeclaration&&L.tagName==="?xml"||this.options.ignorePiTags)){const A=new i(L.tagName);A.add(this.options.textNodeName,""),L.tagName!==L.tagExp&&L.attrExpPresent&&(A[":@"]=this.buildAttributesMap(L.tagExp,S,L.tagName)),this.addChild(I,A,S)}R=L.closeIndex+1}else if(v.substr(R+1,3)==="!--"){const L=g(v,"-->",R+4,"Comment is not closed.");if(this.options.commentPropName){const A=v.substring(R+4,L-2);b=this.saveTextToParentTag(b,I,S),I.add(this.options.commentPropName,[{[this.options.textNodeName]:A}])}R=L}else if(v.substr(R+1,2)==="!D"){const L=o(v,R);this.docTypeEntities=L.entities,R=L.i}else if(v.substr(R+1,2)==="!["){const L=g(v,"]]>",R,"CDATA is not closed.")-2,A=v.substring(R+9,L);b=this.saveTextToParentTag(b,I,S);let $=this.parseTextData(A,I.tagname,S,!0,!1,!0,!0);$==null&&($=""),this.options.cdataPropName?I.add(this.options.cdataPropName,[{[this.options.textNodeName]:A}]):I.add(this.options.textNodeName,$),R=L+2}else{let L=T(v,R,this.options.removeNSPrefix),A=L.tagName;const $=L.rawTagName;let D=L.tagExp,j=L.attrExpPresent,F=L.closeIndex;this.options.transformTagName&&(A=this.options.transformTagName(A)),I&&b&&I.tagname!=="!xml"&&(b=this.saveTextToParentTag(b,I,S,!1));const X=I;if(X&&this.options.unpairedTags.indexOf(X.tagname)!==-1&&(I=this.tagsNodeStack.pop(),S=S.substring(0,S.lastIndexOf("."))),A!==P.tagname&&(S+=S?"."+A:A),this.isItStopNode(this.options.stopNodes,S,A)){let B="";if(D.length>0&&D.lastIndexOf("/")===D.length-1)A[A.length-1]==="/"?(A=A.substr(0,A.length-1),S=S.substr(0,S.length-1),D=A):D=D.substr(0,D.length-1),R=L.closeIndex;else if(this.options.unpairedTags.indexOf(A)!==-1)R=L.closeIndex;else{const M=this.readStopNodeData(v,$,F+1);if(!M)throw new Error(`Unexpected end of ${$}`);R=M.i,B=M.tagContent}const J=new i(A);A!==D&&j&&(J[":@"]=this.buildAttributesMap(D,S,A)),B&&(B=this.parseTextData(B,A,S,!0,j,!0,!0)),S=S.substr(0,S.lastIndexOf(".")),J.add(this.options.textNodeName,B),this.addChild(I,J,S)}else{if(D.length>0&&D.lastIndexOf("/")===D.length-1){A[A.length-1]==="/"?(A=A.substr(0,A.length-1),S=S.substr(0,S.length-1),D=A):D=D.substr(0,D.length-1),this.options.transformTagName&&(A=this.options.transformTagName(A));const B=new i(A);A!==D&&j&&(B[":@"]=this.buildAttributesMap(D,S,A)),this.addChild(I,B,S),S=S.substr(0,S.lastIndexOf("."))}else{const B=new i(A);this.tagsNodeStack.push(I),A!==D&&j&&(B[":@"]=this.buildAttributesMap(D,S,A)),this.addChild(I,B,S),I=B}b="",R=F}}else b+=v[R];return P.child};function E(v,P,I){const b=this.options.updateTag(P.tagname,I,P[":@"]);b===!1||(typeof b=="string"&&(P.tagname=b),v.addChild(P))}const d=function(v){if(this.options.processEntities){for(let P in this.docTypeEntities){const I=this.docTypeEntities[P];v=v.replace(I.regx,I.val)}for(let P in this.lastEntities){const I=this.lastEntities[P];v=v.replace(I.regex,I.val)}if(this.options.htmlEntities)for(let P in this.htmlEntities){const I=this.htmlEntities[P];v=v.replace(I.regex,I.val)}v=v.replace(this.ampEntity.regex,this.ampEntity.val)}return v};function w(v,P,I,b){return v&&(b===void 0&&(b=Object.keys(P.child).length===0),(v=this.parseTextData(v,P.tagname,I,!1,!!P[":@"]&&Object.keys(P[":@"]).length!==0,b))!==void 0&&v!==""&&P.add(this.options.textNodeName,v),v=""),v}function x(v,P,I){const b="*."+I;for(const S in v){const R=v[S];if(b===R||P===R)return!0}return!1}function g(v,P,I,b){const S=v.indexOf(P,I);if(S===-1)throw new Error(b);return S+P.length-1}function T(v,P,I){const b=function(j,F){let X,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:">",J="";for(let M=F;M<j.length;M++){let W=j[M];if(X)W===X&&(X="");else if(W==='"'||W==="'")X=W;else if(W===B[0]){if(!B[1])return{data:J,index:M};if(j[M+1]===B[1])return{data:J,index:M}}else W==="	"&&(W=" ");J+=W}}(v,P+1,arguments.length>3&&arguments[3]!==void 0?arguments[3]:">");if(!b)return;let S=b.data;const R=b.index,L=S.search(/\s/);let A=S,$=!0;L!==-1&&(A=S.substring(0,L),S=S.substring(L+1).trimStart());const D=A;if(I){const j=A.indexOf(":");j!==-1&&(A=A.substr(j+1),$=A!==b.data.substr(j+1))}return{tagName:A,tagExp:S,closeIndex:R,attrExpPresent:$,rawTagName:D}}function N(v,P,I){const b=I;let S=1;for(;I<v.length;I++)if(v[I]==="<")if(v[I+1]==="/"){const R=g(v,">",I,`${P} is not closed`);if(v.substring(I+2,R).trim()===P&&(S--,S===0))return{tagContent:v.substring(b,I),i:R};I=R}else if(v[I+1]==="?")I=g(v,"?>",I+1,"StopNode is not closed.");else if(v.substr(I+1,3)==="!--")I=g(v,"-->",I+3,"StopNode is not closed.");else if(v.substr(I+1,2)==="![")I=g(v,"]]>",I,"StopNode is not closed.")-2;else{const R=T(v,I,">");R&&((R&&R.tagName)===P&&R.tagExp[R.tagExp.length-1]!=="/"&&S++,I=R.closeIndex)}}function _(v,P,I){if(P&&typeof v=="string"){const b=v.trim();return b==="true"||b!=="false"&&u(v,I)}return r.isExist(v)?v:""}e.exports=class{constructor(v){this.options=v,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(P,I)=>String.fromCharCode(Number.parseInt(I,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(P,I)=>String.fromCharCode(Number.parseInt(I,16))}},this.addExternalEntities=p,this.parseXml=m,this.parseTextData=l,this.resolveNameSpace=s,this.buildAttributesMap=c,this.isItStopNode=x,this.replaceEntitiesValue=d,this.readStopNodeData=N,this.saveTextToParentTag=w,this.addChild=E,this.ignoreAttributesFn=a(this.options.ignoreAttributes)}}},338:(e,t,n)=>{const{buildOptions:r}=n(63),i=n(299),{prettify:o}=n(728),u=n(31);e.exports=class{constructor(a){this.externalEntities={},this.options=r(a)}parse(a,p){if(typeof a!="string"){if(!a.toString)throw new Error("XML data is accepted in String or Bytes[] form.");a=a.toString()}if(p){p===!0&&(p={});const h=u.validate(a,p);if(h!==!0)throw Error(`${h.err.msg}:${h.err.line}:${h.err.col}`)}const l=new i(this.options);l.addExternalEntities(this.externalEntities);const s=l.parseXml(a);return this.options.preserveOrder||s===void 0?s:o(s,this.options)}addEntity(a,p){if(p.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(a.indexOf("&")!==-1||a.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(p==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[a]=p}}},728:(e,t)=>{function n(u,a,p){let l;const s={};for(let h=0;h<u.length;h++){const c=u[h],m=r(c);let E="";if(E=p===void 0?m:p+"."+m,m===a.textNodeName)l===void 0?l=c[m]:l+=""+c[m];else{if(m===void 0)continue;if(c[m]){let d=n(c[m],a,E);const w=o(d,a);c[":@"]?i(d,c[":@"],E,a):Object.keys(d).length!==1||d[a.textNodeName]===void 0||a.alwaysCreateTextNode?Object.keys(d).length===0&&(a.alwaysCreateTextNode?d[a.textNodeName]="":d=""):d=d[a.textNodeName],s[m]!==void 0&&s.hasOwnProperty(m)?(Array.isArray(s[m])||(s[m]=[s[m]]),s[m].push(d)):a.isArray(m,E,w)?s[m]=[d]:s[m]=d}}}return typeof l=="string"?l.length>0&&(s[a.textNodeName]=l):l!==void 0&&(s[a.textNodeName]=l),s}function r(u){const a=Object.keys(u);for(let p=0;p<a.length;p++){const l=a[p];if(l!==":@")return l}}function i(u,a,p,l){if(a){const s=Object.keys(a),h=s.length;for(let c=0;c<h;c++){const m=s[c];l.isArray(m,p+"."+m,!0,!0)?u[m]=[a[m]]:u[m]=a[m]}}}function o(u,a){const{textNodeName:p}=a,l=Object.keys(u).length;return l===0||!(l!==1||!u[p]&&typeof u[p]!="boolean"&&u[p]!==0)}t.prettify=function(u,a){return n(u,a)}},365:e=>{e.exports=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,n){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:n})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}}},135:e=>{function t(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}e.exports=function(n){return n!=null&&(t(n)||function(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&t(r.slice(0,0))}(n)||!!n._isBuffer)}},542:(e,t,n)=>{(function(){var r=n(298),i=n(526).utf8,o=n(135),u=n(526).bin,a=function(p,l){p.constructor==String?p=l&&l.encoding==="binary"?u.stringToBytes(p):i.stringToBytes(p):o(p)?p=Array.prototype.slice.call(p,0):Array.isArray(p)||p.constructor===Uint8Array||(p=p.toString());for(var s=r.bytesToWords(p),h=8*p.length,c=1732584193,m=-271733879,E=-1732584194,d=271733878,w=0;w<s.length;w++)s[w]=16711935&(s[w]<<8|s[w]>>>24)|4278255360&(s[w]<<24|s[w]>>>8);s[h>>>5]|=128<<h%32,s[14+(h+64>>>9<<4)]=h;var x=a._ff,g=a._gg,T=a._hh,N=a._ii;for(w=0;w<s.length;w+=16){var _=c,v=m,P=E,I=d;c=x(c,m,E,d,s[w+0],7,-680876936),d=x(d,c,m,E,s[w+1],12,-389564586),E=x(E,d,c,m,s[w+2],17,606105819),m=x(m,E,d,c,s[w+3],22,-1044525330),c=x(c,m,E,d,s[w+4],7,-176418897),d=x(d,c,m,E,s[w+5],12,1200080426),E=x(E,d,c,m,s[w+6],17,-1473231341),m=x(m,E,d,c,s[w+7],22,-45705983),c=x(c,m,E,d,s[w+8],7,1770035416),d=x(d,c,m,E,s[w+9],12,-1958414417),E=x(E,d,c,m,s[w+10],17,-42063),m=x(m,E,d,c,s[w+11],22,-1990404162),c=x(c,m,E,d,s[w+12],7,1804603682),d=x(d,c,m,E,s[w+13],12,-40341101),E=x(E,d,c,m,s[w+14],17,-1502002290),c=g(c,m=x(m,E,d,c,s[w+15],22,1236535329),E,d,s[w+1],5,-165796510),d=g(d,c,m,E,s[w+6],9,-1069501632),E=g(E,d,c,m,s[w+11],14,643717713),m=g(m,E,d,c,s[w+0],20,-373897302),c=g(c,m,E,d,s[w+5],5,-701558691),d=g(d,c,m,E,s[w+10],9,38016083),E=g(E,d,c,m,s[w+15],14,-660478335),m=g(m,E,d,c,s[w+4],20,-405537848),c=g(c,m,E,d,s[w+9],5,568446438),d=g(d,c,m,E,s[w+14],9,-1019803690),E=g(E,d,c,m,s[w+3],14,-187363961),m=g(m,E,d,c,s[w+8],20,1163531501),c=g(c,m,E,d,s[w+13],5,-1444681467),d=g(d,c,m,E,s[w+2],9,-51403784),E=g(E,d,c,m,s[w+7],14,1735328473),c=T(c,m=g(m,E,d,c,s[w+12],20,-1926607734),E,d,s[w+5],4,-378558),d=T(d,c,m,E,s[w+8],11,-2022574463),E=T(E,d,c,m,s[w+11],16,1839030562),m=T(m,E,d,c,s[w+14],23,-35309556),c=T(c,m,E,d,s[w+1],4,-1530992060),d=T(d,c,m,E,s[w+4],11,1272893353),E=T(E,d,c,m,s[w+7],16,-155497632),m=T(m,E,d,c,s[w+10],23,-1094730640),c=T(c,m,E,d,s[w+13],4,681279174),d=T(d,c,m,E,s[w+0],11,-358537222),E=T(E,d,c,m,s[w+3],16,-722521979),m=T(m,E,d,c,s[w+6],23,76029189),c=T(c,m,E,d,s[w+9],4,-640364487),d=T(d,c,m,E,s[w+12],11,-421815835),E=T(E,d,c,m,s[w+15],16,530742520),c=N(c,m=T(m,E,d,c,s[w+2],23,-995338651),E,d,s[w+0],6,-198630844),d=N(d,c,m,E,s[w+7],10,1126891415),E=N(E,d,c,m,s[w+14],15,-1416354905),m=N(m,E,d,c,s[w+5],21,-57434055),c=N(c,m,E,d,s[w+12],6,1700485571),d=N(d,c,m,E,s[w+3],10,-1894986606),E=N(E,d,c,m,s[w+10],15,-1051523),m=N(m,E,d,c,s[w+1],21,-2054922799),c=N(c,m,E,d,s[w+8],6,1873313359),d=N(d,c,m,E,s[w+15],10,-30611744),E=N(E,d,c,m,s[w+6],15,-1560198380),m=N(m,E,d,c,s[w+13],21,1309151649),c=N(c,m,E,d,s[w+4],6,-145523070),d=N(d,c,m,E,s[w+11],10,-1120210379),E=N(E,d,c,m,s[w+2],15,718787259),m=N(m,E,d,c,s[w+9],21,-343485551),c=c+_>>>0,m=m+v>>>0,E=E+P>>>0,d=d+I>>>0}return r.endian([c,m,E,d])};a._ff=function(p,l,s,h,c,m,E){var d=p+(l&s|~l&h)+(c>>>0)+E;return(d<<m|d>>>32-m)+l},a._gg=function(p,l,s,h,c,m,E){var d=p+(l&h|s&~h)+(c>>>0)+E;return(d<<m|d>>>32-m)+l},a._hh=function(p,l,s,h,c,m,E){var d=p+(l^s^h)+(c>>>0)+E;return(d<<m|d>>>32-m)+l},a._ii=function(p,l,s,h,c,m,E){var d=p+(s^(l|~h))+(c>>>0)+E;return(d<<m|d>>>32-m)+l},a._blocksize=16,a._digestsize=16,e.exports=function(p,l){if(p==null)throw new Error("Illegal argument "+p);var s=r.wordsToBytes(a(p,l));return l&&l.asBytes?s:l&&l.asString?u.bytesToString(s):r.bytesToHex(s)}})()},285:(e,t,n)=>{var r=n(2);e.exports=function(x){return x?(x.substr(0,2)==="{}"&&(x="\\{\\}"+x.substr(2)),w(function(g){return g.split("\\\\").join(i).split("\\{").join(o).split("\\}").join(u).split("\\,").join(a).split("\\.").join(p)}(x),!0).map(s)):[]};var i="\0SLASH"+Math.random()+"\0",o="\0OPEN"+Math.random()+"\0",u="\0CLOSE"+Math.random()+"\0",a="\0COMMA"+Math.random()+"\0",p="\0PERIOD"+Math.random()+"\0";function l(x){return parseInt(x,10)==x?parseInt(x,10):x.charCodeAt(0)}function s(x){return x.split(i).join("\\").split(o).join("{").split(u).join("}").split(a).join(",").split(p).join(".")}function h(x){if(!x)return[""];var g=[],T=r("{","}",x);if(!T)return x.split(",");var N=T.pre,_=T.body,v=T.post,P=N.split(",");P[P.length-1]+="{"+_+"}";var I=h(v);return v.length&&(P[P.length-1]+=I.shift(),P.push.apply(P,I)),g.push.apply(g,P),g}function c(x){return"{"+x+"}"}function m(x){return/^-?0\d/.test(x)}function E(x,g){return x<=g}function d(x,g){return x>=g}function w(x,g){var T=[],N=r("{","}",x);if(!N)return[x];var _=N.pre,v=N.post.length?w(N.post,!1):[""];if(/\$$/.test(N.pre))for(var P=0;P<v.length;P++){var I=_+"{"+N.body+"}"+v[P];T.push(I)}else{var b,S,R=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(N.body),L=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(N.body),A=R||L,$=N.body.indexOf(",")>=0;if(!A&&!$)return N.post.match(/,.*\}/)?w(x=N.pre+"{"+N.body+u+N.post):[x];if(A)b=N.body.split(/\.\./);else if((b=h(N.body)).length===1&&(b=w(b[0],!1).map(c)).length===1)return v.map(function(Qt){return N.pre+b[0]+Qt});if(A){var D=l(b[0]),j=l(b[1]),F=Math.max(b[0].length,b[1].length),X=b.length==3?Math.abs(l(b[2])):1,B=E;j<D&&(X*=-1,B=d);var J=b.some(m);S=[];for(var M=D;B(M,j);M+=X){var W;if(L)(W=String.fromCharCode(M))==="\\"&&(W="");else if(W=String(M),J){var Dt=F-W.length;if(Dt>0){var It=new Array(Dt+1).join("0");W=M<0?"-"+It+W.slice(1):It+W}}S.push(W)}}else{S=[];for(var pt=0;pt<b.length;pt++)S.push.apply(S,w(b[pt],!1))}for(pt=0;pt<S.length;pt++)for(P=0;P<v.length;P++)I=_+S[pt]+v[P],(!g||A||I)&&T.push(I)}return T}},829:e=>{function t(l){return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},t(l)}function n(l){var s=typeof Map=="function"?new Map:void 0;return n=function(h){if(h===null||(c=h,Function.toString.call(c).indexOf("[native code]")===-1))return h;var c;if(typeof h!="function")throw new TypeError("Super expression must either be null or a function");if(s!==void 0){if(s.has(h))return s.get(h);s.set(h,m)}function m(){return r(h,arguments,o(this).constructor)}return m.prototype=Object.create(h.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),i(m,h)},n(l)}function r(l,s,h){return r=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(c,m,E){var d=[null];d.push.apply(d,m);var w=new(Function.bind.apply(c,d));return E&&i(w,E.prototype),w},r.apply(null,arguments)}function i(l,s){return i=Object.setPrototypeOf||function(h,c){return h.__proto__=c,h},i(l,s)}function o(l){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},o(l)}var u=function(l){function s(h){var c;return function(m,E){if(!(m instanceof E))throw new TypeError("Cannot call a class as a function")}(this,s),(c=function(m,E){return!E||t(E)!=="object"&&typeof E!="function"?function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(m):E}(this,o(s).call(this,h))).name="ObjectPrototypeMutationError",c}return function(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),c&&i(h,c)}(s,l),s}(n(Error));function a(l,s){for(var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},c=s.split("."),m=c.length,E=function(x){var g=c[x];if(!l)return{v:void 0};if(g==="+"){if(Array.isArray(l))return{v:l.map(function(N,_){var v=c.slice(x+1);return v.length>0?a(N,v.join("."),h):h(l,_,c,x)})};var T=c.slice(0,x).join(".");throw new Error("Object at wildcard (".concat(T,") is not an array"))}l=h(l,g,c,x)},d=0;d<m;d++){var w=E(d);if(t(w)==="object")return w.v}return l}function p(l,s){return l.length===s+1}e.exports={set:function(l,s,h){if(t(l)!="object"||l===null||s===void 0)return l;if(typeof s=="number")return l[s]=h,l[s];try{return a(l,s,function(c,m,E,d){if(c===Reflect.getPrototypeOf({}))throw new u("Attempting to mutate Object.prototype");if(!c[m]){var w=Number.isInteger(Number(E[d+1])),x=E[d+1]==="+";c[m]=w||x?[]:{}}return p(E,d)&&(c[m]=h),c[m]})}catch(c){if(c instanceof u)throw c;return l}},get:function(l,s){if(t(l)!="object"||l===null||s===void 0)return l;if(typeof s=="number")return l[s];try{return a(l,s,function(h,c){return h[c]})}catch{return l}},has:function(l,s){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(t(l)!="object"||l===null||s===void 0)return!1;if(typeof s=="number")return s in l;try{var c=!1;return a(l,s,function(m,E,d,w){if(!p(d,w))return m&&m[E];c=h.own?m.hasOwnProperty(E):E in m}),c}catch{return!1}},hasOwn:function(l,s,h){return this.has(l,s,h||{own:!0})},isIn:function(l,s,h){var c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t(l)!="object"||l===null||s===void 0)return!1;try{var m=!1,E=!1;return a(l,s,function(d,w,x,g){return m=m||d===h||!!d&&d[w]===h,E=p(x,g)&&t(d)==="object"&&w in d,d&&d[w]}),c.validPath?m&&E:m}catch{return!1}},ObjectPrototypeMutationError:u}},47:(e,t,n)=>{var r=n(410),i=function(l){return typeof l=="string"};function o(l,s){for(var h=[],c=0;c<l.length;c++){var m=l[c];m&&m!=="."&&(m===".."?h.length&&h[h.length-1]!==".."?h.pop():s&&h.push(".."):h.push(m))}return h}var u=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a={};function p(l){return u.exec(l).slice(1)}a.resolve=function(){for(var l="",s=!1,h=arguments.length-1;h>=-1&&!s;h--){var c=h>=0?arguments[h]:Ct.cwd();if(!i(c))throw new TypeError("Arguments to path.resolve must be strings");c&&(l=c+"/"+l,s=c.charAt(0)==="/")}return(s?"/":"")+(l=o(l.split("/"),!s).join("/"))||"."},a.normalize=function(l){var s=a.isAbsolute(l),h=l.substr(-1)==="/";return(l=o(l.split("/"),!s).join("/"))||s||(l="."),l&&h&&(l+="/"),(s?"/":"")+l},a.isAbsolute=function(l){return l.charAt(0)==="/"},a.join=function(){for(var l="",s=0;s<arguments.length;s++){var h=arguments[s];if(!i(h))throw new TypeError("Arguments to path.join must be strings");h&&(l+=l?"/"+h:h)}return a.normalize(l)},a.relative=function(l,s){function h(g){for(var T=0;T<g.length&&g[T]==="";T++);for(var N=g.length-1;N>=0&&g[N]==="";N--);return T>N?[]:g.slice(T,N+1)}l=a.resolve(l).substr(1),s=a.resolve(s).substr(1);for(var c=h(l.split("/")),m=h(s.split("/")),E=Math.min(c.length,m.length),d=E,w=0;w<E;w++)if(c[w]!==m[w]){d=w;break}var x=[];for(w=d;w<c.length;w++)x.push("..");return(x=x.concat(m.slice(d))).join("/")},a._makeLong=function(l){return l},a.dirname=function(l){var s=p(l),h=s[0],c=s[1];return h||c?(c&&(c=c.substr(0,c.length-1)),h+c):"."},a.basename=function(l,s){var h=p(l)[2];return s&&h.substr(-1*s.length)===s&&(h=h.substr(0,h.length-s.length)),h},a.extname=function(l){return p(l)[3]},a.format=function(l){if(!r.isObject(l))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof l);var s=l.root||"";if(!i(s))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof l.root);return(l.dir?l.dir+a.sep:"")+(l.base||"")},a.parse=function(l){if(!i(l))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof l);var s=p(l);if(!s||s.length!==4)throw new TypeError("Invalid path '"+l+"'");return s[1]=s[1]||"",s[2]=s[2]||"",s[3]=s[3]||"",{root:s[0],dir:s[0]+s[1].slice(0,s[1].length-1),base:s[2],ext:s[3],name:s[2].slice(0,s[2].length-s[3].length)}},a.sep="/",a.delimiter=":",e.exports=a},647:(e,t)=>{var n=Object.prototype.hasOwnProperty;function r(o){try{return decodeURIComponent(o.replace(/\+/g," "))}catch{return null}}function i(o){try{return encodeURIComponent(o)}catch{return null}}t.stringify=function(o,u){u=u||"";var a,p,l=[];for(p in typeof u!="string"&&(u="?"),o)if(n.call(o,p)){if((a=o[p])||a!=null&&!isNaN(a)||(a=""),p=i(p),a=i(a),p===null||a===null)continue;l.push(p+"="+a)}return l.length?u+l.join("&"):""},t.parse=function(o){for(var u,a=/([^=?#&]+)=?([^&]*)/g,p={};u=a.exec(o);){var l=r(u[1]),s=r(u[2]);l===null||s===null||l in p||(p[l]=s)}return p}},670:e=>{e.exports=function(t,n){if(n=n.split(":")[0],!(t=+t))return!1;switch(n){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0}},494:e=>{const t=/^[-+]?0x[a-fA-F0-9]+$/,n=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const r={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};e.exports=function(i){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(o=Object.assign({},r,o),!i||typeof i!="string")return i;let u=i.trim();if(o.skipLike!==void 0&&o.skipLike.test(u))return i;if(o.hex&&t.test(u))return Number.parseInt(u,16);{const p=n.exec(u);if(p){const l=p[1],s=p[2];let h=((a=p[3])&&a.indexOf(".")!==-1&&((a=a.replace(/0+$/,""))==="."?a="0":a[0]==="."?a="0"+a:a[a.length-1]==="."&&(a=a.substr(0,a.length-1))),a);const c=p[4]||p[6];if(!o.leadingZeros&&s.length>0&&l&&u[2]!=="."||!o.leadingZeros&&s.length>0&&!l&&u[1]!==".")return i;{const m=Number(u),E=""+m;return E.search(/[eE]/)!==-1||c?o.eNotation?m:i:u.indexOf(".")!==-1?E==="0"&&h===""||E===h||l&&E==="-"+h?m:i:s?h===E||l+h===E?m:i:u===E||u===l+E?m:i}}return i}var a}},737:(e,t,n)=>{var r=n(670),i=n(647),o=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,u=/[\n\r\t]/g,a=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,p=/:\d+$/,l=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,s=/^[a-zA-Z]:/;function h(g){return(g||"").toString().replace(o,"")}var c=[["#","hash"],["?","query"],function(g,T){return d(T.protocol)?g.replace(/\\/g,"/"):g},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],m={hash:1,query:1};function E(g){var T,N=(typeof window<"u"?window:typeof $t<"u"?$t:typeof self<"u"?self:{}).location||{},_={},v=typeof(g=g||N);if(g.protocol==="blob:")_=new x(unescape(g.pathname),{});else if(v==="string")for(T in _=new x(g,{}),m)delete _[T];else if(v==="object"){for(T in g)T in m||(_[T]=g[T]);_.slashes===void 0&&(_.slashes=a.test(g.href))}return _}function d(g){return g==="file:"||g==="ftp:"||g==="http:"||g==="https:"||g==="ws:"||g==="wss:"}function w(g,T){g=(g=h(g)).replace(u,""),T=T||{};var N,_=l.exec(g),v=_[1]?_[1].toLowerCase():"",P=!!_[2],I=!!_[3],b=0;return P?I?(N=_[2]+_[3]+_[4],b=_[2].length+_[3].length):(N=_[2]+_[4],b=_[2].length):I?(N=_[3]+_[4],b=_[3].length):N=_[4],v==="file:"?b>=2&&(N=N.slice(2)):d(v)?N=_[4]:v?P&&(N=N.slice(2)):b>=2&&d(T.protocol)&&(N=_[4]),{protocol:v,slashes:P||d(v),slashesCount:b,rest:N}}function x(g,T,N){if(g=(g=h(g)).replace(u,""),!(this instanceof x))return new x(g,T,N);var _,v,P,I,b,S,R=c.slice(),L=typeof T,A=this,$=0;for(L!=="object"&&L!=="string"&&(N=T,T=null),N&&typeof N!="function"&&(N=i.parse),_=!(v=w(g||"",T=E(T))).protocol&&!v.slashes,A.slashes=v.slashes||_&&T.slashes,A.protocol=v.protocol||T.protocol||"",g=v.rest,(v.protocol==="file:"&&(v.slashesCount!==2||s.test(g))||!v.slashes&&(v.protocol||v.slashesCount<2||!d(A.protocol)))&&(R[3]=[/(.*)/,"pathname"]);$<R.length;$++)typeof(I=R[$])!="function"?(P=I[0],S=I[1],P!=P?A[S]=g:typeof P=="string"?~(b=P==="@"?g.lastIndexOf(P):g.indexOf(P))&&(typeof I[2]=="number"?(A[S]=g.slice(0,b),g=g.slice(b+I[2])):(A[S]=g.slice(b),g=g.slice(0,b))):(b=P.exec(g))&&(A[S]=b[1],g=g.slice(0,b.index)),A[S]=A[S]||_&&I[3]&&T[S]||"",I[4]&&(A[S]=A[S].toLowerCase())):g=I(g,A);N&&(A.query=N(A.query)),_&&T.slashes&&A.pathname.charAt(0)!=="/"&&(A.pathname!==""||T.pathname!=="")&&(A.pathname=function(D,j){if(D==="")return j;for(var F=(j||"/").split("/").slice(0,-1).concat(D.split("/")),X=F.length,B=F[X-1],J=!1,M=0;X--;)F[X]==="."?F.splice(X,1):F[X]===".."?(F.splice(X,1),M++):M&&(X===0&&(J=!0),F.splice(X,1),M--);return J&&F.unshift(""),B!=="."&&B!==".."||F.push(""),F.join("/")}(A.pathname,T.pathname)),A.pathname.charAt(0)!=="/"&&d(A.protocol)&&(A.pathname="/"+A.pathname),r(A.port,A.protocol)||(A.host=A.hostname,A.port=""),A.username=A.password="",A.auth&&(~(b=A.auth.indexOf(":"))?(A.username=A.auth.slice(0,b),A.username=encodeURIComponent(decodeURIComponent(A.username)),A.password=A.auth.slice(b+1),A.password=encodeURIComponent(decodeURIComponent(A.password))):A.username=encodeURIComponent(decodeURIComponent(A.auth)),A.auth=A.password?A.username+":"+A.password:A.username),A.origin=A.protocol!=="file:"&&d(A.protocol)&&A.host?A.protocol+"//"+A.host:"null",A.href=A.toString()}x.prototype={set:function(g,T,N){var _=this;switch(g){case"query":typeof T=="string"&&T.length&&(T=(N||i.parse)(T)),_[g]=T;break;case"port":_[g]=T,r(T,_.protocol)?T&&(_.host=_.hostname+":"+T):(_.host=_.hostname,_[g]="");break;case"hostname":_[g]=T,_.port&&(T+=":"+_.port),_.host=T;break;case"host":_[g]=T,p.test(T)?(T=T.split(":"),_.port=T.pop(),_.hostname=T.join(":")):(_.hostname=T,_.port="");break;case"protocol":_.protocol=T.toLowerCase(),_.slashes=!N;break;case"pathname":case"hash":if(T){var v=g==="pathname"?"/":"#";_[g]=T.charAt(0)!==v?v+T:T}else _[g]=T;break;case"username":case"password":_[g]=encodeURIComponent(T);break;case"auth":var P=T.indexOf(":");~P?(_.username=T.slice(0,P),_.username=encodeURIComponent(decodeURIComponent(_.username)),_.password=T.slice(P+1),_.password=encodeURIComponent(decodeURIComponent(_.password))):_.username=encodeURIComponent(decodeURIComponent(T))}for(var I=0;I<c.length;I++){var b=c[I];b[4]&&(_[b[1]]=_[b[1]].toLowerCase())}return _.auth=_.password?_.username+":"+_.password:_.username,_.origin=_.protocol!=="file:"&&d(_.protocol)&&_.host?_.protocol+"//"+_.host:"null",_.href=_.toString(),_},toString:function(g){g&&typeof g=="function"||(g=i.stringify);var T,N=this,_=N.host,v=N.protocol;v&&v.charAt(v.length-1)!==":"&&(v+=":");var P=v+(N.protocol&&N.slashes||d(N.protocol)?"//":"");return N.username?(P+=N.username,N.password&&(P+=":"+N.password),P+="@"):N.password?(P+=":"+N.password,P+="@"):N.protocol!=="file:"&&d(N.protocol)&&!_&&N.pathname!=="/"&&(P+="@"),(_[_.length-1]===":"||p.test(N.hostname)&&!N.port)&&(_+=":"),P+=_+N.pathname,(T=typeof N.query=="object"?g(N.query):N.query)&&(P+=T.charAt(0)!=="?"?"?"+T:T),N.hash&&(P+=N.hash),P}},x.extractProtocol=w,x.location=E,x.trimLeft=h,x.qs=i,e.exports=x},410:()=>{},388:()=>{},805:()=>{},345:()=>{},800:()=>{}},Ze={};function k(e){var t=Ze[e];if(t!==void 0)return t.exports;var n=Ze[e]={id:e,loaded:!1,exports:{}};return vr[e].call(n.exports,n,n.exports,k),n.loaded=!0,n.exports}k.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return k.d(t,{a:t}),t},k.d=(e,t)=>{for(var n in t)k.o(t,n)&&!k.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},k.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),k.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var lt={};k.d(lt,{hT:()=>rt,O4:()=>mt,Kd:()=>Sr,YK:()=>Rr,UU:()=>Us,Gu:()=>jn,ky:()=>qn,h4:()=>Lt,ch:()=>Yt,hq:()=>bt,i5:()=>zn});var Nr=k(737),Ir=k.n(Nr);function ne(e){if(!ve(e))throw new Error("Parameter was not an error")}function ve(e){return!!e&&typeof e=="object"&&(t=e,Object.prototype.toString.call(t)==="[object Error]")||e instanceof Error;var t}class it extends Error{constructor(t,n){const r=[...arguments],{options:i,shortMessage:o}=function(a){let p,l="";if(a.length===0)p={};else if(ve(a[0]))p={cause:a[0]},l=a.slice(1).join(" ")||"";else if(a[0]&&typeof a[0]=="object")p=Object.assign({},a[0]),l=a.slice(1).join(" ")||"";else{if(typeof a[0]!="string")throw new Error("Invalid arguments passed to Layerr");p={},l=l=a.join(" ")||""}return{options:p,shortMessage:l}}(r);let u=o;if(i.cause&&(u=`${u}: ${i.cause.message}`),super(u),this.message=u,i.name&&typeof i.name=="string"?this.name=i.name:this.name="Layerr",i.cause&&Object.defineProperty(this,"_cause",{value:i.cause}),Object.defineProperty(this,"_info",{value:{}}),i.info&&typeof i.info=="object"&&Object.assign(this._info,i.info),Error.captureStackTrace){const a=i.constructorOpt||this.constructor;Error.captureStackTrace(this,a)}}static cause(t){return ne(t),t._cause&&ve(t._cause)?t._cause:null}static fullStack(t){ne(t);const n=it.cause(t);return n?`${t.stack}
caused by: ${it.fullStack(n)}`:t.stack??""}static info(t){ne(t);const n={},r=it.cause(t);return r&&Object.assign(n,it.info(r)),t._info&&Object.assign(n,t._info),n}toString(){let t=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(t=`${t}: ${this.message}`),t}}var Or=k(47),Bt=k.n(Or);const Ke="__PATH_SEPARATOR_POSIX__",Qe="__PATH_SEPARATOR_WINDOWS__";function G(e){try{const t=e.replace(/\//g,Ke).replace(/\\\\/g,Qe);return encodeURIComponent(t).split(Qe).join("\\\\").split(Ke).join("/")}catch(t){throw new it(t,"Failed encoding path")}}function Je(e){return e.startsWith("/")?e:"/"+e}function Rt(e){let t=e;return t[0]!=="/"&&(t="/"+t),/^.+\/$/.test(t)&&(t=t.substr(0,t.length-1)),t}function xr(e){let t=new(Ir())(e).pathname;return t.length<=0&&(t="/"),Rt(t)}function V(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){return function(r){var i=[];if(r.length===0)return"";if(typeof r[0]!="string")throw new TypeError("Url must be a string. Received "+r[0]);if(r[0].match(/^[^/:]+:\/*$/)&&r.length>1){var o=r.shift();r[0]=o+r[0]}r[0].match(/^file:\/\/\//)?r[0]=r[0].replace(/^([^/:]+):\/*/,"$1:///"):r[0]=r[0].replace(/^([^/:]+):\/*/,"$1://");for(var u=0;u<r.length;u++){var a=r[u];if(typeof a!="string")throw new TypeError("Url must be a string. Received "+a);a!==""&&(u>0&&(a=a.replace(/^[\/]+/,"")),a=u<r.length-1?a.replace(/[\/]+$/,""):a.replace(/[\/]+$/,"/"),i.push(a))}var p=i.join("/"),l=(p=p.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return l.shift()+(l.length>0?"?":"")+l.join("&")}(typeof arguments[0]=="object"?arguments[0]:[].slice.call(arguments))}(t.reduce((r,i,o)=>((o===0||i!=="/"||i==="/"&&r[r.length-1]!=="/")&&r.push(i),r),[]))}var _r=k(542),xt=k.n(_r);const Ar="abcdef0123456789";function tn(e,t){const n=e.url.replace("//",""),r=n.indexOf("/")==-1?"/":n.slice(n.indexOf("/")),i=e.method?e.method.toUpperCase():"GET",o=!!/(^|,)\s*auth\s*($|,)/.test(t.qop)&&"auth",u=`00000000${t.nc}`.slice(-8),a=function(c,m,E,d,w,x,g){const T=g||xt()(`${m}:${E}:${d}`);return c&&c.toLowerCase()==="md5-sess"?xt()(`${T}:${w}:${x}`):T}(t.algorithm,t.username,t.realm,t.password,t.nonce,t.cnonce,t.ha1),p=xt()(`${i}:${r}`),l=o?xt()(`${a}:${t.nonce}:${u}:${t.cnonce}:${o}:${p}`):xt()(`${a}:${t.nonce}:${p}`),s={username:t.username,realm:t.realm,nonce:t.nonce,uri:r,qop:o,response:l,nc:u,cnonce:t.cnonce,algorithm:t.algorithm,opaque:t.opaque},h=[];for(const c in s)s[c]&&(c==="qop"||c==="nc"||c==="algorithm"?h.push(`${c}=${s[c]}`):h.push(`${c}="${s[c]}"`));return`Digest ${h.join(", ")}`}function Dn(e){return(e.headers&&e.headers.get("www-authenticate")||"").split(/\s/)[0].toLowerCase()==="digest"}var Pr=k(101),$n=k.n(Pr);function en(e){return $n().decode(e)}function nn(e,t){var n;return`Basic ${n=`${e}:${t}`,$n().encode(n)}`}const Gt=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:typeof window<"u"?window:globalThis,Cr=Gt.fetch.bind(Gt),Sr=Gt.Request,Rr=Gt.Response;let rt=function(e){return e.Auto="auto",e.Digest="digest",e.None="none",e.Password="password",e.Token="token",e}({}),mt=function(e){return e.DataTypeNoLength="data-type-no-length",e.InvalidAuthType="invalid-auth-type",e.InvalidOutputFormat="invalid-output-format",e.LinkUnsupportedAuthType="link-unsupported-auth",e.InvalidUpdateRange="invalid-update-range",e.NotSupported="not-supported",e}({});function Fn(e,t,n,r,i){switch(e.authType){case rt.Auto:t&&n&&(e.headers.Authorization=nn(t,n));break;case rt.Digest:e.digest=function(u,a,p){return{username:u,password:a,ha1:p,nc:0,algorithm:"md5",hasDigestAuth:!1}}(t,n,i);break;case rt.None:break;case rt.Password:e.headers.Authorization=nn(t,n);break;case rt.Token:e.headers.Authorization=`${(o=r).token_type} ${o.access_token}`;break;default:throw new it({info:{code:mt.InvalidAuthType}},`Invalid auth type: ${e.authType}`)}var o}k(345),k(800);const rn="@@HOTPATCHER",Lr=()=>{};function re(e){return{original:e,methods:[e],final:!1}}class Dr{constructor(){this._configuration={registry:{},getEmptyAction:"null"},this.__type__=rn}get configuration(){return this._configuration}get getEmptyAction(){return this.configuration.getEmptyAction}set getEmptyAction(t){this.configuration.getEmptyAction=t}control(t){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!t||t.__type__!==rn)throw new Error("Failed taking control of target HotPatcher instance: Invalid type or object");return Object.keys(t.configuration.registry).forEach(r=>{this.configuration.registry.hasOwnProperty(r)?n&&(this.configuration.registry[r]=Object.assign({},t.configuration.registry[r])):this.configuration.registry[r]=Object.assign({},t.configuration.registry[r])}),t._configuration=this.configuration,this}execute(t){const n=this.get(t)||Lr;for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return n(...i)}get(t){const n=this.configuration.registry[t];if(!n)switch(this.getEmptyAction){case"null":return null;case"throw":throw new Error(`Failed handling method request: No method provided for override: ${t}`);default:throw new Error(`Failed handling request which resulted in an empty method: Invalid empty-action specified: ${this.getEmptyAction}`)}return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];if(i.length===0)throw new Error("Failed creating sequence: No functions provided");return function(){for(var u=arguments.length,a=new Array(u),p=0;p<u;p++)a[p]=arguments[p];let l=a;const s=this;for(;i.length>0;)l=[i.shift().apply(s,l)];return l[0]}}(...n.methods)}isPatched(t){return!!this.configuration.registry[t]}patch(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{chain:i=!1}=r;if(this.configuration.registry[t]&&this.configuration.registry[t].final)throw new Error(`Failed patching '${t}': Method marked as being final`);if(typeof n!="function")throw new Error(`Failed patching '${t}': Provided method is not a function`);if(i)this.configuration.registry[t]?this.configuration.registry[t].methods.push(n):this.configuration.registry[t]=re(n);else if(this.isPatched(t)){const{original:o}=this.configuration.registry[t];this.configuration.registry[t]=Object.assign(re(n),{original:o})}else this.configuration.registry[t]=re(n);return this}patchInline(t,n){this.isPatched(t)||this.patch(t,n);for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return this.execute(t,...i)}plugin(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach(o=>{this.patch(t,o,{chain:!0})}),this}restore(t){if(!this.isPatched(t))throw new Error(`Failed restoring method: No method present for key: ${t}`);if(typeof this.configuration.registry[t].original!="function")throw new Error(`Failed restoring method: Original method not found or of invalid type for key: ${t}`);return this.configuration.registry[t].methods=[this.configuration.registry[t].original],this}setFinal(t){if(!this.configuration.registry.hasOwnProperty(t))throw new Error(`Failed marking '${t}' as final: No method found for key`);return this.configuration.registry[t].final=!0,this}}let se=null;function jn(){return se||(se=new Dr),se}function Vt(e){return function(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let n=t;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n}(e)?Object.assign({},e):Object.setPrototypeOf(Object.assign({},e),Object.getPrototypeOf(e))}function sn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=null,i=[...t];for(;i.length>0;){const o=i.shift();r=r?Un(r,o):Vt(o)}return r}function Un(e,t){const n=Vt(e);return Object.keys(t).forEach(r=>{n.hasOwnProperty(r)?Array.isArray(t[r])?n[r]=Array.isArray(n[r])?[...n[r],...t[r]]:[...t[r]]:typeof t[r]=="object"&&t[r]?n[r]=typeof n[r]=="object"&&n[r]?Un(n[r],t[r]):Vt(t[r]):n[r]=t[r]:n[r]=t[r]}),n}function $r(e){const t={};for(const n of e.keys())t[n]=e.get(n);return t}function Ne(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length===0)return{};const r={};return t.reduce((i,o)=>(Object.keys(o).forEach(u=>{const a=u.toLowerCase();r.hasOwnProperty(a)?i[r[a]]=o[u]:(r[a]=u,i[u]=o[u])}),i),{})}k(805);const Fr=typeof ArrayBuffer=="function",{toString:jr}=Object.prototype;function Mn(e){return Fr&&(e instanceof ArrayBuffer||jr.call(e)==="[object ArrayBuffer]")}function kn(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function Re(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}function Ie(e,t,n){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const Bn=Re(function(e){const t=e._digest;return delete e._digest,t.hasDigestAuth&&(e=sn(e,{headers:{Authorization:tn(e,t)}})),Ie(Xt(e),function(n){let r=!1;return i=function(u){return r?u:n},(o=function(){if(n.status==401)return t.hasDigestAuth=function(u,a){if(!Dn(u))return!1;const p=/([a-z0-9_-]+)=(?:"([^"]+)"|([a-z0-9_-]+))/gi;for(;;){const l=u.headers&&u.headers.get("www-authenticate")||"",s=p.exec(l);if(!s)break;a[s[1]]=s[2]||s[3]}return a.nc+=1,a.cnonce=function(){let l="";for(let s=0;s<32;++s)l=`${l}${Ar[Math.floor(16*Math.random())]}`;return l}(),!0}(n,t),function(){if(t.hasDigestAuth)return Ie(Xt(e=sn(e,{headers:{Authorization:tn(e,t)}})),function(u){return u.status==401?t.hasDigestAuth=!1:t.nc++,r=!0,u})}();t.nc++}())&&o.then?o.then(i):i(o);var i,o})}),Ur=Re(function(e,t){return Ie(Xt(e),function(n){return n.ok?(t.authType=rt.Password,n):n.status==401&&Dn(n)?(t.authType=rt.Digest,Fn(t,t.username,t.password,void 0,void 0),e._digest=t.digest,Bn(e)):n})}),H=Re(function(e,t){return t.authType===rt.Auto?Ur(e,t):e._digest?Bn(e):Xt(e)});function Y(e,t,n){const r=Vt(e);return r.headers=Ne(t.headers,r.headers||{},n.headers||{}),n.data!==void 0&&(r.data=n.data),n.signal&&(r.signal=n.signal),t.httpAgent&&(r.httpAgent=t.httpAgent),t.httpsAgent&&(r.httpsAgent=t.httpsAgent),t.digest&&(r._digest=t.digest),typeof t.withCredentials=="boolean"&&(r.withCredentials=t.withCredentials),r}function Xt(e){const t=jn();return t.patchInline("request",n=>t.patchInline("fetch",Cr,n.url,function(r){let i={};const o={method:r.method};if(r.headers&&(i=Ne(i,r.headers)),r.data!==void 0){const[u,a]=function(p){if(typeof p=="string")return[p,{}];if(kn(p))return[p,{}];if(Mn(p))return[p,{}];if(p&&typeof p=="object")return[JSON.stringify(p),{"content-type":"application/json"}];throw new Error("Unable to convert request body: Unexpected body type: "+typeof p)}(r.data);o.body=u,i=Ne(i,a)}return r.signal&&(o.signal=r.signal),r.withCredentials&&(o.credentials="include"),o.headers=i,o}(n)),e)}var Mr=k(285);const Wt=e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},kr={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},_t=e=>e.replace(/[[\]\\-]/g,"\\$&"),on=e=>e.join(""),Br=(e,t)=>{const n=t;if(e.charAt(n)!=="[")throw new Error("not in a brace expression");const r=[],i=[];let o=n+1,u=!1,a=!1,p=!1,l=!1,s=n,h="";t:for(;o<e.length;){const d=e.charAt(o);if(d!=="!"&&d!=="^"||o!==n+1){if(d==="]"&&u&&!p){s=o+1;break}if(u=!0,d!=="\\"||p){if(d==="["&&!p){for(const[w,[x,g,T]]of Object.entries(kr))if(e.startsWith(w,o)){if(h)return["$.",!1,e.length-n,!0];o+=w.length,T?i.push(x):r.push(x),a=a||g;continue t}}p=!1,h?(d>h?r.push(_t(h)+"-"+_t(d)):d===h&&r.push(_t(d)),h="",o++):e.startsWith("-]",o+1)?(r.push(_t(d+"-")),o+=2):e.startsWith("-",o+1)?(h=d,o+=2):(r.push(_t(d)),o++)}else p=!0,o++}else l=!0,o++}if(s<o)return["",!1,0,!1];if(!r.length&&!i.length)return["$.",!1,e.length-n,!0];if(i.length===0&&r.length===1&&/^\\?.$/.test(r[0])&&!l)return[(c=r[0].length===2?r[0].slice(-1):r[0],c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,s-n,!1];var c;const m="["+(l?"^":"")+on(r)+"]",E="["+(l?"":"^")+on(i)+"]";return[r.length&&i.length?"("+m+"|"+E+")":r.length?m:E,a,s-n,!0]},At=function(e){let{windowsPathsNoEscape:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1")},Gr=new Set(["!","?","+","*","@"]),an=e=>Gr.has(e),ie="(?!\\.)",Vr=new Set(["[","."]),Xr=new Set(["..","."]),Wr=new Set("().*{}+?[]^$\\!"),Le="[^/]",un=Le+"*?",cn=Le+"+?";class nt{type;#n;#r;#i=!1;#t=[];#e;#o;#u;#a=!1;#s;#c;#h=!1;constructor(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.type=t,t&&(this.#r=!0),this.#e=n,this.#n=this.#e?this.#e.#n:this,this.#s=this.#n===this?r:this.#n.#s,this.#u=this.#n===this?[]:this.#n.#u,t!=="!"||this.#n.#a||this.#u.push(this),this.#o=this.#e?this.#e.#t.length:0}get hasMagic(){if(this.#r!==void 0)return this.#r;for(const t of this.#t)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#r=!0;return this.#r}toString(){return this.#c!==void 0?this.#c:this.type?this.#c=this.type+"("+this.#t.map(t=>String(t)).join("|")+")":this.#c=this.#t.map(t=>String(t)).join("")}#f(){if(this!==this.#n)throw new Error("should only call on root");if(this.#a)return this;let t;for(this.toString(),this.#a=!0;t=this.#u.pop();){if(t.type!=="!")continue;let n=t,r=n.#e;for(;r;){for(let i=n.#o+1;!r.type&&i<r.#t.length;i++)for(const o of t.#t){if(typeof o=="string")throw new Error("string part in extglob AST??");o.copyIn(r.#t[i])}n=r,r=n.#e}}return this}push(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)if(i!==""){if(typeof i!="string"&&!(i instanceof nt&&i.#e===this))throw new Error("invalid part: "+i);this.#t.push(i)}}toJSON(){const t=this.type===null?this.#t.slice().map(n=>typeof n=="string"?n:n.toJSON()):[this.type,...this.#t.map(n=>n.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#n||this.#n.#a&&this.#e?.type==="!")&&t.push({}),t}isStart(){if(this.#n===this)return!0;if(!this.#e?.isStart())return!1;if(this.#o===0)return!0;const t=this.#e;for(let n=0;n<this.#o;n++){const r=t.#t[n];if(!(r instanceof nt&&r.type==="!"))return!1}return!0}isEnd(){if(this.#n===this||this.#e?.type==="!")return!0;if(!this.#e?.isEnd())return!1;if(!this.type)return this.#e?.isEnd();const t=this.#e?this.#e.#t.length:0;return this.#o===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){const n=new nt(this.type,t);for(const r of this.#t)n.copyIn(r);return n}static#l(t,n,r,i){let o=!1,u=!1,a=-1,p=!1;if(n.type===null){let m=r,E="";for(;m<t.length;){const d=t.charAt(m++);if(o||d==="\\")o=!o,E+=d;else if(u)m===a+1?d!=="^"&&d!=="!"||(p=!0):d!=="]"||m===a+2&&p||(u=!1),E+=d;else if(d!=="[")if(i.noext||!an(d)||t.charAt(m)!=="(")E+=d;else{n.push(E),E="";const w=new nt(d,n);m=nt.#l(t,w,m,i),n.push(w)}else u=!0,a=m,p=!1,E+=d}return n.push(E),m}let l=r+1,s=new nt(null,n);const h=[];let c="";for(;l<t.length;){const m=t.charAt(l++);if(o||m==="\\")o=!o,c+=m;else if(u)l===a+1?m!=="^"&&m!=="!"||(p=!0):m!=="]"||l===a+2&&p||(u=!1),c+=m;else if(m!=="[")if(an(m)&&t.charAt(l)==="("){s.push(c),c="";const E=new nt(m,s);s.push(E),l=nt.#l(t,E,l,i)}else if(m!=="|"){if(m===")")return c===""&&n.#t.length===0&&(n.#h=!0),s.push(c),c="",n.push(...h,s),l;c+=m}else s.push(c),c="",h.push(s),s=new nt(null,n);else u=!0,a=l,p=!1,c+=m}return n.type=null,n.#r=void 0,n.#t=[t.substring(r-1)],l}static fromGlob(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=new nt(null,void 0,n);return nt.#l(t,r,0,n),r}toMMPattern(){if(this!==this.#n)return this.#n.toMMPattern();const t=this.toString(),[n,r,i,o]=this.toRegExpSource();if(!(i||this.#r||this.#s.nocase&&!this.#s.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return r;const u=(this.#s.nocase?"i":"")+(o?"u":"");return Object.assign(new RegExp(`^${n}$`,u),{_src:n,_glob:t})}get options(){return this.#s}toRegExpSource(t){const n=t??!!this.#s.dot;if(this.#n===this&&this.#f(),!this.type){const p=this.isStart()&&this.isEnd(),l=this.#t.map(c=>{const[m,E,d,w]=typeof c=="string"?nt.#d(c,this.#r,p):c.toRegExpSource(t);return this.#r=this.#r||d,this.#i=this.#i||w,m}).join("");let s="";if(this.isStart()&&typeof this.#t[0]=="string"&&(this.#t.length!==1||!Xr.has(this.#t[0]))){const c=Vr,m=n&&c.has(l.charAt(0))||l.startsWith("\\.")&&c.has(l.charAt(2))||l.startsWith("\\.\\.")&&c.has(l.charAt(4)),E=!n&&!t&&c.has(l.charAt(0));s=m?"(?!(?:^|/)\\.\\.?(?:$|/))":E?ie:""}let h="";return this.isEnd()&&this.#n.#a&&this.#e?.type==="!"&&(h="(?:$|\\/)"),[s+l+h,At(l),this.#r=!!this.#r,this.#i]}const r=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:";let o=this.#p(n);if(this.isStart()&&this.isEnd()&&!o&&this.type!=="!"){const p=this.toString();return this.#t=[p],this.type=null,this.#r=void 0,[p,At(this.toString()),!1,!1]}let u=!r||t||n?"":this.#p(!0);u===o&&(u=""),u&&(o=`(?:${o})(?:${u})*?`);let a="";return a=this.type==="!"&&this.#h?(this.isStart()&&!n?ie:"")+cn:i+o+(this.type==="!"?"))"+(!this.isStart()||n||t?"":ie)+un+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&u?")":this.type==="*"&&u?")?":`)${this.type}`),[a,At(o),this.#r=!!this.#r,this.#i]}#p(t){return this.#t.map(n=>{if(typeof n=="string")throw new Error("string type in extglob ast??");const[r,i,o,u]=n.toRegExpSource(t);return this.#i=this.#i||u,r}).filter(n=>!(this.isStart()&&this.isEnd()&&!n)).join("|")}static#d(t,n){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=!1,o="",u=!1;for(let a=0;a<t.length;a++){const p=t.charAt(a);if(i)i=!1,o+=(Wr.has(p)?"\\":"")+p;else if(p!=="\\"){if(p==="["){const[l,s,h,c]=Br(t,a);if(h){o+=l,u=u||s,a+=h-1,n=n||c;continue}}p!=="*"?p!=="?"?o+=p.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):(o+=Le,n=!0):(o+=r&&t==="*"?cn:un,n=!0)}else a===t.length-1?o+="\\\\":i=!0}return[o,At(t),!!n,u]}}const et=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Wt(t),!(!n.nocomment&&t.charAt(0)==="#")&&new qt(t,n).match(e)},qr=/^\*+([^+@!?\*\[\(]*)$/,zr=e=>t=>!t.startsWith(".")&&t.endsWith(e),Hr=e=>t=>t.endsWith(e),Yr=e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),Zr=e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),Kr=/^\*+\.\*+$/,Qr=e=>!e.startsWith(".")&&e.includes("."),Jr=e=>e!=="."&&e!==".."&&e.includes("."),ts=/^\.\*+$/,es=e=>e!=="."&&e!==".."&&e.startsWith("."),ns=/^\*+$/,rs=e=>e.length!==0&&!e.startsWith("."),ss=e=>e.length!==0&&e!=="."&&e!=="..",is=/^\?+([^+@!?\*\[\(]*)?$/,os=e=>{let[t,n=""]=e;const r=Gn([t]);return n?(n=n.toLowerCase(),i=>r(i)&&i.toLowerCase().endsWith(n)):r},as=e=>{let[t,n=""]=e;const r=Vn([t]);return n?(n=n.toLowerCase(),i=>r(i)&&i.toLowerCase().endsWith(n)):r},us=e=>{let[t,n=""]=e;const r=Vn([t]);return n?i=>r(i)&&i.endsWith(n):r},cs=e=>{let[t,n=""]=e;const r=Gn([t]);return n?i=>r(i)&&i.endsWith(n):r},Gn=e=>{let[t]=e;const n=t.length;return r=>r.length===n&&!r.startsWith(".")},Vn=e=>{let[t]=e;const n=t.length;return r=>r.length===n&&r!=="."&&r!==".."},Xn=typeof Ct=="object"&&Ct?typeof ee=="object"&&ee&&ee.__MINIMATCH_TESTING_PLATFORM__||Ct.platform:"posix";et.sep=Xn==="win32"?"\\":"/";const ct=Symbol("globstar **");et.GLOBSTAR=ct,et.filter=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return n=>et(n,e,t)};const ut=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.assign({},e,t)};et.defaults=e=>{if(!e||typeof e!="object"||!Object.keys(e).length)return et;const t=et;return Object.assign(function(n,r){return t(n,r,ut(e,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))},{Minimatch:class extends t.Minimatch{constructor(n){super(n,ut(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}))}static defaults(n){return t.defaults(ut(e,n)).Minimatch}},AST:class extends t.AST{constructor(n,r){super(n,r,ut(e,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))}static fromGlob(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.AST.fromGlob(n,ut(e,r))}},unescape:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.unescape(n,ut(e,r))},escape:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.escape(n,ut(e,r))},filter:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.filter(n,ut(e,r))},defaults:n=>t.defaults(ut(e,n)),makeRe:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.makeRe(n,ut(e,r))},braceExpand:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.braceExpand(n,ut(e,r))},match:function(n,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t.match(n,r,ut(e,i))},sep:t.sep,GLOBSTAR:ct})};const Wn=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Wt(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:Mr(e)};et.braceExpand=Wn,et.makeRe=function(e){return new qt(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).makeRe()},et.match=function(e,t){const n=new qt(t,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{});return e=e.filter(r=>n.match(r)),n.options.nonull&&!e.length&&e.push(t),e};const ln=/[?*]|[+@!]\(.*?\)|\[|\]/;class qt{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Wt(t),n=n||{},this.options=n,this.pattern=t,this.platform=n.platform||Xn,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!n.windowsPathsNoEscape||n.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!n.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!n.nonegate,this.comment=!1,this.empty=!1,this.partial=!!n.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=n.windowsNoMagicRoot!==void 0?n.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const t of this.set)for(const n of t)if(typeof n!="string")return!0;return!1}debug(){}make(){const t=this.pattern,n=this.options;if(!n.nocomment&&t.charAt(0)==="#")return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],n.debug&&(this.debug=function(){return console.error(...arguments)}),this.debug(this.pattern,this.globSet);const r=this.globSet.map(o=>this.slashSplit(o));this.globParts=this.preprocess(r),this.debug(this.pattern,this.globParts);let i=this.globParts.map((o,u,a)=>{if(this.isWindows&&this.windowsNoMagicRoot){const p=!(o[0]!==""||o[1]!==""||o[2]!=="?"&&ln.test(o[2])||ln.test(o[3])),l=/^[a-z]:/i.test(o[0]);if(p)return[...o.slice(0,4),...o.slice(4).map(s=>this.parse(s))];if(l)return[o[0],...o.slice(1).map(s=>this.parse(s))]}return o.map(p=>this.parse(p))});if(this.debug(this.pattern,i),this.set=i.filter(o=>o.indexOf(!1)===-1),this.isWindows)for(let o=0;o<this.set.length;o++){const u=this.set[o];u[0]===""&&u[1]===""&&this.globParts[o][2]==="?"&&typeof u[3]=="string"&&/^[a-z]:$/i.test(u[3])&&(u[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let r=0;r<t.length;r++)for(let i=0;i<t[r].length;i++)t[r][i]==="**"&&(t[r][i]="*");const{optimizationLevel:n=1}=this.options;return n>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):t=n>=1?this.levelOneOptimize(t):this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(n=>{let r=-1;for(;(r=n.indexOf("**",r+1))!==-1;){let i=r;for(;n[i+1]==="**";)i++;i!==r&&n.splice(r,i-r)}return n})}levelOneOptimize(t){return t.map(n=>(n=n.reduce((r,i)=>{const o=r[r.length-1];return i==="**"&&o==="**"?r:i===".."&&o&&o!==".."&&o!=="."&&o!=="**"?(r.pop(),r):(r.push(i),r)},[])).length===0?[""]:n)}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let n=!1;do{if(n=!1,!this.preserveMultipleSlashes){for(let i=1;i<t.length-1;i++){const o=t[i];i===1&&o===""&&t[0]===""||o!=="."&&o!==""||(n=!0,t.splice(i,1),i--)}t[0]!=="."||t.length!==2||t[1]!=="."&&t[1]!==""||(n=!0,t.pop())}let r=0;for(;(r=t.indexOf("..",r+1))!==-1;){const i=t[r-1];i&&i!=="."&&i!==".."&&i!=="**"&&(n=!0,t.splice(r-1,2),r-=2)}}while(n);return t.length===0?[""]:t}firstPhasePreProcess(t){let n=!1;do{n=!1;for(let r of t){let i=-1;for(;(i=r.indexOf("**",i+1))!==-1;){let u=i;for(;r[u+1]==="**";)u++;u>i&&r.splice(i+1,u-i);let a=r[i+1];const p=r[i+2],l=r[i+3];if(a!==".."||!p||p==="."||p===".."||!l||l==="."||l==="..")continue;n=!0,r.splice(i,1);const s=r.slice(0);s[i]="**",t.push(s),i--}if(!this.preserveMultipleSlashes){for(let u=1;u<r.length-1;u++){const a=r[u];u===1&&a===""&&r[0]===""||a!=="."&&a!==""||(n=!0,r.splice(u,1),u--)}r[0]!=="."||r.length!==2||r[1]!=="."&&r[1]!==""||(n=!0,r.pop())}let o=0;for(;(o=r.indexOf("..",o+1))!==-1;){const u=r[o-1];if(u&&u!=="."&&u!==".."&&u!=="**"){n=!0;const a=o===1&&r[o+1]==="**"?["."]:[];r.splice(o-1,2,...a),r.length===0&&r.push(""),o-=2}}}}while(n);return t}secondPhasePreProcess(t){for(let n=0;n<t.length-1;n++)for(let r=n+1;r<t.length;r++){const i=this.partsMatch(t[n],t[r],!this.preserveMultipleSlashes);if(i){t[n]=[],t[r]=i;break}}return t.filter(n=>n.length)}partsMatch(t,n){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=0,o=0,u=[],a="";for(;i<t.length&&o<n.length;)if(t[i]===n[o])u.push(a==="b"?n[o]:t[i]),i++,o++;else if(r&&t[i]==="**"&&n[o]===t[i+1])u.push(t[i]),i++;else if(r&&n[o]==="**"&&t[i]===n[o+1])u.push(n[o]),o++;else if(t[i]!=="*"||!n[o]||!this.options.dot&&n[o].startsWith(".")||n[o]==="**"){if(n[o]!=="*"||!t[i]||!this.options.dot&&t[i].startsWith(".")||t[i]==="**"||a==="a")return!1;a="b",u.push(n[o]),i++,o++}else{if(a==="b")return!1;a="a",u.push(t[i]),i++,o++}return t.length===n.length&&u}parseNegate(){if(this.nonegate)return;const t=this.pattern;let n=!1,r=0;for(let i=0;i<t.length&&t.charAt(i)==="!";i++)n=!n,r++;r&&(this.pattern=t.slice(r)),this.negate=n}matchOne(t,n){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const i=this.options;if(this.isWindows){const d=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),w=!d&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),x=typeof n[0]=="string"&&/^[a-z]:$/i.test(n[0]),g=w?3:d?0:void 0,T=!x&&n[0]===""&&n[1]===""&&n[2]==="?"&&typeof n[3]=="string"&&/^[a-z]:$/i.test(n[3])?3:x?0:void 0;if(typeof g=="number"&&typeof T=="number"){const[N,_]=[t[g],n[T]];N.toLowerCase()===_.toLowerCase()&&(n[T]=N,T>g?n=n.slice(T):g>T&&(t=t.slice(g)))}}const{optimizationLevel:o=1}=this.options;o>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:n}),this.debug("matchOne",t.length,n.length);for(var u=0,a=0,p=t.length,l=n.length;u<p&&a<l;u++,a++){this.debug("matchOne loop");var s=n[a],h=t[u];if(this.debug(n,s,h),s===!1)return!1;if(s===ct){this.debug("GLOBSTAR",[n,s,h]);var c=u,m=a+1;if(m===l){for(this.debug("** at the end");u<p;u++)if(t[u]==="."||t[u]===".."||!i.dot&&t[u].charAt(0)===".")return!1;return!0}for(;c<p;){var E=t[c];if(this.debug(`
globstar while`,t,c,n,m,E),this.matchOne(t.slice(c),n.slice(m),r))return this.debug("globstar found match!",c,p,E),!0;if(E==="."||E===".."||!i.dot&&E.charAt(0)==="."){this.debug("dot detected!",t,c,n,m);break}this.debug("globstar swallow a segment, and continue"),c++}return!(!r||(this.debug(`
>>> no match, partial?`,t,c,n,m),c!==p))}let d;if(typeof s=="string"?(d=h===s,this.debug("string match",s,h,d)):(d=s.test(h),this.debug("pattern match",s,h,d)),!d)return!1}if(u===p&&a===l)return!0;if(u===p)return r;if(a===l)return u===p-1&&t[u]==="";throw new Error("wtf?")}braceExpand(){return Wn(this.pattern,this.options)}parse(t){Wt(t);const n=this.options;if(t==="**")return ct;if(t==="")return"";let r,i=null;(r=t.match(ns))?i=n.dot?ss:rs:(r=t.match(qr))?i=(n.nocase?n.dot?Zr:Yr:n.dot?Hr:zr)(r[1]):(r=t.match(is))?i=(n.nocase?n.dot?as:os:n.dot?us:cs)(r):(r=t.match(Kr))?i=n.dot?Jr:Qr:(r=t.match(ts))&&(i=es);const o=nt.fromGlob(t,this.options).toMMPattern();return i&&typeof o=="object"&&Reflect.defineProperty(o,"test",{value:i}),o}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const n=this.options,r=n.noglobstar?"[^/]*?":n.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",i=new Set(n.nocase?["i"]:[]);let o=t.map(p=>{const l=p.map(s=>{if(s instanceof RegExp)for(const h of s.flags.split(""))i.add(h);return typeof s=="string"?s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):s===ct?ct:s._src});return l.forEach((s,h)=>{const c=l[h+1],m=l[h-1];s===ct&&m!==ct&&(m===void 0?c!==void 0&&c!==ct?l[h+1]="(?:\\/|"+r+"\\/)?"+c:l[h]=r:c===void 0?l[h-1]=m+"(?:\\/|"+r+")?":c!==ct&&(l[h-1]=m+"(?:\\/|\\/"+r+"\\/)"+c,l[h+1]=ct))}),l.filter(s=>s!==ct).join("/")}).join("|");const[u,a]=t.length>1?["(?:",")"]:["",""];o="^"+u+o+a+"$",this.negate&&(o="^(?!"+o+").+$");try{this.regexp=new RegExp(o,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.partial;if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&n)return!0;const r=this.options;this.isWindows&&(t=t.split("\\").join("/"));const i=this.slashSplit(t);this.debug(this.pattern,"split",i);const o=this.set;this.debug(this.pattern,"set",o);let u=i[i.length-1];if(!u)for(let a=i.length-2;!u&&a>=0;a--)u=i[a];for(let a=0;a<o.length;a++){const p=o[a];let l=i;if(r.matchBase&&p.length===1&&(l=[u]),this.matchOne(l,p,n))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate}static defaults(t){return et.defaults(t).Minimatch}}function De(e){const t=new Error(`${arguments.length>1&&arguments[1]!==void 0?arguments[1]:""}Invalid response: ${e.status} ${e.statusText}`);return t.status=e.status,t.response=e,t}function Z(e,t){const{status:n}=t;if(n===401&&e.digest)return t;if(n>=400)throw De(t);return t}function bt(e,t){return arguments.length>2&&arguments[2]!==void 0&&arguments[2]?{data:t,headers:e.headers?$r(e.headers):{},status:e.status,statusText:e.statusText}:t}et.AST=nt,et.Minimatch=qt,et.escape=function(e){let{windowsPathsNoEscape:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&")},et.unescape=At;const ls=(hn=function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=Y({url:V(e.remoteURL,G(t)),method:"COPY",headers:{Destination:V(e.remoteURL,G(n)),Overwrite:r.overwrite===!1?"F":"T",Depth:r.shallow?"0":"infinity"}},e,r);return u=function(a){Z(e,a)},(o=H(i,e))&&o.then||(o=Promise.resolve(o)),u?o.then(u):o;var o,u},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(hn.apply(this,e))}catch(n){return Promise.reject(n)}});var hn,$e=k(635),hs=k(829),gt=k.n(hs),vt=function(e){return e.Array="array",e.Object="object",e.Original="original",e}(vt||{});function Ut(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:vt.Original;const r=gt().get(e,t);return n==="array"&&Array.isArray(r)===!1?[r]:n==="object"&&Array.isArray(r)?r[0]:r}function Lt(e){return new Promise(t=>{t(function(n){const{multistatus:r}=n;if(r==="")return{multistatus:{response:[]}};if(!r)throw new Error("Invalid response: No root multistatus found");const i={multistatus:Array.isArray(r)?r[0]:r};return gt().set(i,"multistatus.response",Ut(i,"multistatus.response",vt.Array)),gt().set(i,"multistatus.response",gt().get(i,"multistatus.response").map(o=>function(u){const a=Object.assign({},u);return a.status?gt().set(a,"status",Ut(a,"status",vt.Object)):(gt().set(a,"propstat",Ut(a,"propstat",vt.Object)),gt().set(a,"propstat.prop",Ut(a,"propstat.prop",vt.Object))),a}(o))),i}(new $e.XMLParser({allowBooleanAttributes:!0,attributeNamePrefix:"",textNodeName:"text",ignoreAttributes:!1,removeNSPrefix:!0,numberParseOptions:{hex:!0,leadingZeros:!1},attributeValueProcessor:(n,r,i)=>r==="true"||r==="false"?r==="true":r,tagValueProcessor(n,r,i){if(!i.endsWith("propstat.prop.displayname"))return r}}).parse(e)))})}function Yt(e,t){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const{getlastmodified:r=null,getcontentlength:i="0",resourcetype:o=null,getcontenttype:u=null,getetag:a=null}=e,p=o&&typeof o=="object"&&o.collection!==void 0?"directory":"file",l={filename:t,basename:Bt().basename(t),lastmod:r,size:parseInt(i,10),type:p,etag:typeof a=="string"?a.replace(/"/g,""):null};return p==="file"&&(l.mime=u&&typeof u=="string"?u.split(";")[0]:""),n&&(e.displayname!==void 0&&(e.displayname=String(e.displayname)),l.props=e),l}function qn(e,t){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=null;try{e.multistatus.response[0].propstat&&(r=e.multistatus.response[0])}catch{}if(!r)throw new Error("Failed getting item stat: bad response");const{propstat:{prop:i,status:o}}=r,[u,a,p]=o.split(" ",3),l=parseInt(a,10);if(l>=400){const s=new Error(`Invalid response: ${l} ${p}`);throw s.status=l,s}return Yt(i,Rt(t),n)}function zn(e){switch(String(e)){case"-3":return"unlimited";case"-2":case"-1":return"unknown";default:return parseInt(String(e),10)}}function oe(e,t,n){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const Fe=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:r=!1}=n,i=Y({url:V(e.remoteURL,G(t)),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},e,n);return oe(H(i,e),function(o){return Z(e,o),oe(o.text(),function(u){return oe(Lt(u),function(a){const p=qn(a,t,r);return bt(o,p,r)})})})});function Hn(e,t,n){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const ps=Yn(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=function(o){if(!o||o==="/")return[];let u=o;const a=[];do a.push(u),u=Bt().dirname(u);while(u&&u!=="/");return a}(Rt(t));r.sort((o,u)=>o.length>u.length?1:u.length>o.length?-1:0);let i=!1;return function(o,u,a){if(typeof o[fn]=="function"){let d=function(w){try{for(;!(p=h.next()).done;)if((w=u(p.value))&&w.then){if(!dn(w))return void w.then(d,s||(s=st.bind(null,l=new Nt,2)));w=w.v}l?st(l,1,w):l=w}catch(x){st(l||(l=new Nt),2,x)}};var p,l,s,h=o[fn]();if(d(),h.return){var c=function(w){try{p.done||h.return()}catch{}return w};if(l&&l.then)return l.then(c,function(w){throw c(w)});c()}return l}if(!("length"in o))throw new TypeError("Object is not iterable");for(var m=[],E=0;E<o.length;E++)m.push(o[E]);return function(d,w,x){var g,T,N=-1;return function _(v){try{for(;++N<d.length&&(!x||!x());)if((v=w(N))&&v.then){if(!dn(v))return void v.then(_,T||(T=st.bind(null,g=new Nt,2)));v=v.v}g?st(g,1,v):g=v}catch(P){st(g||(g=new Nt),2,P)}}(),g}(m,function(d){return u(m[d])},a)}(r,function(o){return u=function(){return function(p,l){try{var s=Hn(Fe(e,o),function(h){if(h.type!=="directory")throw new Error(`Path includes a file: ${t}`)})}catch(h){return l(h)}return s&&s.then?s.then(void 0,l):s}(0,function(p){const l=p;return function(){if(l.status===404)return i=!0,pn(Oe(e,o,{...n,recursive:!1}));throw p}()})},(a=function(){if(i)return pn(Oe(e,o,{...n,recursive:!1}))}())&&a.then?a.then(u):u();var u,a},function(){return!1})});function Yn(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}function fs(){}function pn(e,t){return e&&e.then?e.then(fs):Promise.resolve()}const fn=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function st(e,t,n){if(!e.s){if(n instanceof Nt){if(!n.s)return void(n.o=st.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(st.bind(null,e,t),st.bind(null,e,2));e.s=t,e.v=n;const r=e.o;r&&r(e)}}const Nt=function(){function e(){}return e.prototype.then=function(t,n){const r=new e,i=this.s;if(i){const o=1&i?t:n;if(o){try{st(r,1,o(this.v))}catch(u){st(r,2,u)}return r}return this}return this.o=function(o){try{const u=o.v;1&o.s?st(r,1,t?t(u):u):n?st(r,1,n(u)):st(r,2,u)}catch(u){st(r,2,u)}},r},e}();function dn(e){return e instanceof Nt&&1&e.s}const Oe=Yn(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n.recursive===!0)return ps(e,t,n);const r=Y({url:V(e.remoteURL,(i=G(t),i.endsWith("/")?i:i+"/")),method:"MKCOL"},e,n);var i;return Hn(H(r,e),function(o){Z(e,o)})});var ds=k(388),gn=k.n(ds);const gs=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r={};if(typeof n.range=="object"&&typeof n.range.start=="number"){let a=`bytes=${n.range.start}-`;typeof n.range.end=="number"&&(a=`${a}${n.range.end}`),r.Range=a}const i=Y({url:V(e.remoteURL,G(t)),method:"GET",headers:r},e,n);return u=function(a){if(Z(e,a),r.Range&&a.status!==206){const p=new Error(`Invalid response code for partial request: ${a.status}`);throw p.status=a.status,p}return n.callback&&setTimeout(()=>{n.callback(a)},0),a.body},(o=H(i,e))&&o.then||(o=Promise.resolve(o)),u?o.then(u):o;var o,u}),ms=()=>{},Es=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t,n){n.url||(n.url=V(e.remoteURL,G(t)));const r=Y(n,e,{});return o=function(u){return Z(e,u),u},(i=H(r,e))&&i.then||(i=Promise.resolve(i)),o?i.then(o):i;var i,o}),ys=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Y({url:V(e.remoteURL,G(t)),method:"DELETE"},e,n);return o=function(u){Z(e,u)},(i=H(r,e))&&i.then||(i=Promise.resolve(i)),o?i.then(o):i;var i,o}),ws=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function(r,i){try{var o=(u=Fe(e,t,n),a=function(){return!0},p?a?a(u):u:(u&&u.then||(u=Promise.resolve(u)),a?u.then(a):u))}catch(l){return i(l)}var u,a,p;return o&&o.then?o.then(void 0,i):o}(0,function(r){if(r.status===404)return!1;throw r})});function ae(e,t,n){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const bs=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Y({url:V(e.remoteURL,G(t),"/"),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:n.deep?"infinity":"1"}},e,n);return ae(H(r,e),function(i){return Z(e,i),ae(i.text(),function(o){if(!o)throw new Error("Failed parsing directory contents: Empty response");return ae(Lt(o),function(u){const a=Je(t);let p=function(l,s,h){let c=arguments.length>3&&arguments[3]!==void 0&&arguments[3],m=arguments.length>4&&arguments[4]!==void 0&&arguments[4];const E=Bt().join(s,"/"),{multistatus:{response:d}}=l,w=d.map(x=>{const g=function(N){try{return N.replace(/^https?:\/\/[^\/]+/,"")}catch(_){throw new it(_,"Failed normalising HREF")}}(x.href),{propstat:{prop:T}}=x;return Yt(T,E==="/"?decodeURIComponent(Rt(g)):Rt(Bt().relative(decodeURIComponent(E),decodeURIComponent(g))),c)});return m?w:w.filter(x=>x.basename&&(x.type==="file"||x.filename!==h.replace(/\/$/,"")))}(u,Je(e.remoteBasePath||e.remotePath),a,n.details,n.includeSelf);return n.glob&&(p=function(l,s){return l.filter(h=>et(h.filename,s,{matchBase:!0}))}(p,n.glob)),bt(i,p,n.details)})})})});function je(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}const Ts=je(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Y({url:V(e.remoteURL,G(t)),method:"GET",headers:{Accept:"text/plain"},transformResponse:[Is]},e,n);return zt(H(r,e),function(i){return Z(e,i),zt(i.text(),function(o){return bt(i,o,n.details)})})});function zt(e,t,n){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const vs=je(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Y({url:V(e.remoteURL,G(t)),method:"GET"},e,n);return zt(H(r,e),function(i){let o;return Z(e,i),function(u,a){var p=u();return p&&p.then?p.then(a):a()}(function(){return zt(i.arrayBuffer(),function(u){o=u})},function(){return bt(i,o,n.details)})})}),Ns=je(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{format:r="binary"}=n;if(r!=="binary"&&r!=="text")throw new it({info:{code:mt.InvalidOutputFormat}},`Invalid output format: ${r}`);return r==="text"?Ts(e,t,n):vs(e,t,n)}),Is=e=>e;function Os(e){return new $e.XMLBuilder({attributeNamePrefix:"@_",format:!0,ignoreAttributes:!1,suppressEmptyNode:!0}).build(Zn({lockinfo:{"@_xmlns:d":"DAV:",lockscope:{exclusive:{}},locktype:{write:{}},owner:{href:e}}},"d"))}function Zn(e,t){const n={...e};for(const r in n)n.hasOwnProperty(r)&&(n[r]&&typeof n[r]=="object"&&r.indexOf(":")===-1?(n[`${t}:${r}`]=Zn(n[r],t),delete n[r]):/^@_/.test(r)===!1&&(n[`${t}:${r}`]=n[r],delete n[r]));return n}function xe(e,t,n){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}function Kn(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}const xs=Kn(function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=Y({url:V(e.remoteURL,G(t)),method:"UNLOCK",headers:{"Lock-Token":n}},e,r);return xe(H(i,e),function(o){if(Z(e,o),o.status!==204&&o.status!==200)throw De(o)})}),_s=Kn(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{refreshToken:r,timeout:i=As}=n,o={Accept:"text/plain,application/xml",Timeout:i};r&&(o.If=r);const u=Y({url:V(e.remoteURL,G(t)),method:"LOCK",headers:o,data:Os(e.contactHref)},e,n);return xe(H(u,e),function(a){return Z(e,a),xe(a.text(),function(p){const l=(c=p,new $e.XMLParser({removeNSPrefix:!0,parseAttributeValue:!0,parseTagValue:!0}).parse(c)),s=gt().get(l,"prop.lockdiscovery.activelock.locktoken.href"),h=gt().get(l,"prop.lockdiscovery.activelock.timeout");var c;if(!s)throw De(a,"No lock token received: ");return{token:s,serverTimeout:h}})})}),As="Infinite, Second-4100000000";function ue(e,t,n){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const Ps=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=t.path||"/",r=Y({url:V(e.remoteURL,n),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},e,t);return ue(H(r,e),function(i){return Z(e,i),ue(i.text(),function(o){return ue(Lt(o),function(u){const a=function(p){try{const[l]=p.multistatus.response,{propstat:{prop:{"quota-used-bytes":s,"quota-available-bytes":h}}}=l;return s!==void 0&&h!==void 0?{used:parseInt(String(s),10),available:zn(h)}:null}catch{}return null}(u);return bt(i,a,t.details)})})})});function ce(e,t,n){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const Cs=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:r=!1}=n,i=Y({url:V(e.remoteURL,G(t)),method:"SEARCH",headers:{Accept:"text/plain,application/xml","Content-Type":e.headers["Content-Type"]||"application/xml; charset=utf-8"}},e,n);return ce(H(i,e),function(o){return Z(e,o),ce(o.text(),function(u){return ce(Lt(u),function(a){const p=function(l,s,h){const c={truncated:!1,results:[]};return c.truncated=l.multistatus.response.some(m=>(m.status||m.propstat?.status).split(" ",3)?.[1]==="507"&&m.href.replace(/\/$/,"").endsWith(G(s).replace(/\/$/,""))),l.multistatus.response.forEach(m=>{if(m.propstat===void 0)return;const E=m.href.split("/").map(decodeURIComponent).join("/");c.results.push(Yt(m.propstat.prop,E,h))}),c}(a,t,r);return bt(o,p,r)})})})}),Ss=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=Y({url:V(e.remoteURL,G(t)),method:"MOVE",headers:{Destination:V(e.remoteURL,G(n)),Overwrite:r.overwrite===!1?"F":"T"}},e,r);return u=function(a){Z(e,a)},(o=H(i,e))&&o.then||(o=Promise.resolve(o)),u?o.then(u):o;var o,u});var Rs=k(172);const Ls=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const{contentLength:i=!0,overwrite:o=!0}=r,u={"Content-Type":"application/octet-stream"};i===!1||(u["Content-Length"]=typeof i=="number"?`${i}`:`${function(s){if(Mn(s))return s.byteLength;if(kn(s))return s.length;if(typeof s=="string")return(0,Rs.d)(s);throw new it({info:{code:mt.DataTypeNoLength}},"Cannot calculate data length: Invalid type")}(n)}`),o||(u["If-None-Match"]="*");const a=Y({url:V(e.remoteURL,G(t)),method:"PUT",headers:u,data:n},e,r);return l=function(s){try{Z(e,s)}catch(h){const c=h;if(c.status!==412||o)throw c;return!1}return!0},(p=H(a,e))&&p.then||(p=Promise.resolve(p)),l?p.then(l):p;var p,l}),Qn=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Y({url:V(e.remoteURL,G(t)),method:"OPTIONS"},e,n);return o=function(u){try{Z(e,u)}catch(a){throw a}return{compliance:(u.headers.get("DAV")??"").split(",").map(a=>a.trim()),server:u.headers.get("Server")??""}},(i=H(r,e))&&i.then||(i=Promise.resolve(i)),o?i.then(o):i;var i,o});function St(e,t,n){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const Ds=Ue(function(e,t,n,r,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(n>r||n<0)throw new it({info:{code:mt.InvalidUpdateRange}},`Invalid update range ${n} for partial update`);const u={"Content-Type":"application/octet-stream","Content-Length":""+(r-n+1),"Content-Range":`bytes ${n}-${r}/*`},a=Y({url:V(e.remoteURL,G(t)),method:"PUT",headers:u,data:i},e,o);return St(H(a,e),function(p){Z(e,p)})});function mn(e,t){var n=e();return n&&n.then?n.then(t):t(n)}const $s=Ue(function(e,t,n,r,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(n>r||n<0)throw new it({info:{code:mt.InvalidUpdateRange}},`Invalid update range ${n} for partial update`);const u={"Content-Type":"application/x-sabredav-partialupdate","Content-Length":""+(r-n+1),"X-Update-Range":`bytes=${n}-${r}`},a=Y({url:V(e.remoteURL,G(t)),method:"PATCH",headers:u,data:i},e,o);return St(H(a,e),function(p){Z(e,p)})});function Ue(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}const Fs=Ue(function(e,t,n,r,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};return St(Qn(e,t,o),function(u){let a=!1;return mn(function(){if(u.compliance.includes("sabredav-partialupdate"))return St($s(e,t,n,r,i,o),function(p){return a=!0,p})},function(p){let l=!1;return a?p:mn(function(){if(u.server.includes("Apache")&&u.compliance.includes("<http://apache.org/dav/propset/fs/1>"))return St(Ds(e,t,n,r,i,o),function(s){return l=!0,s})},function(s){if(l)return s;throw new it({info:{code:mt.NotSupported}},"Not supported")})})})}),js="https://github.com/perry-mitchell/webdav-client/blob/master/LOCK_CONTACT.md";function Us(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{authType:n=null,remoteBasePath:r,contactHref:i=js,ha1:o,headers:u={},httpAgent:a,httpsAgent:p,password:l,token:s,username:h,withCredentials:c}=t;let m=n;m||(m=h||l?rt.Password:rt.None);const E={authType:m,remoteBasePath:r,contactHref:i,ha1:o,headers:Object.assign({},u),httpAgent:a,httpsAgent:p,password:l,remotePath:xr(e),remoteURL:e,token:s,username:h,withCredentials:c};return Fn(E,h,l,s,o),{copyFile:(d,w,x)=>ls(E,d,w,x),createDirectory:(d,w)=>Oe(E,d,w),createReadStream:(d,w)=>function(x,g){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const N=new(gn()).PassThrough;return gs(x,g,T).then(_=>{_.pipe(N)}).catch(_=>{N.emit("error",_)}),N}(E,d,w),createWriteStream:(d,w,x)=>function(g,T){let N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ms;const v=new(gn()).PassThrough,P={};N.overwrite===!1&&(P["If-None-Match"]="*");const I=Y({url:V(g.remoteURL,G(T)),method:"PUT",headers:P,data:v,maxRedirects:0},g,N);return H(I,g).then(b=>Z(g,b)).then(b=>{setTimeout(()=>{_(b)},0)}).catch(b=>{v.emit("error",b)}),v}(E,d,w,x),customRequest:(d,w)=>Es(E,d,w),deleteFile:(d,w)=>ys(E,d,w),exists:(d,w)=>ws(E,d,w),getDirectoryContents:(d,w)=>bs(E,d,w),getFileContents:(d,w)=>Ns(E,d,w),getFileDownloadLink:d=>function(w,x){let g=V(w.remoteURL,G(x));const T=/^https:/i.test(g)?"https":"http";switch(w.authType){case rt.None:break;case rt.Password:{const N=en(w.headers.Authorization.replace(/^Basic /i,"").trim());g=g.replace(/^https?:\/\//,`${T}://${N}@`);break}default:throw new it({info:{code:mt.LinkUnsupportedAuthType}},`Unsupported auth type for file link: ${w.authType}`)}return g}(E,d),getFileUploadLink:d=>function(w,x){let g=`${V(w.remoteURL,G(x))}?Content-Type=application/octet-stream`;const T=/^https:/i.test(g)?"https":"http";switch(w.authType){case rt.None:break;case rt.Password:{const N=en(w.headers.Authorization.replace(/^Basic /i,"").trim());g=g.replace(/^https?:\/\//,`${T}://${N}@`);break}default:throw new it({info:{code:mt.LinkUnsupportedAuthType}},`Unsupported auth type for file link: ${w.authType}`)}return g}(E,d),getHeaders:()=>Object.assign({},E.headers),getQuota:d=>Ps(E,d),lock:(d,w)=>_s(E,d,w),moveFile:(d,w,x)=>Ss(E,d,w,x),putFileContents:(d,w,x)=>Ls(E,d,w,x),partialUpdateFileContents:(d,w,x,g,T)=>Fs(E,d,w,x,g,T),getDAVCompliance:d=>Qn(E,d),search:(d,w)=>Cs(E,d,w),setHeaders:d=>{E.headers=Object.assign({},d)},stat:(d,w)=>Fe(E,d,w),unlock:(d,w,x)=>xs(E,d,w,x)}}lt.hT,lt.O4,lt.Kd,lt.YK;var Ms=lt.UU,ks=lt.Gu;lt.ky,lt.h4,lt.ch,lt.hq,lt.i5;function Bs(e){return e&&e.split("/").map(encodeURIComponent).join("/")}function Jn(e,t){return e=e.replace(/\\/g,"/").replace(/\/+$/g,"").replace(/.*\//,""),e}function Mt(e){e=e.replaceAll(/\\/g,"/");const t=e.split("/");return t.length<=1?".":(t.pop(),t.length===1&&t[0]===""?"/":t.join("/"))}function Gs(e){const t=Jn(e),n=t.lastIndexOf(".");return n>0?t.substring(n):""}function Vs(...e){if(arguments.length<1)return"";const t=e.filter(p=>p.length>0);if(t.length<1)return"";const n=t[t.length-1],r=t[0].charAt(0)==="/",i=n.charAt(n.length-1)==="/",o=t.reduce((p,l)=>p.concat(l.split("/")),[]);let u=!r;const a=o.reduce((p,l)=>l===""?p:u?(u=!1,p+l):p+"/"+l,"");return i?a+"/":a}const wt=dr().setApp("@nextcloud/files").detectUser().build();var Zt=(e=>(e.Folder="folder",e.File="file",e))(Zt||{}),ht=(e=>(e[e.NONE=0]="NONE",e[e.CREATE=4]="CREATE",e[e.READ=1]="READ",e[e.UPDATE=2]="UPDATE",e[e.DELETE=8]="DELETE",e[e.SHARE=16]="SHARE",e[e.ALL=31]="ALL",e))(ht||{});const tr=function(e,t){return e.match(t)!==null},Et=(e,t)=>{if(e.id&&typeof e.id!="number")throw new Error("Invalid id type of value");if(!e.source)throw new Error("Missing mandatory source");try{new URL(e.source)}catch{throw new Error("Invalid source format, source must be a valid URL")}if(!e.source.startsWith("http"))throw new Error("Invalid source format, only http(s) is supported");if(e.displayname&&typeof e.displayname!="string")throw new Error("Invalid displayname type");if(e.mtime&&!(e.mtime instanceof Date))throw new Error("Invalid mtime type");if(e.crtime&&!(e.crtime instanceof Date))throw new Error("Invalid crtime type");if(!e.mime||typeof e.mime!="string"||!e.mime.match(/^[-\w.]+\/[-+\w.]+$/gi))throw new Error("Missing or invalid mandatory mime");if("size"in e&&typeof e.size!="number"&&e.size!==void 0)throw new Error("Invalid size type");if("permissions"in e&&e.permissions!==void 0&&!(typeof e.permissions=="number"&&e.permissions>=ht.NONE&&e.permissions<=ht.ALL))throw new Error("Invalid permissions");if(e.owner&&e.owner!==null&&typeof e.owner!="string")throw new Error("Invalid owner type");if(e.attributes&&typeof e.attributes!="object")throw new Error("Invalid attributes type");if(e.root&&typeof e.root!="string")throw new Error("Invalid root type");if(e.root&&!e.root.startsWith("/"))throw new Error("Root must start with a leading slash");if(e.root&&!e.source.includes(e.root))throw new Error("Root must be part of the source");if(e.root&&tr(e.source,t)){const n=e.source.match(t)[0];if(!e.source.includes(Vs(n,e.root)))throw new Error("The root must be relative to the service. e.g /files/emma")}if(e.status&&!Object.values(Me).includes(e.status))throw new Error("Status must be a valid NodeStatus")};var Me=(e=>(e.NEW="new",e.FAILED="failed",e.LOADING="loading",e.LOCKED="locked",e))(Me||{});class Kt{_data;_attributes;_knownDavService=/(remote|public)\.php\/(web)?dav/i;readonlyAttributes=Object.entries(Object.getOwnPropertyDescriptors(Kt.prototype)).filter(t=>typeof t[1].get=="function"&&t[0]!=="__proto__").map(t=>t[0]);handler={set:(t,n,r)=>this.readonlyAttributes.includes(n)?!1:Reflect.set(t,n,r),deleteProperty:(t,n)=>this.readonlyAttributes.includes(n)?!1:Reflect.deleteProperty(t,n),get:(t,n,r)=>this.readonlyAttributes.includes(n)?(wt.warn(`Accessing "Node.attributes.${n}" is deprecated, access it directly on the Node instance.`),Reflect.get(this,n)):Reflect.get(t,n,r)};constructor(t,n){t.mime||(t.mime="application/octet-stream"),Et(t,n||this._knownDavService),this._data={displayname:t.attributes?.displayname,...t,attributes:{}},this._attributes=new Proxy(this._data.attributes,this.handler),this.update(t.attributes??{}),n&&(this._knownDavService=n)}get source(){return this._data.source.replace(/\/$/i,"")}get encodedSource(){const{origin:t}=new URL(this.source);return t+Bs(this.source.slice(t.length))}get basename(){return Jn(this.source)}get displayname(){return this._data.displayname||this.basename}set displayname(t){Et({...this._data,displayname:t},this._knownDavService),this._data.displayname=t}get extension(){return Gs(this.source)}get dirname(){if(this.root){let n=this.source;this.isDavResource&&(n=n.split(this._knownDavService).pop());const r=n.indexOf(this.root),i=this.root.replace(/\/$/,"");return Mt(n.slice(r+i.length)||"/")}const t=new URL(this.source);return Mt(t.pathname)}get mime(){return this._data.mime||"application/octet-stream"}set mime(t){t??="application/octet-stream",Et({...this._data,mime:t},this._knownDavService),this._data.mime=t}get mtime(){return this._data.mtime}set mtime(t){Et({...this._data,mtime:t},this._knownDavService),this._data.mtime=t}get crtime(){return this._data.crtime}get size(){return this._data.size}set size(t){Et({...this._data,size:t},this._knownDavService),this.updateMtime(),this._data.size=t}get attributes(){return this._attributes}get permissions(){return this.owner===null&&!this.isDavResource?ht.READ:this._data.permissions!==void 0?this._data.permissions:ht.NONE}set permissions(t){Et({...this._data,permissions:t},this._knownDavService),this.updateMtime(),this._data.permissions=t}get owner(){return this.isDavResource?this._data.owner:null}get isDavResource(){return tr(this.source,this._knownDavService)}get isDavRessource(){return this.isDavResource}get root(){return this._data.root?this._data.root.replace(/^(.+)\/$/,"$1"):this.isDavResource&&Mt(this.source).split(this._knownDavService).pop()||null}get path(){if(this.root){let t=this.source;this.isDavResource&&(t=t.split(this._knownDavService).pop());const n=t.indexOf(this.root),r=this.root.replace(/\/$/,"");return t.slice(n+r.length)||"/"}return(this.dirname+"/"+this.basename).replace(/\/\//g,"/")}get fileid(){return this._data?.id}get status(){return this._data?.status}set status(t){Et({...this._data,status:t},this._knownDavService),this._data.status=t}get data(){return structuredClone(this._data)}move(t){Et({...this._data,source:t},this._knownDavService);const n=this.basename;this._data.source=t,this.displayname===n&&this.basename!==n&&(this.displayname=this.basename)}rename(t){if(t.includes("/"))throw new Error("Invalid basename");this.move(Mt(this.source)+"/"+t)}updateMtime(){this._data.mtime&&(this._data.mtime=new Date)}update(t){for(const[n,r]of Object.entries(t))try{r===void 0?delete this.attributes[n]:this.attributes[n]=r}catch(i){if(i instanceof TypeError)continue;throw i}}}class ke extends Kt{get type(){return Zt.File}clone(){return new ke(this.data)}}class Be extends Kt{constructor(t){super({...t,mime:"httpd/unix-directory"})}get type(){return Zt.Folder}get extension(){return null}get mime(){return"httpd/unix-directory"}clone(){return new Be(this.data)}}const Xs=function(e=""){let t=ht.NONE;return e&&((e.includes("C")||e.includes("K"))&&(t|=ht.CREATE),e.includes("G")&&(t|=ht.READ),(e.includes("W")||e.includes("N")||e.includes("V"))&&(t|=ht.UPDATE),e.includes("D")&&(t|=ht.DELETE),e.includes("R")&&(t|=ht.SHARE)),t},er=["d:getcontentlength","d:getcontenttype","d:getetag","d:getlastmodified","d:creationdate","d:displayname","d:quota-available-bytes","d:resourcetype","nc:has-preview","nc:is-encrypted","nc:mount-type","oc:comments-unread","oc:favorite","oc:fileid","oc:owner-display-name","oc:owner-id","oc:permissions","oc:size"],nr={d:"DAV:",nc:"http://nextcloud.org/ns",oc:"http://owncloud.org/ns",ocs:"http://open-collaboration-services.org/ns"},_i=function(e,t={nc:"http://nextcloud.org/ns"}){typeof window._nc_dav_properties>"u"&&(window._nc_dav_properties=[...er],window._nc_dav_namespaces={...nr});const n={...window._nc_dav_namespaces,...t};if(window._nc_dav_properties.find(i=>i===e))return wt.warn(`${e} already registered`,{prop:e}),!1;if(e.startsWith("<")||e.split(":").length!==2)return wt.error(`${e} is not valid. See example: 'oc:fileid'`,{prop:e}),!1;const r=e.split(":")[0];return n[r]?(window._nc_dav_properties.push(e),window._nc_dav_namespaces=n,!0):(wt.error(`${e} namespace unknown`,{prop:e,namespaces:n}),!1)},Ge=function(){return typeof window._nc_dav_properties>"u"&&(window._nc_dav_properties=[...er]),window._nc_dav_properties.map(e=>`<${e} />`).join(" ")},Ve=function(){return typeof window._nc_dav_namespaces>"u"&&(window._nc_dav_namespaces={...nr}),Object.keys(window._nc_dav_namespaces).map(e=>`xmlns:${e}="${window._nc_dav_namespaces?.[e]}"`).join(" ")},Ai=function(){return`<?xml version="1.0"?>
		<d:propfind ${Ve()}>
			<d:prop>
				${Ge()}
			</d:prop>
		</d:propfind>`},Ws=function(){return`<?xml version="1.0"?>
		<oc:filter-files ${Ve()}>
			<d:prop>
				${Ge()}
			</d:prop>
			<oc:filter-rules>
				<oc:favorite>1</oc:favorite>
			</oc:filter-rules>
		</oc:filter-files>`},Pi=function(e){return`<?xml version="1.0" encoding="UTF-8"?>
<d:searchrequest ${Ve()}
	xmlns:ns="https://github.com/icewind1991/SearchDAV/ns">
	<d:basicsearch>
		<d:select>
			<d:prop>
				${Ge()}
			</d:prop>
		</d:select>
		<d:from>
			<d:scope>
				<d:href>/files/${Ae()?.uid}/</d:href>
				<d:depth>infinity</d:depth>
			</d:scope>
		</d:from>
		<d:where>
			<d:and>
				<d:or>
					<d:not>
						<d:eq>
							<d:prop>
								<d:getcontenttype/>
							</d:prop>
							<d:literal>httpd/unix-directory</d:literal>
						</d:eq>
					</d:not>
					<d:eq>
						<d:prop>
							<oc:size/>
						</d:prop>
						<d:literal>0</d:literal>
					</d:eq>
				</d:or>
				<d:gt>
					<d:prop>
						<d:getlastmodified/>
					</d:prop>
					<d:literal>${e}</d:literal>
				</d:gt>
			</d:and>
		</d:where>
		<d:orderby>
			<d:order>
				<d:prop>
					<d:getlastmodified/>
				</d:prop>
				<d:descending/>
			</d:order>
		</d:orderby>
		<d:limit>
			<d:nresults>100</d:nresults>
			<ns:firstresult>0</ns:firstresult>
		</d:limit>
	</d:basicsearch>
</d:searchrequest>`};function qs(){return Pe()?`/files/${Er()}`:`/files/${Ae()?.uid}`}const rr=qs();function zs(){const e=pr("dav");return Pe()?e.replace("remote.php","public.php"):e}const sr=zs(),Ci=function(e=sr,t={}){const n=Ms(e,{headers:t});function r(i){n.setHeaders({...t,"X-Requested-With":"XMLHttpRequest",requesttoken:i??""})}return lr(r),r(hr()),ks().patch("fetch",(i,o)=>{const u=o.headers;return u?.method&&(o.method=u.method,delete u.method),fetch(i,o)}),n},Si=(e,t="/",n=rr)=>{const r=new AbortController;return new dt(async(i,o,u)=>{u(()=>r.abort());try{const a=(await e.getDirectoryContents(`${n}${t}`,{signal:r.signal,details:!0,data:Ws(),headers:{method:"REPORT"},includeSelf:!0})).data.filter(p=>p.filename!==t).map(p=>Hs(p,n));i(a)}catch(a){o(a)}})},Hs=function(e,t=rr,n=sr){let r=Ae()?.uid;if(Pe())r=r??"anonymous";else if(!r)throw new Error("No user id found");const i=e.props,o=Xs(i?.permissions),u=String(i?.["owner-id"]||r),a=i.fileid||0,p=new Date(Date.parse(e.lastmod)),l=new Date(Date.parse(i.creationdate)),s={id:a,source:`${n}${e.filename}`,mtime:!isNaN(p.getTime())&&p.getTime()!==0?p:void 0,crtime:!isNaN(l.getTime())&&l.getTime()!==0?l:void 0,mime:e.mime||"application/octet-stream",displayname:i.displayname!==void 0?String(i.displayname):void 0,size:i?.size||Number.parseInt(i.getcontentlength||"0"),status:a<0?Me.FAILED:void 0,permissions:o,owner:u,root:t,attributes:{...e,...i,hasPreview:i?.["has-preview"]}};return delete s.attributes?.props,e.type==="file"?new ke(s):new Be(s)};var ir={},_e={exports:{}};const Ys=gr(fr);(function(e,t){var n=Ys,r=n.Buffer;function i(u,a){for(var p in u)a[p]=u[p]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=o);function o(u,a,p){return r(u,a,p)}o.prototype=Object.create(r.prototype),i(r,o),o.from=function(u,a,p){if(typeof u=="number")throw new TypeError("Argument must not be a number");return r(u,a,p)},o.alloc=function(u,a,p){if(typeof u!="number")throw new TypeError("Argument must be a number");var l=r(u);return a!==void 0?typeof p=="string"?l.fill(a,p):l.fill(a):l.fill(0),l},o.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return r(u)},o.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(u)}})(_e,_e.exports);var Zs=_e.exports,Xe=Zs.Buffer,En=Xe.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Ks(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function Qs(e){var t=Ks(e);if(typeof t!="string"&&(Xe.isEncoding===En||!En(e)))throw new Error("Unknown encoding: "+e);return t||e}ir.StringDecoder=Pt;function Pt(e){this.encoding=Qs(e);var t;switch(this.encoding){case"utf16le":this.text=si,this.end=ii,t=4;break;case"utf8":this.fillLast=ei,t=4;break;case"base64":this.text=oi,this.end=ai,t=3;break;default:this.write=ui,this.end=ci;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Xe.allocUnsafe(t)}Pt.prototype.write=function(e){if(e.length===0)return"";var t,n;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},Pt.prototype.end=ri,Pt.prototype.text=ni,Pt.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function le(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function Js(e,t,n){var r=t.length-1;if(r<n)return 0;var i=le(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||i===-2?0:(i=le(t[r]),i>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||i===-2?0:(i=le(t[r]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function ti(e,t,n){if((t[0]&192)!==128)return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"�"}}function ei(e){var t=this.lastTotal-this.lastNeed,n=ti(this,e);if(n!==void 0)return n;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function ni(e,t){var n=Js(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)}function ri(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t}function si(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function ii(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function oi(e,t){var n=(e.length-t)%3;return n===0?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,n===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function ai(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function ui(e){return e.toString(this.encoding)}function ci(e){return e&&e.length?this.write(e):""}var he={},yn,wn;function or(){return wn||(wn=1,yn=typeof Ct=="object"&&he&&he.NODE_DEBUG&&/\bsemver\b/i.test(he.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{}),yn}var pe,bn;function ar(){if(bn)return pe;bn=1;const e="2.0.0",t=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,r=16,i=t-6;return pe={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:i,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},pe}var fe={exports:{}},Tn;function li(){return Tn||(Tn=1,function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=ar(),o=or();t=e.exports={};const u=t.re=[],a=t.safeRe=[],p=t.src=[],l=t.safeSrc=[],s=t.t={};let h=0;const c="[a-zA-Z0-9-]",m=[["\\s",1],["\\d",i],[c,r]],E=w=>{for(const[x,g]of m)w=w.split(`${x}*`).join(`${x}{0,${g}}`).split(`${x}+`).join(`${x}{1,${g}}`);return w},d=(w,x,g)=>{const T=E(x),N=h++;o(w,N,x),s[w]=N,p[N]=x,l[N]=T,u[N]=new RegExp(x,g?"g":void 0),a[N]=new RegExp(T,g?"g":void 0)};d("NUMERICIDENTIFIER","0|[1-9]\\d*"),d("NUMERICIDENTIFIERLOOSE","\\d+"),d("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${c}*`),d("MAINVERSION",`(${p[s.NUMERICIDENTIFIER]})\\.(${p[s.NUMERICIDENTIFIER]})\\.(${p[s.NUMERICIDENTIFIER]})`),d("MAINVERSIONLOOSE",`(${p[s.NUMERICIDENTIFIERLOOSE]})\\.(${p[s.NUMERICIDENTIFIERLOOSE]})\\.(${p[s.NUMERICIDENTIFIERLOOSE]})`),d("PRERELEASEIDENTIFIER",`(?:${p[s.NONNUMERICIDENTIFIER]}|${p[s.NUMERICIDENTIFIER]})`),d("PRERELEASEIDENTIFIERLOOSE",`(?:${p[s.NONNUMERICIDENTIFIER]}|${p[s.NUMERICIDENTIFIERLOOSE]})`),d("PRERELEASE",`(?:-(${p[s.PRERELEASEIDENTIFIER]}(?:\\.${p[s.PRERELEASEIDENTIFIER]})*))`),d("PRERELEASELOOSE",`(?:-?(${p[s.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${p[s.PRERELEASEIDENTIFIERLOOSE]})*))`),d("BUILDIDENTIFIER",`${c}+`),d("BUILD",`(?:\\+(${p[s.BUILDIDENTIFIER]}(?:\\.${p[s.BUILDIDENTIFIER]})*))`),d("FULLPLAIN",`v?${p[s.MAINVERSION]}${p[s.PRERELEASE]}?${p[s.BUILD]}?`),d("FULL",`^${p[s.FULLPLAIN]}$`),d("LOOSEPLAIN",`[v=\\s]*${p[s.MAINVERSIONLOOSE]}${p[s.PRERELEASELOOSE]}?${p[s.BUILD]}?`),d("LOOSE",`^${p[s.LOOSEPLAIN]}$`),d("GTLT","((?:<|>)?=?)"),d("XRANGEIDENTIFIERLOOSE",`${p[s.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),d("XRANGEIDENTIFIER",`${p[s.NUMERICIDENTIFIER]}|x|X|\\*`),d("XRANGEPLAIN",`[v=\\s]*(${p[s.XRANGEIDENTIFIER]})(?:\\.(${p[s.XRANGEIDENTIFIER]})(?:\\.(${p[s.XRANGEIDENTIFIER]})(?:${p[s.PRERELEASE]})?${p[s.BUILD]}?)?)?`),d("XRANGEPLAINLOOSE",`[v=\\s]*(${p[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${p[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${p[s.XRANGEIDENTIFIERLOOSE]})(?:${p[s.PRERELEASELOOSE]})?${p[s.BUILD]}?)?)?`),d("XRANGE",`^${p[s.GTLT]}\\s*${p[s.XRANGEPLAIN]}$`),d("XRANGELOOSE",`^${p[s.GTLT]}\\s*${p[s.XRANGEPLAINLOOSE]}$`),d("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),d("COERCE",`${p[s.COERCEPLAIN]}(?:$|[^\\d])`),d("COERCEFULL",p[s.COERCEPLAIN]+`(?:${p[s.PRERELEASE]})?(?:${p[s.BUILD]})?(?:$|[^\\d])`),d("COERCERTL",p[s.COERCE],!0),d("COERCERTLFULL",p[s.COERCEFULL],!0),d("LONETILDE","(?:~>?)"),d("TILDETRIM",`(\\s*)${p[s.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",d("TILDE",`^${p[s.LONETILDE]}${p[s.XRANGEPLAIN]}$`),d("TILDELOOSE",`^${p[s.LONETILDE]}${p[s.XRANGEPLAINLOOSE]}$`),d("LONECARET","(?:\\^)"),d("CARETTRIM",`(\\s*)${p[s.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",d("CARET",`^${p[s.LONECARET]}${p[s.XRANGEPLAIN]}$`),d("CARETLOOSE",`^${p[s.LONECARET]}${p[s.XRANGEPLAINLOOSE]}$`),d("COMPARATORLOOSE",`^${p[s.GTLT]}\\s*(${p[s.LOOSEPLAIN]})$|^$`),d("COMPARATOR",`^${p[s.GTLT]}\\s*(${p[s.FULLPLAIN]})$|^$`),d("COMPARATORTRIM",`(\\s*)${p[s.GTLT]}\\s*(${p[s.LOOSEPLAIN]}|${p[s.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",d("HYPHENRANGE",`^\\s*(${p[s.XRANGEPLAIN]})\\s+-\\s+(${p[s.XRANGEPLAIN]})\\s*$`),d("HYPHENRANGELOOSE",`^\\s*(${p[s.XRANGEPLAINLOOSE]})\\s+-\\s+(${p[s.XRANGEPLAINLOOSE]})\\s*$`),d("STAR","(<|>)?=?\\s*\\*"),d("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),d("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(fe,fe.exports)),fe.exports}var de,vn;function hi(){if(vn)return de;vn=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return de=n=>n?typeof n!="object"?e:n:t,de}var ge,Nn;function pi(){if(Nn)return ge;Nn=1;const e=/^[0-9]+$/,t=(n,r)=>{if(typeof n=="number"&&typeof r=="number")return n===r?0:n<r?-1:1;const i=e.test(n),o=e.test(r);return i&&o&&(n=+n,r=+r),n===r?0:i&&!o?-1:o&&!i?1:n<r?-1:1};return ge={compareIdentifiers:t,rcompareIdentifiers:(n,r)=>t(r,n)},ge}var me,In;function ur(){if(In)return me;In=1;const e=or(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:n}=ar(),{safeRe:r,t:i}=li(),o=hi(),{compareIdentifiers:u}=pi();class a{constructor(l,s){if(s=o(s),l instanceof a){if(l.loose===!!s.loose&&l.includePrerelease===!!s.includePrerelease)return l;l=l.version}else if(typeof l!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof l}".`);if(l.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",l,s),this.options=s,this.loose=!!s.loose,this.includePrerelease=!!s.includePrerelease;const h=l.trim().match(s.loose?r[i.LOOSE]:r[i.FULL]);if(!h)throw new TypeError(`Invalid Version: ${l}`);if(this.raw=l,this.major=+h[1],this.minor=+h[2],this.patch=+h[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");h[4]?this.prerelease=h[4].split(".").map(c=>{if(/^[0-9]+$/.test(c)){const m=+c;if(m>=0&&m<n)return m}return c}):this.prerelease=[],this.build=h[5]?h[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(l){if(e("SemVer.compare",this.version,this.options,l),!(l instanceof a)){if(typeof l=="string"&&l===this.version)return 0;l=new a(l,this.options)}return l.version===this.version?0:this.compareMain(l)||this.comparePre(l)}compareMain(l){return l instanceof a||(l=new a(l,this.options)),this.major<l.major?-1:this.major>l.major?1:this.minor<l.minor?-1:this.minor>l.minor?1:this.patch<l.patch?-1:this.patch>l.patch?1:0}comparePre(l){if(l instanceof a||(l=new a(l,this.options)),this.prerelease.length&&!l.prerelease.length)return-1;if(!this.prerelease.length&&l.prerelease.length)return 1;if(!this.prerelease.length&&!l.prerelease.length)return 0;let s=0;do{const h=this.prerelease[s],c=l.prerelease[s];if(e("prerelease compare",s,h,c),h===void 0&&c===void 0)return 0;if(c===void 0)return 1;if(h===void 0)return-1;if(h!==c)return u(h,c)}while(++s)}compareBuild(l){l instanceof a||(l=new a(l,this.options));let s=0;do{const h=this.build[s],c=l.build[s];if(e("build compare",s,h,c),h===void 0&&c===void 0)return 0;if(c===void 0)return 1;if(h===void 0)return-1;if(h!==c)return u(h,c)}while(++s)}inc(l,s,h){if(l.startsWith("pre")){if(!s&&h===!1)throw new Error("invalid increment argument: identifier is empty");if(s){const c=`-${s}`.match(this.options.loose?r[i.PRERELEASELOOSE]:r[i.PRERELEASE]);if(!c||c[1]!==s)throw new Error(`invalid identifier: ${s}`)}}switch(l){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",s,h);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",s,h);break;case"prepatch":this.prerelease.length=0,this.inc("patch",s,h),this.inc("pre",s,h);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",s,h),this.inc("pre",s,h);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const c=Number(h)?1:0;if(this.prerelease.length===0)this.prerelease=[c];else{let m=this.prerelease.length;for(;--m>=0;)typeof this.prerelease[m]=="number"&&(this.prerelease[m]++,m=-2);if(m===-1){if(s===this.prerelease.join(".")&&h===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(c)}}if(s){let m=[s,c];h===!1&&(m=[s]),u(this.prerelease[0],s)===0?isNaN(this.prerelease[1])&&(this.prerelease=m):this.prerelease=m}break}default:throw new Error(`invalid increment argument: ${l}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return me=a,me}var Ee,On;function fi(){if(On)return Ee;On=1;const e=ur();return Ee=(t,n)=>new e(t,n).major,Ee}fi();var ye,xn;function di(){if(xn)return ye;xn=1;const e=ur();return ye=(t,n,r=!1)=>{if(t instanceof e)return t;try{return new e(t,n)}catch(i){if(!r)return null;throw i}},ye}var we,_n;function gi(){if(_n)return we;_n=1;const e=di();return we=(t,n)=>{const r=e(t,n);return r?r.version:null},we}gi();class Ri{_header;constructor(t){this.validateHeader(t),this._header=t}get id(){return this._header.id}get order(){return this._header.order}get enabled(){return this._header.enabled}get render(){return this._header.render}get updated(){return this._header.updated}validateHeader(t){if(!t.id||!t.render||!t.updated)throw new Error("Invalid header: id, render and updated are required");if(typeof t.id!="string")throw new Error("Invalid id property");if(t.enabled!==void 0&&typeof t.enabled!="function")throw new Error("Invalid enabled property");if(t.render&&typeof t.render!="function")throw new Error("Invalid render property");if(t.updated&&typeof t.updated!="function")throw new Error("Invalid updated property")}}const Li=function(e){if(typeof window._nc_filelistheader>"u"&&(window._nc_filelistheader=[],wt.debug("FileListHeaders initialized")),window._nc_filelistheader.find(t=>t.id===e.id)){wt.error(`Header ${e.id} already registered`,{header:e});return}window._nc_filelistheader.push(e)};var An={},Pn;function mi(){return Pn||(Pn=1,function(e){(function(t){t.parser=function(y,f){return new r(y,f)},t.SAXParser=r,t.SAXStream=s,t.createStream=l,t.MAX_BUFFER_LENGTH=64*1024;var n=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function r(y,f){if(!(this instanceof r))return new r(y,f);var C=this;o(C),C.q=C.c="",C.bufferCheckPosition=t.MAX_BUFFER_LENGTH,C.opt=f||{},C.opt.lowercase=C.opt.lowercase||C.opt.lowercasetags,C.looseCase=C.opt.lowercase?"toLowerCase":"toUpperCase",C.tags=[],C.closed=C.closedRoot=C.sawRoot=!1,C.tag=C.error=null,C.strict=!!y,C.noscript=!!(y||C.opt.noscript),C.state=b.BEGIN,C.strictEntities=C.opt.strictEntities,C.ENTITIES=C.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),C.attribList=[],C.opt.xmlns&&(C.ns=Object.create(d)),C.opt.unquotedAttributeValues===void 0&&(C.opt.unquotedAttributeValues=!y),C.trackPosition=C.opt.position!==!1,C.trackPosition&&(C.position=C.line=C.column=0),R(C,"onready")}Object.create||(Object.create=function(y){function f(){}f.prototype=y;var C=new f;return C}),Object.keys||(Object.keys=function(y){var f=[];for(var C in y)y.hasOwnProperty(C)&&f.push(C);return f});function i(y){for(var f=Math.max(t.MAX_BUFFER_LENGTH,10),C=0,O=0,U=n.length;O<U;O++){var q=y[n[O]].length;if(q>f)switch(n[O]){case"textNode":A(y);break;case"cdata":L(y,"oncdata",y.cdata),y.cdata="";break;case"script":L(y,"onscript",y.script),y.script="";break;default:D(y,"Max buffer length exceeded: "+n[O])}C=Math.max(C,q)}var z=t.MAX_BUFFER_LENGTH-C;y.bufferCheckPosition=z+y.position}function o(y){for(var f=0,C=n.length;f<C;f++)y[n[f]]=""}function u(y){A(y),y.cdata!==""&&(L(y,"oncdata",y.cdata),y.cdata=""),y.script!==""&&(L(y,"onscript",y.script),y.script="")}r.prototype={end:function(){j(this)},write:Qt,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){u(this)}};var a;try{a=require("stream").Stream}catch{a=function(){}}a||(a=function(){});var p=t.EVENTS.filter(function(y){return y!=="error"&&y!=="end"});function l(y,f){return new s(y,f)}function s(y,f){if(!(this instanceof s))return new s(y,f);a.apply(this),this._parser=new r(y,f),this.writable=!0,this.readable=!0;var C=this;this._parser.onend=function(){C.emit("end")},this._parser.onerror=function(O){C.emit("error",O),C._parser.error=null},this._decoder=null,p.forEach(function(O){Object.defineProperty(C,"on"+O,{get:function(){return C._parser["on"+O]},set:function(U){if(!U)return C.removeAllListeners(O),C._parser["on"+O]=U,U;C.on(O,U)},enumerable:!0,configurable:!1})})}s.prototype=Object.create(a.prototype,{constructor:{value:s}}),s.prototype.write=function(y){if(typeof te=="function"&&typeof te.isBuffer=="function"&&te.isBuffer(y)){if(!this._decoder){var f=ir.StringDecoder;this._decoder=new f("utf8")}y=this._decoder.write(y)}return this._parser.write(y.toString()),this.emit("data",y),!0},s.prototype.end=function(y){return y&&y.length&&this.write(y),this._parser.end(),!0},s.prototype.on=function(y,f){var C=this;return!C._parser["on"+y]&&p.indexOf(y)!==-1&&(C._parser["on"+y]=function(){var O=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);O.splice(0,0,y),C.emit.apply(C,O)}),a.prototype.on.call(C,y,f)};var h="[CDATA[",c="DOCTYPE",m="http://www.w3.org/XML/1998/namespace",E="http://www.w3.org/2000/xmlns/",d={xml:m,xmlns:E},w=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,x=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,g=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,T=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function N(y){return y===" "||y===`
`||y==="\r"||y==="	"}function _(y){return y==='"'||y==="'"}function v(y){return y===">"||N(y)}function P(y,f){return y.test(f)}function I(y,f){return!P(y,f)}var b=0;t.STATE={BEGIN:b++,BEGIN_WHITESPACE:b++,TEXT:b++,TEXT_ENTITY:b++,OPEN_WAKA:b++,SGML_DECL:b++,SGML_DECL_QUOTED:b++,DOCTYPE:b++,DOCTYPE_QUOTED:b++,DOCTYPE_DTD:b++,DOCTYPE_DTD_QUOTED:b++,COMMENT_STARTING:b++,COMMENT:b++,COMMENT_ENDING:b++,COMMENT_ENDED:b++,CDATA:b++,CDATA_ENDING:b++,CDATA_ENDING_2:b++,PROC_INST:b++,PROC_INST_BODY:b++,PROC_INST_ENDING:b++,OPEN_TAG:b++,OPEN_TAG_SLASH:b++,ATTRIB:b++,ATTRIB_NAME:b++,ATTRIB_NAME_SAW_WHITE:b++,ATTRIB_VALUE:b++,ATTRIB_VALUE_QUOTED:b++,ATTRIB_VALUE_CLOSED:b++,ATTRIB_VALUE_UNQUOTED:b++,ATTRIB_VALUE_ENTITY_Q:b++,ATTRIB_VALUE_ENTITY_U:b++,CLOSE_TAG:b++,CLOSE_TAG_SAW_WHITE:b++,SCRIPT:b++,SCRIPT_ENDING:b++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(y){var f=t.ENTITIES[y],C=typeof f=="number"?String.fromCharCode(f):f;t.ENTITIES[y]=C});for(var S in t.STATE)t.STATE[t.STATE[S]]=S;b=t.STATE;function R(y,f,C){y[f]&&y[f](C)}function L(y,f,C){y.textNode&&A(y),R(y,f,C)}function A(y){y.textNode=$(y.opt,y.textNode),y.textNode&&R(y,"ontext",y.textNode),y.textNode=""}function $(y,f){return y.trim&&(f=f.trim()),y.normalize&&(f=f.replace(/\s+/g," ")),f}function D(y,f){return A(y),y.trackPosition&&(f+=`
Line: `+y.line+`
Column: `+y.column+`
Char: `+y.c),f=new Error(f),y.error=f,R(y,"onerror",f),y}function j(y){return y.sawRoot&&!y.closedRoot&&F(y,"Unclosed root tag"),y.state!==b.BEGIN&&y.state!==b.BEGIN_WHITESPACE&&y.state!==b.TEXT&&D(y,"Unexpected end"),A(y),y.c="",y.closed=!0,R(y,"onend"),r.call(y,y.strict,y.opt),y}function F(y,f){if(typeof y!="object"||!(y instanceof r))throw new Error("bad call to strictFail");y.strict&&D(y,f)}function X(y){y.strict||(y.tagName=y.tagName[y.looseCase]());var f=y.tags[y.tags.length-1]||y,C=y.tag={name:y.tagName,attributes:{}};y.opt.xmlns&&(C.ns=f.ns),y.attribList.length=0,L(y,"onopentagstart",C)}function B(y,f){var C=y.indexOf(":"),O=C<0?["",y]:y.split(":"),U=O[0],q=O[1];return f&&y==="xmlns"&&(U="xmlns",q=""),{prefix:U,local:q}}function J(y){if(y.strict||(y.attribName=y.attribName[y.looseCase]()),y.attribList.indexOf(y.attribName)!==-1||y.tag.attributes.hasOwnProperty(y.attribName)){y.attribName=y.attribValue="";return}if(y.opt.xmlns){var f=B(y.attribName,!0),C=f.prefix,O=f.local;if(C==="xmlns")if(O==="xml"&&y.attribValue!==m)F(y,"xml: prefix must be bound to "+m+`
Actual: `+y.attribValue);else if(O==="xmlns"&&y.attribValue!==E)F(y,"xmlns: prefix must be bound to "+E+`
Actual: `+y.attribValue);else{var U=y.tag,q=y.tags[y.tags.length-1]||y;U.ns===q.ns&&(U.ns=Object.create(q.ns)),U.ns[O]=y.attribValue}y.attribList.push([y.attribName,y.attribValue])}else y.tag.attributes[y.attribName]=y.attribValue,L(y,"onattribute",{name:y.attribName,value:y.attribValue});y.attribName=y.attribValue=""}function M(y,f){if(y.opt.xmlns){var C=y.tag,O=B(y.tagName);C.prefix=O.prefix,C.local=O.local,C.uri=C.ns[O.prefix]||"",C.prefix&&!C.uri&&(F(y,"Unbound namespace prefix: "+JSON.stringify(y.tagName)),C.uri=O.prefix);var U=y.tags[y.tags.length-1]||y;C.ns&&U.ns!==C.ns&&Object.keys(C.ns).forEach(function(qe){L(y,"onopennamespace",{prefix:qe,uri:C.ns[qe]})});for(var q=0,z=y.attribList.length;q<z;q++){var ot=y.attribList[q],at=ot[0],Tt=ot[1],K=B(at,!0),ft=K.prefix,cr=K.local,We=ft===""?"":C.ns[ft]||"",Jt={name:at,value:Tt,prefix:ft,local:cr,uri:We};ft&&ft!=="xmlns"&&!We&&(F(y,"Unbound namespace prefix: "+JSON.stringify(ft)),Jt.uri=ft),y.tag.attributes[at]=Jt,L(y,"onattribute",Jt)}y.attribList.length=0}y.tag.isSelfClosing=!!f,y.sawRoot=!0,y.tags.push(y.tag),L(y,"onopentag",y.tag),f||(!y.noscript&&y.tagName.toLowerCase()==="script"?y.state=b.SCRIPT:y.state=b.TEXT,y.tag=null,y.tagName=""),y.attribName=y.attribValue="",y.attribList.length=0}function W(y){if(!y.tagName){F(y,"Weird empty close tag."),y.textNode+="</>",y.state=b.TEXT;return}if(y.script){if(y.tagName!=="script"){y.script+="</"+y.tagName+">",y.tagName="",y.state=b.SCRIPT;return}L(y,"onscript",y.script),y.script=""}var f=y.tags.length,C=y.tagName;y.strict||(C=C[y.looseCase]());for(var O=C;f--;){var U=y.tags[f];if(U.name!==O)F(y,"Unexpected close tag");else break}if(f<0){F(y,"Unmatched closing tag: "+y.tagName),y.textNode+="</"+y.tagName+">",y.state=b.TEXT;return}y.tagName=C;for(var q=y.tags.length;q-- >f;){var z=y.tag=y.tags.pop();y.tagName=y.tag.name,L(y,"onclosetag",y.tagName);var ot={};for(var at in z.ns)ot[at]=z.ns[at];var Tt=y.tags[y.tags.length-1]||y;y.opt.xmlns&&z.ns!==Tt.ns&&Object.keys(z.ns).forEach(function(K){var ft=z.ns[K];L(y,"onclosenamespace",{prefix:K,uri:ft})})}f===0&&(y.closedRoot=!0),y.tagName=y.attribValue=y.attribName="",y.attribList.length=0,y.state=b.TEXT}function Dt(y){var f=y.entity,C=f.toLowerCase(),O,U="";return y.ENTITIES[f]?y.ENTITIES[f]:y.ENTITIES[C]?y.ENTITIES[C]:(f=C,f.charAt(0)==="#"&&(f.charAt(1)==="x"?(f=f.slice(2),O=parseInt(f,16),U=O.toString(16)):(f=f.slice(1),O=parseInt(f,10),U=O.toString(10))),f=f.replace(/^0+/,""),isNaN(O)||U.toLowerCase()!==f?(F(y,"Invalid character entity"),"&"+y.entity+";"):String.fromCodePoint(O))}function It(y,f){f==="<"?(y.state=b.OPEN_WAKA,y.startTagPosition=y.position):N(f)||(F(y,"Non-whitespace before first tag."),y.textNode=f,y.state=b.TEXT)}function pt(y,f){var C="";return f<y.length&&(C=y.charAt(f)),C}function Qt(y){var f=this;if(this.error)throw this.error;if(f.closed)return D(f,"Cannot write after close. Assign an onready handler.");if(y===null)return j(f);typeof y=="object"&&(y=y.toString());for(var C=0,O="";O=pt(y,C++),f.c=O,!!O;)switch(f.trackPosition&&(f.position++,O===`
`?(f.line++,f.column=0):f.column++),f.state){case b.BEGIN:if(f.state=b.BEGIN_WHITESPACE,O==="\uFEFF")continue;It(f,O);continue;case b.BEGIN_WHITESPACE:It(f,O);continue;case b.TEXT:if(f.sawRoot&&!f.closedRoot){for(var U=C-1;O&&O!=="<"&&O!=="&";)O=pt(y,C++),O&&f.trackPosition&&(f.position++,O===`
`?(f.line++,f.column=0):f.column++);f.textNode+=y.substring(U,C-1)}O==="<"&&!(f.sawRoot&&f.closedRoot&&!f.strict)?(f.state=b.OPEN_WAKA,f.startTagPosition=f.position):(!N(O)&&(!f.sawRoot||f.closedRoot)&&F(f,"Text data outside of root node."),O==="&"?f.state=b.TEXT_ENTITY:f.textNode+=O);continue;case b.SCRIPT:O==="<"?f.state=b.SCRIPT_ENDING:f.script+=O;continue;case b.SCRIPT_ENDING:O==="/"?f.state=b.CLOSE_TAG:(f.script+="<"+O,f.state=b.SCRIPT);continue;case b.OPEN_WAKA:if(O==="!")f.state=b.SGML_DECL,f.sgmlDecl="";else if(!N(O))if(P(w,O))f.state=b.OPEN_TAG,f.tagName=O;else if(O==="/")f.state=b.CLOSE_TAG,f.tagName="";else if(O==="?")f.state=b.PROC_INST,f.procInstName=f.procInstBody="";else{if(F(f,"Unencoded <"),f.startTagPosition+1<f.position){var q=f.position-f.startTagPosition;O=new Array(q).join(" ")+O}f.textNode+="<"+O,f.state=b.TEXT}continue;case b.SGML_DECL:if(f.sgmlDecl+O==="--"){f.state=b.COMMENT,f.comment="",f.sgmlDecl="";continue}f.doctype&&f.doctype!==!0&&f.sgmlDecl?(f.state=b.DOCTYPE_DTD,f.doctype+="<!"+f.sgmlDecl+O,f.sgmlDecl=""):(f.sgmlDecl+O).toUpperCase()===h?(L(f,"onopencdata"),f.state=b.CDATA,f.sgmlDecl="",f.cdata=""):(f.sgmlDecl+O).toUpperCase()===c?(f.state=b.DOCTYPE,(f.doctype||f.sawRoot)&&F(f,"Inappropriately located doctype declaration"),f.doctype="",f.sgmlDecl=""):O===">"?(L(f,"onsgmldeclaration",f.sgmlDecl),f.sgmlDecl="",f.state=b.TEXT):(_(O)&&(f.state=b.SGML_DECL_QUOTED),f.sgmlDecl+=O);continue;case b.SGML_DECL_QUOTED:O===f.q&&(f.state=b.SGML_DECL,f.q=""),f.sgmlDecl+=O;continue;case b.DOCTYPE:O===">"?(f.state=b.TEXT,L(f,"ondoctype",f.doctype),f.doctype=!0):(f.doctype+=O,O==="["?f.state=b.DOCTYPE_DTD:_(O)&&(f.state=b.DOCTYPE_QUOTED,f.q=O));continue;case b.DOCTYPE_QUOTED:f.doctype+=O,O===f.q&&(f.q="",f.state=b.DOCTYPE);continue;case b.DOCTYPE_DTD:O==="]"?(f.doctype+=O,f.state=b.DOCTYPE):O==="<"?(f.state=b.OPEN_WAKA,f.startTagPosition=f.position):_(O)?(f.doctype+=O,f.state=b.DOCTYPE_DTD_QUOTED,f.q=O):f.doctype+=O;continue;case b.DOCTYPE_DTD_QUOTED:f.doctype+=O,O===f.q&&(f.state=b.DOCTYPE_DTD,f.q="");continue;case b.COMMENT:O==="-"?f.state=b.COMMENT_ENDING:f.comment+=O;continue;case b.COMMENT_ENDING:O==="-"?(f.state=b.COMMENT_ENDED,f.comment=$(f.opt,f.comment),f.comment&&L(f,"oncomment",f.comment),f.comment=""):(f.comment+="-"+O,f.state=b.COMMENT);continue;case b.COMMENT_ENDED:O!==">"?(F(f,"Malformed comment"),f.comment+="--"+O,f.state=b.COMMENT):f.doctype&&f.doctype!==!0?f.state=b.DOCTYPE_DTD:f.state=b.TEXT;continue;case b.CDATA:O==="]"?f.state=b.CDATA_ENDING:f.cdata+=O;continue;case b.CDATA_ENDING:O==="]"?f.state=b.CDATA_ENDING_2:(f.cdata+="]"+O,f.state=b.CDATA);continue;case b.CDATA_ENDING_2:O===">"?(f.cdata&&L(f,"oncdata",f.cdata),L(f,"onclosecdata"),f.cdata="",f.state=b.TEXT):O==="]"?f.cdata+="]":(f.cdata+="]]"+O,f.state=b.CDATA);continue;case b.PROC_INST:O==="?"?f.state=b.PROC_INST_ENDING:N(O)?f.state=b.PROC_INST_BODY:f.procInstName+=O;continue;case b.PROC_INST_BODY:if(!f.procInstBody&&N(O))continue;O==="?"?f.state=b.PROC_INST_ENDING:f.procInstBody+=O;continue;case b.PROC_INST_ENDING:O===">"?(L(f,"onprocessinginstruction",{name:f.procInstName,body:f.procInstBody}),f.procInstName=f.procInstBody="",f.state=b.TEXT):(f.procInstBody+="?"+O,f.state=b.PROC_INST_BODY);continue;case b.OPEN_TAG:P(x,O)?f.tagName+=O:(X(f),O===">"?M(f):O==="/"?f.state=b.OPEN_TAG_SLASH:(N(O)||F(f,"Invalid character in tag name"),f.state=b.ATTRIB));continue;case b.OPEN_TAG_SLASH:O===">"?(M(f,!0),W(f)):(F(f,"Forward-slash in opening tag not followed by >"),f.state=b.ATTRIB);continue;case b.ATTRIB:if(N(O))continue;O===">"?M(f):O==="/"?f.state=b.OPEN_TAG_SLASH:P(w,O)?(f.attribName=O,f.attribValue="",f.state=b.ATTRIB_NAME):F(f,"Invalid attribute name");continue;case b.ATTRIB_NAME:O==="="?f.state=b.ATTRIB_VALUE:O===">"?(F(f,"Attribute without value"),f.attribValue=f.attribName,J(f),M(f)):N(O)?f.state=b.ATTRIB_NAME_SAW_WHITE:P(x,O)?f.attribName+=O:F(f,"Invalid attribute name");continue;case b.ATTRIB_NAME_SAW_WHITE:if(O==="=")f.state=b.ATTRIB_VALUE;else{if(N(O))continue;F(f,"Attribute without value"),f.tag.attributes[f.attribName]="",f.attribValue="",L(f,"onattribute",{name:f.attribName,value:""}),f.attribName="",O===">"?M(f):P(w,O)?(f.attribName=O,f.state=b.ATTRIB_NAME):(F(f,"Invalid attribute name"),f.state=b.ATTRIB)}continue;case b.ATTRIB_VALUE:if(N(O))continue;_(O)?(f.q=O,f.state=b.ATTRIB_VALUE_QUOTED):(f.opt.unquotedAttributeValues||D(f,"Unquoted attribute value"),f.state=b.ATTRIB_VALUE_UNQUOTED,f.attribValue=O);continue;case b.ATTRIB_VALUE_QUOTED:if(O!==f.q){O==="&"?f.state=b.ATTRIB_VALUE_ENTITY_Q:f.attribValue+=O;continue}J(f),f.q="",f.state=b.ATTRIB_VALUE_CLOSED;continue;case b.ATTRIB_VALUE_CLOSED:N(O)?f.state=b.ATTRIB:O===">"?M(f):O==="/"?f.state=b.OPEN_TAG_SLASH:P(w,O)?(F(f,"No whitespace between attributes"),f.attribName=O,f.attribValue="",f.state=b.ATTRIB_NAME):F(f,"Invalid attribute name");continue;case b.ATTRIB_VALUE_UNQUOTED:if(!v(O)){O==="&"?f.state=b.ATTRIB_VALUE_ENTITY_U:f.attribValue+=O;continue}J(f),O===">"?M(f):f.state=b.ATTRIB;continue;case b.CLOSE_TAG:if(f.tagName)O===">"?W(f):P(x,O)?f.tagName+=O:f.script?(f.script+="</"+f.tagName,f.tagName="",f.state=b.SCRIPT):(N(O)||F(f,"Invalid tagname in closing tag"),f.state=b.CLOSE_TAG_SAW_WHITE);else{if(N(O))continue;I(w,O)?f.script?(f.script+="</"+O,f.state=b.SCRIPT):F(f,"Invalid tagname in closing tag."):f.tagName=O}continue;case b.CLOSE_TAG_SAW_WHITE:if(N(O))continue;O===">"?W(f):F(f,"Invalid characters in closing tag");continue;case b.TEXT_ENTITY:case b.ATTRIB_VALUE_ENTITY_Q:case b.ATTRIB_VALUE_ENTITY_U:var z,ot;switch(f.state){case b.TEXT_ENTITY:z=b.TEXT,ot="textNode";break;case b.ATTRIB_VALUE_ENTITY_Q:z=b.ATTRIB_VALUE_QUOTED,ot="attribValue";break;case b.ATTRIB_VALUE_ENTITY_U:z=b.ATTRIB_VALUE_UNQUOTED,ot="attribValue";break}if(O===";"){var at=Dt(f);f.opt.unparsedEntities&&!Object.values(t.XML_ENTITIES).includes(at)?(f.entity="",f.state=z,f.write(at)):(f[ot]+=at,f.entity="",f.state=z)}else P(f.entity.length?T:g,O)?f.entity+=O:(F(f,"Invalid character in entity name"),f[ot]+="&"+f.entity+O,f.entity="",f.state=z);continue;default:throw new Error(f,"Unknown state: "+f.state)}return f.position>=f.bufferCheckPosition&&i(f),f}String.fromCodePoint||function(){var y=String.fromCharCode,f=Math.floor,C=function(){var O=16384,U=[],q,z,ot=-1,at=arguments.length;if(!at)return"";for(var Tt="";++ot<at;){var K=Number(arguments[ot]);if(!isFinite(K)||K<0||K>1114111||f(K)!==K)throw RangeError("Invalid code point: "+K);K<=65535?U.push(K):(K-=65536,q=(K>>10)+55296,z=K%1024+56320,U.push(q,z)),(ot+1===at||U.length>O)&&(Tt+=y.apply(null,U),U.length=0)}return Tt};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:C,configurable:!0,writable:!0}):String.fromCodePoint=C}()})(e)}(An)),An}mi();var Ei=(e=>(e[e.UploadFromDevice=0]="UploadFromDevice",e[e.CreateNew=1]="CreateNew",e[e.Other=2]="Other",e))(Ei||{});class yi{_entries=[];registerEntry(t){this.validateEntry(t),t.category=t.category??1,this._entries.push(t)}unregisterEntry(t){const n=typeof t=="string"?this.getEntryIndex(t):this.getEntryIndex(t.id);if(n===-1){wt.warn("Entry not found, nothing removed",{entry:t,entries:this.getEntries()});return}this._entries.splice(n,1)}getEntries(t){return t?this._entries.filter(n=>typeof n.enabled=="function"?n.enabled(t):!0):this._entries}getEntryIndex(t){return this._entries.findIndex(n=>n.id===t)}validateEntry(t){if(!t.id||!t.displayName||!(t.iconSvgInline||t.iconClass)||!t.handler)throw new Error("Invalid entry");if(typeof t.id!="string"||typeof t.displayName!="string")throw new Error("Invalid id or displayName property");if(t.iconClass&&typeof t.iconClass!="string"||t.iconSvgInline&&typeof t.iconSvgInline!="string")throw new Error("Invalid icon provided");if(t.enabled!==void 0&&typeof t.enabled!="function")throw new Error("Invalid enabled property");if(typeof t.handler!="function")throw new Error("Invalid handler property");if("order"in t&&typeof t.order!="number")throw new Error("Invalid order property");if(this.getEntryIndex(t.id)!==-1)throw new Error("Duplicate entry")}}function wi(){return typeof window._nc_newfilemenu>"u"&&(window._nc_newfilemenu=new yi,wt.debug("NewFileMenu initialized")),window._nc_newfilemenu}function Di(e){return wi().registerEntry(e)}const be=["B","KB","MB","GB","TB","PB"],Te=["B","KiB","MiB","GiB","TiB","PiB"];function $i(e,t=!1,n=!1,r=!1){n=n&&!r,typeof e=="string"&&(e=Number(e));let i=e>0?Math.floor(Math.log(e)/Math.log(r?1e3:1024)):0;i=Math.min((n?Te.length:be.length)-1,i);const o=n?Te[i]:be[i];let u=(e/Math.pow(r?1e3:1024,i)).toFixed(1);return t===!0&&i===0?(u!=="0.0"?"< 1 ":"0 ")+(n?Te[1]:be[1]):(i<2?u=parseFloat(u).toFixed(0):u=parseFloat(u).toLocaleString(Sn()),u+" "+o)}function Cn(e){return e instanceof Date?e.toISOString():String(e)}function bi(e,t,n){t=t??[o=>o],n=n??[];const r=t.map((o,u)=>(n[u]??"asc")==="asc"?1:-1),i=Intl.Collator([mr(),Sn()],{numeric:!0,usage:"sort"});return[...e].sort((o,u)=>{for(const[a,p]of t.entries()){const l=i.compare(Cn(p(o)),Cn(p(u)));if(l!==0)return l*r[a]}return 0})}function Fi(e,t={}){const n={sortingMode:"basename",sortingOrder:"asc",...t};function r(u){const a=u.displayname||u.attributes?.displayname||u.basename||"";return u.type===Zt.Folder?a:a.lastIndexOf(".")>0?a.slice(0,a.lastIndexOf(".")):a}const i=[...n.sortFavoritesFirst?[u=>u.attributes?.favorite!==1]:[],...n.sortFoldersFirst?[u=>u.type!=="folder"]:[],...n.sortingMode!=="basename"?[u=>u[n.sortingMode]??u.attributes[n.sortingMode]]:[],u=>r(u),u=>u.basename],o=[...n.sortFavoritesFirst?["asc"]:[],...n.sortFoldersFirst?["asc"]:[],...n.sortingMode==="mtime"?[n.sortingOrder==="asc"?"desc":"asc"]:[],...n.sortingMode!=="mtime"&&n.sortingMode!=="basename"?[n.sortingOrder]:[],n.sortingOrder,n.sortingOrder];return bi(e,i,o)}export{dt as C,ke as F,Ri as H,Ei as N,ht as P,Li as a,Di as b,Si as c,rr as d,Zt as e,Pi as f,Ci as g,Hs as h,Ai as i,$i as j,_i as r,Fi as s};
//# sourceMappingURL=index-DRiraEpW.chunk.mjs.map
