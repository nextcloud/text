/*! For license information please see editor.js.LICENSE.txt */
(self.webpackChunk_nextcloud_text=self.webpackChunk_nextcloud_text||[]).push([["editor"],{73590:(t,e,i)=>{"use strict";i.d(e,{CB:()=>u,GH:()=>h,HE:()=>j,PW:()=>o,Wo:()=>c,Z9:()=>w,_S:()=>y,bk:()=>x,c9:()=>b,f_:()=>a,iM:()=>p,ir:()=>m,l5:()=>v,lV:()=>A,o:()=>d,pN:()=>_,pe:()=>g,qS:()=>s,st:()=>C,wn:()=>l,yS:()=>n,yu:()=>f});var r=i(79843);const s=Symbol("tiptap:editor"),o=Symbol("editor:file"),a=Symbol("attachment:resolver"),n=Symbol("editor:is-mobile"),A=Symbol("editor:is-public"),l=Symbol("editor:is-rich-editor"),d=Symbol("editor:is-rich-woskapace"),h=Symbol("sync:service"),c=Symbol("editor:upload"),C=Symbol("hook:link-click"),p=Symbol("hook:mention-search"),g=Symbol("hook:mention-insert"),u={inject:{$editor:{from:s,default:null}}},v={inject:{$syncService:{from:h,default:null}}},m={inject:{$isPublic:{from:A,default:!1}}},b={inject:{$isRichWorkspace:{from:d,default:!1}}},f={inject:{$isRichEditor:{from:l,default:!1}}},x={inject:{$isMobile:{from:n,default:!1}}},_={inject:{$file:{from:o,default:()=>({fileId:0,relativePath:null,document:null})}}},j={inject:{$attachmentResolver:{from:a,default:{resolve:t=>(r.v.warn("No attachment resolver provided. Some attachment sources cannot be resolved."),[t])}}}},y={inject:{$editorUpload:{from:c,default:!0}}},w={inject:{$linkHookClick:{from:C,default:null}}}},61821:(t,e,i)=>{"use strict";i.d(e,{A:()=>r});const r=(0,i(85471).defineComponent)({data:()=>({activeMenuEntry:0,entries:[]}),computed:{visibleEntries(){return this.entries}},watch:{visibleEntries(){this.$nextTick((()=>{(this.activeMenuEntry>this.visibleEntries.length||this.visibleEntries[this.activeMenuEntry]?.disabled)&&this.setNextMenuEntry()}))}},methods:{disableMenuEntry(t,e){const i=this.visibleEntries.findIndex((e=>{let{key:i}=e;return i===t}));this.visibleEntries[i].disabled=e,!1===e&&this.activeMenuEntry===i&&this.$nextTick((()=>this.setNextMenuEntry()))},setNextMenuEntry(){const t=this.visibleEntries.length+(this.$refs.remainingEntries?1:0);do{this.activeMenuEntry=(this.activeMenuEntry+1)%t}while(this.activeMenuEntry<this.visibleEntries.length&&this.visibleEntries[this.activeMenuEntry].disabled)},setPreviousMenuEntry(){const t=this.visibleEntries.length+(this.$refs.remainingEntries?1:0);do{const e=this.activeMenuEntry-1;this.activeMenuEntry=(e%t+t)%t}while(this.activeMenuEntry<this.visibleEntries.length&&this.visibleEntries[this.activeMenuEntry].disabled)},handleToolbarNavigation(t){if("ArrowRight"===t.key?this.setNextMenuEntry():"ArrowLeft"===t.key&&this.setPreviousMenuEntry(),this.activeMenuEntry===this.visibleEntries.length)this.$refs.remainingEntries?.focusButton?.();else{[...this.$refs.menuEntries].sort(((t,e)=>this.visibleEntries.findIndex((e=>{let{key:i}=e;return i===t.$vnode.data.key}))-this.visibleEntries.findIndex((t=>{let{key:i}=t;return i===e.$vnode.data.key}))))[this.activeMenuEntry].focusButton()}}}})},72876:(t,e,i)=>{"use strict";i.d(e,{M:()=>s,U:()=>o});var r=i(17167);function s(t){const e=new Uint8Array(t);return(0,r.nk)(e)}function o(t){return(0,r.Ey)(t)}},79180:(e,i,r)=>{"use strict";r.d(i,{E:()=>v,Ii:()=>x,cH:()=>j,kQ:()=>m,registerFileActionFallback:()=>b});var s=r(61338),o=r(35810),a=r(99498);if(/^(init|public)$/.test(r.j))var n=r(32981);if(/^(files|public)$/.test(r.j))var A=r(7694);var l=r(98407),d=r(72150),h=r(21777),c=r(75289),C=r(91458),p=r(41421),g=r(54755);const u="Edit with text app",v=function(t,e){const i=t.split("/"),r=e.split("/");for(i.pop();i[0]===r[0];)if(i.shift(),r.shift(),0===i.length&&0===r.length)return".";const s=i.fill("..").concat(r),o=e.split("/");return s.length<o.length?s.join("/"):e},m=()=>{const e={attach(e){const i=e.fileList;"files"!==i.id&&"files.public"!==i.id||e.addMenuEntry({id:"file",displayName:t("text","New text file"),templateName:t("text","New text file")+"."+(0,n.C)("text","default_file_extension"),iconClass:"icon-filetype-text",fileType:"file",actionLabel:t("text","Create new text file"),actionHandler(t){i.createFile(t).then((function(t,e){const r=new OCA.Files.FileInfoModel(e);void 0!==OCA.Viewer?OCA.Files.fileActions.triggerAction("view",r,i):void 0===OCA.Viewer&&OCA.Files.fileActions.triggerAction(u,r,i)}))}})}};OC.Plugins.register("OCA.Files.NewFileMenu",e)},b=()=>{const e=(0,A.G)(),i=document.querySelector("#preview table.files-filestable");if(!e||!i){const i=document.createElement("div");i.id="text-viewer-fallback",document.body.appendChild(i);const s=s=>OCA.Files.fileActions.register(s,u,OC.PERMISSION_UPDATE|OC.PERMISSION_READ,(0,a.d0)("core","actions/rename"),(t=>{const s=window.FileList.findFile(t);Promise.all([Promise.resolve().then(r.bind(r,85471)),Promise.all([r.e("vendors-node_modules_nextcloud_vue_dist_index_mjs"),r.e("files-modal")]).then(r.bind(r,59330))]).then((r=>{const o=window.FileList.getCurrentDirectory()+"/"+t,a=r[0].default;a.prototype.t=window.t,a.prototype.n=window.n,a.prototype.OCA=window.OCA;const n=r[1].default;new a({render:function(t){const i=this;return t(n,{props:{fileId:s?s.id:null,active:!0,shareToken:e,relativePath:o,mimeType:s.mimetype},on:{close:function(){i.$destroy()}}})}}).$mount(i)}))}),t("text","Edit"));for(let t=0;t<l.Yq.length;t++)s(l.Yq[t]),OCA.Files.fileActions.setDefault(l.Yq[t],u)}};let f=!1;const x=()=>{const e=t("text","Readme")+"."+(0,n.C)("text","default_file_extension");(0,o.zj)({id:"rich-workspace-init",displayName:t("text","Add description"),enabled:t=>!Number(t.attributes["rich-workspace-file"])&&!!(t.permissions&o.aX.CREATE),iconSvgInline:g,async handler(i,r){const a=r.map((t=>t.basename));if(a.includes(e))return void(0,c.Qg)(t("text",'"{name}" already exist!',{name:e}));const n=i.encodedSource+"/"+encodeURIComponent(e),A=await(0,C.Ay)({method:"PUT",url:n,headers:{Overwrite:"F"}}),l=parseInt(A.headers["oc-fileid"]),d=new o.ZH({source:i.source+"/"+e,id:l,mtime:new Date,mime:"text/markdown",owner:(0,h.HW)()?.uid||null,permissions:o.aX.ALL,root:i?.root||"/files/"+(0,h.HW)()?.uid});(0,c.Te)(t("text",'Created "{name}"',{name:e})),0===a.length&&(f=d),(0,s.Ic)("files:node:created",d)}})};let _=null;const j=new o.Y9({id:"workspace",order:10,enabled:(t,e)=>"files"===e.id||"favorites"===e.id,async render(t,e,i){_&&(_.$destroy(),_=null);const s=!!e.attributes["rich-workspace-file"]||!!f,o=f?(0,p.dirname)(f.path):e.path,a=f?"":e.attributes["rich-workspace"];f=!1;const{default:n}=await Promise.all([r.e("mermaid"),r.e("vendors-node_modules_nextcloud_vue_dist_index_mjs"),r.e("vendors-node_modules_braintree_sanitize-url_dist_index_js-node_modules_quartzy_markdown-it-me-f3a852"),r.e("vendors-node_modules_nextcloud_logger_dist_index_js-node_modules_nextcloud_vue_dist_chunks_em-4fb725"),r.e("src_extensions_index_js-src_components_Editor_EditorOutline_vue-data_image_svg_xml_3c_21--_20-ee52b2"),r.e("src_views_RichWorkspace_vue")]).then(r.bind(r,86394));Promise.resolve().then(r.bind(r,85471)).then((e=>{t.id="files-workspace-wrapper";const i=e.default;i.prototype.t=window.t,i.prototype.n=window.n,i.prototype.OCA=window.OCA;const r=i.extend(n);_=new r({propsData:{path:o,hasRichWorkspace:s,content:a},store:d.default}).$mount(t)}))},updated(t,e){f=!1;const i=!!t.attributes["rich-workspace-file"];_.path=t.path,_.hasRichWorkspace=i,_.content=t.attributes["rich-workspace"]}})},79843:(t,e,i)=>{"use strict";i.d(e,{v:()=>r});const r=(0,i(53529).YK)().setApp("text").detectUser().build()},98407:(t,e,i)=>{"use strict";i.d(e,{Rv:()=>r,Yq:()=>o,xg:()=>s});const r=["text/markdown"],s=["text/plain","application/cmd","application/x-empty","application/x-msdos-program","application/javascript","application/json","application/x-perl","application/x-php","application/x-tex","application/xml","application/yaml","text/asciidoc","text/css","text/html","text/org","text/x-c","text/x-c++src","text/x-h","text/x-java-source","text/x-ldif","text/x-python","text/x-shellscript"];OC.appswebroots?.richdocuments||OC.appswebroots?.onlyoffice||s.push("text/csv");const o=[...r,...s]},7694:(t,e,i)=>{"use strict";i.d(e,{G:()=>r});const r=()=>document.getElementById("sharingToken")?document.getElementById("sharingToken").value:null},11063:(t,e,i)=>{"use strict";i.d(e,{Af:()=>c,DI:()=>l,gi:()=>h,hT:()=>A,vh:()=>d});var r=i(72876),s=i(21),o=i(81156),a=i(57724),n=i(91639);function A(t){const e=s.PR(t);return(0,r.M)(e)}function l(t,e,i){const o=(0,r.U)(e);s.QE(t,o,i)}function d(t,e){const i=(0,r.U)(e),A=s.oy(i),l=s.FX(t);if(h=l,(d=A).length===h.length&&d.every(((t,e)=>h[e]===t)))return;var d,h;const c=o.xv();o.zd(c,n.LO);const C=s.PR(t,A);return a.f7(c,C),o.Fo(c)}function h(t){return t.map((t=>(0,r.M)(t))).filter((t=>t<"AQ"))}function c(t){return t.map((t=>(0,r.M)(t))).findLast((t=>t>"AQ"))||""}},73819:(t,e,i)=>{"use strict";i.d(e,{A:()=>A});var r=i(99498),s=i(88732),o=i.n(s),a=i(72150);const n=a.default.getters["text/findAttachment"];class A{#t;#e;#i;#r;#s;#o;constructor(t){let{session:e,user:i,shareToken:r,currentDirectory:s,fileId:o}=t;this.#t=e,this.#e=i,this.#i=r,this.#r=s,this.#s=o??e.documentId,this.#o=this.#a()}async#a(){return t={documentId:this.#s,session:this.#t,shareToken:this.#i},a.default.dispatch("text/setAttachmentList",t);var t}async resolve(t){let e,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=/^\.attachments\.\d+\//;if(t.match(r)){const s=decodeURIComponent(t.replace(r,"").split("?")[0]);if(await this.#o,e=n(s),i&&!e&&(await this.#a(),e=n(s)),e)return e}return function(t){return t.startsWith("http://")||t.startsWith("https://")||t.startsWith("data:")}(t)?{isImage:!0,name:this.#n(t),previewUrl:t,fullUrl:t}:{isImage:!0,name:this.#n(t),previewUrl:this.#A(t),fullUrl:this.#A(t)}}#n(t){return t.split("/").pop()}#A(t){if(this.#e){const e=this.#e.uid,i=this.#l(t).split("/").map(encodeURIComponent).join("/");return(0,r.dC)(`dav/files/${e}${i}`)}const e=this.#l(t).split("/"),i=e.pop(),s=e.join("/");return(0,r.Jv)("/s/{token}/download?path={dirname}&files={basename}",{token:this.#i,basename:i,dirname:s})}#d(t){return decodeURI(t.split("?")[0])}#l(t){const e=[this.#r,this.#d(t)].join("/");return o()(e)}}},88784:(t,e,i)=>{"use strict";i.d(e,{kR:()=>v,g1:()=>u,Sd:()=>m,ZF:()=>g,HJ:()=>b});var r=i(27380),s=i(17334),o=i.n(s),a=i(79843),n=i(91458),A=i(99498);class l extends Error{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Close has already been called on the connection";for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];super(t,...i)}}class d{#h;#c;#C;#p;#t;#g;#u;#v;constructor(t,e){const{document:i,session:r,lock:s,readOnly:o,content:a,documentState:n}=t.data;this.#p=i,this.#t=r,this.#g=s,this.#u=o,this.#h=a,this.#C=n,this.#v=e,this.isPublic=!!e.shareToken,this.closed=!1}get session(){return this.#t}get document(){return this.#p}get docStateVersion(){return this.#C?this.#p.lastSavedVersion:0}get state(){return{document:{...this.#p,readOnly:this.#u},session:this.#t,documentSource:this.#h||"",documentState:this.#C}}get isClosed(){return this.closed}get#m(){return{documentId:this.#p.id,sessionId:this.#t.id,sessionToken:this.#t.token,token:this.#v.shareToken}}sync(t){let{version:e}=t;return this.#b(this.#f(`session/${this.#p.id}/sync`),{...this.#m,filePath:this.#v.filePath,baseVersionEtag:this.#p.baseVersionEtag,version:e})}save(t){let{version:e,autosaveContent:i,documentState:r,force:s,manualSave:o}=t;return this.#b(this.#f(`session/${this.#p.id}/save`),{...this.#m,filePath:this.#v.filePath,baseVersionEtag:this.#p.baseVersionEtag,version:e,autosaveContent:i,documentState:r,force:s,manualSave:o})}push(t){let{steps:e,version:i,awareness:r}=t;return this.#b(this.#f(`session/${this.#p.id}/push`),{...this.#m,filePath:this.#v.filePath,baseVersionEtag:this.#p.baseVersionEtag,steps:e,version:i,awareness:r})}update(t){return this.#b(this.#f(`session/${this.#p.id}/session`),{...this.#m,guestName:t}).then((t=>{let{data:e}=t;this.#t=e}))}uploadAttachment(t){const e=new FormData;e.append("file",t);const i=h("attachment/upload")+"?documentId="+encodeURIComponent(this.#p.id)+"&sessionId="+encodeURIComponent(this.#t.id)+"&sessionToken="+encodeURIComponent(this.#t.token)+"&token="+encodeURIComponent(this.#v.shareToken||"");return this.#b(i,e,{headers:{"Content-Type":"multipart/form-data"}})}insertAttachmentFile(t){return this.#b(h("attachment/filepath"),{documentId:this.#p.id,sessionId:this.#t.id,sessionToken:this.#t.token,filePath:t})}close(){return this.#b(this.#f(`session/${this.#p.id}/close`),this.#m).then((()=>{this.closed=!0}))}setBaseVersionEtag(t){this.#p.baseVersionEtag=t}#b(){return this.closed?Promise.reject(new l):n.Ay.post(...arguments)}#f(t){return h(t,!!this.#m.token)}}function h(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=(0,A.Jv)("/apps/text");return e?`${i}/public/${t}`:`${i}/${t}`}const c=class{#v;constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.#v=t}open(t){let{fileId:e,baseVersionEtag:i}=t;return n.Ay.put(this.#f(`session/${e}/create`),{fileId:e,baseVersionEtag:i,filePath:this.#v.filePath,token:this.#v.shareToken,guestName:this.#v.guestName,forceRecreate:this.#v.forceRecreate}).then((t=>new d(t,this.#v)))}#f(t){return h(t,!!this.#v.shareToken)}};const C=class{#x;#_;#j;#y;#w;#k;#P;constructor(t,e){this.#x=t,this.#_=e,this.#y=300,this.#w=0,this.#j=0}connect(){this.fetcher>0?console.error("Trying to connect, but already connected"):(this.#P=!1,this.fetcher=setInterval(this._fetchSteps.bind(this),50),document.addEventListener("visibilitychange",this.visibilitychange.bind(this)))}async _fetchSteps(){if(this.#k)return;const t=Date.now();this.#j>t-this.#y||(this.fetcher?(this.#k=!0,a.v.debug("[PollingBackend] Fetching steps",this.#x.version),await this.#_.sync({version:this.#x.version}).then(this._handleResponse.bind(this),this._handleError.bind(this)),this.#j=Date.now(),this.#k=!1):console.error("No inverval but triggered"))}_handleResponse(t){let{data:e}=t;const{document:i,sessions:r}=e;if(this.#w=0,this.#x.emit("change",{document:i,sessions:r}),this.#x._receiveSteps(e),0===e.steps.length){if(this.#P||(this.#P=!0),this.#x.checkIdle())return;const t=Date.now()-9e4,e=r.filter((e=>1e3*e.lastContact>t));return this.#x.isReadOnly?this.maximumReadOnlyTimer():e.length<2?this.maximumRefetchTimer():this.increaseRefetchTimer(),void this.#x.emit("stateChange",{initialLoading:!0})}this.#P&&this.resetRefetchTimer()}_handleError(t){t.response&&"ECONNABORTED"!==t.code?409===t.response.status?(this._handleResponse(t.response),a.v.error("Conflict during file save, please resolve"),this.#x.emit("error",{type:m.SAVE_COLLISSION,data:{outsideChange:t.response.data.outsideChange}})):412===t.response.status?(this.#x.emit("error",{type:m.LOAD_ERROR,data:t.response}),this.disconnect()):[403,404].includes(t.response.status)?(this.#x.emit("error",{type:m.SOURCE_NOT_FOUND,data:{}}),this.disconnect()):[502,503].includes(t.response.status)?(this.increaseRefetchTimer(),this.#x.emit("error",{type:m.CONNECTION_FAILED,data:{}}),a.v.error("Failed to fetch steps due to unavailable service",{error:t})):(this.disconnect(),this.#x.emit("error",{type:m.CONNECTION_FAILED,data:{}}),a.v.error("Failed to fetch steps due to other reason",{error:t})):this.#w++>=5?(a.v.error("[PollingBackend:fetchSteps] Network error when fetching steps, emitting CONNECTION_FAILED"),this.#x.emit("error",{type:m.CONNECTION_FAILED,data:{}})):a.v.error(`[PollingBackend:fetchSteps] Network error when fetching steps, retry ${this.#w}`)}disconnect(){clearInterval(this.fetcher),this.fetcher=0,document.removeEventListener("visibilitychange",this.visibilitychange.bind(this))}resetRefetchTimer(){this.#y=300}increaseRefetchTimer(){this.#y=Math.min(2*this.#y,5e3)}maximumRefetchTimer(){this.#y=5e3}maximumReadOnlyTimer(){this.#y=3e4}visibilitychange(){"hidden"===document.visibilityState?this.#y=6e4:this.resetRefetchTimer()}};var p=i(11063);const g=1440,u=60,v=90,m={SAVE_COLLISSION:0,PUSH_FAILURE:1,LOAD_ERROR:2,CONNECTION_FAILED:3,SOURCE_NOT_FOUND:4,PUSH_FORBIDDEN:5};class b{#B;#_;constructor(t){let{baseVersionEtag:e,serialize:i,getDocumentState:s,...a}=t;return this._bus=(0,r.A)(),this.serialize=i,this.getDocumentState=s,this._api=new c(a),this.#_=null,this.sessions=[],this.steps=[],this.stepClientIDs=[],this.lastStepPush=Date.now(),this.version=null,this.baseVersionEtag=e,this.sending=!1,this.#B=null,this.autosave=o()(this._autosave.bind(this),3e4),this.pushError=0,this}get isReadOnly(){return this.#_.state.document.readOnly}get guestName(){return this.#_.session.guestName}get hasActiveConnection(){return this.#_&&!this.#_.isClosed}get connectionState(){return this.#_&&void 0!==this.version?{...this.#_.state,version:this.version}:null}async open(t){let{fileId:e,initialSession:i}=t;if(this.hasActiveConnection)return this.connectionState;const r=t=>{let{sessions:e}=t;this.sessions=e};this.on("change",r);const s=i?Promise.resolve(new d({data:i},{})):this._api.open({fileId:e,baseVersionEtag:this.baseVersionEtag}).catch((t=>this._emitError(t)));return this.#_=await s,this.#_?(this.backend=new C(this,this.#_),this.version=this.#_.docStateVersion,this.baseVersionEtag=this.#_.document.baseVersionEtag,this.emit("opened",this.connectionState),this.emit("loaded",this.connectionState),this.connectionState):(this.off("change",r),null)}startSync(){this.backend.connect()}syncUp(){this.backend.resetRefetchTimer()}_emitError(t){t.response&&"ECONNABORTED"!==t.code?this.emit("error",{type:m.LOAD_ERROR,data:t.response}):this.emit("error",{type:m.CONNECTION_FAILED,data:{}})}updateSession(t){return this.#_.isPublic?this.#_.update(t).catch((t=>(a.v.error("Failed to update the session",{error:t}),Promise.reject(t)))):Promise.reject(new Error)}sendSteps(t){if(!this.#B)return new Promise(((e,i)=>{this.#B=setInterval((()=>{this.#_&&!this.sending&&this.sendStepsNow(t).then(e).catch(i)}),200)}))}sendStepsNow(t){this.sending=!0,clearInterval(this.#B),this.#B=null;const e=t();return e.steps.length>0&&this.emit("stateChange",{dirty:!0}),this.#_.push(e).then((t=>{this.pushError=0,this.sending=!1,this.emit("sync",{steps:[],document:this.#_.document,version:this.version})})).catch((t=>{const{response:i,code:r}=t;throw this.sending=!1,this.pushError++,i&&"ECONNABORTED"!==r||this.emit("error",{type:m.CONNECTION_FAILED,data:{}}),412===i?.status?this.emit("error",{type:m.LOAD_ERROR,data:i}):403===i?.status?(e.document||(a.v.error("failed to write to document - not allowed"),this.emit("error",{type:m.PUSH_FORBIDDEN,data:{}})),i.data.document?.currentVersion===this.version&&(this.emit("error",{type:m.PUSH_FAILURE,data:{}}),OC.Notification.showTemporary("Changes could not be sent yet"))):this.emit("error",{type:m.PUSH_FAILURE,data:{}}),new Error("Failed to apply steps. Retry!",{cause:t})}))}_receiveSteps(t){let{steps:e,document:i,sessions:r}=t;const s=r.filter((t=>t.lastContact>Math.floor(Date.now()/1e3)-v)).filter((t=>t.lastAwarenessMessage)).map((t=>({step:t.lastAwarenessMessage,clientId:t.clientId}))),o=[...s];this.steps=[...this.steps,...s.map((t=>t.step))];for(let t=0;t<e.length;t++){const i=e[t].data;this.version<e[t].version&&(this.version=e[t].version),Array.isArray(i)?i.forEach((i=>{this.steps.push(i),o.push({step:i,clientID:e[t].sessionId})})):a.v.error("Invalid step data, skipping step",{step:e[t]})}this.lastStepPush=Date.now(),this.emit("sync",{steps:o,document:this.#_.document,version:this.version})}checkIdle(){return(Date.now()-this.lastStepPush)/1e3/60>g&&(a.v.debug(`[SyncService] Document is idle for ${this.IDLE_TIMEOUT} minutes, suspending connection`),this.emit("idle"),!0)}_getContent(){return this.serialize()}async save(){let{force:t=!1,manualSave:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.v.debug("[SyncService] saving",arguments[0]);try{const i=await this.#_.save({version:this.version,autosaveContent:this._getContent(),documentState:this.getDocumentState(),force:t,manualSave:e});this.emit("stateChange",{dirty:!1}),this.#_.document.lastSavedVersionTime=Date.now()/1e3,a.v.debug("[SyncService] saved",i);const{document:r,sessions:s}=i.data;this.emit("save",{document:r,sessions:s}),this.autosave.clear()}catch(t){throw a.v.error("Failed to save document.",{error:t}),t}}forceSave(){return this.save({force:!0})}_autosave(){return this.save({manualSave:!1})}async sendRemainingSteps(t){if(0===t.length)return;let e=[];const i=(0,p.gi)(t),r=(0,p.Af)(t);return this.sendStepsNow((()=>{const s={steps:i,awareness:r,version:this.version};return e=[...t],a.v.debug("sending final steps ",s),s}))?.then((()=>{t.splice(0,t.length,...t.filter((t=>!e.includes(t))))}),(t=>a.v.error(t)))}async close(){if(this.autosave.clear(),this.backend?.disconnect(),this.hasActiveConnection)return this.#_.close().catch((t=>{a.v.info("Failed to close connection.",{e:t})}))}uploadAttachment(t){return this.#_.uploadAttachment(t)}insertAttachmentFile(t){return this.#_.insertAttachmentFile(t)}on(t,e){return this._bus.on(t,e),this}off(t,e){return this._bus.off(t,e),this}emit(t,e){this._bus.emit(t,e)}}},78412:(t,e,i)=>{"use strict";i.d(e,{A:()=>n});var r=i(71354),s=i.n(r),o=i(76314),a=i.n(o)()(s());a.push([t.id,".text-assistant[data-v-9c4fdb08]{position:fixed;top:calc(2*var(--header-height));right:0;margin:calc(var(--default-grid-baseline)*3);overflow:auto;width:250px;max-height:200px}.task-list[data-v-9c4fdb08]{padding:24px}h4[data-v-9c4fdb08]{display:flex;align-items:center;justify-items:center;justify-content:space-between;margin-bottom:12px}.assistant-bubble[data-v-9c4fdb08]{display:flex;gap:8px;background-color:var(--color-primary-element-light);border-radius:var(--border-radius-rounded);padding:2px 8px}.assistant-bubble .icon[data-v-9c4fdb08]{color:var(--color-primary)}ul[data-v-9c4fdb08]{width:calc(100% - 16px)}ul[data-v-9c4fdb08] .list-item{padding-top:0;padding-bottom:0}ul[data-v-9c4fdb08] .line-two__additional_elements{margin-top:-22px}.floating-menu[data-v-9c4fdb08]{position:relative}.floating-menu--badge[data-v-9c4fdb08]{position:absolute;bottom:-2px;right:-2px}.icon-status--success[data-v-9c4fdb08]{color:var(--color-success)}.icon-status--failed[data-v-9c4fdb08]{color:var(--color-error)}","",{version:3,sources:["webpack://./src/components/Assistant.vue"],names:[],mappings:"AACA,iCACC,cAAA,CACA,gCAAA,CACA,OAAA,CACA,2CAAA,CACA,aAAA,CACA,WAAA,CACA,gBAAA,CAGD,4BACC,YAAA,CAGD,oBACC,YAAA,CACA,kBAAA,CACA,oBAAA,CACA,6BAAA,CACA,kBAAA,CAGD,mCACC,YAAA,CACA,OAAA,CACA,mDAAA,CACA,0CAAA,CACA,eAAA,CAEA,yCACC,0BAAA,CAIF,oBACC,uBAAA,CAEA,+BACC,aAAA,CACA,gBAAA,CAGD,mDACC,gBAAA,CAIF,gCACC,iBAAA,CAEA,uCACC,iBAAA,CACA,WAAA,CACA,UAAA,CAIF,uCACC,0BAAA,CAGD,sCACC,wBAAA",sourceRoot:""}]);const n=a},33909:(t,e,i)=>{"use strict";i.d(e,{A:()=>n});var r=i(71354),s=i.n(r),o=i(76314),a=i.n(o)()(s());a.push([t.id,".editor__content[data-v-151c6c0d]{max-width:var(--text-editor-max-width);margin:auto;position:relative;width:100%}.text-editor__content-wrapper[data-v-151c6c0d]{--side-width: calc((100% - var(--text-editor-max-width)) / 2);display:grid;grid-template-columns:1fr auto}.text-editor__content-wrapper.--show-outline[data-v-151c6c0d]{grid-template-columns:var(--side-width) auto var(--side-width)}.text-editor__content-wrapper .text-editor__content-wrapper__left[data-v-151c6c0d],.text-editor__content-wrapper .text-editor__content-wrapper__right[data-v-151c6c0d]{height:100%;position:relative}","",{version:3,sources:["webpack://./src/components/BaseReader.vue"],names:[],mappings:"AACA,kCACC,sCAAA,CACA,WAAA,CACA,iBAAA,CACA,UAAA,CAGD,+CACC,6DAAA,CACA,YAAA,CACA,8BAAA,CACA,8DACC,8DAAA,CAED,uKAEC,WAAA,CACA,iBAAA",sourceRoot:""}]);const n=a},48317:(t,e,i)=>{"use strict";i.d(e,{A:()=>n});var r=i(71354),s=i.n(r),o=i(76314),a=i.n(o)()(s());a.push([t.id,"#resolve-conflicts[data-v-f43ae8b6]{display:flex;width:100%;margin:auto;padding:20px 0}#resolve-conflicts button[data-v-f43ae8b6]{margin:auto}","",{version:3,sources:["webpack://./src/components/CollisionResolveDialog.vue"],names:[],mappings:"AACA,oCACC,YAAA,CACA,UAAA,CACA,WAAA,CACA,cAAA,CAEA,2CACC,WAAA",sourceRoot:""}]);const n=a},74644:(t,e,i)=>{"use strict";i.d(e,{A:()=>n});var r=i(71354),s=i.n(r),o=i(76314),a=i.n(o)()(s());a.push([t.id,".modal-container .text-editor[data-v-4da9cce4]{top:0;height:calc(100vh - var(--header-height))}.text-editor[data-v-4da9cce4]{display:block;width:100%;max-width:100%;height:100%;left:0;margin:0 auto;position:relative;background-color:var(--color-main-background)}.text-editor .text-editor__wrapper.has-conflicts[data-v-4da9cce4]{height:calc(100% - 50px)}#body-public[data-v-4da9cce4]{height:auto}#files-public-content .text-editor[data-v-4da9cce4]{top:0;width:100%}#files-public-content .text-editor .text-editor__main[data-v-4da9cce4]{overflow:auto;z-index:20}#files-public-content .text-editor .has-conflicts .text-editor__main[data-v-4da9cce4]{padding-top:0}.menubar-placeholder[data-v-4da9cce4],.text-editor--readonly-bar[data-v-4da9cce4]{position:fixed;position:-webkit-sticky;position:sticky;top:0;opacity:0;visibility:hidden;height:44px;padding-top:3px;padding-bottom:3px}.text-editor--readonly-bar[data-v-4da9cce4],.menubar-placeholder--with-slot[data-v-4da9cce4]{opacity:unset;visibility:unset;z-index:50;max-width:var(--text-editor-max-width);margin:auto;width:100%;background-color:var(--color-main-background)}","",{version:3,sources:["webpack://./src/components/Editor.vue"],names:[],mappings:"AACA,+CACC,KAAA,CACA,yCAAA,CAGD,8BACC,aAAA,CACA,UAAA,CACA,cAAA,CACA,WAAA,CACA,MAAA,CACA,aAAA,CACA,iBAAA,CACA,6CAAA,CAGD,kEACC,wBAAA,CAGD,8BACC,WAAA,CAIA,oDACC,KAAA,CACA,UAAA,CAEA,uEACC,aAAA,CACA,UAAA,CAED,sFACC,aAAA,CAKH,kFAEC,cAAA,CACA,uBAAA,CACA,eAAA,CACA,KAAA,CACA,SAAA,CACA,iBAAA,CACA,WAAA,CACA,eAAA,CACA,kBAAA,CAGD,6FAEC,aAAA,CACA,gBAAA,CAEA,UAAA,CACA,sCAAA,CACA,WAAA,CACA,UAAA,CACA,6CAAA",sourceRoot:""}]);const n=a},99536:(t,e,i)=>{"use strict";i.d(e,{A:()=>c});var r=i(71354),s=i.n(r),o=i(76314),a=i.n(o),n=i(4417),A=i.n(n),l=new URL(i(19756),i.b),d=a()(s()),h=A()(l);d.push([t.id,`:root{--text-editor-max-width: 670px }:root{--text-editor-max-width: 670px }.ProseMirror-hideselection{caret-color:rgba(0,0,0,0);color:var(--color-main-text)}.ProseMirror-hideselection *::selection{background:rgba(0,0,0,0);color:var(--color-main-text)}.ProseMirror-hideselection *::-moz-selection{background:rgba(0,0,0,0);color:var(--color-main-text)}.ProseMirror-selectednode{outline:2px solid #8cf}li.ProseMirror-selectednode{outline:none}li.ProseMirror-selectednode:after{content:"";position:absolute;left:-32px;right:-2px;top:-2px;bottom:-2px;border:2px solid #8cf;pointer-events:none}.has-conflicts .ProseMirror-menubar,.text-editor__wrapper.icon-loading .ProseMirror-menubar{display:none}.ProseMirror-gapcursor{display:none;pointer-events:none;position:absolute}.ProseMirror-gapcursor:after{content:"";display:block;position:absolute;top:-2px;width:20px;border-top:1px solid var(--color-main-text);animation:ProseMirror-cursor-blink 1.1s steps(2, start) infinite}@keyframes ProseMirror-cursor-blink{to{visibility:hidden}}.animation-rotate{animation:rotate var(--animation-duration, 0.8s) linear infinite}[data-handler=text]{background-color:var(--color-main-background);border-top:3px solid var(--color-primary-element)}[data-handler=text] .modal-title{font-weight:bold}@keyframes fadeInDown{from{opacity:0;transform:translate3d(0, -100%, 0)}to{opacity:1;transform:translate3d(0, 0, 0)}}@keyframes fadeInLeft{from{opacity:0;transform:translate3d(-100%, 0, 0)}to{opacity:1;transform:translate3d(0, 0, 0)}}.fadeInLeft{animation-name:fadeInLeft}@media print{@page{size:A4;margin:2.5cm 2cm 2cm 2.5cm}body{position:absolute;overflow:visible !important}#header{display:none !important}#content{display:block !important;position:relative !important;border-radius:0;margin:0;width:100%;height:fit-content}footer{display:none !important}#viewer[data-handler=text]{border:none;width:100% !important;position:absolute !important}#viewer[data-handler=text] .modal-header{display:none !important}#viewer[data-handler=text] .modal-container{top:0px;height:fit-content}.text-editor{height:fit-content !important}.text-editor .text-menubar{display:none !important}.text-editor .action-item{display:none !important}.text-editor .editor__content{max-width:100%}.text-editor .text-editor__wrapper{height:fit-content;position:unset}.text-editor .text-editor__wrapper div.ProseMirror{margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0}.text-editor .text-editor__wrapper div.ProseMirror h1,.text-editor .text-editor__wrapper div.ProseMirror h2,.text-editor .text-editor__wrapper div.ProseMirror h3,.text-editor .text-editor__wrapper div.ProseMirror h4,.text-editor .text-editor__wrapper div.ProseMirror h5{break-after:avoid;page-break-after:avoid}.text-editor .text-editor__wrapper div.ProseMirror .image,.text-editor .text-editor__wrapper div.ProseMirror img,.text-editor .text-editor__wrapper div.ProseMirror table{break-inside:avoid-page;page-break-inside:avoid;max-width:90% !important;margin:5vw auto 5vw 5% !important}.text-editor .text-editor__wrapper div.ProseMirror th{color:#000 !important;font-weight:bold !important;border-width:0 1px 2px 0 !important;border-color:gray !important;border-style:none solid solid none !important}.text-editor .text-editor__wrapper div.ProseMirror th:last-of-type{border-width:0 0 2px 0 !important}.text-editor .text-editor__wrapper div.ProseMirror td{border-style:none solid none none !important;border-width:1px !important;border-color:gray !important}.text-editor .text-editor__wrapper div.ProseMirror td:last-of-type{border:none !important}.menubar-placeholder,.text-editor--readonly-bar{display:none}.text-editor__content-wrapper.--show-outline{display:block}.text-editor__content-wrapper .editor--outline{width:auto;height:auto;overflow:unset;position:relative}.text-editor__content-wrapper .editor--outline__btn-close{display:none}.collaboration-cursor__caret,.collaboration-cursor__label{display:none}}.text-editor__wrapper div.ProseMirror{height:100%;position:relative;word-wrap:break-word;white-space:pre-wrap;-webkit-font-variant-ligatures:none;font-variant-ligatures:none;padding:4px 8px 200px 14px;line-height:150%;font-size:var(--default-font-size);outline:none;--table-color-border: var(--color-border);--table-color-heading: var(--color-text-maxcontrast);--table-color-heading-border: var(--color-border-dark);--table-color-background: var(--color-main-background);--table-color-background-hover: var(--color-primary-element-light);--table-border-radius: var(--border-radius)}.text-editor__wrapper div.ProseMirror :target{scroll-margin-top:50px}.text-editor__wrapper div.ProseMirror[contenteditable=true],.text-editor__wrapper div.ProseMirror[contenteditable=false],.text-editor__wrapper div.ProseMirror [contenteditable=true],.text-editor__wrapper div.ProseMirror [contenteditable=false]{width:100%;background-color:rgba(0,0,0,0);color:var(--color-main-text);opacity:1;-webkit-user-select:text;user-select:text;font-size:var(--default-font-size)}.text-editor__wrapper div.ProseMirror[contenteditable=true]:not(.collaboration-cursor__caret),.text-editor__wrapper div.ProseMirror[contenteditable=false]:not(.collaboration-cursor__caret),.text-editor__wrapper div.ProseMirror [contenteditable=true]:not(.collaboration-cursor__caret),.text-editor__wrapper div.ProseMirror [contenteditable=false]:not(.collaboration-cursor__caret){border:none !important}.text-editor__wrapper div.ProseMirror[contenteditable=true]:focus,.text-editor__wrapper div.ProseMirror[contenteditable=true]:focus-visible,.text-editor__wrapper div.ProseMirror[contenteditable=false]:focus,.text-editor__wrapper div.ProseMirror[contenteditable=false]:focus-visible,.text-editor__wrapper div.ProseMirror [contenteditable=true]:focus,.text-editor__wrapper div.ProseMirror [contenteditable=true]:focus-visible,.text-editor__wrapper div.ProseMirror [contenteditable=false]:focus,.text-editor__wrapper div.ProseMirror [contenteditable=false]:focus-visible{box-shadow:none !important}.text-editor__wrapper div.ProseMirror ul[data-type=taskList]{margin-left:1px}.text-editor__wrapper div.ProseMirror .checkbox-item{display:flex;align-items:start}.text-editor__wrapper div.ProseMirror .checkbox-item input[type=checkbox]{display:none}.text-editor__wrapper div.ProseMirror .checkbox-item:before{content:"";vertical-align:middle;margin:3px 6px 3px 2px;border:1px solid var(--color-text-maxcontrast);display:block;border-radius:var(--border-radius);height:14px;width:14px;box-shadow:none !important;background-position:center;cursor:pointer;left:9px}.text-editor__wrapper div.ProseMirror .checkbox-item.checked:before{background-image:url(${h});background-color:var(--color-primary-element);border-color:var(--color-primary-element)}.text-editor__wrapper div.ProseMirror .checkbox-item.checked>label>p{color:var(--color-text-maxcontrast);text-decoration:line-through}.text-editor__wrapper div.ProseMirror .checkbox-item label{display:block;flex-grow:1;max-width:calc(100% - 28px)}.text-editor__wrapper div.ProseMirror>*:first-child{margin-top:10px}.text-editor__wrapper div.ProseMirror>h1,.text-editor__wrapper div.ProseMirror h2,.text-editor__wrapper div.ProseMirror h3,.text-editor__wrapper div.ProseMirror h4,.text-editor__wrapper div.ProseMirror h5,.text-editor__wrapper div.ProseMirror h6{position:relative}.text-editor__wrapper div.ProseMirror>h1:first-child,.text-editor__wrapper div.ProseMirror h2:first-child,.text-editor__wrapper div.ProseMirror h3:first-child,.text-editor__wrapper div.ProseMirror h4:first-child,.text-editor__wrapper div.ProseMirror h5:first-child,.text-editor__wrapper div.ProseMirror h6:first-child{margin-top:0}.text-editor__wrapper div.ProseMirror>h1 .heading-anchor[contenteditable=false],.text-editor__wrapper div.ProseMirror h2 .heading-anchor[contenteditable=false],.text-editor__wrapper div.ProseMirror h3 .heading-anchor[contenteditable=false],.text-editor__wrapper div.ProseMirror h4 .heading-anchor[contenteditable=false],.text-editor__wrapper div.ProseMirror h5 .heading-anchor[contenteditable=false],.text-editor__wrapper div.ProseMirror h6 .heading-anchor[contenteditable=false]{width:1em;opacity:0;padding:0;left:-1em;top:0;font-size:max(1em,16px);position:absolute;text-decoration:none;transition-duration:.15s;transition-property:opacity;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}.text-editor__wrapper div.ProseMirror>h1:hover .heading-anchor,.text-editor__wrapper div.ProseMirror h2:hover .heading-anchor,.text-editor__wrapper div.ProseMirror h3:hover .heading-anchor,.text-editor__wrapper div.ProseMirror h4:hover .heading-anchor,.text-editor__wrapper div.ProseMirror h5:hover .heading-anchor,.text-editor__wrapper div.ProseMirror h6:hover .heading-anchor{opacity:.5 !important}.text-editor__wrapper div.ProseMirror>h1:focus-visible,.text-editor__wrapper div.ProseMirror h2:focus-visible,.text-editor__wrapper div.ProseMirror h3:focus-visible,.text-editor__wrapper div.ProseMirror h4:focus-visible,.text-editor__wrapper div.ProseMirror h5:focus-visible,.text-editor__wrapper div.ProseMirror h6:focus-visible{outline:none}.text-editor__wrapper div.ProseMirror a{color:var(--color-primary-element);text-decoration:underline;padding:.5em 0}.text-editor__wrapper div.ProseMirror p .paragraph-content{margin-bottom:1em;line-height:150%}.text-editor__wrapper div.ProseMirror em{font-style:italic}.text-editor__wrapper div.ProseMirror h1,.text-editor__wrapper div.ProseMirror h2,.text-editor__wrapper div.ProseMirror h3,.text-editor__wrapper div.ProseMirror h4,.text-editor__wrapper div.ProseMirror h5,.text-editor__wrapper div.ProseMirror h6{font-weight:600;line-height:1.1em;margin-top:24px;margin-bottom:12px;color:var(--color-main-text)}.text-editor__wrapper div.ProseMirror h1{font-size:36px}.text-editor__wrapper div.ProseMirror h2{font-size:30px}.text-editor__wrapper div.ProseMirror h3{font-size:24px}.text-editor__wrapper div.ProseMirror h4{font-size:21px}.text-editor__wrapper div.ProseMirror h5{font-size:17px}.text-editor__wrapper div.ProseMirror h6{font-size:var(--default-font-size)}.text-editor__wrapper div.ProseMirror img{cursor:default;max-width:100%}.text-editor__wrapper div.ProseMirror hr{padding:2px 0;border:none;margin:2em 0;width:100%}.text-editor__wrapper div.ProseMirror hr:after{content:"";display:block;height:1px;background-color:var(--color-border-dark);line-height:2px}.text-editor__wrapper div.ProseMirror pre{white-space:pre-wrap;background-color:var(--color-background-dark);border-radius:var(--border-radius);padding:1em 1.3em;margin-bottom:1em}.text-editor__wrapper div.ProseMirror pre::before{content:attr(data-language);text-transform:uppercase;display:block;text-align:right;font-weight:bold;font-size:.6rem}.text-editor__wrapper div.ProseMirror pre code .hljs-comment,.text-editor__wrapper div.ProseMirror pre code .hljs-quote{color:#999}.text-editor__wrapper div.ProseMirror pre code .hljs-variable,.text-editor__wrapper div.ProseMirror pre code .hljs-template-variable,.text-editor__wrapper div.ProseMirror pre code .hljs-attribute,.text-editor__wrapper div.ProseMirror pre code .hljs-tag,.text-editor__wrapper div.ProseMirror pre code .hljs-name,.text-editor__wrapper div.ProseMirror pre code .hljs-regexp,.text-editor__wrapper div.ProseMirror pre code .hljs-link,.text-editor__wrapper div.ProseMirror pre code .hljs-selector-id,.text-editor__wrapper div.ProseMirror pre code .hljs-selector-class{color:#f2777a}.text-editor__wrapper div.ProseMirror pre code .hljs-number,.text-editor__wrapper div.ProseMirror pre code .hljs-meta,.text-editor__wrapper div.ProseMirror pre code .hljs-built_in,.text-editor__wrapper div.ProseMirror pre code .hljs-builtin-name,.text-editor__wrapper div.ProseMirror pre code .hljs-literal,.text-editor__wrapper div.ProseMirror pre code .hljs-type,.text-editor__wrapper div.ProseMirror pre code .hljs-params{color:#f99157}.text-editor__wrapper div.ProseMirror pre code .hljs-string,.text-editor__wrapper div.ProseMirror pre code .hljs-symbol,.text-editor__wrapper div.ProseMirror pre code .hljs-bullet{color:#9c9}.text-editor__wrapper div.ProseMirror pre code .hljs-title,.text-editor__wrapper div.ProseMirror pre code .hljs-section{color:#fc6}.text-editor__wrapper div.ProseMirror pre code .hljs-keyword,.text-editor__wrapper div.ProseMirror pre code .hljs-selector-tag{color:#69c}.text-editor__wrapper div.ProseMirror pre code .hljs-emphasis{font-style:italic}.text-editor__wrapper div.ProseMirror pre code .hljs-strong{font-weight:700}.text-editor__wrapper div.ProseMirror pre.frontmatter{margin-bottom:2em;border-left:4px solid var(--color-primary-element)}.text-editor__wrapper div.ProseMirror pre.frontmatter::before{display:block;content:attr(data-title);color:var(--color-text-maxcontrast);padding-bottom:.5em}.text-editor__wrapper div.ProseMirror p code{background-color:var(--color-background-dark);border-radius:var(--border-radius);padding:.1em .3em}.text-editor__wrapper div.ProseMirror li{position:relative;padding-left:3px}.text-editor__wrapper div.ProseMirror li p .paragraph-content{margin-bottom:.5em}.text-editor__wrapper div.ProseMirror ul,.text-editor__wrapper div.ProseMirror ol{padding-left:10px;margin-left:10px;margin-bottom:1em}.text-editor__wrapper div.ProseMirror ul>li{list-style-type:disc}.text-editor__wrapper div.ProseMirror li ul>li{list-style-type:circle}.text-editor__wrapper div.ProseMirror li li ul>li{list-style-type:square}.text-editor__wrapper div.ProseMirror blockquote{padding-left:1em;border-left:4px solid var(--color-primary-element);color:var(--color-text-maxcontrast);margin-left:0;margin-right:0}.text-editor__wrapper div.ProseMirror table{border-spacing:0;width:calc(100% - 50px);table-layout:auto;white-space:normal;margin-bottom:1em}.text-editor__wrapper div.ProseMirror table+*{margin-top:1em}.text-editor__wrapper div.ProseMirror table td,.text-editor__wrapper div.ProseMirror table th{border:1px solid var(--table-color-border);border-left:0;vertical-align:top;max-width:100%}.text-editor__wrapper div.ProseMirror table td:first-child,.text-editor__wrapper div.ProseMirror table th:first-child{border-left:1px solid var(--table-color-border)}.text-editor__wrapper div.ProseMirror table td{padding:.5em .75em;border-top:0;color:var(--color-main-text)}.text-editor__wrapper div.ProseMirror table th{padding:0 0 0 .75em;font-weight:normal;border-bottom-color:var(--table-color-heading-border);color:var(--table-color-heading)}.text-editor__wrapper div.ProseMirror table th>div{display:flex}.text-editor__wrapper div.ProseMirror table tr{background-color:var(--table-color-background)}.text-editor__wrapper div.ProseMirror table tr:hover,.text-editor__wrapper div.ProseMirror table tr:active,.text-editor__wrapper div.ProseMirror table tr:focus{background-color:var(--table-color-background-hover)}.text-editor__wrapper div.ProseMirror table tr:first-child th:first-child{border-top-left-radius:var(--table-border-radius)}.text-editor__wrapper div.ProseMirror table tr:first-child th:last-child{border-top-right-radius:var(--table-border-radius)}.text-editor__wrapper div.ProseMirror table tr:last-child td:first-child{border-bottom-left-radius:var(--table-border-radius)}.text-editor__wrapper div.ProseMirror table tr:last-child td:last-child{border-bottom-right-radius:var(--table-border-radius)}.text-editor__wrapper .ProseMirror-focused .ProseMirror-gapcursor{display:block}.text-editor__wrapper .editor__content p.is-empty:first-child::before{content:attr(data-placeholder);float:left;color:var(--color-text-maxcontrast);pointer-events:none;height:0}.text-editor__wrapper .editor__content{tab-size:4}.text-editor__wrapper .text-editor__main.draggedOver{background-color:var(--color-primary-element-light)}.text-editor__wrapper .text-editor__main .text-editor__content-wrapper{position:relative}.text-editor__wrapper.has-conflicts>.editor{width:50%}.text-editor__wrapper.has-conflicts>.content-wrapper{width:50%}.text-editor__wrapper.has-conflicts>.content-wrapper #read-only-editor{margin:0px auto;padding-top:50px;overflow:initial}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.collaboration-cursor__caret{position:relative;margin-left:-1px;margin-right:-1px;border-left:1px solid #0d0d0d;border-right:1px solid #0d0d0d;word-break:normal;pointer-events:none}.collaboration-cursor__label{position:absolute;top:-1.4em;left:-1px;font-size:12px;font-style:normal;font-weight:600;line-height:normal;user-select:none;color:#0d0d0d;padding:.1rem .3rem;border-radius:3px 3px 3px 0;white-space:nowrap;opacity:0}.collaboration-cursor__label.collaboration-cursor__label__active{opacity:1}.collaboration-cursor__label:not(.collaboration-cursor__label__active){transition:opacity .2s 5s}`,"",{version:3,sources:["webpack://./src/css/variables.scss","webpack://./src/css/style.scss","webpack://./src/css/print.scss","webpack://./src/css/prosemirror.scss","webpack://./src/components/Editor.vue"],names:[],mappings:"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",sourceRoot:""}]);const c=d},62277:(t,e,i)=>{"use strict";i.d(e,{A:()=>n});var r=i(71354),s=i.n(r),o=i(76314),a=i.n(o)()(s());a.push([t.id,".editor__content[data-v-7394eeaa]{max-width:min(var(--text-editor-max-width),100vw - 16px);margin:auto;position:relative;width:100%}.ie .editor__content[data-v-7394eeaa] .ProseMirror{padding-top:50px}.text-editor__content-wrapper[data-v-7394eeaa]{--side-width: calc((100% - var(--text-editor-max-width)) / 2);display:grid;grid-template-columns:1fr auto}.text-editor__content-wrapper.--show-outline[data-v-7394eeaa]{grid-template-columns:var(--side-width) auto var(--side-width)}.text-editor__content-wrapper .text-editor__content-wrapper__left[data-v-7394eeaa],.text-editor__content-wrapper .text-editor__content-wrapper__right[data-v-7394eeaa]{height:100%;position:relative}.is-rich-workspace .text-editor__content-wrapper[data-v-7394eeaa]{--side-width: var(--text-editor-max-width);grid-template-columns:var(--side-width) auto}.is-rich-workspace .text-editor__content-wrapper .text-editor__content-wrapper__left[data-v-7394eeaa],.is-rich-workspace .text-editor__content-wrapper .text-editor__content-wrapper__right[data-v-7394eeaa]{display:none}","",{version:3,sources:["webpack://./src/components/Editor/ContentContainer.vue"],names:[],mappings:"AACA,kCACC,wDAAA,CACA,WAAA,CACA,iBAAA,CACA,UAAA,CAIA,mDACC,gBAAA,CAIF,+CACC,6DAAA,CACA,YAAA,CACA,8BAAA,CACA,8DACC,8DAAA,CAED,uKAEC,WAAA,CACA,iBAAA,CAKD,kEACC,0CAAA,CACA,4CAAA,CACA,6MAEC,YAAA",sourceRoot:""}]);const n=a},63789:(t,e,i)=>{"use strict";i.d(e,{A:()=>n});var r=i(71354),s=i.n(r),o=i(76314),a=i.n(o)()(s());a.push([t.id,".document-status[data-v-0b12dfc2]{position:sticky;top:16px;z-index:100000;max-width:var(--text-editor-max-width);margin:auto;background-color:var(--color-main-background)}","",{version:3,sources:["webpack://./src/components/Editor/DocumentStatus.vue"],names:[],mappings:"AACA,kCACC,eAAA,CACA,QAAA,CACA,cAAA,CAEA,sCAAA,CACA,WAAA,CACA,6CAAA",sourceRoot:""}]);const n=a},76768:(t,e,i)=>{"use strict";i.d(e,{A:()=>n});var r=i(71354),s=i.n(r),o=i(76314),a=i.n(o)()(s());a.push([t.id,".text-editor__main[data-v-8ffa875e],.editor[data-v-8ffa875e]{background:var(--color-main-background);color:var(--color-main-text);background-clip:padding-box;border-radius:var(--border-radius);padding:0;position:relative;width:100%}","",{version:3,sources:["webpack://./src/components/Editor/MainContainer.vue"],names:[],mappings:"AACA,6DACC,uCAAA,CACA,4BAAA,CACA,2BAAA,CACA,kCAAA,CACA,SAAA,CACA,iBAAA,CACA,UAAA",sourceRoot:""}]);const n=a},26245:(t,e,i)=>{"use strict";i.d(e,{A:()=>n});var r=i(71354),s=i.n(r),o=i(76314),a=i.n(o)()(s());a.push([t.id,".text-editor__session-list[data-v-42888af2]{display:flex}.text-editor__session-list input[data-v-42888af2],.text-editor__session-list div[data-v-42888af2]{vertical-align:middle;margin-left:3px}.save-status[data-v-42888af2]{border-radius:50%;color:var(--color-text-lighter);display:inline-flex;justify-content:center;padding:0;height:44px;width:44px}.save-status[data-v-42888af2]:hover{background-color:var(--color-background-hover)}.last-saved[data-v-42888af2]{padding:6px}","",{version:3,sources:["webpack://./src/components/Editor/Status.vue"],names:[],mappings:"AACA,4CACC,YAAA,CAEA,kGACC,qBAAA,CACA,eAAA,CAIF,8BACC,iBAAA,CACA,+BAAA,CACA,mBAAA,CACA,sBAAA,CACA,SAAA,CACA,WAAA,CACA,UAAA,CAEA,oCACC,8CAAA,CAIF,6BACC,WAAA",sourceRoot:""}]);const n=a},58923:(t,e,i)=>{"use strict";i.d(e,{A:()=>n});var r=i(71354),s=i.n(r),o=i(76314),a=i.n(o)()(s());a.push([t.id,".text-editor__wrapper[data-v-4e6be2c3]{display:flex;width:100%;height:100%}.text-editor__wrapper.show-color-annotations[data-v-4e6be2c3] .author-annotation{padding-top:2px;padding-bottom:2px}.text-editor__wrapper[data-v-4e6be2c3]:not(.show-color-annotations) .author-annotation,.text-editor__wrapper[data-v-4e6be2c3]:not(.show-color-annotations) .image{background-color:rgba(0,0,0,0) !important}.text-editor__wrapper .ProseMirror[data-v-4e6be2c3]{margin-top:0 !important}","",{version:3,sources:["webpack://./src/components/Editor/Wrapper.vue"],names:[],mappings:"AAEA,uCACC,YAAA,CACA,UAAA,CACA,WAAA,CAEA,iFACC,eAAA,CACA,kBAAA,CAGD,kKAEC,yCAAA,CAGD,oDACC,uBAAA",sourceRoot:""}]);const n=a},85174:(t,e,i)=>{"use strict";i.d(e,{A:()=>c});var r=i(71354),s=i.n(r),o=i(76314),a=i.n(o),n=i(4417),A=i.n(n),l=new URL(i(19756),i.b),d=a()(s()),h=A()(l);d.push([t.id,`[data-v-50a3a42d] .modal-wrapper .modal-container{width:max-content;padding:30px 40px 20px;user-select:text}@media only screen and (max-width: 512px){[data-v-50a3a42d] .modal-wrapper .modal-container{width:inherit;padding:10px 0}}table[data-v-50a3a42d]{margin-top:24px;border-collapse:collapse}table tbody tr[data-v-50a3a42d]:hover,table tbody tr[data-v-50a3a42d]:focus,table tbody tr[data-v-50a3a42d]:active{background-color:rgba(0,0,0,0) !important}table thead tr[data-v-50a3a42d]{border:none}table th[data-v-50a3a42d]{font-weight:bold;padding:.75rem 1rem .75rem 0;border-bottom:2px solid var(--color-background-darker)}table td[data-v-50a3a42d]{padding:.75rem 1rem .75rem 0;border-top:1px solid var(--color-background-dark);border-bottom:unset}table td.noborder[data-v-50a3a42d]{border-top:unset}table td.ellipsis_top[data-v-50a3a42d]{padding-bottom:0}table td.ellipsis[data-v-50a3a42d]{padding-top:0;padding-bottom:0}table td.ellipsis_bottom[data-v-50a3a42d]{padding-top:0}table kbd[data-v-50a3a42d]{font-size:smaller}table code[data-v-50a3a42d]{padding:.2em .4em;font-size:90%;background-color:var(--color-background-dark);border-radius:6px}div.ProseMirror[data-v-50a3a42d]{height:100%;position:relative;word-wrap:break-word;white-space:pre-wrap;-webkit-font-variant-ligatures:none;font-variant-ligatures:none;padding:4px 8px 200px 14px;line-height:150%;font-size:var(--default-font-size);outline:none;--table-color-border: var(--color-border);--table-color-heading: var(--color-text-maxcontrast);--table-color-heading-border: var(--color-border-dark);--table-color-background: var(--color-main-background);--table-color-background-hover: var(--color-primary-element-light);--table-border-radius: var(--border-radius)}div.ProseMirror[data-v-50a3a42d] :target{scroll-margin-top:50px}div.ProseMirror[contenteditable=true][data-v-50a3a42d],div.ProseMirror[contenteditable=false][data-v-50a3a42d],div.ProseMirror [contenteditable=true][data-v-50a3a42d],div.ProseMirror [contenteditable=false][data-v-50a3a42d]{width:100%;background-color:rgba(0,0,0,0);color:var(--color-main-text);opacity:1;-webkit-user-select:text;user-select:text;font-size:var(--default-font-size)}div.ProseMirror[contenteditable=true][data-v-50a3a42d]:not(.collaboration-cursor__caret),div.ProseMirror[contenteditable=false][data-v-50a3a42d]:not(.collaboration-cursor__caret),div.ProseMirror [contenteditable=true][data-v-50a3a42d]:not(.collaboration-cursor__caret),div.ProseMirror [contenteditable=false][data-v-50a3a42d]:not(.collaboration-cursor__caret){border:none !important}div.ProseMirror[contenteditable=true][data-v-50a3a42d]:focus,div.ProseMirror[contenteditable=true][data-v-50a3a42d]:focus-visible,div.ProseMirror[contenteditable=false][data-v-50a3a42d]:focus,div.ProseMirror[contenteditable=false][data-v-50a3a42d]:focus-visible,div.ProseMirror [contenteditable=true][data-v-50a3a42d]:focus,div.ProseMirror [contenteditable=true][data-v-50a3a42d]:focus-visible,div.ProseMirror [contenteditable=false][data-v-50a3a42d]:focus,div.ProseMirror [contenteditable=false][data-v-50a3a42d]:focus-visible{box-shadow:none !important}div.ProseMirror ul[data-type=taskList][data-v-50a3a42d]{margin-left:1px}div.ProseMirror .checkbox-item[data-v-50a3a42d]{display:flex;align-items:start}div.ProseMirror .checkbox-item input[type=checkbox][data-v-50a3a42d]{display:none}div.ProseMirror .checkbox-item[data-v-50a3a42d]:before{content:"";vertical-align:middle;margin:3px 6px 3px 2px;border:1px solid var(--color-text-maxcontrast);display:block;border-radius:var(--border-radius);height:14px;width:14px;box-shadow:none !important;background-position:center;cursor:pointer;left:9px}div.ProseMirror .checkbox-item.checked[data-v-50a3a42d]:before{background-image:url(${h});background-color:var(--color-primary-element);border-color:var(--color-primary-element)}div.ProseMirror .checkbox-item.checked>label>p[data-v-50a3a42d]{color:var(--color-text-maxcontrast);text-decoration:line-through}div.ProseMirror .checkbox-item label[data-v-50a3a42d]{display:block;flex-grow:1;max-width:calc(100% - 28px)}div.ProseMirror>*[data-v-50a3a42d]:first-child{margin-top:10px}div.ProseMirror>h1[data-v-50a3a42d],div.ProseMirror h2[data-v-50a3a42d],div.ProseMirror h3[data-v-50a3a42d],div.ProseMirror h4[data-v-50a3a42d],div.ProseMirror h5[data-v-50a3a42d],div.ProseMirror h6[data-v-50a3a42d]{position:relative}div.ProseMirror>h1[data-v-50a3a42d]:first-child,div.ProseMirror h2[data-v-50a3a42d]:first-child,div.ProseMirror h3[data-v-50a3a42d]:first-child,div.ProseMirror h4[data-v-50a3a42d]:first-child,div.ProseMirror h5[data-v-50a3a42d]:first-child,div.ProseMirror h6[data-v-50a3a42d]:first-child{margin-top:0}div.ProseMirror>h1 .heading-anchor[contenteditable=false][data-v-50a3a42d],div.ProseMirror h2 .heading-anchor[contenteditable=false][data-v-50a3a42d],div.ProseMirror h3 .heading-anchor[contenteditable=false][data-v-50a3a42d],div.ProseMirror h4 .heading-anchor[contenteditable=false][data-v-50a3a42d],div.ProseMirror h5 .heading-anchor[contenteditable=false][data-v-50a3a42d],div.ProseMirror h6 .heading-anchor[contenteditable=false][data-v-50a3a42d]{width:1em;opacity:0;padding:0;left:-1em;top:0;font-size:max(1em,16px);position:absolute;text-decoration:none;transition-duration:.15s;transition-property:opacity;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}div.ProseMirror>h1:hover .heading-anchor[data-v-50a3a42d],div.ProseMirror h2:hover .heading-anchor[data-v-50a3a42d],div.ProseMirror h3:hover .heading-anchor[data-v-50a3a42d],div.ProseMirror h4:hover .heading-anchor[data-v-50a3a42d],div.ProseMirror h5:hover .heading-anchor[data-v-50a3a42d],div.ProseMirror h6:hover .heading-anchor[data-v-50a3a42d]{opacity:.5 !important}div.ProseMirror>h1[data-v-50a3a42d]:focus-visible,div.ProseMirror h2[data-v-50a3a42d]:focus-visible,div.ProseMirror h3[data-v-50a3a42d]:focus-visible,div.ProseMirror h4[data-v-50a3a42d]:focus-visible,div.ProseMirror h5[data-v-50a3a42d]:focus-visible,div.ProseMirror h6[data-v-50a3a42d]:focus-visible{outline:none}div.ProseMirror a[data-v-50a3a42d]{color:var(--color-primary-element);text-decoration:underline;padding:.5em 0}div.ProseMirror p .paragraph-content[data-v-50a3a42d]{margin-bottom:1em;line-height:150%}div.ProseMirror em[data-v-50a3a42d]{font-style:italic}div.ProseMirror h1[data-v-50a3a42d],div.ProseMirror h2[data-v-50a3a42d],div.ProseMirror h3[data-v-50a3a42d],div.ProseMirror h4[data-v-50a3a42d],div.ProseMirror h5[data-v-50a3a42d],div.ProseMirror h6[data-v-50a3a42d]{font-weight:600;line-height:1.1em;margin-top:24px;margin-bottom:12px;color:var(--color-main-text)}div.ProseMirror h1[data-v-50a3a42d]{font-size:36px}div.ProseMirror h2[data-v-50a3a42d]{font-size:30px}div.ProseMirror h3[data-v-50a3a42d]{font-size:24px}div.ProseMirror h4[data-v-50a3a42d]{font-size:21px}div.ProseMirror h5[data-v-50a3a42d]{font-size:17px}div.ProseMirror h6[data-v-50a3a42d]{font-size:var(--default-font-size)}div.ProseMirror img[data-v-50a3a42d]{cursor:default;max-width:100%}div.ProseMirror hr[data-v-50a3a42d]{padding:2px 0;border:none;margin:2em 0;width:100%}div.ProseMirror hr[data-v-50a3a42d]:after{content:"";display:block;height:1px;background-color:var(--color-border-dark);line-height:2px}div.ProseMirror pre[data-v-50a3a42d]{white-space:pre-wrap;background-color:var(--color-background-dark);border-radius:var(--border-radius);padding:1em 1.3em;margin-bottom:1em}div.ProseMirror pre[data-v-50a3a42d]::before{content:attr(data-language);text-transform:uppercase;display:block;text-align:right;font-weight:bold;font-size:.6rem}div.ProseMirror pre code .hljs-comment[data-v-50a3a42d],div.ProseMirror pre code .hljs-quote[data-v-50a3a42d]{color:#999}div.ProseMirror pre code .hljs-variable[data-v-50a3a42d],div.ProseMirror pre code .hljs-template-variable[data-v-50a3a42d],div.ProseMirror pre code .hljs-attribute[data-v-50a3a42d],div.ProseMirror pre code .hljs-tag[data-v-50a3a42d],div.ProseMirror pre code .hljs-name[data-v-50a3a42d],div.ProseMirror pre code .hljs-regexp[data-v-50a3a42d],div.ProseMirror pre code .hljs-link[data-v-50a3a42d],div.ProseMirror pre code .hljs-selector-id[data-v-50a3a42d],div.ProseMirror pre code .hljs-selector-class[data-v-50a3a42d]{color:#f2777a}div.ProseMirror pre code .hljs-number[data-v-50a3a42d],div.ProseMirror pre code .hljs-meta[data-v-50a3a42d],div.ProseMirror pre code .hljs-built_in[data-v-50a3a42d],div.ProseMirror pre code .hljs-builtin-name[data-v-50a3a42d],div.ProseMirror pre code .hljs-literal[data-v-50a3a42d],div.ProseMirror pre code .hljs-type[data-v-50a3a42d],div.ProseMirror pre code .hljs-params[data-v-50a3a42d]{color:#f99157}div.ProseMirror pre code .hljs-string[data-v-50a3a42d],div.ProseMirror pre code .hljs-symbol[data-v-50a3a42d],div.ProseMirror pre code .hljs-bullet[data-v-50a3a42d]{color:#9c9}div.ProseMirror pre code .hljs-title[data-v-50a3a42d],div.ProseMirror pre code .hljs-section[data-v-50a3a42d]{color:#fc6}div.ProseMirror pre code .hljs-keyword[data-v-50a3a42d],div.ProseMirror pre code .hljs-selector-tag[data-v-50a3a42d]{color:#69c}div.ProseMirror pre code .hljs-emphasis[data-v-50a3a42d]{font-style:italic}div.ProseMirror pre code .hljs-strong[data-v-50a3a42d]{font-weight:700}div.ProseMirror pre.frontmatter[data-v-50a3a42d]{margin-bottom:2em;border-left:4px solid var(--color-primary-element)}div.ProseMirror pre.frontmatter[data-v-50a3a42d]::before{display:block;content:attr(data-title);color:var(--color-text-maxcontrast);padding-bottom:.5em}div.ProseMirror p code[data-v-50a3a42d]{background-color:var(--color-background-dark);border-radius:var(--border-radius);padding:.1em .3em}div.ProseMirror li[data-v-50a3a42d]{position:relative;padding-left:3px}div.ProseMirror li p .paragraph-content[data-v-50a3a42d]{margin-bottom:.5em}div.ProseMirror ul[data-v-50a3a42d],div.ProseMirror ol[data-v-50a3a42d]{padding-left:10px;margin-left:10px;margin-bottom:1em}div.ProseMirror ul>li[data-v-50a3a42d]{list-style-type:disc}div.ProseMirror li ul>li[data-v-50a3a42d]{list-style-type:circle}div.ProseMirror li li ul>li[data-v-50a3a42d]{list-style-type:square}div.ProseMirror blockquote[data-v-50a3a42d]{padding-left:1em;border-left:4px solid var(--color-primary-element);color:var(--color-text-maxcontrast);margin-left:0;margin-right:0}div.ProseMirror table[data-v-50a3a42d]{border-spacing:0;width:calc(100% - 50px);table-layout:auto;white-space:normal;margin-bottom:1em}div.ProseMirror table+*[data-v-50a3a42d]{margin-top:1em}div.ProseMirror table td[data-v-50a3a42d],div.ProseMirror table th[data-v-50a3a42d]{border:1px solid var(--table-color-border);border-left:0;vertical-align:top;max-width:100%}div.ProseMirror table td[data-v-50a3a42d]:first-child,div.ProseMirror table th[data-v-50a3a42d]:first-child{border-left:1px solid var(--table-color-border)}div.ProseMirror table td[data-v-50a3a42d]{padding:.5em .75em;border-top:0;color:var(--color-main-text)}div.ProseMirror table th[data-v-50a3a42d]{padding:0 0 0 .75em;font-weight:normal;border-bottom-color:var(--table-color-heading-border);color:var(--table-color-heading)}div.ProseMirror table th>div[data-v-50a3a42d]{display:flex}div.ProseMirror table tr[data-v-50a3a42d]{background-color:var(--table-color-background)}div.ProseMirror table tr[data-v-50a3a42d]:hover,div.ProseMirror table tr[data-v-50a3a42d]:active,div.ProseMirror table tr[data-v-50a3a42d]:focus{background-color:var(--table-color-background-hover)}div.ProseMirror table tr:first-child th[data-v-50a3a42d]:first-child{border-top-left-radius:var(--table-border-radius)}div.ProseMirror table tr:first-child th[data-v-50a3a42d]:last-child{border-top-right-radius:var(--table-border-radius)}div.ProseMirror table tr:last-child td[data-v-50a3a42d]:first-child{border-bottom-left-radius:var(--table-border-radius)}div.ProseMirror table tr:last-child td[data-v-50a3a42d]:last-child{border-bottom-right-radius:var(--table-border-radius)}.ProseMirror-focused .ProseMirror-gapcursor[data-v-50a3a42d]{display:block}.editor__content p.is-empty[data-v-50a3a42d]:first-child::before{content:attr(data-placeholder);float:left;color:var(--color-text-maxcontrast);pointer-events:none;height:0}.editor__content[data-v-50a3a42d]{tab-size:4}div.ProseMirror[data-v-50a3a42d]{display:inline;margin-top:unset;position:unset;padding:unset;line-height:unset}div.ProseMirror h1[data-v-50a3a42d],div.ProseMirror h6[data-v-50a3a42d]{display:inline;padding:0;margin:0}`,"",{version:3,sources:["webpack://./src/components/HelpModal.vue","webpack://./src/css/prosemirror.scss"],names:[],mappings:"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",sourceRoot:""}]);const c=d},47866:(t,e,i)=>{"use strict";i.d(e,{A:()=>n});var r=i(71354),s=i.n(r),o=i(76314),a=i.n(o)()(s());a.push([t.id,".text-menubar[data-v-f58d9d04]{--background-blur: blur(10px);position:sticky;top:0;z-index:10021;background-color:var(--color-main-background-translucent);backdrop-filter:var(--background-blur);max-height:44px;padding-top:3px;padding-bottom:3px;visibility:hidden;display:flex;justify-content:flex-end;align-items:center}.text-menubar.text-menubar--ready[data-v-f58d9d04]:not(.text-menubar--hide){visibility:visible;animation-name:fadeInDown;animation-duration:.3s}.text-menubar.text-menubar--hide[data-v-f58d9d04]{opacity:0;transition:visibility .2s .4s,opacity .2s .4s}.text-menubar .text-menubar__entries[data-v-f58d9d04]{display:flex;flex-grow:1;margin-left:max(0px,(100% - var(--text-editor-max-width))/2)}.text-menubar .text-menubar__slot[data-v-f58d9d04]{justify-content:flex-end;display:flex;min-width:max(0px,min(100px,(100% - var(--text-editor-max-width))/2))}.text-menubar.text-menubar--is-workspace .text-menubar__entries[data-v-f58d9d04]{margin-left:0}@media(max-width: 660px){.text-menubar .text-menubar__entries[data-v-f58d9d04]{margin-left:0}}","",{version:3,sources:["webpack://./src/components/Menu/MenuBar.vue"],names:[],mappings:"AACA,+BACC,6BAAA,CACA,eAAA,CACA,KAAA,CACA,aAAA,CACA,yDAAA,CACA,sCAAA,CACA,eAAA,CACA,eAAA,CACA,kBAAA,CAEA,iBAAA,CAEA,YAAA,CACA,wBAAA,CACA,kBAAA,CAEA,4EACC,kBAAA,CACA,yBAAA,CACA,sBAAA,CAGD,kDACC,SAAA,CACA,6CAAA,CAED,sDACC,YAAA,CACA,WAAA,CACA,4DAAA,CAGD,mDACC,wBAAA,CACA,YAAA,CACA,qEAAA,CAIA,iFACC,aAAA,CAIF,yBACC,sDACC,aAAA,CAAA",sourceRoot:""}]);const n=a},90380:(t,e,i)=>{"use strict";i.d(e,{A:()=>n});var r=i(71354),s=i.n(r),o=i(76314),a=i.n(o)()(s());a.push([t.id,".translate-dialog[data-v-56672a1d]{margin:24px}.translate-dialog .wrapper[data-v-56672a1d]{display:grid;grid-template-columns:repeat(auto-fill, minmax(300px, 1fr));grid-column-gap:16px;margin-top:calc(var(--default-grid-baseline)*6)}.translate-dialog .wrapper .language-selector[data-v-56672a1d]{font-weight:bold;flex-wrap:wrap;gap:var(--default-grid-baseline)}.translate-dialog .wrapper .col[data-v-56672a1d]{grid-row:1/2}.translate-dialog[data-v-56672a1d] .translate-textarea{display:block;width:100%;margin-bottom:12px;height:auto;resize:none;box-sizing:border-box;overflow-y:auto;max-height:58vh}@media(max-width: 670px){.translate-dialog .wrapper[data-v-56672a1d]{display:block}.translate-dialog .language-selector .select[data-v-56672a1d]{width:100%}.translate-dialog[data-v-56672a1d] .translate-textarea{max-height:20vh}label[for=fromLanguage][data-v-56672a1d],label[for=toLanguage][data-v-56672a1d]{display:none}}.language-selector[data-v-56672a1d]{display:flex;align-items:center;margin-bottom:12px}.language-selector label[data-v-56672a1d]{flex-grow:1}.translate-actions[data-v-56672a1d]{display:flex;justify-content:flex-end}.translate-actions button[data-v-56672a1d]{margin-left:12px}","",{version:3,sources:["webpack://./src/components/Modal/Translate.vue"],names:[],mappings:"AACA,mCACC,WAAA,CAEA,4CACC,YAAA,CACA,2DAAA,CACA,oBAAA,CACA,+CAAA,CAEA,+DACC,gBAAA,CACA,cAAA,CACA,gCAAA,CAGD,iDACC,YAAA,CAIF,uDACC,aAAA,CACA,UAAA,CACA,kBAAA,CACA,WAAA,CACA,WAAA,CACA,qBAAA,CACA,eAAA,CACA,eAAA,CAIF,yBAEE,4CACC,aAAA,CAIA,8DACC,UAAA,CAIF,uDACC,eAAA,CAKD,gFAEC,YAAA,CAAA,CAKH,oCACC,YAAA,CACA,kBAAA,CACA,kBAAA,CAEA,0CACC,WAAA,CAIF,oCACC,YAAA,CACA,wBAAA,CAEA,2CACC,gBAAA",sourceRoot:""}]);const n=a},73922:(t,e,i)=>{"use strict";i.d(e,{A:()=>n});var r=i(71354),s=i.n(r),o=i(76314),a=i.n(o)()(s());a.push([t.id,"#read-only-editor{overflow:scroll}.thumbnailContainer #read-only-editor{width:100%}.thumbnailContainer #read-only-editor .ProseMirror{height:auto;margin:0 0 0 0;padding:0}","",{version:3,sources:["webpack://./src/components/Reader.vue"],names:[],mappings:"AAEA,kBACC,eAAA,CAGD,sCACC,UAAA,CAEA,mDACC,WAAA,CACA,cAAA,CACA,SAAA",sourceRoot:""}]);const n=a},55521:(t,e,i)=>{"use strict";i.d(e,{A:()=>c});var r=i(71354),s=i.n(r),o=i(76314),a=i.n(o),n=i(4417),A=i.n(n),l=new URL(i(19756),i.b),d=a()(s()),h=A()(l);d.push([t.id,`div.ProseMirror{height:100%;position:relative;word-wrap:break-word;white-space:pre-wrap;-webkit-font-variant-ligatures:none;font-variant-ligatures:none;padding:4px 8px 200px 14px;line-height:150%;font-size:var(--default-font-size);outline:none;--table-color-border: var(--color-border);--table-color-heading: var(--color-text-maxcontrast);--table-color-heading-border: var(--color-border-dark);--table-color-background: var(--color-main-background);--table-color-background-hover: var(--color-primary-element-light);--table-border-radius: var(--border-radius)}div.ProseMirror :target{scroll-margin-top:50px}div.ProseMirror[contenteditable=true],div.ProseMirror[contenteditable=false],div.ProseMirror [contenteditable=true],div.ProseMirror [contenteditable=false]{width:100%;background-color:rgba(0,0,0,0);color:var(--color-main-text);opacity:1;-webkit-user-select:text;user-select:text;font-size:var(--default-font-size)}div.ProseMirror[contenteditable=true]:not(.collaboration-cursor__caret),div.ProseMirror[contenteditable=false]:not(.collaboration-cursor__caret),div.ProseMirror [contenteditable=true]:not(.collaboration-cursor__caret),div.ProseMirror [contenteditable=false]:not(.collaboration-cursor__caret){border:none !important}div.ProseMirror[contenteditable=true]:focus,div.ProseMirror[contenteditable=true]:focus-visible,div.ProseMirror[contenteditable=false]:focus,div.ProseMirror[contenteditable=false]:focus-visible,div.ProseMirror [contenteditable=true]:focus,div.ProseMirror [contenteditable=true]:focus-visible,div.ProseMirror [contenteditable=false]:focus,div.ProseMirror [contenteditable=false]:focus-visible{box-shadow:none !important}div.ProseMirror ul[data-type=taskList]{margin-left:1px}div.ProseMirror .checkbox-item{display:flex;align-items:start}div.ProseMirror .checkbox-item input[type=checkbox]{display:none}div.ProseMirror .checkbox-item:before{content:"";vertical-align:middle;margin:3px 6px 3px 2px;border:1px solid var(--color-text-maxcontrast);display:block;border-radius:var(--border-radius);height:14px;width:14px;box-shadow:none !important;background-position:center;cursor:pointer;left:9px}div.ProseMirror .checkbox-item.checked:before{background-image:url(${h});background-color:var(--color-primary-element);border-color:var(--color-primary-element)}div.ProseMirror .checkbox-item.checked>label>p{color:var(--color-text-maxcontrast);text-decoration:line-through}div.ProseMirror .checkbox-item label{display:block;flex-grow:1;max-width:calc(100% - 28px)}div.ProseMirror>*:first-child{margin-top:10px}div.ProseMirror>h1,div.ProseMirror h2,div.ProseMirror h3,div.ProseMirror h4,div.ProseMirror h5,div.ProseMirror h6{position:relative}div.ProseMirror>h1:first-child,div.ProseMirror h2:first-child,div.ProseMirror h3:first-child,div.ProseMirror h4:first-child,div.ProseMirror h5:first-child,div.ProseMirror h6:first-child{margin-top:0}div.ProseMirror>h1 .heading-anchor[contenteditable=false],div.ProseMirror h2 .heading-anchor[contenteditable=false],div.ProseMirror h3 .heading-anchor[contenteditable=false],div.ProseMirror h4 .heading-anchor[contenteditable=false],div.ProseMirror h5 .heading-anchor[contenteditable=false],div.ProseMirror h6 .heading-anchor[contenteditable=false]{width:1em;opacity:0;padding:0;left:-1em;top:0;font-size:max(1em,16px);position:absolute;text-decoration:none;transition-duration:.15s;transition-property:opacity;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}div.ProseMirror>h1:hover .heading-anchor,div.ProseMirror h2:hover .heading-anchor,div.ProseMirror h3:hover .heading-anchor,div.ProseMirror h4:hover .heading-anchor,div.ProseMirror h5:hover .heading-anchor,div.ProseMirror h6:hover .heading-anchor{opacity:.5 !important}div.ProseMirror>h1:focus-visible,div.ProseMirror h2:focus-visible,div.ProseMirror h3:focus-visible,div.ProseMirror h4:focus-visible,div.ProseMirror h5:focus-visible,div.ProseMirror h6:focus-visible{outline:none}div.ProseMirror a{color:var(--color-primary-element);text-decoration:underline;padding:.5em 0}div.ProseMirror p .paragraph-content{margin-bottom:1em;line-height:150%}div.ProseMirror em{font-style:italic}div.ProseMirror h1,div.ProseMirror h2,div.ProseMirror h3,div.ProseMirror h4,div.ProseMirror h5,div.ProseMirror h6{font-weight:600;line-height:1.1em;margin-top:24px;margin-bottom:12px;color:var(--color-main-text)}div.ProseMirror h1{font-size:36px}div.ProseMirror h2{font-size:30px}div.ProseMirror h3{font-size:24px}div.ProseMirror h4{font-size:21px}div.ProseMirror h5{font-size:17px}div.ProseMirror h6{font-size:var(--default-font-size)}div.ProseMirror img{cursor:default;max-width:100%}div.ProseMirror hr{padding:2px 0;border:none;margin:2em 0;width:100%}div.ProseMirror hr:after{content:"";display:block;height:1px;background-color:var(--color-border-dark);line-height:2px}div.ProseMirror pre{white-space:pre-wrap;background-color:var(--color-background-dark);border-radius:var(--border-radius);padding:1em 1.3em;margin-bottom:1em}div.ProseMirror pre::before{content:attr(data-language);text-transform:uppercase;display:block;text-align:right;font-weight:bold;font-size:.6rem}div.ProseMirror pre code .hljs-comment,div.ProseMirror pre code .hljs-quote{color:#999}div.ProseMirror pre code .hljs-variable,div.ProseMirror pre code .hljs-template-variable,div.ProseMirror pre code .hljs-attribute,div.ProseMirror pre code .hljs-tag,div.ProseMirror pre code .hljs-name,div.ProseMirror pre code .hljs-regexp,div.ProseMirror pre code .hljs-link,div.ProseMirror pre code .hljs-selector-id,div.ProseMirror pre code .hljs-selector-class{color:#f2777a}div.ProseMirror pre code .hljs-number,div.ProseMirror pre code .hljs-meta,div.ProseMirror pre code .hljs-built_in,div.ProseMirror pre code .hljs-builtin-name,div.ProseMirror pre code .hljs-literal,div.ProseMirror pre code .hljs-type,div.ProseMirror pre code .hljs-params{color:#f99157}div.ProseMirror pre code .hljs-string,div.ProseMirror pre code .hljs-symbol,div.ProseMirror pre code .hljs-bullet{color:#9c9}div.ProseMirror pre code .hljs-title,div.ProseMirror pre code .hljs-section{color:#fc6}div.ProseMirror pre code .hljs-keyword,div.ProseMirror pre code .hljs-selector-tag{color:#69c}div.ProseMirror pre code .hljs-emphasis{font-style:italic}div.ProseMirror pre code .hljs-strong{font-weight:700}div.ProseMirror pre.frontmatter{margin-bottom:2em;border-left:4px solid var(--color-primary-element)}div.ProseMirror pre.frontmatter::before{display:block;content:attr(data-title);color:var(--color-text-maxcontrast);padding-bottom:.5em}div.ProseMirror p code{background-color:var(--color-background-dark);border-radius:var(--border-radius);padding:.1em .3em}div.ProseMirror li{position:relative;padding-left:3px}div.ProseMirror li p .paragraph-content{margin-bottom:.5em}div.ProseMirror ul,div.ProseMirror ol{padding-left:10px;margin-left:10px;margin-bottom:1em}div.ProseMirror ul>li{list-style-type:disc}div.ProseMirror li ul>li{list-style-type:circle}div.ProseMirror li li ul>li{list-style-type:square}div.ProseMirror blockquote{padding-left:1em;border-left:4px solid var(--color-primary-element);color:var(--color-text-maxcontrast);margin-left:0;margin-right:0}div.ProseMirror table{border-spacing:0;width:calc(100% - 50px);table-layout:auto;white-space:normal;margin-bottom:1em}div.ProseMirror table+*{margin-top:1em}div.ProseMirror table td,div.ProseMirror table th{border:1px solid var(--table-color-border);border-left:0;vertical-align:top;max-width:100%}div.ProseMirror table td:first-child,div.ProseMirror table th:first-child{border-left:1px solid var(--table-color-border)}div.ProseMirror table td{padding:.5em .75em;border-top:0;color:var(--color-main-text)}div.ProseMirror table th{padding:0 0 0 .75em;font-weight:normal;border-bottom-color:var(--table-color-heading-border);color:var(--table-color-heading)}div.ProseMirror table th>div{display:flex}div.ProseMirror table tr{background-color:var(--table-color-background)}div.ProseMirror table tr:hover,div.ProseMirror table tr:active,div.ProseMirror table tr:focus{background-color:var(--table-color-background-hover)}div.ProseMirror table tr:first-child th:first-child{border-top-left-radius:var(--table-border-radius)}div.ProseMirror table tr:first-child th:last-child{border-top-right-radius:var(--table-border-radius)}div.ProseMirror table tr:last-child td:first-child{border-bottom-left-radius:var(--table-border-radius)}div.ProseMirror table tr:last-child td:last-child{border-bottom-right-radius:var(--table-border-radius)}.ProseMirror-focused .ProseMirror-gapcursor{display:block}.editor__content p.is-empty:first-child::before{content:attr(data-placeholder);float:left;color:var(--color-text-maxcontrast);pointer-events:none;height:0}.editor__content{tab-size:4}@media print{@page{size:A4;margin:2.5cm 2cm 2cm 2.5cm}body{position:absolute;overflow:visible !important}#header{display:none !important}#content{display:block !important;position:relative !important;border-radius:0;margin:0;width:100%;height:fit-content}footer{display:none !important}#viewer[data-handler=text]{border:none;width:100% !important;position:absolute !important}#viewer[data-handler=text] .modal-header{display:none !important}#viewer[data-handler=text] .modal-container{top:0px;height:fit-content}.text-editor{height:fit-content !important}.text-editor .text-menubar{display:none !important}.text-editor .action-item{display:none !important}.text-editor .editor__content{max-width:100%}.text-editor .text-editor__wrapper{height:fit-content;position:unset}.text-editor .text-editor__wrapper div.ProseMirror{margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0}.text-editor .text-editor__wrapper div.ProseMirror h1,.text-editor .text-editor__wrapper div.ProseMirror h2,.text-editor .text-editor__wrapper div.ProseMirror h3,.text-editor .text-editor__wrapper div.ProseMirror h4,.text-editor .text-editor__wrapper div.ProseMirror h5{break-after:avoid;page-break-after:avoid}.text-editor .text-editor__wrapper div.ProseMirror .image,.text-editor .text-editor__wrapper div.ProseMirror img,.text-editor .text-editor__wrapper div.ProseMirror table{break-inside:avoid-page;page-break-inside:avoid;max-width:90% !important;margin:5vw auto 5vw 5% !important}.text-editor .text-editor__wrapper div.ProseMirror th{color:#000 !important;font-weight:bold !important;border-width:0 1px 2px 0 !important;border-color:gray !important;border-style:none solid solid none !important}.text-editor .text-editor__wrapper div.ProseMirror th:last-of-type{border-width:0 0 2px 0 !important}.text-editor .text-editor__wrapper div.ProseMirror td{border-style:none solid none none !important;border-width:1px !important;border-color:gray !important}.text-editor .text-editor__wrapper div.ProseMirror td:last-of-type{border:none !important}.menubar-placeholder,.text-editor--readonly-bar{display:none}.text-editor__content-wrapper.--show-outline{display:block}.text-editor__content-wrapper .editor--outline{width:auto;height:auto;overflow:unset;position:relative}.text-editor__content-wrapper .editor--outline__btn-close{display:none}.collaboration-cursor__caret,.collaboration-cursor__label{display:none}}`,"",{version:3,sources:["webpack://./src/css/prosemirror.scss","webpack://./src/css/print.scss"],names:[],mappings:"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",sourceRoot:""}]);const c=d},93346:(t,e,i)=>{"use strict";i.d(e,{A:()=>n});var r=i(71354),s=i.n(r),o=i(76314),a=i.n(o)()(s());a.push([t.id,".placeholder-main[data-v-5a5c7130]{max-width:670px;position:relative;margin-bottom:auto;z-index:1}.placeholder-main-text[data-v-5a5c7130]{margin:50px auto 0;width:100%}#rich-workspace .placeholder-main-text[data-v-5a5c7130]{margin:40px 0 0}.placeholder-list[data-v-5a5c7130]{position:absolute;transform:translateZ(0)}.placeholder-list-regular[data-v-5a5c7130]{animation:pulse-5a5c7130 2s;animation-iteration-count:infinite;animation-timing-function:linear}.placeholder-list-reverse[data-v-5a5c7130]{animation:pulse-reverse-5a5c7130 2s;animation-iteration-count:infinite;animation-timing-function:linear}.placeholder-gradient[data-v-5a5c7130]{position:fixed;height:0;width:0;z-index:-1}.text-placeholder[data-v-5a5c7130]{width:min(670px,100vw);height:6em;margin:8px auto;padding:4px 8px 0 14px;display:block}.text-placeholder-line-one[data-v-5a5c7130],.text-placeholder-line-two[data-v-5a5c7130],.text-placeholder-line-three[data-v-5a5c7130],.text-placeholder-line-four[data-v-5a5c7130]{width:670px;height:1em}.text-placeholder-line-one[data-v-5a5c7130]{y:.33em;width:175px}.text-placeholder-line-two[data-v-5a5c7130]{y:1.66em}.text-placeholder-line-three[data-v-5a5c7130]{y:3em}.text-placeholder-line-four[data-v-5a5c7130]{y:4.33em}@keyframes pulse-5a5c7130{0%{opacity:1}50%{opacity:0}100%{opacity:1}}@keyframes pulse-reverse-5a5c7130{0%{opacity:0}50%{opacity:1}100%{opacity:0}}","",{version:3,sources:["webpack://./src/components/SkeletonLoading.vue"],names:[],mappings:"AAIA,mCACC,eAHyB,CAIzB,iBAAA,CACA,kBAAA,CACA,SAAA,CAEA,wCACC,kBAAA,CACA,UAAA,CAIF,wDACC,eAAA,CAGD,mCACC,iBAAA,CACA,uBAAA,CAGD,2CACC,2BAAA,CACA,kCAAA,CACA,gCAAA,CAGD,2CACC,mCAAA,CACA,kCAAA,CACA,gCAAA,CAGD,uCACC,cAAA,CACA,QAAA,CACA,OAAA,CACA,UAAA,CAGD,mCACC,sBAAA,CACA,UAAA,CACA,eAAA,CACA,sBAAA,CACA,aAAA,CAEA,mLAIC,WAAA,CACA,UAAA,CAGD,4CACC,OAAA,CACA,WAAA,CAGD,4CACC,QAAA,CAGD,8CACC,KAAA,CAGD,6CACC,QAAA,CAIF,0BACC,GACC,SAAA,CAED,IACC,SAAA,CAED,KACC,SAAA,CAAA,CAIF,kCACC,GACC,SAAA,CAED,IACC,SAAA,CAED,KACC,SAAA,CAAA",sourceRoot:""}]);const n=a},75429:(t,e,i)=>{"use strict";i.d(e,{A:()=>u});var r=i(71354),s=i.n(r),o=i(76314),a=i.n(o),n=i(4417),A=i.n(n),l=new URL(i(88144),i.b),d=new URL(i(79937),i.b),h=new URL(i(61299),i.b),c=a()(s()),C=A()(l),p=A()(d),g=A()(h);c.push([t.id,`.autocomplete-result[data-v-2145738d]{display:flex;height:30px;padding:10px}.highlight .autocomplete-result[data-v-2145738d]{color:var(--color-main-text);background:var(--color-primary-element-light)}.highlight .autocomplete-result[data-v-2145738d],.highlight .autocomplete-result *[data-v-2145738d]{cursor:pointer}.autocomplete-result__icon[data-v-2145738d]{position:relative;flex:0 0 30px;width:30px;min-width:30px;height:30px;border-radius:30px;background-color:var(--color-background-darker);background-repeat:no-repeat;background-position:center;background-size:10px}.autocomplete-result__icon--with-avatar[data-v-2145738d]{color:inherit;background-size:cover}.autocomplete-result__status[data-v-2145738d]{position:absolute;right:-4px;bottom:-4px;box-sizing:border-box;width:18px;height:18px;border:2px solid var(--color-main-background);border-radius:50%;background-color:var(--color-main-background);font-size:var(--default-font-size);line-height:15px;background-repeat:no-repeat;background-size:16px;background-position:center}.autocomplete-result__status--online[data-v-2145738d]{background-image:url(${C})}.autocomplete-result__status--dnd[data-v-2145738d]{background-image:url(${p});background-color:#fff}.autocomplete-result__status--away[data-v-2145738d]{background-image:url(${g})}.autocomplete-result__status--icon[data-v-2145738d]{border:none;background-color:rgba(0,0,0,0)}.autocomplete-result__content[data-v-2145738d]{display:flex;flex:1 1 100%;flex-direction:column;justify-content:center;min-width:0;padding-left:10px}.autocomplete-result__title[data-v-2145738d],.autocomplete-result__subline[data-v-2145738d]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.autocomplete-result__subline[data-v-2145738d]{color:var(--color-text-lighter)}`,"",{version:3,sources:["webpack://./src/components/Suggestion/Mention/AutoCompleteResult.vue"],names:[],mappings:"AAIA,sCACC,YAAA,CACA,WALgB,CAMhB,YALsB,CAOtB,iDACC,4BAAA,CACA,6CAAA,CACA,oGACC,cAAA,CAIF,4CACC,iBAAA,CACA,aAAA,CACA,UAnBe,CAoBf,cApBe,CAqBf,WArBe,CAsBf,kBAtBe,CAuBf,+CAAA,CACA,2BAAA,CACA,0BAAA,CACA,oBAAA,CACA,yDACC,aAAA,CACA,qBAAA,CAIF,8CACC,iBAAA,CACA,UAAA,CACA,WAAA,CACA,qBAAA,CACA,UAAA,CACA,WAAA,CACA,6CAAA,CACA,iBAAA,CACA,6CAAA,CACA,kCAAA,CACA,gBAAA,CACA,2BAAA,CACA,oBAAA,CACA,0BAAA,CAEA,sDACC,wDAAA,CAED,mDACC,wDAAA,CACA,qBAAA,CAED,oDACC,wDAAA,CAED,oDACC,WAAA,CACA,8BAAA,CAIF,+CACC,YAAA,CACA,aAAA,CACA,qBAAA,CACA,sBAAA,CACA,WAAA,CACA,iBAtEqB,CAyEtB,4FAEC,kBAAA,CACA,eAAA,CACA,sBAAA,CAGD,+CACC,+BAAA",sourceRoot:""}]);const u=c},28190:(t,e,i)=>{"use strict";i.d(e,{A:()=>n});var r=i(71354),s=i.n(r),o=i(76314),a=i.n(o)()(s());a.push([t.id,".items{position:relative;border-radius:var(--border-radius);background:var(--color-main-background);overflow:hidden;font-size:.9rem;box-shadow:0 1px 5px var(--color-box-shadow);min-width:250px}.item-empty{padding:4px 8px;opacity:.8}","",{version:3,sources:["webpack://./src/components/Suggestion/Mention/MentionList.vue"],names:[],mappings:"AACA,OACC,iBAAA,CACA,kCAAA,CACA,uCAAA,CACA,eAAA,CACA,eAAA,CACA,4CAAA,CACA,eAAA,CAGD,YACC,eAAA,CACA,UAAA",sourceRoot:""}]);const n=a},27653:(t,e,i)=>{"use strict";i.d(e,{A:()=>n});var r=i(71354),s=i.n(r),o=i(76314),a=i.n(o)()(s());a.push([t.id,"body{position:fixed;background-color:var(--color-main-background)}#content[class=app-public]{margin:0;margin-top:0}","",{version:3,sources:["webpack://./src/views/DirectEditing.vue"],names:[],mappings:"AACA,KACC,cAAA,CACA,6CAAA,CAGD,2BACC,QAAA,CACA,YAAA",sourceRoot:""}]);const n="text"==i.j?a:null},25305:(t,e,i)=>{"use strict";i.d(e,{A:()=>n});var r=i(71354),s=i.n(r),o=i(76314),a=i.n(o)()(s());a.push([t.id,"#direct-editor[data-v-982d7d2a]{width:100%;height:100%;position:fixed;overflow:auto}#direct-editor[data-v-982d7d2a] .text-editor{height:100%;top:0}#direct-editor[data-v-982d7d2a] .text-editor__wrapper div.ProseMirror{margin-top:0}pre[data-v-982d7d2a]{width:100%;max-width:700px;margin:auto;background-color:var(--color-background-dark)}button[data-v-982d7d2a]{width:44px;height:44px;margin:0;background-size:16px;border:0;background-color:rgba(0,0,0,0);opacity:.5;color:var(--color-main-text);background-position:center center;vertical-align:top}button[data-v-982d7d2a]:hover,button[data-v-982d7d2a]:focus,button[data-v-982d7d2a]:active{background-color:var(--color-background-dark)}button.is-active[data-v-982d7d2a],button[data-v-982d7d2a]:hover,button[data-v-982d7d2a]:focus{opacity:1}","",{version:3,sources:["webpack://./src/views/DirectEditing.vue"],names:[],mappings:"AACA,gCACC,UAAA,CACA,WAAA,CACA,cAAA,CACA,aAAA,CAEA,6CACC,WAAA,CACA,KAAA,CAED,sEACC,YAAA,CAIF,qBACC,UAAA,CACA,eAAA,CACA,WAAA,CACA,6CAAA,CAGD,wBACC,UAAA,CACA,WAAA,CACA,QAAA,CACA,oBAAA,CACA,QAAA,CACA,8BAAA,CACA,UAAA,CACA,4BAAA,CACA,iCAAA,CACA,kBAAA,CACA,2FACC,6CAAA,CAED,8FAGC,SAAA",sourceRoot:""}]);const n="text"==i.j?a:null},37900:(t,e,i)=>{"use strict";i.d(e,{A:()=>n});var r=i(71354),s=i.n(r),o=i(76314),a=i.n(o)()(s());a.push([t.id,"\n.text-readonly-bar[data-v-27a921ca] {\n\tdisplay: flex;\n}\n.text-readonly-bar__entries[data-v-27a921ca] {\n\tdisplay: flex;\n\tflex-grow: 1;\n}\n","",{version:3,sources:["webpack://./src/components/Menu/ReadonlyBar.vue"],names:[],mappings:";AA4CA;CACA,aAAA;AACA;AACA;CACA,aAAA;CACA,YAAA;AACA",sourcesContent:['<template>\n\t<div data-text-el="readonly-bar" class="text-readonly-bar">\n\t\t<div ref="menubar"\n\t\t\trole="toolbar"\n\t\t\tclass="text-readonly-bar__entries"\n\t\t\t:aria-label="t(\'text\', \'Editor actions\')">\n\t\t\t<component :is="actionEntry.component ? actionEntry.component : (actionEntry.children ? \'ActionList\' : \'ActionSingle\')"\n\t\t\t\tv-for="(actionEntry, index) in visibleEntries"\n\t\t\t\tref="menuEntries"\n\t\t\t\t:key="actionEntry.key"\n\t\t\t\t:action-entry="actionEntry"\n\t\t\t\t:can-be-focussed="activeMenuEntry === index"\n\t\t\t\t@disabled="disableMenuEntry(actionEntry.key, $event)" />\n\t\t</div>\n\t\t<div class="text-menubar__slot">\n\t\t\t<slot />\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { defineComponent } from \'vue\'\nimport { ReadonlyEntries as entries } from \'./entries.js\'\n\nimport ActionList from \'./ActionList.vue\'\nimport ActionSingle from \'./ActionSingle.vue\'\nimport ToolBarLogic from \'./ToolBarLogic.js\'\n\nexport default defineComponent({\n\tname: \'ReadonlyBar\',\n\tcomponents: {\n\t\tActionList,\n\t\tActionSingle,\n\t},\n\textends: ToolBarLogic,\n\tdata() {\n\t\treturn {\n\t\t\tentries,\n\t\t}\n\t},\n})\n<\/script>\n\n<style scoped>\n.text-readonly-bar {\n\tdisplay: flex;\n}\n.text-readonly-bar__entries {\n\tdisplay: flex;\n\tflex-grow: 1;\n}\n</style>\n'],sourceRoot:""}]);const n=a},34812:(t,e,i)=>{var r={"./1c":[35975,"highlight/1c"],"./1c.js":[35975,"highlight/1c"],"./1c.js.js":[70650,"highlight/1c-js-js"],"./abnf":[85360,"highlight/abnf"],"./abnf.js":[85360,"highlight/abnf"],"./abnf.js.js":[4123,"highlight/abnf-js-js"],"./accesslog":[55031,"highlight/accesslog"],"./accesslog.js":[55031,"highlight/accesslog"],"./accesslog.js.js":[34634,"highlight/accesslog-js-js"],"./actionscript":[29090,"highlight/actionscript"],"./actionscript.js":[29090,"highlight/actionscript"],"./actionscript.js.js":[48925,"highlight/actionscript-js-js"],"./ada":[83307,"highlight/ada"],"./ada.js":[83307,"highlight/ada"],"./ada.js.js":[45502,"highlight/ada-js-js"],"./angelscript":[20969,"highlight/angelscript"],"./angelscript.js":[20969,"highlight/angelscript"],"./angelscript.js.js":[55684,"highlight/angelscript-js-js"],"./apache":[77869,"highlight/apache"],"./apache.js":[77869,"highlight/apache"],"./apache.js.js":[9464,"highlight/apache-js-js"],"./applescript":[624,"highlight/applescript"],"./applescript.js":[624,"highlight/applescript"],"./applescript.js.js":[45595,"highlight/applescript-js-js"],"./arcade":[31799,"highlight/arcade"],"./arcade.js":[31799,"highlight/arcade"],"./arcade.js.js":[13930,"highlight/arcade-js-js"],"./arduino":[64943,"highlight/arduino"],"./arduino.js":[64943,"highlight/arduino"],"./arduino.js.js":[76690,"highlight/arduino-js-js"],"./armasm":[77826,"highlight/armasm"],"./armasm.js":[77826,"highlight/armasm"],"./armasm.js.js":[81917,"highlight/armasm-js-js"],"./asciidoc":[94196,"highlight/asciidoc"],"./asciidoc.js":[94196,"highlight/asciidoc"],"./asciidoc.js.js":[89471,"highlight/asciidoc-js-js"],"./aspectj":[99993,"highlight/aspectj"],"./aspectj.js":[99993,"highlight/aspectj"],"./aspectj.js.js":[5236,"highlight/aspectj-js-js"],"./autohotkey":[84438,"highlight/autohotkey"],"./autohotkey.js":[84438,"highlight/autohotkey"],"./autohotkey.js.js":[19345,"highlight/autohotkey-js-js"],"./autoit":[22021,"highlight/autoit"],"./autoit.js":[22021,"highlight/autoit"],"./autoit.js.js":[39904,"highlight/autoit-js-js"],"./avrasm":[30629,"highlight/avrasm"],"./avrasm.js":[30629,"highlight/avrasm"],"./avrasm.js.js":[22976,"highlight/avrasm-js-js"],"./awk":[72702,"highlight/awk"],"./awk.js":[72702,"highlight/awk"],"./awk.js.js":[6505,"highlight/awk-js-js"],"./axapta":[23940,"highlight/axapta"],"./axapta.js":[23940,"highlight/axapta"],"./axapta.js.js":[111,"highlight/axapta-js-js"],"./bash":[38641,"highlight/bash"],"./bash.js":[38641,"highlight/bash"],"./bash.js.js":[77308,"highlight/bash-js-js"],"./basic":[66545,"highlight/basic"],"./basic.js":[66545,"highlight/basic"],"./basic.js.js":[92220,"highlight/basic-js-js"],"./bnf":[56797,"highlight/bnf"],"./bnf.js":[56797,"highlight/bnf"],"./bnf.js.js":[53512,"highlight/bnf-js-js"],"./brainfuck":[51980,"highlight/brainfuck"],"./brainfuck.js":[51980,"highlight/brainfuck"],"./brainfuck.js.js":[85159,"highlight/brainfuck-js-js"],"./c":[10722,"highlight/c"],"./c.js":[10722,"highlight/c"],"./c.js.js":[36957,"highlight/c-js-js"],"./cal":[66571,"highlight/cal"],"./cal.js":[66571,"highlight/cal"],"./cal.js.js":[40318,"highlight/cal-js-js"],"./capnproto":[59639,"highlight/capnproto"],"./capnproto.js":[59639,"highlight/capnproto"],"./capnproto.js.js":[28554,"highlight/capnproto-js-js"],"./ceylon":[70507,"highlight/ceylon"],"./ceylon.js":[70507,"highlight/ceylon"],"./ceylon.js.js":[27358,"highlight/ceylon-js-js"],"./clean":[31050,"highlight/clean"],"./clean.js":[31050,"highlight/clean"],"./clean.js.js":[79093,"highlight/clean-js-js"],"./clojure":[67579,"highlight/clojure"],"./clojure-repl":[19601,"highlight/clojure-repl"],"./clojure-repl.js":[19601,"highlight/clojure-repl"],"./clojure-repl.js.js":[78780,"highlight/clojure-repl-js-js"],"./clojure.js":[67579,"highlight/clojure"],"./clojure.js.js":[52846,"highlight/clojure-js-js"],"./cmake":[32008,"highlight/cmake"],"./cmake.js":[32008,"highlight/cmake"],"./cmake.js.js":[57667,"highlight/cmake-js-js"],"./coffeescript":[8364,"highlight/coffeescript"],"./coffeescript.js":[8364,"highlight/coffeescript"],"./coffeescript.js.js":[87367,"highlight/coffeescript-js-js"],"./coq":[69722,"highlight/coq"],"./coq.js":[69722,"highlight/coq"],"./coq.js.js":[16613,"highlight/coq-js-js"],"./cos":[49296,"highlight/cos"],"./cos.js":[49296,"highlight/cos"],"./cos.js.js":[50683,"highlight/cos-js-js"],"./cpp":[66570,"highlight/cpp"],"./cpp.js":[66570,"highlight/cpp"],"./cpp.js.js":[37973,"highlight/cpp-js-js"],"./crmsh":[39375,"highlight/crmsh"],"./crmsh.js":[39375,"highlight/crmsh"],"./crmsh.js.js":[17751,"highlight/crmsh-js-js"],"./crystal":[88661,"highlight/crystal"],"./crystal.js":[88661,"highlight/crystal"],"./crystal.js.js":[24496,"highlight/crystal-js-js"],"./csharp":[57120,"highlight/csharp"],"./csharp.js":[57120,"highlight/csharp"],"./csharp.js.js":[35723,"highlight/csharp-js-js"],"./csp":[86813,"highlight/csp"],"./csp.js":[86813,"highlight/csp"],"./csp.js.js":[6088,"highlight/csp-js-js"],"./css":[58612,"highlight/css"],"./css.js":[58612,"highlight/css"],"./css.js.js":[47103,"highlight/css-js-js"],"./d":[96683,"highlight/d"],"./d.js":[96683,"highlight/d"],"./d.js.js":[93278,"highlight/d-js-js"],"./dart":[22274,"highlight/dart"],"./dart.js":[22274,"highlight/dart"],"./dart.js.js":[63037,"highlight/dart-js-js"],"./delphi":[78443,"highlight/delphi"],"./delphi.js":[78443,"highlight/delphi"],"./delphi.js.js":[68734,"highlight/delphi-js-js"],"./diff":[28596,"highlight/diff"],"./diff.js":[28596,"highlight/diff"],"./diff.js.js":[52671,"highlight/diff-js-js"],"./django":[23496,"highlight/django"],"./django.js":[23496,"highlight/django"],"./django.js.js":[9571,"highlight/django-js-js"],"./dns":[51500,"highlight/dns"],"./dns.js":[51500,"highlight/dns"],"./dns.js.js":[77095,"highlight/dns-js-js"],"./dockerfile":[59197,"highlight/dockerfile"],"./dockerfile.js":[59197,"highlight/dockerfile"],"./dockerfile.js.js":[22952,"highlight/dockerfile-js-js"],"./dos":[18857,"highlight/dos"],"./dos.js":[18857,"highlight/dos"],"./dos.js.js":[61220,"highlight/dos-js-js"],"./dsconfig":[18284,"highlight/dsconfig"],"./dsconfig.js":[18284,"highlight/dsconfig"],"./dsconfig.js.js":[44711,"highlight/dsconfig-js-js"],"./dts":[92570,"highlight/dts"],"./dts.js":[92570,"highlight/dts"],"./dts.js.js":[40965,"highlight/dts-js-js"],"./dust":[99723,"highlight/dust"],"./dust.js":[99723,"highlight/dust"],"./dust.js.js":[70462,"highlight/dust-js-js"],"./ebnf":[8340,"highlight/ebnf"],"./ebnf.js":[8340,"highlight/ebnf"],"./ebnf.js.js":[42463,"highlight/ebnf-js-js"],"./elixir":[49632,"highlight/elixir"],"./elixir.js":[49632,"highlight/elixir"],"./elixir.js.js":[44523,"highlight/elixir-js-js"],"./elm":[58155,"highlight/elm"],"./elm.js":[58155,"highlight/elm"],"./elm.js.js":[77438,"highlight/elm-js-js"],"./erb":[54356,"highlight/erb"],"./erb.js":[54356,"highlight/erb"],"./erb.js.js":[39999,"highlight/erb-js-js"],"./erlang":[18188,"highlight/erlang"],"./erlang-repl":[17572,"highlight/erlang-repl"],"./erlang-repl.js":[17572,"highlight/erlang-repl"],"./erlang-repl.js.js":[79983,"highlight/erlang-repl-js-js"],"./erlang.js":[18188,"highlight/erlang"],"./erlang.js.js":[61671,"highlight/erlang-js-js"],"./excel":[87288,"highlight/excel"],"./excel.js":[87288,"highlight/excel"],"./excel.js.js":[7699,"highlight/excel-js-js"],"./fix":[78008,"highlight/fix"],"./fix.js":[78008,"highlight/fix"],"./fix.js.js":[57203,"highlight/fix-js-js"],"./flix":[89744,"highlight/flix"],"./flix.js":[89744,"highlight/flix"],"./flix.js.js":[32283,"highlight/flix-js-js"],"./fortran":[71189,"highlight/fortran"],"./fortran.js":[71189,"highlight/fortran"],"./fortran.js.js":[11952,"highlight/fortran-js-js"],"./fsharp":[39301,"highlight/fsharp"],"./fsharp.js":[39301,"highlight/fsharp"],"./fsharp.js.js":[72192,"highlight/fsharp-js-js"],"./gams":[49876,"highlight/gams"],"./gams.js":[49876,"highlight/gams"],"./gams.js.js":[2458,"highlight/gams-js-js"],"./gauss":[83770,"highlight/gauss"],"./gauss.js":[83770,"highlight/gauss"],"./gauss.js.js":[51621,"highlight/gauss-js-js"],"./gcode":[78491,"highlight/gcode"],"./gcode.js":[78491,"highlight/gcode"],"./gcode.js.js":[59566,"highlight/gcode-js-js"],"./gherkin":[33297,"highlight/gherkin"],"./gherkin.js":[33297,"highlight/gherkin"],"./gherkin.js.js":[19196,"highlight/gherkin-js-js"],"./glsl":[33779,"highlight/glsl"],"./glsl.js":[33779,"highlight/glsl"],"./glsl.js.js":[17750,"highlight/glsl-js-js"],"./gml":[91195,"highlight/gml"],"./gml.js":[91195,"highlight/gml"],"./gml.js.js":[41134,"highlight/gml-js-js"],"./go":[99777,"highlight/go"],"./go.js":[99777,"highlight/go"],"./go.js.js":[87980,"highlight/go-js-js"],"./golo":[97240,"highlight/golo"],"./golo.js":[97240,"highlight/golo"],"./golo.js.js":[54579,"highlight/golo-js-js"],"./gradle":[51432,"highlight/gradle"],"./gradle.js":[51432,"highlight/gradle"],"./gradle.js.js":[6947,"highlight/gradle-js-js"],"./graphql":[97474,"highlight/graphql"],"./graphql.js":[97474,"highlight/graphql"],"./graphql.js.js":[83229,"highlight/graphql-js-js"],"./groovy":[70253,"highlight/groovy"],"./groovy.js":[70253,"highlight/groovy"],"./groovy.js.js":[9720,"highlight/groovy-js-js"],"./haml":[34517,"highlight/haml"],"./haml.js":[34517,"highlight/haml"],"./haml.js.js":[14768,"highlight/haml-js-js"],"./handlebars":[63187,"highlight/handlebars"],"./handlebars.js":[63187,"highlight/handlebars"],"./handlebars.js.js":[56534,"highlight/handlebars-js-js"],"./haskell":[30379,"highlight/haskell"],"./haskell.js":[30379,"highlight/haskell"],"./haskell.js.js":[38718,"highlight/haskell-js-js"],"./haxe":[84139,"highlight/haxe"],"./haxe.js":[84139,"highlight/haxe"],"./haxe.js.js":[20958,"highlight/haxe-js-js"],"./hsp":[54008,"highlight/hsp"],"./hsp.js":[54008,"highlight/hsp"],"./hsp.js.js":[25715,"highlight/hsp-js-js"],"./http":[63383,"highlight/http"],"./http.js":[63383,"highlight/http"],"./http.js.js":[56138,"highlight/http-js-js"],"./hy":[94688,"highlight/hy"],"./hy.js":[94688,"highlight/hy"],"./hy.js.js":[523,"highlight/hy-js-js"],"./inform7":[46969,"highlight/inform7"],"./inform7.js":[46969,"highlight/inform7"],"./inform7.js.js":[15444,"highlight/inform7-js-js"],"./ini":[21533,"highlight/ini"],"./ini.js":[21533,"highlight/ini"],"./ini.js.js":[58824,"highlight/ini-js-js"],"./irpf90":[84499,"highlight/irpf90"],"./irpf90.js":[84499,"highlight/irpf90"],"./irpf90.js.js":[24278,"highlight/irpf90-js-js"],"./isbl":[35665,"highlight/isbl"],"./isbl.js":[35665,"highlight/isbl"],"./isbl.js.js":[70940,"highlight/isbl","highlight/isbl-js-js"],"./java":[34895,"highlight/java"],"./java.js":[34895,"highlight/java"],"./java.js.js":[48594,"highlight/java-js-js"],"./javascript":[98416,"highlight/javascript"],"./javascript.js":[98416,"highlight/javascript"],"./javascript.js.js":[76091,"highlight/javascript-js-js"],"./jboss-cli":[5623,"highlight/jboss-cli"],"./jboss-cli.js":[5623,"highlight/jboss-cli"],"./jboss-cli.js.js":[67690,"highlight/jboss-cli-js-js"],"./json":[30621,"highlight/json"],"./json.js":[30621,"highlight/json"],"./json.js.js":[31176,"highlight/json-js-js"],"./julia":[38874,"highlight/julia"],"./julia-repl":[8514,"highlight/julia-repl"],"./julia-repl.js":[8514,"highlight/julia-repl"],"./julia-repl.js.js":[79261,"highlight/julia-repl-js-js"],"./julia.js":[38874,"highlight/julia"],"./julia.js.js":[5989,"highlight/julia-js-js"],"./kotlin":[82838,"highlight/kotlin"],"./kotlin.js":[82838,"highlight/kotlin"],"./kotlin.js.js":[78833,"highlight/kotlin-js-js"],"./lasso":[76089,"highlight/lasso"],"./lasso.js":[76089,"highlight/lasso"],"./lasso.js.js":[84756,"highlight/lasso-js-js"],"./latex":[3483,"highlight/latex"],"./latex.js":[3483,"highlight/latex"],"./latex.js.js":[334,"highlight/latex-js-js"],"./ldif":[67172,"highlight/ldif"],"./ldif.js":[67172,"highlight/ldif"],"./ldif.js.js":[71791,"highlight/ldif-js-js"],"./leaf":[56703,"highlight/leaf"],"./leaf.js":[56703,"highlight/leaf"],"./leaf.js.js":[81250,"highlight/leaf-js-js"],"./less":[38330,"highlight/less"],"./less.js":[38330,"highlight/less"],"./less.js.js":[66277,"highlight/less-js-js"],"./lisp":[12491,"highlight/lisp"],"./lisp.js":[12491,"highlight/lisp"],"./lisp.js.js":[99102,"highlight/lisp-js-js"],"./livecodeserver":[46859,"highlight/livecodeserver"],"./livecodeserver.js":[46859,"highlight/livecodeserver"],"./livecodeserver.js.js":[13662,"highlight/livecodeserver-js-js"],"./livescript":[15914,"highlight/livescript"],"./livescript.js":[15914,"highlight/livescript"],"./livescript.js.js":[66325,"highlight/livescript-js-js"],"./llvm":[26398,"highlight/llvm"],"./llvm.js":[26398,"highlight/llvm"],"./llvm.js.js":[44841,"highlight/llvm-js-js"],"./lsl":[52480,"highlight/lsl"],"./lsl.js":[52480,"highlight/lsl"],"./lsl.js.js":[95307,"highlight/lsl-js-js"],"./lua":[43873,"highlight/lua"],"./lua.js":[43873,"highlight/lua"],"./lua.js.js":[16300,"highlight/lua-js-js"],"./makefile":[97667,"highlight/makefile"],"./makefile.js":[97667,"highlight/makefile"],"./makefile.js.js":[16550,"highlight/makefile-js-js"],"./markdown":[70602,"highlight/markdown"],"./markdown.js":[70602,"highlight/markdown"],"./markdown.js.js":[1845,"highlight/markdown-js-js"],"./mathematica":[56455,"highlight/mathematica"],"./mathematica.js":[56455,"highlight/mathematica"],"./mathematica.js.js":[69562,"highlight/mathematica","highlight/mathematica-js-js"],"./matlab":[88722,"highlight/matlab"],"./matlab.js":[88722,"highlight/matlab"],"./matlab.js.js":[36813,"highlight/matlab-js-js"],"./maxima":[28216,"highlight/maxima"],"./maxima.js":[28216,"highlight/maxima"],"./maxima.js.js":[14675,"highlight/maxima-js-js"],"./mel":[39953,"highlight/mel"],"./mel.js":[39953,"highlight/mel"],"./mel.js.js":[2940,"highlight/mel-js-js"],"./mercury":[45582,"highlight/mercury"],"./mercury.js":[45582,"highlight/mercury"],"./mercury.js.js":[80025,"highlight/mercury-js-js"],"./mipsasm":[8269,"highlight/mipsasm"],"./mipsasm.js":[8269,"highlight/mipsasm"],"./mipsasm.js.js":[11768,"highlight/mipsasm-js-js"],"./mizar":[10944,"highlight/mizar"],"./mizar.js":[10944,"highlight/mizar"],"./mizar.js.js":[30219,"highlight/mizar-js-js"],"./mojolicious":[56078,"highlight/mojolicious"],"./mojolicious.js":[56078,"highlight/mojolicious"],"./mojolicious.js.js":[84665,"highlight/mojolicious-js-js"],"./monkey":[37850,"highlight/monkey"],"./monkey.js":[37850,"highlight/monkey"],"./monkey.js.js":[26213,"highlight/monkey-js-js"],"./moonscript":[9241,"highlight/moonscript"],"./moonscript.js":[9241,"highlight/moonscript"],"./moonscript.js.js":[55732,"highlight/moonscript-js-js"],"./n1ql":[29827,"highlight/n1ql"],"./n1ql.js":[29827,"highlight/n1ql"],"./n1ql.js.js":[62598,"highlight/n1ql-js-js"],"./nestedtext":[24683,"highlight/nestedtext"],"./nestedtext.js":[24683,"highlight/nestedtext"],"./nestedtext.js.js":[76190,"highlight/nestedtext-js-js"],"./nginx":[67259,"highlight/nginx"],"./nginx.js":[67259,"highlight/nginx"],"./nginx.js.js":[19822,"highlight/nginx-js-js"],"./nim":[81747,"highlight/nim"],"./nim.js":[81747,"highlight/nim"],"./nim.js.js":[83030,"highlight/nim-js-js"],"./nix":[10320,"highlight/nix"],"./nix.js":[10320,"highlight/nix"],"./nix.js.js":[54203,"highlight/nix-js-js"],"./node-repl":[16673,"highlight/node-repl"],"./node-repl.js":[16673,"highlight/node-repl"],"./node-repl.js.js":[77196,"highlight/node-repl-js-js"],"./nsis":[90140,"highlight/nsis"],"./nsis.js":[90140,"highlight/nsis"],"./nsis.js.js":[26295,"highlight/nsis-js-js"],"./objectivec":[10943,"highlight/objectivec"],"./objectivec.js":[10943,"highlight/objectivec"],"./objectivec.js.js":[60994,"highlight/objectivec-js-js"],"./ocaml":[94172,"highlight/ocaml"],"./ocaml.js":[94172,"highlight/ocaml"],"./ocaml.js.js":[37554,"highlight/ocaml-js-js"],"./openscad":[16672,"highlight/openscad"],"./openscad.js":[16672,"highlight/openscad"],"./openscad.js.js":[63723,"highlight/openscad-js-js"],"./oxygene":[43028,"highlight/oxygene"],"./oxygene.js":[43028,"highlight/oxygene"],"./oxygene.js.js":[56383,"highlight/oxygene-js-js"],"./parser3":[79163,"highlight/parser3"],"./parser3.js":[79163,"highlight/parser3"],"./parser3.js.js":[88110,"highlight/parser3-js-js"],"./perl":[70946,"highlight/perl"],"./perl.js":[70946,"highlight/perl"],"./perl.js.js":[89917,"highlight/perl-js-js"],"./pf":[38837,"highlight/pf"],"./pf.js":[38837,"highlight/pf"],"./pf.js.js":[68080,"highlight/pf-js-js"],"./pgsql":[66876,"highlight/pgsql"],"./pgsql.js":[66876,"highlight/pgsql"],"./pgsql.js.js":[8535,"highlight/pgsql-js-js"],"./php":[23111,"highlight/php"],"./php-template":[31726,"highlight/php-template"],"./php-template.js":[31726,"highlight/php-template"],"./php-template.js.js":[23417,"highlight/php-template-js-js"],"./php.js":[23111,"highlight/php"],"./php.js.js":[88858,"highlight/php-js-js"],"./plaintext":[99040,"highlight/plaintext"],"./plaintext.js":[99040,"highlight/plaintext"],"./plaintext.js.js":[8875,"highlight/plaintext-js-js"],"./pony":[26903,"highlight/pony"],"./pony.js":[26903,"highlight/pony"],"./pony.js.js":[69770,"highlight/pony-js-js"],"./powershell":[33982,"highlight/powershell"],"./powershell.js":[33982,"highlight/powershell"],"./powershell.js.js":[37001,"highlight/powershell-js-js"],"./processing":[19200,"highlight/processing"],"./processing.js":[19200,"highlight/processing"],"./processing.js.js":[12203,"highlight/processing-js-js"],"./profile":[15206,"highlight/profile"],"./profile.js":[15206,"highlight/profile"],"./profile.js.js":[31777,"highlight/profile-js-js"],"./prolog":[16168,"highlight/prolog"],"./prolog.js":[16168,"highlight/prolog"],"./prolog.js.js":[93635,"highlight/prolog-js-js"],"./properties":[7646,"highlight/properties"],"./properties.js":[7646,"highlight/properties"],"./properties.js.js":[21001,"highlight/properties-js-js"],"./protobuf":[47300,"highlight/protobuf"],"./protobuf.js":[47300,"highlight/protobuf"],"./protobuf.js.js":[39695,"highlight/protobuf-js-js"],"./puppet":[98545,"highlight/puppet"],"./puppet.js":[98545,"highlight/puppet"],"./puppet.js.js":[85436,"highlight/puppet-js-js"],"./purebasic":[47995,"highlight/purebasic"],"./purebasic.js":[47995,"highlight/purebasic"],"./purebasic.js.js":[97198,"highlight/purebasic-js-js"],"./python":[61117,"highlight/python"],"./python-repl":[20283,"highlight/python-repl"],"./python-repl.js":[20283,"highlight/python-repl"],"./python-repl.js.js":[2606,"highlight/python-repl-js-js"],"./python.js":[61117,"highlight/python"],"./python.js.js":[47304,"highlight/python-js-js"],"./q":[29384,"highlight/q"],"./q.js":[29384,"highlight/q"],"./q.js.js":[70019,"highlight/q-js-js"],"./qml":[69797,"highlight/qml"],"./qml.js":[69797,"highlight/qml"],"./qml.js.js":[21632,"highlight/qml-js-js"],"./r":[48129,"highlight/r"],"./r.js":[48129,"highlight/r"],"./r.js.js":[37932,"highlight/r-js-js"],"./reasonml":[66446,"highlight/reasonml"],"./reasonml.js":[66446,"highlight/reasonml"],"./reasonml.js.js":[56377,"highlight/reasonml-js-js"],"./rib":[66238,"highlight/rib"],"./rib.js":[66238,"highlight/rib"],"./rib.js.js":[14953,"highlight/rib-js-js"],"./roboconf":[22925,"highlight/roboconf"],"./roboconf.js":[22925,"highlight/roboconf"],"./roboconf.js.js":[58136,"highlight/roboconf-js-js"],"./routeros":[35980,"highlight/routeros"],"./routeros.js":[35980,"highlight/routeros"],"./routeros.js.js":[57671,"highlight/routeros-js-js"],"./rsl":[6650,"highlight/rsl"],"./rsl.js":[6650,"highlight/rsl"],"./rsl.js.js":[80645,"highlight/rsl-js-js"],"./ruby":[95015,"highlight/ruby"],"./ruby.js":[95015,"highlight/ruby"],"./ruby.js.js":[9690,"highlight/ruby-js-js"],"./ruleslanguage":[5690,"highlight/ruleslanguage"],"./ruleslanguage.js":[5690,"highlight/ruleslanguage"],"./ruleslanguage.js.js":[14181,"highlight/ruleslanguage-js-js"],"./rust":[15409,"highlight/rust"],"./rust.js":[15409,"highlight/rust"],"./rust.js.js":[38844,"highlight/rust-js-js"],"./sas":[77754,"highlight/sas"],"./sas.js":[77754,"highlight/sas"],"./sas.js.js":[71941,"highlight/sas-js-js"],"./scala":[33449,"highlight/scala"],"./scala.js":[33449,"highlight/scala"],"./scala.js.js":[4900,"highlight/scala-js-js"],"./scheme":[6244,"highlight/scheme"],"./scheme.js":[6244,"highlight/scheme"],"./scheme.js.js":[98351,"highlight/scheme-js-js"],"./scilab":[10395,"highlight/scilab"],"./scilab.js":[10395,"highlight/scilab"],"./scilab.js.js":[76686,"highlight/scilab-js-js"],"./scss":[11611,"highlight/scss"],"./scss.js":[11611,"highlight/scss"],"./scss.js.js":[61870,"highlight/scss-js-js"],"./shell":[38813,"highlight/shell"],"./shell.js":[38813,"highlight/shell"],"./shell.js.js":[6536,"highlight/shell-js-js"],"./smali":[14119,"highlight/smali"],"./smali.js":[14119,"highlight/smali"],"./smali.js.js":[77082,"highlight/smali-js-js"],"./smalltalk":[70078,"highlight/smalltalk"],"./smalltalk.js":[70078,"highlight/smalltalk"],"./smalltalk.js.js":[17033,"highlight/smalltalk-js-js"],"./sml":[86959,"highlight/sml"],"./sml.js":[86959,"highlight/sml"],"./sml.js.js":[45170,"highlight/sml-js-js"],"./sqf":[96325,"highlight/sqf"],"./sqf.js":[96325,"highlight/sqf"],"./sqf.js.js":[19360,"highlight/sqf-js-js"],"./sql":[70315,"highlight/sql"],"./sql.js":[70315,"highlight/sql"],"./sql.js.js":[9726,"highlight/sql-js-js"],"./stan":[67891,"highlight/stan"],"./stan.js":[67891,"highlight/stan"],"./stan.js.js":[16918,"highlight/stan-js-js"],"./stata":[72546,"highlight/stata"],"./stata.js":[72546,"highlight/stata"],"./stata.js.js":[29757,"highlight/stata-js-js"],"./step21":[68128,"highlight/step21"],"./step21.js":[68128,"highlight/step21"],"./step21.js.js":[36619,"highlight/step21-js-js"],"./stylus":[85733,"highlight/stylus"],"./stylus.js":[85733,"highlight/stylus"],"./stylus.js.js":[50880,"highlight/stylus-js-js"],"./subunit":[36475,"highlight/subunit"],"./subunit.js":[36475,"highlight/subunit"],"./subunit.js.js":[7150,"highlight/subunit-js-js"],"./swift":[91496,"highlight/swift"],"./swift.js":[91496,"highlight/swift"],"./swift.js.js":[1571,"highlight/swift-js-js"],"./taggerscript":[20150,"highlight/taggerscript"],"./taggerscript.js":[20150,"highlight/taggerscript"],"./taggerscript.js.js":[74961,"highlight/taggerscript-js-js"],"./tap":[58942,"highlight/tap"],"./tap.js":[58942,"highlight/tap"],"./tap.js.js":[93558,"highlight/tap-js-js"],"./tcl":[81272,"highlight/tcl"],"./tcl.js":[81272,"highlight/tcl"],"./tcl.js.js":[6611,"highlight/tcl-js-js"],"./thrift":[99888,"highlight/thrift"],"./thrift.js":[99888,"highlight/thrift"],"./thrift.js.js":[11771,"highlight/thrift-js-js"],"./tp":[50987,"highlight/tp"],"./tp.js":[50987,"highlight/tp"],"./tp.js.js":[48798,"highlight/tp-js-js"],"./twig":[30222,"highlight/twig"],"./twig.js":[30222,"highlight/twig"],"./twig.js.js":[25337,"highlight/twig-js-js"],"./typescript":[38640,"highlight/typescript"],"./typescript.js":[38640,"highlight/typescript"],"./typescript.js.js":[62395,"highlight/typescript-js-js"],"./vala":[49461,"highlight/vala"],"./vala.js":[49461,"highlight/vala"],"./vala.js.js":[18544,"highlight/vala-js-js"],"./vbnet":[68928,"highlight/vbnet"],"./vbnet.js":[68928,"highlight/vbnet"],"./vbnet.js.js":[29035,"highlight/vbnet-js-js"],"./vbscript":[51200,"highlight/vbscript"],"./vbscript-html":[10164,"highlight/vbscript-html"],"./vbscript-html.js":[10164,"highlight/vbscript-html"],"./vbscript-html.js.js":[33311,"highlight/vbscript-html-js-js"],"./vbscript.js":[51200,"highlight/vbscript"],"./vbscript.js.js":[74347,"highlight/vbscript-js-js"],"./verilog":[58249,"highlight/verilog"],"./verilog.js":[58249,"highlight/verilog"],"./verilog.js.js":[14404,"highlight/verilog-js-js"],"./vhdl":[18721,"highlight/vhdl"],"./vhdl.js":[18721,"highlight/vhdl"],"./vhdl.js.js":[65964,"highlight/vhdl-js-js"],"./vim":[88907,"highlight/vim"],"./vim.js":[88907,"highlight/vim"],"./vim.js.js":[69118,"highlight/vim-js-js"],"./wasm":[59351,"highlight/wasm"],"./wasm.js":[59351,"highlight/wasm"],"./wasm.js.js":[27146,"highlight/wasm-js-js"],"./wren":[65069,"highlight/wren"],"./wren.js":[65069,"highlight/wren"],"./wren.js.js":[6456,"highlight/wren-js-js"],"./x86asm":[17514,"highlight/x86asm"],"./x86asm.js":[17514,"highlight/x86asm"],"./x86asm.js.js":[58709,"highlight/x86asm-js-js"],"./xl":[98675,"highlight/xl"],"./xl.js":[98675,"highlight/xl"],"./xl.js.js":[35798,"highlight/xl-js-js"],"./xml":[60114,"highlight/xml"],"./xml.js":[60114,"highlight/xml"],"./xml.js.js":[1037,"highlight/xml-js-js"],"./xquery":[93051,"highlight/xquery"],"./xquery.js":[93051,"highlight/xquery"],"./xquery.js.js":[55342,"highlight/xquery-js-js"],"./yaml":[35588,"highlight/yaml"],"./yaml.js":[35588,"highlight/yaml"],"./yaml.js.js":[6287,"highlight/yaml-js-js"],"./zephir":[48745,"highlight/zephir"],"./zephir.js":[48745,"highlight/zephir"],"./zephir.js.js":[65860,"highlight/zephir-js-js"]};function s(t){if(!i.o(r,t))return Promise.resolve().then((()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],s=e[0];return Promise.all(e.slice(1).map(i.e)).then((()=>i.t(s,23)))}s.keys=()=>Object.keys(r),s.id=34812,t.exports=s},61395:(t,e,i)=>{"use strict";i.d(e,{A:()=>j});var r=i(52781),s=i(58294),o=i(73590),a=i(51594),n=i(28592);const A={name:"BaseReader",components:{EditorContent:s.$Z,EditorOutline:n.A},mixins:[a.yc,a.xU],provide(){const t={};return Object.defineProperties(t,{[o.qS]:{get:()=>this.$editor}}),t},inject:["renderHtml","extensions"],props:{content:{type:String,required:!0}},computed:{htmlContent(){return this.renderHtml(this.content)},showOutline(){return this.$outlineState.visible}},watch:{content(){this.updateContent()}},created(){this.$editor=this.createEditor(),this.$editor.setEditable(!1)},beforeDestroy(){this.$editor.destroy()},methods:{createEditor(){return new r.KE({content:this.htmlContent,extensions:this.extensions()})},updateContent(){this.$editor.commands.setContent(this.htmlContent,!0)}}};var l=i(85072),d=i.n(l),h=i(97825),c=i.n(h),C=i(77659),p=i.n(C),g=i(55056),u=i.n(g),v=i(10540),m=i.n(v),b=i(41113),f=i.n(b),x=i(33909),_={};_.styleTagTransform=f(),_.setAttributes=u(),_.insert=p().bind(null,"head"),_.domAPI=c(),_.insertStyleElement=m();d()(x.A,_);x.A&&x.A.locals&&x.A.locals;const j=(0,i(14486).A)(A,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"content-wrapper text-editor__content-wrapper",class:{"--show-outline":t.showOutline},attrs:{"data-text-el":"editor-content-wrapper"}},[t.showOutline?e("div",{staticClass:"text-editor__content-wrapper__left"},[e("EditorOutline")],1):t._e(),t._v(" "),t.$editor?e("EditorContent",{staticClass:"editor__content text-editor__content",attrs:{id:"read-only-editor",editor:t.$editor}}):t._e(),t._v(" "),e("div",{staticClass:"text-editor__content-wrapper__right"})],1)}),[],!1,null,"151c6c0d",null).exports},57419:(e,i,r)=>{"use strict";r.r(i),r.d(i,{default:()=>Ae});var s=r(85471),o=r(95353),a=r(21777),n=r(32981),A=r(61338),l=r(67126),d=r(52781);const h=d.YY.create({addOptions:()=>({fileId:null}),addStorage:()=>({started:!1}),onCreate(){if(null===this.options.fileId)throw new Error("fileId needs to be provided");this.storage.started=!0},onSelectionUpdate(t){let{editor:e}=t;if(!this.storage.started)return;const i=e.state.selection.$anchor.pos;sessionStorage.setItem("text-lastPos-"+this.options.fileId,i)},addCommands(){return{autofocus:()=>t=>{let{commands:e,editor:i}=t;const r=sessionStorage.getItem("text-lastPos-"+this.options.fileId);return r?e.focus(r):e.focus("start")}}}});var c=r(21),C=r(73590),p=r(75596),g=r(79843),u=r(11063),v=r(88784),m=r(91639),b=r(72876);function f(t){let{ydoc:e,syncService:i,fileId:r,initialSession:s,queue:o,disableBc:a}=t;if(!r)throw new Error("fileId is required");const n=function(t,e,i,r){return class{#f;#t;#M;binaryType;onmessage;onerror;onclose;onopen;#E;constructor(r){this.url=r,g.v.debug("WebSocketPolyfill#constructor",{url:r,fileId:e,initialSession:i}),this.#S({opened:t=>{let{version:e,session:i}=t;g.v.debug("opened ",{version:e,session:i}),this.#M=e,this.#t=i},loaded:t=>{let{version:e,session:i,content:r}=t;g.v.debug("loaded ",{version:e,session:i}),this.#M=e,this.#t=i},sync:t=>{let{steps:e,version:i}=t;g.v.debug("synced ",{version:i,steps:e}),this.#M=i,e&&e.forEach((t=>{const e=(0,b.U)(t.step);this.onmessage({data:e})}))}}),t.open({fileId:e,initialSession:i}).then((e=>{if(t.hasActiveConnection){const{version:t,session:i}=e;this.#M=t,this.#t=i,this.onopen?.()}}))}#S(e){this.#E=e,Object.entries(this.#E).forEach((e=>{let[i,r]=e;return t.on(i,r)}))}send(){r.push(...arguments);let e=[];return t.sendSteps((()=>{const t={steps:(0,u.gi)(r),awareness:(0,u.Af)(r),version:this.#M};return e=[...r],g.v.debug("sending steps ",t),t}))?.then((t=>(r.splice(0,r.length,...r.filter((t=>!e.includes(t)))),t)),(t=>{g.v.error(`Failed to push the queue with ${r.length} steps to the server`,t),this.onerror?.(t)}))}async close(){Object.entries(this.#E).forEach((e=>{let[i,r]=e;return t.off(i,r)})),this.#E=[],this.onclose(),g.v.debug("Websocket closed")}}}(i,r,s,o);a=a??!!window?._oc_debug;const A=new m.$R("ws://localhost:1234","file:"+r,e,{WebSocketPolyfill:n,disableBc:a});return A.on("status",(t=>g.v.debug("status",t))),A}var x=r(73819);const _={py:"python",gyp:"python",wsgi:"python",htm:"html",xhtml:"html",erl:"erlang",jsp:"java",pl:"perl",rss:"xml",atom:"xml",xsl:"xml",plist:"xml",rb:"ruby",builder:"ruby",gemspec:"ruby",podspec:"ruby",thor:"ruby",diff:"patch",hs:"haskell",icl:"haskell",php3:"php",php4:"php",php5:"php",php6:"php",sh:"bash",zsh:"bash",st:"smalltalk",as:"actionscript",apacheconf:"apache",osacript:"applescript",b:"brainfuck",bf:"brainfuck",clj:"clojure","cmake.in":"cmake",coffee:"coffeescript",cson:"coffescript",iced:"coffescript",c:"cpp",h:"cpp","c++":"cpp","h++":"cpp",hh:"cpp",jinja:"django",bat:"dos",cmd:"dos",fs:"fsharp",hbs:"handlebars","html.hbs":"handlebars","html.handlebars":"handlebars",sublime_metrics:"json",sublime_session:"json","sublime-keymap":"json","sublime-mousemap":"json","sublime-project":"json","sublime-settings":"json","sublime-workspace":"json",js:"javascript",mk:"makefile",mak:"makefile",md:"markdown",mkdown:"markdown",mkd:"markdown",nginxconf:"nginx",m:"objectivec",mm:"objectivec",ml:"ocaml",rs:"rust",sci:"scilab",txt:"plaintext",vb:"vbnet",vbs:"vbscript"};var j=r(91458),y=r(99498);const w={name:"AutoCompleteResult",props:{label:{type:String,required:!0},subline:{type:String,default:null},id:{type:String,default:null},icon:{type:String,required:!0},source:{type:String,required:!0},status:{type:[Object,Array],default:()=>({})}},computed:{avatarUrl(){return this.id&&"users"===this.source?this.getAvatarUrl(this.id,44):null},haveStatus(){return this.status?.icon||this.status?.status}},methods:{getAvatarUrl:(t,e)=>(0,y.Jv)("/avatar/{user}/{size}",{user:t,size:e})}};var k=r(85072),P=r.n(k),B=r(97825),M=r.n(B),E=r(77659),S=r.n(E),D=r(55056),I=r.n(D),T=r(10540),$=r.n(T),O=r(41113),R=r.n(O),L=r(75429),N={};N.styleTagTransform=R(),N.setAttributes=I(),N.insert=S().bind(null,"head"),N.domAPI=M(),N.insertStyleElement=$();P()(L.A,N);L.A&&L.A.locals&&L.A.locals;var F=r(14486);const U={components:{AutoCompleteResult:(0,F.A)(w,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"autocomplete-result"},[e("div",{staticClass:"autocomplete-result__icon",class:[t.icon,"autocomplete-result__icon--"+(t.avatarUrl?"with-avatar":"")],style:t.avatarUrl?{backgroundImage:`url(${t.avatarUrl})`}:null},[t.haveStatus?e("div",{staticClass:"autocomplete-result__status",class:[`autocomplete-result__status--${t.status&&t.status.icon?"icon":t.status.status}`]},[t._v("\n\t\t\t"+t._s(t.status&&t.status.icon||"")+"\n\t\t")]):t._e()]),t._v(" "),e("span",{staticClass:"autocomplete-result__content"},[e("span",{staticClass:"autocomplete-result__title"},[t._v("\n\t\t\t"+t._s(t.label)+"\n\t\t")]),t._v(" "),t.subline?e("span",{staticClass:"autocomplete-result__subline"},[t._v("\n\t\t\t"+t._s(t.subline)+"\n\t\t")]):t._e()])])}),[],!1,null,"2145738d",null).exports,SuggestionListWrapper:r(3315).A},props:{items:{type:Array,required:!0},command:{type:Function,required:!0}},methods:{onKeyDown(t){let{event:e}=t;return this.$refs.suggestionList?.onKeyDown({event:e})}}};var G=r(28190),q={};q.styleTagTransform=R(),q.setAttributes=I(),q.insert=S().bind(null,"head"),q.domAPI=M(),q.insertStyleElement=$();P()(G.A,q);G.A&&G.A.locals&&G.A.locals;const z=(0,F.A)(U,(function(){var t=this,e=t._self._c;return e("SuggestionListWrapper",{ref:"suggestionList",attrs:{command:t.command,items:t.items},scopedSlots:t._u([{key:"default",fn:function(t){let{item:i,active:r}=t;return[e("AutoCompleteResult",{class:r?"highlight":null,attrs:{id:i.id,label:i.label,icon:"icon-user",source:"users"}})]}},{key:"empty",fn:function(){return[t._v("\n\t\t"+t._s(t.t("text","No user found"))+"\n\t")]},proxy:!0}])})}),[],!1,null,null,null).exports;var W=r(92210);const H=(0,y.Jv)("apps/text/api/v1/users"),Y=t=>{let{session:e,params:i}=t;return(0,W.A)({listComponent:z,items:async t=>{let{query:i}=t;const r={documentId:e.documentId,sessionId:e.id,sessionToken:e.token,filter:i},s=await j.Ay.post(H,r),o=JSON.parse(JSON.stringify(s.data)),a=[];return Object.keys(o).map((t=>a.push({id:t,label:o[t]}))),a},command:t=>{let{editor:r,range:s,props:o}=t;i?.emitMention?i.emitMention({props:o}):(t=>{let{session:e,props:i}=t;const r=e.documentId;j.Ay.put((0,y.Jv)(`apps/text/session/${r}/mention`),{documentId:r,sessionId:e.id,sessionToken:e.token,mention:i.id})})({session:e,props:o});const a=r.view.state.selection.$to.nodeAfter,n=a?.text?.startsWith(" ");n&&(s.to+=1),r.chain().focus().insertContentAt(s,[{type:"mention",attrs:o},{type:"text",text:" "}]).run(),window.getSelection()?.collapseToEnd()},...i})};r(36532);var K=r(90865),V=r(50011),Q=r(217),J=r(28707);const Z=t=>{let e,{language:i,onCreate:r=()=>{},onUpdate:s=()=>{},extensions:o,enableRichEditing:a,session:n,relativePath:A}=t;return e=a?[Q.sD.configure({relativePath:A,component:void 0,extensions:[Q.PX.configure({suggestion:Y({session:n})})]}),Q.sp]:[Q.Ks,J.A.configure({lowlight:K.l,defaultLanguage:i})],new d.KE({onCreate:r,onUpdate:s,editorProps:{scrollMargin:50,scrollThreshold:50},extensions:e.concat(o||[])})};var X=r(94361),tt=r(44170),et=r(44843),it=r(98857),rt=r(70580),st=r.n(rt),ot=r(1228),at=r(58903);const nt={methods:{setContent(t){let{isRichEditor:e,addToHistory:i=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=e?tt.A.render(t)+"<p/>":`<pre>${st()(t)}</pre>`;this.$editor.chain().setContent(r,i).command((t=>{let{tr:e}=t;return e.setMeta("addToHistory",i),!0})).run()},setInitialYjsState(t,e){let{isRichEditor:i}=e;const r=i?tt.A.render(t)+"<p/>":`<pre>${st()(t)}</pre>`,s=Z({enableRichEditing:i}),o=(0,d.yQ)(r,s.extensionManager.extensions),a=at.bP.fromJSON(s.schema,o),n=(0,c.PR)((t=>{const e=new c.JA;e.clientID=0;const i=e.get("default",c.Sr);return i.doc?((0,ot.g4)(t,i),e):e})(a));(0,c.QE)(this.$ydoc,n)}}},At={name:"CollisionResolveDialog",components:{NcButton:it.x1},mixins:[C.CB,C.yu,nt,C.l5],props:{syncError:{type:Object,default:null}},data:()=>({clicked:!1}),methods:{resolveThisVersion(){this.clicked=!0,this.$syncService.forceSave().then((()=>this.$syncService.syncUp())),this.$editor.setEditable(!this.readOnly)},resolveServerVersion(){const{outsideChange:t}=this.syncError.data;this.clicked=!0,this.$editor.setEditable(!this.readOnly),this.setContent(t,{isRichEditor:this.$isRichEditor}),this.$syncService.forceSave().then((()=>this.$syncService.syncUp()))}}};var lt=r(48317),dt={};dt.styleTagTransform=R(),dt.setAttributes=I(),dt.insert=S().bind(null,"head"),dt.domAPI=M(),dt.insertStyleElement=$();P()(lt.A,dt);lt.A&&lt.A.locals&&lt.A.locals;const ht={name:"DocumentStatus",components:{CollisionResolveDialog:(0,F.A)(At,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"collision-resolve-dialog",class:{"icon-loading":t.clicked},attrs:{id:"resolve-conflicts"}},[e("NcButton",{attrs:{disabled:t.clicked,"data-cy":"resolveThisVersion"},on:{click:t.resolveThisVersion}},[t._v("\n\t\t"+t._s(t.t("text","Use current version"))+"\n\t")]),t._v(" "),e("NcButton",{attrs:{disabled:t.clicked,"data-cy":"resolveServerVersion"},on:{click:t.resolveServerVersion}},[t._v("\n\t\t"+t._s(t.t("text","Use the saved version"))+"\n\t")])],1)}),[],!1,null,"f43ae8b6",null).exports,Lock:et.A,NcNoteCard:it.mQ},props:{idle:{type:Boolean,require:!0},lock:{type:Object,default:null},syncError:{type:Object,default:null},hasConnectionIssue:{type:Boolean,require:!0},isResolvingConflict:{type:Boolean,require:!0}},data:()=>({IDLE_TIMEOUT:v.ZF}),computed:{hasSyncCollission(){return this.syncError&&this.syncError.type===v.Sd.SAVE_COLLISSION},isLoadingError(){return this.syncError&&this.syncError.type===v.Sd.LOAD_ERROR},hasWarning(){return this.syncError||this.hasConnectionIssue}},methods:{reconnect(){this.$emit("reconnect")},reload(){window.location.reload()}}};var ct=r(63789),Ct={};Ct.styleTagTransform=R(),Ct.setAttributes=I(),Ct.insert=S().bind(null,"head"),Ct.domAPI=M(),Ct.insertStyleElement=$();P()(ct.A,Ct);ct.A&&ct.A.locals&&ct.A.locals;const pt=(0,F.A)(ht,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"document-status"},[t.hasWarning?e("NcNoteCard",{attrs:{type:"warning"}},[t.isLoadingError?e("p",[t._v("\n\t\t\t"+t._s(t.syncError.data.data.error)+"\n\t\t\t"),t._v(" "),412===t.syncError.data.status?e("a",{staticClass:"button primary",on:{click:t.reload}},[t._v(t._s(t.t("text","Reload")))]):t._e()]):t.hasSyncCollission?e("p",[t._v("\n\t\t\t"+t._s(t.t("text","Document has been changed outside of the editor. The changes cannot be applied"))+"\n\t\t")]):t.hasConnectionIssue?e("p",[t._v("\n\t\t\t"+t._s(t.t("text","Document could not be loaded. Please check your internet connection."))+"\n\t\t\t"),e("a",{staticClass:"button primary",on:{click:t.reconnect}},[t._v(t._s(t.t("text","Reconnect")))])]):t._e()]):t.idle?e("NcNoteCard",{attrs:{type:"info"}},[e("p",[t._v("\n\t\t\t"+t._s(t.t("text","Document idle for {timeout} minutes, click to continue editing",{timeout:t.IDLE_TIMEOUT}))+"\n\t\t\t"),e("a",{staticClass:"button primary",on:{click:t.reconnect}},[t._v(t._s(t.t("text","Reconnect")))])])]):t._e(),t._v(" "),t.lock?e("NcNoteCard",{attrs:{type:"info"},scopedSlots:t._u([{key:"icon",fn:function(){return[e("Lock",{attrs:{size:20}})]},proxy:!0}],null,!1,326953187)},[t._v(" "),e("p",[t._v("\n\t\t\t"+t._s(t.t("text","This file is opened read-only as it is currently locked by {user}.",{user:t.lock.displayName}))+"\n\t\t")])]):t._e(),t._v(" "),t.isResolvingConflict?e("CollisionResolveDialog",{attrs:{"sync-error":t.syncError}}):t._e()],1)}),[],!1,null,"0b12dfc2",null).exports;var gt=r(17334),ut=r.n(gt);const vt=()=>document.documentElement.clientWidth<768,mt={data:()=>({isMobile:vt()}),beforeMount(){this.$onResize=ut()((()=>{this.isMobile=vt()}),100),window.addEventListener("resize",this.$onResize)},beforeDestroy(){window.removeEventListener("resize",this.$onResize)}};var bt=r(11441),ft=r(23731),xt=r(79305),_t=r(51651);const jt={data:()=>({refreshMoment:0}),mounted(){this.$refreshInterval=setInterval((()=>{this.refreshMoment++}),2e4)},beforeDestroy(){clearInterval(this.$refreshInterval)}},yt={name:"Status",components:{NcButton:it.x1,NcSavingIndicatorIcon:it.SQ,SessionList:()=>r.e("editor-collab").then(r.bind(r,27177)),GuestNameDialog:()=>r.e("editor-guest").then(r.bind(r,22919))},mixins:[C.bk,C.ir,C.l5,jt],props:{hasConnectionIssue:{type:Boolean,require:!0},dirty:{type:Boolean,require:!0},document:{type:Object,default:null},syncError:{type:Object,default:null},sessions:{type:Object,default:()=>({})}},computed:{lastSavedStatus(){return this.hasConnectionIssue?this.$isMobile?t("text","Offline"):t("text","Offline, changes will be saved when online"):this.dirtyStateIndicator?t("text","Saving "):t("text","Saved")},dirtyStateIndicator(){return this.dirty||this.hasUnsavedChanges},lastSavedStatusTooltip(){let e=t("text","Last saved {lastSave}",{lastSave:this.lastSavedString});return this.hasSyncCollission&&(e=t("text","The document has been changed outside of the editor. The changes cannot be applied.")),(this.dirty||this.hasUnsavedChanges)&&(e+=" - "+t("text","Unsaved changes")),e},hasUnsavedChanges(){return this.document&&this.document.lastSavedVersion<this.document.currentVersion},hasSyncCollission(){return this.syncError&&this.syncError.type===v.Sd.SAVE_COLLISSION},saveStatusClass(){return this.syncError&&""!==this.lastSavedString?"error":this.dirtyStateIndicator?"saving":"saved"},currentSession(){return Object.values(this.sessions).find((t=>t.isCurrent))},lastSavedString(){return this.refreshMoment,(0,_t.A)(1e3*this.document.lastSavedVersionTime).fromNow()}},methods:{onClickSave(){this.dirtyStateIndicator&&this.$syncService.forceSave()}}};var wt=r(26245),kt={};kt.styleTagTransform=R(),kt.setAttributes=I(),kt.insert=S().bind(null,"head"),kt.domAPI=M(),kt.insertStyleElement=$();P()(wt.A,kt);wt.A&&wt.A.locals&&wt.A.locals;const Pt=(0,F.A)(yt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-editor__session-list"},[e("div",{staticClass:"save-status",class:t.saveStatusClass,attrs:{title:t.lastSavedStatusTooltip}},[e("NcButton",{attrs:{type:"tertiary","aria-label":t.t("text","Save document")},on:{click:t.onClickSave},scopedSlots:t._u([{key:"icon",fn:function(){return[e("NcSavingIndicatorIcon",{attrs:{saving:"saving"===t.saveStatusClass,error:"error"===t.saveStatusClass}})]},proxy:!0}])})],1),t._v(" "),e("SessionList",{attrs:{sessions:t.sessions}},[e("p",{staticClass:"last-saved",attrs:{slot:"lastSaved"},slot:"lastSaved"},[t._v("\n\t\t\t"+t._s(t.t("text","Last saved"))+": "+t._s(t.lastSavedString)+"\n\t\t")]),t._v(" "),t.$isPublic&&t.currentSession&&!t.currentSession.userId?e("GuestNameDialog",{attrs:{session:t.currentSession}}):t._e()],1)],1)}),[],!1,null,"42888af2",null).exports;var Bt=r(56218),Mt=r(98727);const Et=window.getComputedStyle(document.body),St=Et.getPropertyValue("--color-placeholder-dark"),Dt=Et.getPropertyValue("--color-placeholder-light"),It={name:"SkeletonLoading",props:{count:{type:Number,default:5}},setup:()=>({colorPlaceholderDark:St,colorPlaceholderLight:Dt}),computed:{textPlaceholderData(){const t=[];for(let e=0;e<4;e++)t.push("width: "+(Math.floor(50*Math.random())+60)+"%");return t}}};var Tt=r(93346),$t={};$t.styleTagTransform=R(),$t.setAttributes=I(),$t.insert=S().bind(null,"head"),$t.domAPI=M(),$t.insertStyleElement=$();P()(Tt.A,$t);Tt.A&&Tt.A.locals&&Tt.A.locals;const Ot=(0,F.A)(It,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"placeholder-main placeholder-main-text"},[t._l(["-regular","-reverse"],(function(i,r){return[e("svg",{key:"gradient"+i,class:"placeholder-gradient placeholder-gradient"+i},[e("defs",[e("linearGradient",{attrs:{id:"placeholder-gradient"+i}},[e("stop",{attrs:{offset:"0%","stop-color":0===r?t.colorPlaceholderLight:t.colorPlaceholderDark}}),t._v(" "),e("stop",{attrs:{offset:"100%","stop-color":0===r?t.colorPlaceholderDark:t.colorPlaceholderLight}})],1)],1)]),t._v(" "),e("ul",{key:"list"+i,class:"placeholder-list placeholder-list"+i},t._l(t.count,(function(r){return e("li",{key:"placeholder"+i+r},[e("svg",{staticClass:"text-placeholder",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"url(#placeholder-gradient"+i+")"}},[e("rect",{staticClass:"text-placeholder-line-one",style:t.textPlaceholderData[0]}),t._v(" "),e("rect",{staticClass:"text-placeholder-line-two",style:t.textPlaceholderData[1]}),t._v(" "),e("rect",{staticClass:"text-placeholder-line-three",style:t.textPlaceholderData[2]}),t._v(" "),e("rect",{staticClass:"text-placeholder-line-four",style:t.textPlaceholderData[3]})])])})),0)]}))],2)}),[],!1,null,"5a5c7130",null).exports;var Rt=r(75289),Lt=r(27474),Nt=r(32069),Ft=r(24039),Ut=r(11037),Gt=r(93135),qt=r(45552),zt=r(93919),Wt=r(82430),Ht=r(78908),Yt=r(2948),Kt=r(21856),Vt=r(34905),Qt=r(58294),Jt=r(90168);const Zt=(t,e,i)=>Math.min(Math.max(parseInt(t),parseInt(e)),parseInt(i)),Xt={name:"Assistant",components:{Translate:Jt.A,FloatingMenu:Qt.yQ,ErrorIcon:Lt.A,CreationIcon:Nt.A,ClockOutline:Ft.A,CheckCircleIcon:Gt.A,DeleteIcon:Ut.A,TextBoxPlusOutlineIcon:qt.A,PencilIcon:zt.A,TextShort:Wt.A,FormatHeader1:Ht.A,Shuffle:Yt.A,TranslateVariant:Kt.A,ClipboardTextOutlineIcon:Vt.A,NcActions:it.B6,NcActionButton:it.Ko,NcActionSeparator:it.z,NcListItem:it.l,NcModal:it.FH},mixins:[C.CB,C.ir,C.c9,C.pN],data:()=>({providers:OCP.InitialState.loadState("text","textprocessing"),selection:"",tasks:[],STATUS_FAILED:4,STATUS_RUNNING:2,STATUS_SCHEDULED:1,STATUS_SUCCESSFUL:3,STATUS_UNKNOWN:0,showTaskList:!1,displayTranslate:!1,canTranslate:(0,n.C)("text","translation_languages",[]).length>0}),computed:{showAssistant(){return!this.$isRichWorkspace&&!this.$isPublic&&window?.OCA?.TPAssistant?.openAssistantForm},identifier(){return"text-file:"+this.$file.fileId},badgeStateIcon(){return this.tasks.filter((t=>1===t.status||2===t.status)).length>0?Ft.A:this.tasks.filter((t=>4===t.status)).length>0?Lt.A:this.tasks.filter((t=>3===t.status)).length>0?Gt.A:null}},beforeMount(){this.showAssistant&&(this.$editor.on("selectionUpdate",this.onSelection),this.fetchTasks(),this.$interval=setInterval((()=>this.fetchTasks()),6e4))},beforeDestroy(){this.showAssistant&&(this.$editor.off("selectionUpdate",this.onSelection),clearInterval(this.$interval))},methods:{async fetchTasks(){const t=await j.Ay.get((0,y.KT)("/textprocessing/tasks/app/text")+"?identifier="+this.identifier),e={};for(const t in this.providers){const i=this.providers[t];e[i.task]=i}this.tasks=t.data.ocs.data.tasks.map((t=>({...t,title:e[t.type].name}))).sort(((t,e)=>e.id-t.id))},onSelection(){const{state:t}=this.$editor,{from:e,to:i}=t.selection;this.selection=t.doc.textBetween(e,i," ")},async openAssistantForm(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;await window.OCA.TPAssistant.openAssistantForm({appId:"text",identifier:this.identifier,taskType:t,input:this.selection,isInsideViewer:!0}),await this.fetchTasks()},openTranslateDialog(){this.displayTranslate=this.selection},hideTranslate(){this.displayTranslate=!1},translateInsert(t){this.$editor.commands.command((e=>{let{tr:i,commands:r}=e;return r.insertContentAt(i.selection.to,t)})),this.displayTranslate=!1},translateReplace(t){this.$editor.commands.command((e=>{let{tr:i,commands:r}=e;const s=i.selection,o={from:s.from,to:s.to};return r.insertContentAt(o,t)})),this.displayTranslate=!1},async openResult(t){window.OCA?.TPAssistant.openAssistantResult(t)},async insertResult(t){this.$editor.commands.insertContent(t.output),this.showTaskList=!1},async copyResult(e){try{await navigator.clipboard.writeText(e.output),(0,Rt.Te)(t("text","Nextcloud Assistant result copied")),this.showTaskList=!1}catch(e){console.error(e),(0,Rt.Qg)(t("text","Could not copy result to clipboard"))}},async deleteTask(t){try{await j.Ay.delete((0,y.KT)(`/textprocessing/task/${t.id}`))}catch(t){console.error("Failed to delete task",t)}const e=this.tasks.findIndex((e=>e.id===t.id));e>-1&&this.$delete(this.tasks,e)},floatingOptions(){return{placement:"right",getReferenceClientRect:()=>{const t=this.$parent.$el.querySelector(".ProseMirror").getBoundingClientRect(),e=(0,d.MG)(this.$editor.view,this.$editor.state.selection.from,this.$editor.state.selection.to);return{...e,width:t.width,height:Zt(e.height,44,window.innerHeight),top:Zt(e.top,132,window.innerHeight-72),left:t.left,right:t.right,bottom:Zt(e.top+44,72,window.innerHeight-132)+22}}}},floatingShow:()=>!0}};var te=r(78412),ee={};ee.styleTagTransform=R(),ee.setAttributes=I(),ee.insert=S().bind(null,"head"),ee.domAPI=M(),ee.insertStyleElement=$();P()(te.A,ee);te.A&&te.A.locals&&te.A.locals;const ie=(0,F.A)(Xt,(function(){var t=this,e=t._self._c;return t.showAssistant?e("div",{staticClass:"text-assistant"},[t.$editor?e("FloatingMenu",{staticClass:"floating-menu",attrs:{editor:t.$editor,"tippy-options":t.floatingOptions(),"should-show":t.floatingShow}},[e("NcActions",{attrs:{title:t.t("text","Nextcloud Assistant"),type:"secondary"},scopedSlots:t._u([{key:"icon",fn:function(){return[e("CreationIcon",{staticClass:"icon",attrs:{size:20}})]},proxy:!0}],null,!1,3374928481)},[t._v(" "),t._l(t.providers,(function(i){return e("NcActionButton",{key:i.task,attrs:{"close-after-click":""},on:{click:function(e){return t.openAssistantForm(i.task)}},scopedSlots:t._u([{key:"icon",fn:function(){return["OCP\\TextProcessing\\FreePromptTaskType"==i.task?e("PencilIcon",{attrs:{size:20}}):"OCP\\TextProcessing\\SummarizeTaskType"==i.task?e("TextShort",{attrs:{size:20}}):"OCP\\TextProcessing\\HeadlineTaskType"==i.task?e("FormatHeader1",{attrs:{size:20}}):"OCA\\OpenAi\\TextProcessing\\ReformulateTaskType"==i.task?e("Shuffle",{attrs:{size:20}}):e("CreationIcon")]},proxy:!0}],null,!0)},[t._v("\n\t\t\t\t"+t._s(i.name)+"\n\t\t\t")])})),t._v(" "),e("NcActionButton",{attrs:{"close-after-click":""},on:{click:t.openTranslateDialog},scopedSlots:t._u([{key:"icon",fn:function(){return[e("TranslateVariant",{attrs:{size:20}})]},proxy:!0}],null,!1,722262457)},[t._v("\n\t\t\t\t"+t._s(t.t("text","Translate"))+"\n\t\t\t")]),t._v(" "),e("NcActionSeparator"),t._v(" "),e("NcActionButton",{attrs:{"close-after-click":""},on:{click:function(e){t.showTaskList=!0}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("CreationIcon",{attrs:{size:20}})]},proxy:!0}],null,!1,2994082090)},[t._v("\n\t\t\t\t"+t._s(t.t("text","Show assistant results"))+"\n\t\t\t")])],2),t._v(" "),t.badgeStateIcon?e(t.badgeStateIcon,{tag:"component",staticClass:"floating-menu--badge",attrs:{size:16}}):t._e()],1):t._e(),t._v(" "),!1!==t.displayTranslate?e("Translate",{attrs:{content:t.displayTranslate},on:{"insert-content":t.translateInsert,"replace-content":t.translateReplace,close:t.hideTranslate}}):t._e(),t._v(" "),e("NcModal",{attrs:{show:t.showTaskList},on:{"update:show":function(e){t.showTaskList=e}}},[e("div",{staticClass:"task-list"},[t.tasks.length>0?e("h4",[e("span",{staticClass:"assistant-bubble"},[e("CreationIcon",{staticClass:"icon",attrs:{size:16}}),t._v(" "),e("span",[t._v(t._s(t.t("text","Nextcloud Assistant")))])],1)]):t._e(),t._v(" "),t.tasks.length>0?e("ul",t._l(t.tasks,(function(i){return e("NcListItem",{key:i.id,attrs:{name:i.title,bold:!1,"force-display-actions":!0},on:{click:()=>t.openResult(i)},scopedSlots:t._u([{key:"subname",fn:function(){return[t._v("\n\t\t\t\t\t\t"+t._s(i.input)+"\n\t\t\t\t\t")]},proxy:!0},{key:"icon",fn:function(){return[i.status===t.STATUS_SUCCESSFUL?e("CheckCircleIcon",{staticClass:"icon-status--success",attrs:{size:20}}):i.status===t.STATUS_FAILED?e("ErrorIcon",{staticClass:"icon-status--failed",attrs:{size:20}}):e("ClockOutline",{attrs:{size:20}})]},proxy:!0},{key:"indicator",fn:function(){return[e("NcActions",{attrs:{inline:2}},[i.status===t.STATUS_SUCCESSFUL?e("NcActionButton",{attrs:{title:i.output},on:{click:function(e){return e.stopPropagation(),(()=>t.copyResult(i)).apply(null,arguments)}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("ClipboardTextOutlineIcon",{attrs:{size:20}})]},proxy:!0}],null,!0)},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.t("text","Insert result"))+"\n\t\t\t\t\t\t\t")]):t._e()],1)]},proxy:!0},{key:"actions",fn:function(){return[i.status===t.STATUS_SUCCESSFUL?e("NcActionButton",{attrs:{title:i.output},on:{click:function(e){return e.stopPropagation(),(()=>t.openResult(i)).apply(null,arguments)}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("CreationIcon",{attrs:{size:20}})]},proxy:!0}],null,!0)},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.t("text","Show result"))+"\n\t\t\t\t\t\t")]):t._e(),t._v(" "),i.status===t.STATUS_SUCCESSFUL?e("NcActionButton",{attrs:{title:i.output},on:{click:()=>t.insertResult(i)},scopedSlots:t._u([{key:"icon",fn:function(){return[e("TextBoxPlusOutlineIcon",{attrs:{size:20}})]},proxy:!0}],null,!0)},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.t("text","Insert result"))+"\n\t\t\t\t\t\t")]):t._e(),t._v(" "),e("NcActionButton",{on:{click:()=>t.deleteTask(i)},scopedSlots:t._u([{key:"icon",fn:function(){return[e("DeleteIcon",{attrs:{size:20}})]},proxy:!0}],null,!0)},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.t("text","Delete task"))+"\n\t\t\t\t\t\t")])]},proxy:!0}],null,!0)})})),1):t._e()])])],1):t._e()}),[],!1,null,"9c4fdb08",null).exports,re={name:"Editor",components:{SkeletonLoading:Ot,DocumentStatus:pt,Wrapper:Mt.A,MainContainer:Bt.A,ReadonlyBar:p.A,ContentContainer:xt.A,MenuBar:ft.A,Reader:()=>Promise.all([r.e("mermaid"),r.e("vendors-node_modules_nextcloud_vue_dist_index_mjs"),r.e("vendors-node_modules_braintree_sanitize-url_dist_index_js-node_modules_quartzy_markdown-it-me-f3a852"),r.e("vendors-node_modules_cancelable-promise_umd_CancelablePromise_js-node_modules_nextcloud_dialo-efa37a"),r.e("vendors-node_modules_nextcloud_logger_dist_index_js-node_modules_nextcloud_vue_dist_chunks_em-4fb725"),r.e("vendors-node_modules_path-normalize_lib_index_js-node_modules_proxy-polyfill_src_index_js-nod-eda160"),r.e("src_extensions_index_js-src_components_Editor_EditorOutline_vue-data_image_svg_xml_3c_21--_20-ee52b2"),r.e("editor")]).then(r.bind(r,19231)),Status:Pt,Assistant:ie},mixins:[mt,nt,bt.A],provide(){const t={};return Object.defineProperties(t,{[C.qS]:{get:()=>this.$editor},[C.GH]:{get:()=>this.$syncService},[C.PW]:{get:()=>this.fileData},[C.f_]:{get:()=>this.$attachmentResolver},[C.lV]:{get:()=>this.isPublic},[C.wn]:{get:()=>this.isRichEditor},[C.o]:{get:()=>this.isRichWorkspace},[C.yS]:{get:()=>this.isMobile}}),t},props:{richWorkspace:{type:Boolean,require:!1,default:!1},initialSession:{type:Object,default:null},relativePath:{type:String,default:""},fileId:{type:Number,default:null},active:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!0},shareToken:{type:String,default:null},mime:{type:String,default:null},hideMenu:{type:Boolean,default:!1},isDirectEditing:{type:Boolean,default:!1},showOutlineOutside:{type:Boolean,default:!1}},data:()=>({IDLE_TIMEOUT:v.ZF,document:null,sessions:[],currentSession:null,filteredSessions:{},idle:!1,dirty:!1,contentLoaded:!1,syncError:null,hasConnectionIssue:!1,hasEditor:!1,readOnly:!0,forceRecreate:!1,menubarLoaded:!1,draggedOver:!1,contentWrapper:null}),computed:{...(0,o.aH)({showAuthorAnnotations:t=>t.text.showAuthorAnnotations}),isRichWorkspace(){return this.richWorkspace},isResolvingConflict(){return this.hasSyncCollission&&!this.readOnly},hasSyncCollission(){return this.syncError&&this.syncError.type===v.Sd.SAVE_COLLISSION},hasDocumentParameters(){return this.fileId||this.shareToken||this.initialSession},isPublic(){return this.isDirectEditing||document.getElementById("isPublic")&&"1"===document.getElementById("isPublic").value},isRichEditor(){return(0,n.C)("text","rich_editing_enabled",!0)&&"text/markdown"===this.mime},fileExtension(){return this.relativePath?this.relativePath.split("/").pop().split(".").pop():"txt"},currentDirectory(){return this.relativePath?this.relativePath.split("/").slice(0,-1).join("/"):"/"},displayed(){return this.currentSession&&this.active},displayedStatus(){return this.displayed||!!this.syncError},renderRichEditorMenus(){return this.contentLoaded&&this.isRichEditor&&!this.syncError&&!this.readOnly},renderMenus(){return this.contentLoaded&&!this.syncError},imagePath(){return this.relativePath.split("/").slice(0,-1).join("/")},fileData(){return{fileId:this.fileId,relativePath:this.relativePath,document:{...this.document}}}},watch:{displayed(){this.$nextTick((()=>{this.contentWrapper=this.$refs.contentWrapper}))}},mounted(){this.active&&this.hasDocumentParameters&&this.initSession(),this.richWorkspace||(window.addEventListener("beforeprint",this.preparePrinting),window.addEventListener("afterprint",this.preparePrinting)),(0,A.B1)("text:image-node:add",this.onAddImageNode),(0,A.B1)("text:image-node:delete",this.onDeleteImageNode),this.emit("update:loaded",!0)},created(){this.$ydoc=new c.JA,this.$queue=[],this.$providers=[],this.$editor=null,this.$syncService=null,this.$attachmentResolver=null},async beforeDestroy(){if(this.richWorkspace||(window.removeEventListener("beforeprint",this.preparePrinting),window.removeEventListener("afterprint",this.preparePrinting)),(0,A.al)("text:image-node:add",this.onAddImageNode),(0,A.al)("text:image-node:delete",this.onDeleteImageNode),this.dirty){const t=new Promise((t=>setTimeout(t,2e3)));await Promise.any([t,this.$syncService.save()])}this.close()},methods:{...(0,o.i0)("text",["setCurrentSession"]),initSession(){if(!this.hasDocumentParameters)return void this.emit("error","No valid file provided");const t=localStorage.getItem("nick")?localStorage.getItem("nick"):"";this.$syncService=new v.HJ({guestName:t,shareToken:this.shareToken,filePath:this.relativePath,baseVersionEtag:this.$baseVersionEtag,forceRecreate:this.forceRecreate,serialize:this.isRichEditor?t=>(0,X.I)(this.$editor.schema).serialize(t??this.$editor.state.doc):t=>(t??this.$editor.state.doc).textContent,getDocumentState:()=>(0,u.hT)(this.$ydoc)}),this.listenSyncServiceEvents();const e=f({ydoc:this.$ydoc,syncService:this.$syncService,fileId:this.fileId,queue:this.$queue,initialSession:this.initialSession,disableBC:!0});this.$providers.push(e),this.forceRecreate=!1},listenEditorEvents(){this.$editor.on("focus",this.onFocus),this.$editor.on("blur",this.onBlur)},unlistenEditorEvents(){this.$editor.off("focus",this.onFocus),this.$editor.off("blur",this.onBlur)},listenSyncServiceEvents(){this.$syncService.on("opened",this.onOpened).on("change",this.onChange).on("loaded",this.onLoaded).on("sync",this.onSync).on("error",this.onError).on("stateChange",this.onStateChange).on("idle",this.onIdle).on("save",this.onSave)},unlistenSyncServiceEvents(){this.$syncService.off("opened",this.onOpened).off("change",this.onChange).off("loaded",this.onLoaded).off("sync",this.onSync).off("error",this.onError).off("stateChange",this.onStateChange).off("idle",this.onIdle).off("save",this.onSave)},reconnect(){this.contentLoaded=!1,this.hasConnectionIssue=!1,this.disconnect().then(this.initSession),this.idle=!1},updateSessions(t){this.sessions=t.sort(((t,e)=>e.lastContact-t.lastContact));const e=this.sessions.find((t=>t.id===this.currentSession.id));(0,s.set)(this,"currentSession",e);const i=this.sessions.map((t=>t.userId)),r=this.sessions.map((t=>t.guestId)),o=Object.keys(this.filteredSessions).filter((t=>!i.includes(t)&&!r.includes(t)));for(const t in o)s.default.delete(this.filteredSessions,o[t]);for(const t in this.sessions){const e=this.sessions[t],i=e.displayName?e.userId:e.id;this.filteredSessions[i]?this.filteredSessions[i].lastContact<e.lastContact&&(0,s.set)(this.filteredSessions[i],"lastContact",e.lastContact):(0,s.set)(this.filteredSessions,i,e),e.id===this.currentSession.id&&(0,s.set)(this.filteredSessions[i],"isCurrent",!0)}},onOpened(t){let{document:e,session:i}=t;this.currentSession=i,this.document=e,this.readOnly=e.readOnly,this.$editor&&this.$editor.setEditable(!this.readOnly),this.lock=this.$syncService.lock,localStorage.setItem("nick",this.currentSession.guestName),this.setCurrentSession(this.currentSession),this.$attachmentResolver=new x.A({session:this.currentSession,user:(0,a.HW)(),shareToken:this.shareToken,currentDirectory:this.currentDirectory})},onLoaded(e){let{document:i,documentSource:s,documentState:o}=e;if(o){(0,u.DI)(this.$ydoc,o,this.$providers[0]);const t=(0,u.vh)(this.$ydoc,o);t&&(g.v.debug("onLoaded: Pushing local changes to server"),this.$queue.push(t))}else this.setInitialYjsState(s,{isRichEditor:this.isRichEditor});this.$baseVersionEtag=i.baseVersionEtag,this.hasConnectionIssue=!1;const a=_[this.fileExtension]||this.fileExtension;(this.isRichEditor?Promise.resolve():(async t=>{const e=V.A.listLanguages();if(g.v.debug("Supported languages",{list:e}),!K.l.listLanguages().includes(t))try{g.v.debug("Loading language",t);const e=await r(34812)(`./${t}`);K.l.registerLanguage(t,e.default)}catch(t){g.v.debug("No matching highlighing found",{error:t})}})(a)).then((()=>{const e=this.currentSession;this.$editor?this.$syncService.startSync():(this.$editor=Z({language:a,relativePath:this.relativePath,session:e,onCreate:t=>{let{editor:e}=t;this.$syncService.startSync();const i=this.$syncService.serialize(e.state.doc);this.emit("create:content",{markdown:i})},onUpdate:t=>{let{editor:e}=t;const i=this.$syncService.serialize(e.state.doc);this.emit("update:content",{markdown:i})},extensions:[h.configure({fileId:this.fileId}),l.OV.configure({document:this.$ydoc}),Q.AZ.configure({provider:this.$providers[0],user:{name:e?.userId?e.displayName:e?.guestName||t("text","Guest"),color:e?.color,clientId:this.$ydoc.clientID}})],enableRichEditing:this.isRichEditor}),this.hasEditor=!0,this.listenEditorEvents())}))},onChange(t){let{document:e,sessions:i}=t;this.updateSessions.bind(this)(i),this.document=e,this.syncError=null;const r=!this.readOnly&&!this.hasConnectionIssue;this.$editor.isEditable!==r&&this.$editor.setEditable(r)},onSync(t){let{steps:e,document:i}=t;this.hasConnectionIssue=0===this.$syncService.backend.fetcher||!this.$providers[0].wsconnected||this.$syncService.pushError>0,this.$nextTick((()=>{this.emit("sync-service:sync")})),this.document=i},onError(e){let{type:i,data:r}=e;if(this.$nextTick((()=>{this.$editor?.setEditable(!1),this.emit("sync-service:error")})),i===v.Sd.LOAD_ERROR&&(this.syncError={type:i,data:r}),i!==v.Sd.SAVE_COLLISSION||this.syncError&&this.syncError.type===v.Sd.SAVE_COLLISSION||(this.contentLoaded=!0,this.syncError={type:i,data:r}),i!==v.Sd.CONNECTION_FAILED||this.hasConnectionIssue||(this.hasConnectionIssue=!0,OC.Notification.showTemporary(t("text","Connection failed."))),i===v.Sd.SOURCE_NOT_FOUND&&(this.hasConnectionIssue=!0),i===v.Sd.PUSH_FORBIDDEN)return this.hasConnectionIssue=!0,void this.emit("push:forbidden");this.emit("ready")},onStateChange(t){t.initialLoading&&!this.contentLoaded&&(this.contentLoaded=!0,this.autofocus&&!this.readOnly&&this.$nextTick((()=>{this.$editor.commands.autofocus()})),this.emit("ready")),Object.prototype.hasOwnProperty.call(t,"dirty")&&this.$editor&&(this.$editor.can().undo()||this.$editor.can().redo())&&(this.dirty=t.dirty,this.dirty&&this.$syncService.autosave())},onIdle(){this.$syncService.close(),this.idle=!0,this.readOnly=!0,this.$editor.setEditable(!this.readOnly),this.$nextTick((()=>{this.emit("sync-service:idle")}))},onSave(){(0,A.Ic)("files:file:updated",{fileid:this.fileId}),this.$nextTick((()=>{this.emit("sync-service:save")}))},onFocus(){this.emit("focus")},onBlur(){this.emit("blur")},onAddImageNode(){this.emit("add-image-node")},onDeleteImageNode(t){this.emit("delete-image-node",t)},async save(){await this.$syncService.save()},async disconnect(){await this.$syncService.close(),this.unlistenSyncServiceEvents(),this.$providers.forEach((t=>t?.destroy())),this.$providers=[],this.$syncService=null,this.readOnly=!0},async close(){if(await this.$syncService.sendRemainingSteps(this.$queue),await this.disconnect(),this.$editor)try{this.unlistenEditorEvents(),this.$editor.destroy(),this.$editor=null,this.hasEditor=!1}catch(t){g.v.warn("Failed to destroy editor",{error:t})}return!0},emit(t,e){this.$emit(t,e),this.$parent?.$emit(t,e)},preparePrinting(t){const e=document.getElementById("content");e&&"beforeprint"===t.type?e.style.display="none":e&&(e.style.display="")},debugContent(t){const e=this.$syncService.serialize(t.state.doc),i=tt.A.render(e);g.v.debug("markdown, serialized from editor state by prosemirror-markdown"),console.debug(e),g.v.debug("HTML, serialized from markdown by markdown-it"),console.debug(i),g.v.debug("HTML, as rendered in the browser by Tiptap"),console.debug(t.getHTML())},outlineToggled(t){this.emit("outline-toggled",t)},onKeyDown(t){if("Escape"!==t.key)return"Tab"!==t.key||t.shiftKey||t.ctrlKey||t.metaKey||!this.$editor.isActive("codeBlock")?void((t.ctrlKey||t.metaKey)&&"s"===t.key&&(this.$syncService.save(),t.preventDefault())):(this.$editor.commands.insertContent("\t"),this.$editor.commands.focus(),t.preventDefault(),void t.stopPropagation());t.preventDefault()}}};var se=r(74644),oe={};oe.styleTagTransform=R(),oe.setAttributes=I(),oe.insert=S().bind(null,"head"),oe.domAPI=M(),oe.insertStyleElement=$();P()(se.A,oe);se.A&&se.A.locals&&se.A.locals;var ae=r(99536),ne={};ne.styleTagTransform=R(),ne.setAttributes=I(),ne.insert=S().bind(null,"head"),ne.domAPI=M(),ne.insertStyleElement=$();P()(ae.A,ne);ae.A&&ae.A.locals&&ae.A.locals;const Ae=(0,F.A)(re,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-editor",attrs:{id:"editor-container","data-text-el":"editor-container",tabindex:"-1"},on:{keydown:function(e){return e.stopPropagation(),t.onKeyDown.apply(null,arguments)}}},[t.displayedStatus?e("DocumentStatus",{attrs:{idle:t.idle,lock:t.lock,"is-resolving-conflict":t.isResolvingConflict,"sync-error":t.syncError,"has-connection-issue":t.hasConnectionIssue},on:{reconnect:t.reconnect}}):t._e(),t._v(" "),t.contentLoaded||t.displayedStatus?t._e():e("SkeletonLoading"),t._v(" "),t.displayed?e("Wrapper",{attrs:{"is-resolving-conflict":t.isResolvingConflict,"has-connection-issue":t.hasConnectionIssue,"content-loaded":t.contentLoaded,"show-author-annotations":t.showAuthorAnnotations,"show-outline-outside":t.showOutlineOutside},on:{"outline-toggled":t.outlineToggled}},[t.hasEditor?e("MainContainer",[t.readOnly?e("div",{staticClass:"text-editor--readonly-bar"},[t._t("readonlyBar",(function(){return[e("ReadonlyBar",[e("Status",{attrs:{document:t.document,dirty:t.dirty,sessions:t.filteredSessions,"sync-error":t.syncError,"has-connection-issue":t.hasConnectionIssue}})],1)]}))],2):[t.renderMenus?e("MenuBar",{ref:"menubar",attrs:{"is-hidden":t.hideMenu,loaded:t.menubarLoaded},on:{"update:loaded":function(e){t.menubarLoaded=e}}},[e("Status",{attrs:{document:t.document,dirty:t.dirty,sessions:t.filteredSessions,"sync-error":t.syncError,"has-connection-issue":t.hasConnectionIssue}}),t._v(" "),t._t("header")],2):e("div",{staticClass:"menubar-placeholder"})],t._v(" "),e("ContentContainer",{directives:[{name:"show",rawName:"v-show",value:t.contentLoaded,expression:"contentLoaded"}],ref:"contentWrapper"})],2):t._e(),t._v(" "),t.isResolvingConflict?e("Reader",{attrs:{content:t.syncError.data.outsideChange,"is-rich-editor":t.isRichEditor}}):t._e()],1):t._e(),t._v(" "),t.$editor?e("Assistant"):t._e()],1)}),[],!1,null,"4da9cce4",null).exports},79305:(t,e,i)=>{"use strict";i.d(e,{A:()=>_});var r=i(58294),s=i(73590),o=i(51594),a=i(28592);const n={name:"ContentContainer",components:{EditorContent:r.$Z,EditorOutline:a.A},mixins:[s.CB,o.yc],computed:{showOutline(){return this.$outlineState.visible}}};var A=i(85072),l=i.n(A),d=i(97825),h=i.n(d),c=i(77659),C=i.n(c),p=i(55056),g=i.n(p),u=i(10540),v=i.n(u),m=i(41113),b=i.n(m),f=i(62277),x={};x.styleTagTransform=b(),x.setAttributes=g(),x.insert=C().bind(null,"head"),x.domAPI=h(),x.insertStyleElement=v();l()(f.A,x);f.A&&f.A.locals&&f.A.locals;const _=(0,i(14486).A)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"content-wrapper text-editor__content-wrapper",class:{"--show-outline":t.showOutline},attrs:{"data-text-el":"editor-content-wrapper"}},[t.showOutline?e("div",{staticClass:"text-editor__content-wrapper__left"},[e("EditorOutline")],1):t._e(),t._v(" "),t._t("default"),t._v(" "),e("EditorContent",{staticClass:"editor__content text-editor__content",attrs:{role:"document",editor:t.$editor}}),t._v(" "),e("div",{staticClass:"text-editor__content-wrapper__right"})],2)}),[],!1,null,"7394eeaa",null).exports},56218:(e,i,r)=>{"use strict";r.d(i,{A:()=>B});var s=r(21777),o=r(75289),a=r(61338),n=r(79843),A=r(73590),l=r(3601);const d=t=>t.split("/").slice(0,-1).join("/"),h={name:"MediaHandler",mixins:[A.CB,A.pN,A.l5],provide(){const t={};return Object.defineProperties(t,{[l.Os]:{get:()=>this.showAttachmentPrompt},[l.Vf]:{get:()=>this.chooseLocalFile},[l.kk]:{get:()=>this.state}}),t},data:()=>({lastFilePath:null,draggedOver:!1,state:{isUploadingAttachments:!1}}),computed:{initialFilePath(){return this.lastFilePath??d(this.$file?.relativePath??"/")}},methods:{setDraggedOver(t){this.draggedOver=t},onPaste(t){this.uploadAttachmentFiles(t.detail.files)},onEditorDrop(t){this.uploadAttachmentFiles(t.detail.files,t.detail.position),this.draggedOver=!1},onAttachmentUploadFilePicked(t){this.uploadAttachmentFiles(t.target.files),t.target.value=""},chooseLocalFile(){this.$refs.attachmentFileInput.click()},async uploadAttachmentFiles(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)return;this.state.isUploadingAttachments=!0;const r=[...e].map((t=>this.uploadAttachmentFile(t,i)));return Promise.all(r).catch((e=>{n.v.error("Uploading multiple attachments failed",{error:e}),(0,o.Qg)(t("text","Uploading multiple attachments failed."))})).then((()=>{this.state.isUploadingAttachments=!1}))},async uploadAttachmentFile(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.state.isUploadingAttachments=!0,this.$syncService.uploadAttachment(e).then((t=>{this.insertAttachment(t.data?.name,t.data?.id,e.type,i,t.data?.dirname)})).catch((e=>{n.v.error("Uploading attachment failed",{error:e}),(0,o.Qg)(t("text","Uploading attachment failed."))})).then((()=>{this.state.isUploadingAttachments=!1}))},showAttachmentPrompt(){(0,s.HW)()&&OC.dialogs.filepicker(t("text","Insert an attachment"),(t=>{this.insertFromPath(t)}),!1,[],!0,void 0,this.initialFilePath)},insertFromPath(e){return this.lastFilePath=d(e),this.state.isUploadingAttachments=!0,this.$syncService.insertAttachmentFile(e).then((t=>{this.insertAttachment(t.data?.name,t.data?.id,t.data?.mimetype,null,t.data?.dirname)})).catch((e=>{n.v.error("Failed to insert from Files",{error:e}),(0,o.Qg)(t("text","Failed to insert from Files"))})).then((()=>{this.state.isUploadingAttachments=!1}))},insertAttachment(t,e,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const s=(arguments.length>4&&void 0!==arguments[4]?arguments[4]:"")+"/"+encodeURIComponent(t).replace(/[!'()*]/g,(t=>"%"+t.charCodeAt(0).toString(16).toUpperCase())),o=t.replaceAll(/[[\]]/g,"");(r?this.$editor.chain().focus(r):this.$editor.chain()).setImage({src:s,alt:o}).run();const n=this.$editor.view.state.selection;n.empty||this.$editor.commands.focus(n.to),this.$editor.commands.scrollIntoView(),(0,a.Ic)("text:image-node:add",null)}}};var c=r(14486);const C={name:"MainContainer",components:{MediaHandler:(0,c.A)(h,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"editor editor-media-handler",class:{draggedOver:t.draggedOver},attrs:{"data-text-el":"editor-media-handler"},on:{"image-paste":t.onPaste,dragover:function(e){return e.preventDefault(),e.stopPropagation(),t.setDraggedOver(!0)},dragleave:function(e){return e.preventDefault(),e.stopPropagation(),t.setDraggedOver(!1)},"file-drop":t.onEditorDrop}},[e("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"attachmentFileInput",attrs:{"data-text-el":"attachment-file-input",type:"file",accept:"*/*",multiple:""},on:{change:t.onAttachmentUploadFilePicked}}),t._v(" "),t._t("default")],2)}),[],!1,null,null,null).exports},mixins:[A._S]};var p=r(85072),g=r.n(p),u=r(97825),v=r.n(u),m=r(77659),b=r.n(m),f=r(55056),x=r.n(f),_=r(10540),j=r.n(_),y=r(41113),w=r.n(y),k=r(76768),P={};P.styleTagTransform=w(),P.setAttributes=x(),P.insert=b().bind(null,"head"),P.domAPI=v(),P.insertStyleElement=j();g()(k.A,P);k.A&&k.A.locals&&k.A.locals;const B=(0,c.A)(C,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"editor"},[t.$editorUpload?e("MediaHandler",{staticClass:"text-editor__main"},[t._t("default")],2):t._t("default")],2)}),[],!1,null,"8ffa875e",null).exports},40507:(t,e,i)=>{"use strict";i.d(e,{default:()=>u});var r=i(98727),s=i(56218),o=i(23731),a=i(52781),n=i(74116),A=i(21777),l=i(73590),d=i(94361),h=i(73819),c=i(44170),C=i(217),p=i(75596);const g={name:"MarkdownContentEditor",components:{ContentContainer:i(79305).A,ReadonlyBar:p.A,MenuBar:o.A,MainContainer:s.A,Wrapper:r.A},mixins:[l.Z9],provide(){const t={};return Object.defineProperties(t,{[l.qS]:{get:()=>this.$editor},[l.f_]:{get:()=>this.$attachmentResolver??null},[l.wn]:{get:()=>!0}}),t},props:{fileId:{type:Number,default:null},content:{type:String,required:!0},readOnly:{type:Boolean,default:!1},relativePath:{type:String,default:""},shareToken:{type:String,default:null},showOutlineOutside:{type:Boolean,default:!1}},emits:["update:content"],computed:{htmlContent(){return this.renderHtml(this.content)}},watch:{content(){this.updateContent()}},created(){this.$editor=this.createEditor(),this.$editor.setEditable(!this.readOnly),this.fileId&&(this.$attachmentResolver=new h.A({currentDirectory:this.relativePath?.match(/.*\//),user:(0,A.HW)(),shareToken:this.shareToken,fileId:this.fileId}))},beforeDestroy(){this.$editor.destroy()},methods:{renderHtml:t=>c.A.render(t),extensions(){return[C.sD.configure({component:this,link:this?.$linkHookClick?{onClick:(t,e)=>this?.$linkHookClick?.(t,e)}:void 0,extensions:[n.A]})]},createEditor(){return new a.KE({content:this.htmlContent,extensions:this.extensions(),onUpdate:t=>{let{editor:e}=t;const i=(0,d.I)(this.$editor.schema).serialize(e.state.doc);this.emit("update:content",{json:e.state.doc,markdown:i})},onCreate:t=>{let{editor:e}=t;this.$emit("ready"),this.$parent.$emit("ready")}})},updateContent(){this.$editor.commands.setContent(this.htmlContent,!0)},outlineToggled(t){this.emit("outline-toggled",t)},emit(t,e){this.$emit(t,e),this.$parent?.$emit(t,e)}}};const u=(0,i(14486).A)(g,(function(){var t=this,e=t._self._c;return e("Wrapper",{attrs:{"content-loaded":!0,"show-outline-outside":t.showOutlineOutside},on:{"outline-toggled":t.outlineToggled}},[e("MainContainer",[t.readOnly?t._t("readonlyBar",(function(){return[e("ReadonlyBar")]})):e("MenuBar",{attrs:{autohide:!1}}),t._v(" "),e("ContentContainer")],2)],1)}),[],!1,null,"1dc83704",null).exports},98727:(t,e,i)=>{"use strict";i.d(e,{A:()=>_});var r=i(73590),s=i(51594),o=i(11441),a=i(95353);const n={name:"Wrapper",mixins:[o.A,r.yu,r.c9],provide(){const t={};return Object.defineProperties(t,{[s.tD]:{get:()=>this.outline},[s.N]:{get:()=>({toggle:this.outlineToggle})}}),t},props:{isResolvingConflict:{type:Boolean,require:!0},hasConnectionIssue:{type:Boolean,default:!1},contentLoaded:{type:Boolean,default:!0},showAuthorAnnotations:{type:Boolean,default:!1},showOutlineOutside:{type:Boolean,default:!1}},data:()=>({outline:{visible:!1,enable:!1}}),computed:{...(0,a.aH)({viewWidth:t=>t.text.viewWidth}),showOutline(){return!!this.isAbleToShowOutline&&this.outline.visible},isAbleToShowOutline(){return!this.$isRichWorkspace&&this.viewWidth>1265}},watch:{showOutlineOutside(){this.outline.visible=this.showOutlineOutside}},mounted(){this.outline.enable=this.isAbleToShowOutline,this.$watch((()=>this.isAbleToShowOutline),(t=>{Object.assign(this.outline,{enable:t})}))},methods:{outlineToggle(){this.outline.visible=!this.outline.visible,this.$emit("outline-toggled",this.outline.visible)}}};var A=i(85072),l=i.n(A),d=i(97825),h=i.n(d),c=i(77659),C=i.n(c),p=i(55056),g=i.n(p),u=i(10540),v=i.n(u),m=i(41113),b=i.n(m),f=i(58923),x={};x.styleTagTransform=b(),x.setAttributes=g(),x.insert=C().bind(null,"head"),x.domAPI=h(),x.insertStyleElement=v();l()(f.A,x);f.A&&f.A.locals&&f.A.locals;const _=(0,i(14486).A)(n,(function(){var t=this;return(0,t._self._c)("div",{staticClass:"text-editor__wrapper",class:{"has-conflicts":t.isResolvingConflict,"is-rich-workspace":t.$isRichWorkspace,"is-rich-editor":t.$isRichEditor,"show-color-annotations":t.showAuthorAnnotations}},[t._t("default")],2)}),[],!1,null,"4e6be2c3",null).exports},22086:(e,i,r)=>{"use strict";r.d(i,{A:()=>p});var s=r(98857),o=r(58655);const a={name:"NcActionButton",components:{NextcloudVueNcActionButton:s.Ko},extends:o.A,mounted(){this.$editor.on("transaction",(()=>this.updateState()))},methods:{runAction(){const{actionEntry:t}=this;t.click?t.click(this):t.action(this.$editor.chain().focus())?.run(),this.$nextTick((()=>{this.$emit("trigged",{...t})}))}}};var n=r(14486);const A=(0,n.A)(a,(function(){var t=this,e=t._self._c;return e("NextcloudVueNcActionButton",t._g({staticClass:"entry-single-action entry-action entry-action-item",class:t.state.class,attrs:{disabled:t.state.disabled,"aria-keyshortcuts":t.keyshortcuts||void 0,"data-text-action-entry":t.actionEntry.key,type:t.state.type,"model-value":"button"!==t.state.type?t.state.active:void 0,"close-after-click":""},on:{click:t.runAction},scopedSlots:t._u([{key:"icon",fn:function(){return[e(t.icon,{tag:"component"})]},proxy:!0}])},t.$listeners),[t._v("\n\t"+t._s(t.label)+"\n")])}),[],!1,null,null,null).exports;var l=r(1357),d=r(51594),h=r(11441),c=r(30109);const C={name:"ActionList",components:{NcActions:s.B6,NcActionSeparator:s.z,ActionListItem:A},extends:o.A,mixins:[h.A,d.yc,c.B],data:()=>({visible:!1}),computed:{currentChild(){const{state:t,$editor:e,actionEntry:{children:i}}=this;return t.active?i.find((t=>(0,l.Hf)(t,e))):null},icon(){return this.currentChild?this.currentChild.icon:this.actionEntry.icon},iconKey(){return`${this.actionEntry.key}/${this.activeKey}`},activeKey(){return this.currentChild?.key},children(){return this.actionEntry.children.filter((t=>{let{visible:e}=t;return void 0===e||("function"==typeof e?e(this):e)}))},labelWithSelected(){return this.currentChild?t("text",'{menuItemName}, "{selectedSubMenuItemName}" is selected',{menuItemName:this.actionEntry.label,selectedSubMenuItemName:this.currentChild.label}):this.actionEntry.label}},methods:{onOpenChange(t){this.visible=t},runAction(){},onTrigger(t){t?.click||(this.$editor.chain().focus().run(),this.$emit("trigged",t))}}};const p=(0,n.A)(C,(function(){var t=this,e=t._self._c;return e("NcActions",t._b({staticClass:"entry-list-action entry-action",attrs:{title:t.tooltip,container:t.menuIDSelector,"aria-label":t.labelWithSelected,type:t.state.active?"primary":"tertiary","force-menu":!0,"data-text-action-entry":t.actionEntry.key,"data-text-action-active":t.activeKey},on:{"update:open":t.onOpenChange},scopedSlots:t._u([{key:"icon",fn:function(){return[e(t.icon,{key:t.iconKey,tag:"component"})]},proxy:!0}])},"NcActions",t.state,!1),[t._v(" "),t._l(t.children,(function(i){return[i.isSeparator?e("NcActionSeparator",{key:`child-${i.key}`}):e("ActionListItem",t._g({key:`child-${i.key}`,attrs:{active:t.currentChild?.key===i.key,"is-item":"","action-entry":i},on:{trigged:t.onTrigger}},t.$listeners))]})),t._v(" "),t._t("lastAction",null,null,{visible:t.visible})],2)}),[],!1,null,null,null).exports},85511:(t,e,i)=>{"use strict";i.d(e,{A:()=>a});var r=i(98857),s=i(58655);const o={name:"ActionSingle",components:{NcButton:r.x1},extends:s.A,props:{isItem:{type:Boolean,default:!1}},mounted(){this.$editor.on("transaction",(()=>this.updateState()))},methods:{runAction(){const{actionEntry:t}=this;t.click?t.click(this):t.action(this.$editor.chain().focus())?.run(),this.$nextTick((()=>{this.$emit("trigged",{...t})}))}}};const a=(0,i(14486).A)(o,(function(){var t=this,e=t._self._c;return e("NcButton",t._g({staticClass:"entry-single-action entry-action",class:t.state.class,attrs:{disabled:t.state.disabled,"aria-keyshortcuts":t.keyshortcuts||void 0,"data-text-action-entry":t.actionEntry.key,"aria-label":t.label,title:t.tooltip,type:"tertiary",pressed:"button"!==t.state.type?t.state.active:void 0},on:{click:t.runAction},scopedSlots:t._u([{key:"icon",fn:function(){return[e(t.icon,{tag:"component"})]},proxy:!0},t.actionEntry.forceLabel?{key:"default",fn:function(){return[t._v("\n\t\t"+t._s(t.label)+"\n\t")]},proxy:!0}:null],null,!0)},t.$listeners))}),[],!1,null,null,null).exports},23731:(t,e,i)=>{"use strict";i.d(e,{A:()=>U});var r=i(98857),s=i(32981),o=i(97786),a=i(85471),n=i(59488);const A=(0,a.defineComponent)({name:"NcActionButton",components:{NextcloudVueNcActionButton:r.Ko,Help:n._V}});var l=i(14486);const d=(0,l.A)(A,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("NextcloudVueNcActionButton",t._g({attrs:{"close-after-click":"","data-text-action-entry":"formatting-help"},scopedSlots:t._u([{key:"icon",fn:function(){return[e("Help")]},proxy:!0}])},t.$listeners),[t._v("\n\t"+t._s(t.t("text","Formatting help"))+"\n")])}),[],!1,null,null,null).exports;var h=i(22086),c=i(85511),C=i(53334),p=i(73590);const g=(0,a.defineComponent)({name:"CharacterCount",components:{AlphabeticalVariant:n.uS,NcActionText:r.HO},mixins:[p.CB],props:{visible:Boolean},data:()=>({wordCount:0,charCount:0}),computed:{countString(){return`${(0,C.zw)("text","%n word","%n words",this.wordCount)}, ${(0,C.zw)("text","%n char","%n chars",this.charCount)}`}},watch:{visible:"refresh"},created(){this.refresh()},methods:{refresh(){this.wordCount=this.$editor.storage.characterCount.words(),this.charCount=this.$editor.storage.characterCount.characters()}}});const u=(0,l.A)(g,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("NcActionText",{attrs:{"data-text-action-entry":"character-count"},scopedSlots:t._u([{key:"icon",fn:function(){return[e("AlphabeticalVariant")]},proxy:!0},{key:"default",fn:function(){return[t._v("\n\t\t"+t._s(t.countString)+"\n\t")]},proxy:!0}])})}),[],!1,null,null,null).exports;const v={name:"HelpModal",components:{NcModal:r.FH},data:()=>({formatted:{bold:!0,italic:!0,strikethrough:!0,heading1:!0,heading6:!0,unorderdList:!0,orderedList:!0,checkList:!0,blockQuote:!0,codeBlock:!0}}),computed:{isFormatted(){return t=>this.formatted[t]},isMobileCached(){return this.isMobilePlatform()}},methods:{toggleFormatted(t){this.formatted[t]=!this.formatted[t]},isMobilePlatform:function(){return void 0!==navigator?.userAgentData?.mobile?navigator.userAgentData.mobile:[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/playbook/i,/silk/i,/BlackBerry/i,/Windows Phone/i].some((t=>navigator.userAgent.match(t)))}}};var m=i(85072),b=i.n(m),f=i(97825),x=i.n(f),_=i(77659),j=i.n(_),y=i(55056),w=i.n(y),k=i(10540),P=i.n(k),B=i(41113),M=i.n(B),E=i(85174),S={};S.styleTagTransform=M(),S.setAttributes=w(),S.insert=j().bind(null,"head"),S.domAPI=x(),S.insertStyleElement=P();b()(E.A,S);E.A&&E.A.locals&&E.A.locals;const D=(0,l.A)(v,(function(){var t=this,e=t._self._c;return e("NcModal",{attrs:{size:"normal","data-text-el":"formatting-help",name:t.t("text","Formatting help")},on:{close:function(e){return t.$emit("close")}}},[e("h2",[t._v(t._s(t.t("text","Formatting help")))]),t._v(" "),e("p",[t._v(t._s(t.t("text","Speed up your writing with simple shortcuts.")))]),t._v(" "),t.isMobileCached?e("p",[t._v("\n\t\t"+t._s(t.t("text","Just type the Markdown syntax from below."))+"\n\t")]):e("p",[t._v("\n\t\t"+t._s(t.t("text","Just type the Markdown syntax or use keyboard shortcuts from below."))+"\n\t")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v(t._s(t.t("text","Style")))]),t._v(" "),e("th",[t._v(t._s(t.t("text","Syntax")))]),t._v(" "),t.isMobileCached?t._e():e("th",[t._v("\n\t\t\t\t\t"+t._s(t.t("text","Keyboard shortcuts"))+"\n\t\t\t\t")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v(t._s(t.t("text","New paragraph")))]),t._v(" "),e("td",[e("kbd",[t._v(t._s(t.t("text","Enter")))])]),t._v(" "),t.isMobileCached?t._e():e("td")]),t._v(" "),e("tr",[e("td",[t._v(t._s(t.t("text","Hard line break")))]),t._v(" "),e("td",[e("kbd",[t._v(t._s(t.t("text","Enter")))]),t._v("\n\t\t\t\t\t"+t._s(t.t("text","followed by"))+"\n\t\t\t\t\t"),e("kbd",[t._v(t._s(t.t("text","Backspace")))])]),t._v(" "),t.isMobileCached?t._e():e("td",[e("kbd",[t._v(t._s(t.t("text","Shift")))]),t._v("\n\t\t\t\t\t+\n\t\t\t\t\t"),e("kbd",[t._v(t._s(t.t("text","Enter")))])])]),t._v(" "),e("tr",[e("td",[t._v(t._s(t.t("text","Bold")))]),t._v(" "),e("td",[e("code",[t._v("**"+t._s(t.t("text","Bold text"))+"**")])]),t._v(" "),t.isMobileCached?t._e():e("td",[e("kbd",[t._v(t._s(t.t("text","Ctrl")))]),t._v("\n\t\t\t\t\t+\n\t\t\t\t\t"),e("kbd",[t._v("B")])])]),t._v(" "),e("tr",[e("td",[t._v(t._s(t.t("text","Italic")))]),t._v(" "),e("td",[e("code",[t._v("*"+t._s(t.t("text","Italicized text"))+"*")])]),t._v(" "),t.isMobileCached?t._e():e("td",[e("kbd",[t._v(t._s(t.t("text","Ctrl")))]),t._v("\n\t\t\t\t\t+\n\t\t\t\t\t"),e("kbd",[t._v("I")])])]),t._v(" "),e("tr",[e("td",[t._v(t._s(t.t("text","Strikethrough")))]),t._v(" "),e("td",[e("code",[t._v("~~"+t._s(t.t("text","Mistaken text"))+"~~")])]),t._v(" "),t.isMobileCached?t._e():e("td",[e("kbd",[t._v(t._s(t.t("text","Ctrl")))]),t._v("\n\t\t\t\t\t+\n\t\t\t\t\t"),e("kbd",[t._v(t._s(t.t("text","Shift")))]),t._v("\n\t\t\t\t\t+\n\t\t\t\t\t"),e("kbd",[t._v("S")])])]),t._v(" "),e("tr",[e("td",[t._v(t._s(t.t("text","Underline")))]),t._v(" "),e("td",[e("code",[t._v("__"+t._s(t.t("text","Underlined text"))+"__")])]),t._v(" "),t.isMobileCached?t._e():e("td",[e("kbd",[t._v(t._s(t.t("text","Ctrl")))]),t._v("\n\t\t\t\t\t+\n\t\t\t\t\t"),e("kbd",[t._v("U")])])]),t._v(" "),e("tr",[e("td",{staticClass:"ellipsis_top"},[t._v("\n\t\t\t\t\t"+t._s(t.t("text","Heading 1"))+"\n\t\t\t\t")]),t._v(" "),e("td",{staticClass:"ellipsis_top"},[e("code",[t._v("# "+t._s(t.t("text","Heading level 1")))])]),t._v(" "),t.isMobileCached?t._e():e("td",{staticClass:"ellipsis_top"},[e("kbd",[t._v(t._s(t.t("text","Ctrl")))]),t._v("\n\t\t\t\t\t+\n\t\t\t\t\t"),e("kbd",[t._v(t._s(t.t("text","Shift")))]),t._v("\n\t\t\t\t\t+\n\t\t\t\t\t"),e("kbd",[t._v("1")])])]),t._v(" "),e("tr",[e("td",{staticClass:"noborder ellipsis"},[t._v("\n\t\t\t\t\t\n\t\t\t\t")]),t._v(" "),e("td",{staticClass:"noborder ellipsis"},[t._v("\n\t\t\t\t\t\n\t\t\t\t")]),t._v(" "),t.isMobileCached?t._e():e("td",{staticClass:"ellipsis noborder"},[t._v("\n\t\t\t\t\t\n\t\t\t\t")])]),t._v(" "),e("tr",[e("td",{staticClass:"noborder ellipsis_bottom"},[t._v("\n\t\t\t\t\t"+t._s(t.t("text","Heading 6"))+"\n\t\t\t\t")]),t._v(" "),e("td",{staticClass:"noborder ellipsis_bottom"},[e("code",[t._v("###### "+t._s(t.t("text","Heading level 6")))])]),t._v(" "),t.isMobileCached?t._e():e("td",{staticClass:"noborder ellipsis_bottom"},[e("kbd",[t._v(t._s(t.t("text","Ctrl")))]),t._v("\n\t\t\t\t\t+\n\t\t\t\t\t"),e("kbd",[t._v(t._s(t.t("text","Shift")))]),t._v("\n\t\t\t\t\t+\n\t\t\t\t\t"),e("kbd",[t._v("6")])])]),t._v(" "),e("tr",[e("td",[t._v(t._s(t.t("text","Unordered list")))]),t._v(" "),e("td",[e("code",[t._v("* "+t._s(t.t("text","An item")))])]),t._v(" "),t.isMobileCached?t._e():e("td",[e("kbd",[t._v(t._s(t.t("text","Ctrl")))]),t._v("\n\t\t\t\t\t+\n\t\t\t\t\t"),e("kbd",[t._v(t._s(t.t("text","Shift")))]),t._v("\n\t\t\t\t\t+\n\t\t\t\t\t"),e("kbd",[t._v("8")])])]),t._v(" "),e("tr",[e("td",[t._v(t._s(t.t("text","Ordered list")))]),t._v(" "),e("td",[e("code",[t._v("1. "+t._s(t.t("text","First item")))])]),t._v(" "),t.isMobileCached?t._e():e("td",[e("kbd",[t._v(t._s(t.t("text","Ctrl")))]),t._v("\n\t\t\t\t\t+\n\t\t\t\t\t"),e("kbd",[t._v(t._s(t.t("text","Shift")))]),t._v("\n\t\t\t\t\t+\n\t\t\t\t\t"),e("kbd",[t._v("7")])])]),t._v(" "),e("tr",[e("td",[t._v(t._s(t.t("text","Checklist")))]),t._v(" "),e("td",[e("code",[t._v("* [] "+t._s(t.t("text","To-Do item")))])]),t._v(" "),t.isMobileCached?t._e():e("td")]),t._v(" "),e("tr",[e("td",[t._v(t._s(t.t("text","Blockquote")))]),t._v(" "),e("td",[e("code",[t._v("> "+t._s(t.t("text","Quoted text")))])]),t._v(" "),t.isMobileCached?t._e():e("td",[e("kbd",[t._v(t._s(t.t("text","Ctrl")))]),t._v("\n\t\t\t\t\t+\n\t\t\t\t\t"),e("kbd",[t._v(">")])])]),t._v(" "),e("tr",[e("td",[t._v(t._s(t.t("text","Code block")))]),t._v(" "),e("td",[e("code",[t._v("``` "+t._s(t.t("text","Some code")))])]),t._v(" "),t.isMobileCached?t._e():e("td")])])])])}),[],!1,null,"50a3a42d",null).exports;var I=i(61821),T=i(90168),$=i(99093),O=i(30109);const R={name:"MenuBar",components:{ActionFormattingHelp:d,ActionList:h.A,ActionSingle:c.A,HelpModal:D,NcActionSeparator:r.z,NcActionButton:r.Ko,CharacterCount:u,TranslateVariant:n.i$,Translate:T.A},extends:I.A,mixins:[p.CB,p.bk,p.yu,p.c9],provide(){const t={};return Object.defineProperties(t,{[O.Y]:{get:()=>this.randomID}}),t},props:{isHidden:{type:Boolean,default:!1}},data:()=>({entries:[...$.A],randomID:`menu-bar-${Math.ceil(1e4*Math.random()+500).toString(16)}`,displayHelp:!1,displayTranslate:!1,isReady:!1,canTranslate:(0,s.C)("text","translation_languages",[]).length>0,resize:null,iconsLimit:4}),computed:{visibleEntries(){return this.entries.filter((t=>{let{priority:e}=t;return void 0===e||e<=this.iconsLimit}))},hiddenEntries(){const t=this.entries.filter((t=>{let{priority:e}=t;return void 0!==e&&e>this.iconsLimit})),e=t.reduce(((e,i,r)=>{const s=i.children??[i];if(s.length>1){const o=e.length&&!e.at(-1).isSeparator?[{key:`separator-before-${i.id}`,isSeparator:!0}]:[],a=r!==t.length-1?[{key:`separator-after-${i.id}`,isSeparator:!0}]:[];return[...e,...o,...s,...a]}return[...e,...s]}),[]);return{key:"remain",label:this.t("text","Remaining actions"),icon:n.FO,children:e}}},mounted(){this.resize=(0,o.wYm)(this.$refs.menubar,this.onResize),this.$nextTick((()=>{this.isReady=!0,this.$emit("update:loaded",!0)}))},beforeDestroy(){this.resize?.stop()},methods:{onResize(t){const e=t[0],{width:i}=e.contentRect,r=i-4,s=this.$isMobile?44:46,o=Math.floor(r/s);this.iconsLimit=o-1,this.isReady=!0},showHelp(){this.displayHelp=!0},hideHelp(){this.displayHelp=!1},showTranslate(){const{from:t,to:e}=this.$editor.view.state.selection;let i=this.$editor.view.state.doc.textBetween(t,e," ");i.trim().length||(this.$editor.commands.selectAll(),i=this.$editor.view.state.doc.textContent),console.debug("translation click",this.$editor.view.state.selection,i),this.displayTranslate=i??""},hideTranslate(){this.displayTranslate=!1},translateInsert(t){this.$editor.commands.command((e=>{let{tr:i,commands:r}=e;return r.insertContentAt(i.selection.to,t)})),this.displayTranslate=!1},translateReplace(t){this.$editor.commands.command((e=>{let{tr:i,commands:r}=e;const s=i.selection,o={from:s.from,to:s.to};return r.insertContentAt(o,t)})),this.displayTranslate=!1}}},L=R;var N=i(47866),F={};F.styleTagTransform=M(),F.setAttributes=w(),F.insert=j().bind(null,"head"),F.domAPI=x(),F.insertStyleElement=P();b()(N.A,F);N.A&&N.A.locals&&N.A.locals;const U=(0,l.A)(L,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-menubar",class:{"text-menubar--ready":t.isReady,"text-menubar--hide":t.isHidden,"text-menubar--is-workspace":t.$isRichWorkspace},attrs:{id:t.randomID,"data-text-el":"menubar",role:"region","aria-label":t.t("text","Editor actions")}},[t.displayHelp?e("HelpModal",{on:{close:t.hideHelp}}):t._e(),t._v(" "),!1!==t.displayTranslate?e("Translate",{attrs:{content:t.displayTranslate},on:{"insert-content":t.translateInsert,"replace-content":t.translateReplace,close:t.hideTranslate}}):t._e(),t._v(" "),t.$isRichEditor?e("div",{ref:"menubar",staticClass:"text-menubar__entries",attrs:{role:"toolbar","aria-label":t.t("text","Formatting menu bar")},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:(e.stopPropagation(),t.handleToolbarNavigation.apply(null,arguments))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])||"button"in e&&2!==e.button?null:(e.stopPropagation(),t.handleToolbarNavigation.apply(null,arguments))}]}},[t._l(t.visibleEntries,(function(i,r){return e(i.component?i.component:i.children?"ActionList":"ActionSingle",{key:i.key,ref:"menuEntries",refInFor:!0,tag:"component",attrs:{"action-entry":i,"can-be-focussed":t.activeMenuEntry===r},on:{disabled:function(e){return t.disableMenuEntry(i.key,e)},click:function(e){t.activeMenuEntry=r}}})})),t._v(" "),e("ActionList",{ref:"remainingEntries",attrs:{"action-entry":t.hiddenEntries,"can-be-focussed":t.activeMenuEntry===t.visibleEntries.length},on:{click:function(e){t.activeMenuEntry="remain"}},scopedSlots:t._u([{key:"lastAction",fn:function(i){let{visible:r}=i;return[t.canTranslate?e("NcActionButton",{on:{click:t.showTranslate},scopedSlots:t._u([{key:"icon",fn:function(){return[e("TranslateVariant")]},proxy:!0}],null,!0)},[t._v("\n\t\t\t\t\t"+t._s(t.t("text","Translate"))+"\n\t\t\t\t")]):t._e(),t._v(" "),e("ActionFormattingHelp",{on:{click:t.showHelp}}),t._v(" "),e("NcActionSeparator"),t._v(" "),e("CharacterCount",t._b({},"CharacterCount",{visible:r},!1))]}}],null,!1,4065341038)})],2):t._e(),t._v(" "),e("div",{staticClass:"text-menubar__slot"},[t._t("default")],2)],1)}),[],!1,null,"f58d9d04",null).exports},75596:(t,e,i)=>{"use strict";i.d(e,{A:()=>j});var r=i(85471),s=i(99093),o=i(22086),a=i(85511),n=i(61821);const A=(0,r.defineComponent)({name:"ReadonlyBar",components:{ActionList:o.A,ActionSingle:a.A},extends:n.A,data:()=>({entries:s.n})});var l=i(85072),d=i.n(l),h=i(97825),c=i.n(h),C=i(77659),p=i.n(C),g=i(55056),u=i.n(g),v=i(10540),m=i.n(v),b=i(41113),f=i.n(b),x=i(37900),_={};_.styleTagTransform=f(),_.setAttributes=u(),_.insert=p().bind(null,"head"),_.domAPI=c(),_.insertStyleElement=m();d()(x.A,_);x.A&&x.A.locals&&x.A.locals;const j=(0,i(14486).A)(A,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"text-readonly-bar",attrs:{"data-text-el":"readonly-bar"}},[e("div",{ref:"menubar",staticClass:"text-readonly-bar__entries",attrs:{role:"toolbar","aria-label":t.t("text","Editor actions")}},t._l(t.visibleEntries,(function(i,r){return e(i.component?i.component:i.children?"ActionList":"ActionSingle",{key:i.key,ref:"menuEntries",refInFor:!0,tag:"component",attrs:{"action-entry":i,"can-be-focussed":t.activeMenuEntry===r},on:{disabled:function(e){return t.disableMenuEntry(i.key,e)}}})})),1),t._v(" "),e("div",{staticClass:"text-menubar__slot"},[t._t("default")],2)])}),[],!1,null,"27a921ca",null).exports},90168:(e,i,r)=>{"use strict";r.d(i,{A:()=>w});var s=r(91458),o=r(32981),a=r(99498),n=r(98857),A=r(73590);const l={id:null,label:t("text","Detect language")},d={name:"Translate",components:{NcModal:n.FH,NcButton:n.x1,NcSelect:n.EQ,NcLoadingIcon:n.ne,NcTextArea:n.gb},mixins:[A.bk],props:{content:{type:String,default:""}},data:()=>({input:"Hallo welt. Das ist ein Test.",result:"",fromLanguage:!0===(0,o.C)("text","translation_can_detect",!1)?l:null,toLanguage:null,languages:(0,o.C)("text","translation_languages",[]),canDetect:(0,o.C)("text","translation_can_detect"),loading:!1,error:null,disableFromLanguageSelect:!0}),computed:{fromLanguages(){const e=this.canDetect?[l]:[],i=new Set;for(const r of this.languages)i.has(r.from)||(i.add(r.from),e.push({id:r.from,label:this.$isMobile?t("text","Translate from {language}",{language:r.fromLabel}):r.fromLabel}));return e},toLanguages(){if(null===this.fromLanguage)return[];const e=this.languages.filter((t=>null===this.fromLanguage.id||t.from===this.fromLanguage.id)),i=[],r=new Set;for(const s of e)r.has(s.to)||(r.add(s.to),i.push({id:s.to,label:this.$isMobile?t("text","Translate to {language}",{language:s.toLabel}):s.toLabel}));return i}},watch:{input(){this.result=null,this.error=null,this.autosize()},toLanguage(){this.result=null,this.error=null}},mounted(){this.input=this.content},methods:{async translate(){this.loading=!0;try{const t=await s.Ay.post((0,a.KT)("translation/translate"),{text:this.input,fromLanguage:this.fromLanguage?.id??null,toLanguage:this.toLanguage.id});this.result=t.data.ocs.data.text}catch(e){console.error("Failed to translate",e),this.error=t("text","Translation failed")}finally{this.loading=!1}},async contentInsert(){this.$emit("insert-content",this.result)},async contentReplace(){this.$emit("replace-content",this.result)},autosize(){this.$refs.input.$refs.input.style.overflowY="hidden",this.$refs.input.$refs.input.style.height="auto";const t=this.$refs.input.$refs.input.scrollHeight+10;this.$refs.input.$refs.input.style.height=t+"px",this.$refs.result.$refs.input.style.height=t+"px",this.$refs.input.$refs.input.style.overflowY="auto"},onInputFocus(){this.disableFromLanguageSelect=!1,this.autosize()}}};var h=r(85072),c=r.n(h),C=r(97825),p=r.n(C),g=r(77659),u=r.n(g),v=r(55056),m=r.n(v),b=r(10540),f=r.n(b),x=r(41113),_=r.n(x),j=r(90380),y={};y.styleTagTransform=_(),y.setAttributes=m(),y.insert=u().bind(null,"head"),y.domAPI=p(),y.insertStyleElement=f();c()(j.A,y);j.A&&j.A.locals&&j.A.locals;const w=(0,r(14486).A)(d,(function(){var t=this,e=t._self._c;return e("NcModal",{attrs:{size:"large"},on:{close:function(e){return t.$emit("close")}}},[e("div",{staticClass:"translate-dialog"},[e("h2",[t._v(t._s(t.t("text","Translate")))]),t._v(" "),e("em",[t._v(t._s(t.t("text","To translate individual parts of the text, select it before using the translate function.")))]),t._v(" "),e("div",{staticClass:"wrapper"},[e("div",{staticClass:"col"},[e("div",{staticClass:"language-selector"},[e("label",{attrs:{for:"fromLanguage"}},[t._v(t._s(t.t("text","Translate from")))]),t._v(" "),e("NcSelect",{attrs:{"input-id":"fromLanguage",placeholder:t.t("text","Select language"),options:t.fromLanguages,disabled:t.disableFromLanguageSelect,"append-to-body":!1},model:{value:t.fromLanguage,callback:function(e){t.fromLanguage=e},expression:"fromLanguage"}})],1),t._v(" "),e("NcTextArea",{ref:"input",attrs:{value:t.input,label:t.t("text","Text to translate from"),autofocus:"","input-class":"translate-textarea",resize:"none"},on:{"update:value":function(e){t.input=e},focus:t.onInputFocus}})],1),t._v(" "),e("div",{staticClass:"col"},[e("div",{staticClass:"language-selector"},[e("label",{attrs:{for:"toLanguage"}},[t._v(t._s(t.t("text","to")))]),t._v(" "),e("NcSelect",{attrs:{"input-id":"toLanguage",placeholder:t.t("text","Select language"),options:t.toLanguages,disabled:!t.fromLanguage,"append-to-body":!1},model:{value:t.toLanguage,callback:function(e){t.toLanguage=e},expression:"toLanguage"}})],1),t._v(" "),e("NcTextArea",{ref:"result",class:{"icon-loading":t.loading},attrs:{value:t.result,label:t.t("text","Translated text result"),readonly:"","input-class":"translate-textarea",resize:"none"},on:{"update:value":function(e){t.result=e}}})],1)]),t._v(" "),e("div",{staticClass:"translate-actions"},[t.loading?e("NcLoadingIcon"):t._e(),t._v(" "),t.result?t._e():e("NcButton",{attrs:{type:"primary",disabled:t.loading},on:{click:t.translate}},[t._v("\n\t\t\t\t"+t._s(t.t("text","Translate"))+"\n\t\t\t")]),t._v(" "),t.result&&t.content?e("NcButton",{attrs:{type:"secondary"},on:{click:t.contentReplace}},[t._v("\n\t\t\t\t"+t._s(t.t("text","Replace"))+"\n\t\t\t")]):t._e(),t._v(" "),t.result?e("NcButton",{attrs:{type:"primary"},on:{click:t.contentInsert}},[t._v("\n\t\t\t\t"+t._s(t.t("text","Insert"))+"\n\t\t\t")]):t._e()],1)])])}),[],!1,null,"56672a1d",null).exports},57847:(t,e,i)=>{"use strict";i.d(e,{A:()=>l});var r=i(75111),s=i(70580),o=i.n(s),a=i(61395),n=i(217);const A={name:"PlainTextReader",components:{BaseReader:a.A},provide:{renderHtml:t=>"<pre>"+o()(t)+"</pre>",extensions:()=>[n.Ks,r.Ay]},props:{content:{type:String,required:!0}}};const l=(0,i(14486).A)(A,(function(){return(0,this._self._c)("BaseReader",{attrs:{content:this.content}})}),[],!1,null,null,null).exports},19231:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>f});var r=i(57847),s=i(71408);const o={name:"Reader",components:{PlainTextReader:r.A,RichTextReader:s.A},props:{content:{type:String,required:!0},isRichEditor:{type:Boolean,default:!0}}};var a=i(85072),n=i.n(a),A=i(97825),l=i.n(A),d=i(77659),h=i.n(d),c=i(55056),C=i.n(c),p=i(10540),g=i.n(p),u=i(41113),v=i.n(u),m=i(73922),b={};b.styleTagTransform=v(),b.setAttributes=C(),b.insert=h().bind(null,"head"),b.domAPI=l(),b.insertStyleElement=g();n()(m.A,b);m.A&&m.A.locals&&m.A.locals;const f=(0,i(14486).A)(o,(function(){var t=this,e=t._self._c;return t.isRichEditor?e("RichTextReader",{attrs:{content:t.content}}):e("PlainTextReader",{attrs:{content:t.content}})}),[],!1,null,null,null).exports},71408:(t,e,i)=>{"use strict";i.d(e,{A:()=>x});var r=i(61395),s=i(217),o=i(44170);const a={name:"RichTextReader",components:{BaseReader:r.A},provide:{renderHtml:t=>o.A.render(t),extensions(){return[s.sD.configure({editing:!1,link:{onClick:(t,e)=>(this.$emit("click-link",t,e),!0)}})]}},props:{content:{type:String,required:!0}},mounted(){this.$el.addEventListener("click",this.preventOpeningLinks,!0)},unmounted(){this.$el.removeEventListener("click",this.preventOpeningLinks,!0)},methods:{preventOpeningLinks(t){t.target.closest("a")&&0===t.button&&!t.ctrlKey&&t.preventDefault()}}};var n=i(85072),A=i.n(n),l=i(97825),d=i.n(l),h=i(77659),c=i.n(h),C=i(55056),p=i.n(C),g=i(10540),u=i.n(g),v=i(41113),m=i.n(v),b=i(55521),f={};f.styleTagTransform=m(),f.setAttributes=p(),f.insert=c().bind(null,"head"),f.domAPI=d(),f.insertStyleElement=u();A()(b.A,f);b.A&&b.A.locals&&b.A.locals;const x=(0,i(14486).A)(a,(function(){var t=this;return(0,t._self._c)("BaseReader",{attrs:{content:t.content},on:{"click-link":(e,i)=>t.$emit("click-link",e,i)}})}),[],!1,null,null,null).exports},47690:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>w});var r=i(85471),s=i(57419),o=i(79843);const a=r.default.observable({messages:[],mtime:0}),n=(t,e)=>{o.v.debug(`callMobileMessage ${t}`,{attributes:e});let i=t;void 0!==e&&(i={MessageName:t,Values:e});let r=null;try{r=JSON.stringify(e)}catch(t){r=null}window.DirectEditingMobileInterface&&"function"==typeof window.DirectEditingMobileInterface[t]&&(null==r?window.DirectEditingMobileInterface[t]():window.DirectEditingMobileInterface[t](r)),window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.DirectEditingMobileInterface&&window.webkit.messageHandlers.DirectEditingMobileInterface.postMessage(i),window.postMessage(i)};window.addEventListener("message",(function(t){a.messages.push(t.data),o.v.debug("postMessage",{message:t})}));const A={name:"DirectEditing",components:{Editor:s.default},data:()=>({initial:OCP.InitialState.loadState("text","file"),messages:a.messages,log:a,saving:!1}),computed:{initialSession(){return JSON.parse(this.initial.session)||null},isMobile:()=>window.DirectEditingMobileInterface||window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.DirectEditingMobileInterface},beforeMount(){n("loading")},mounted(){document.querySelector('meta[name="viewport"]').setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"),this.$refs.editor.$on("push:forbidden",(()=>{o.v.warn("push was forbidden due to invalidated session"),this.reload()}))},methods:{async close(){this.saving=!0,setTimeout((async()=>{await this.$refs.editor.$destroy(),n("close")}),0)},share(){n("share")},loaded(){n("loaded")},reload(){n("reload")}}};var l=i(85072),d=i.n(l),h=i(97825),c=i.n(h),C=i(77659),p=i.n(C),g=i(55056),u=i.n(g),v=i(10540),m=i.n(v),b=i(41113),f=i.n(b),x=i(27653),_={};_.styleTagTransform=f(),_.setAttributes=u(),_.insert=p().bind(null,"head"),_.domAPI=c(),_.insertStyleElement=m();d()(x.A,_);x.A&&x.A.locals&&x.A.locals;var j=i(25305),y={};y.styleTagTransform=f(),y.setAttributes=u(),y.insert=p().bind(null,"head"),y.domAPI=c(),y.insertStyleElement=m();d()(j.A,y);j.A&&j.A.locals&&j.A.locals;const w=(0,i(14486).A)(A,(function(){var t=this,e=t._self._c;return e("div",{class:{"icon-loading":t.saving},attrs:{id:"direct-editor"}},[e("Editor",{ref:"editor",attrs:{"initial-session":t.initialSession,"file-id":t.initial.fileId,active:!0,mime:t.initial.mimetype,"is-direct-editing":!0},on:{ready:t.loaded},scopedSlots:t._u([t.isMobile?{key:"header",fn:function(){return[e("button",{staticClass:"icon-share",on:{click:t.share}}),t._v(" "),e("button",{staticClass:"icon-close",on:{click:t.close}})]},proxy:!0}:null],null,!0)})],1)}),[],!1,null,"982d7d2a",null).exports},61299:(t,e,i)=>{"use strict";t.exports=i.p+"611b3a44bd59d3f2f2b7.svg"},79937:(t,e,i)=>{"use strict";t.exports=i.p+"84454dcbb8cc5ec32c4e.svg"},88144:(t,e,i)=>{"use strict";t.exports=i.p+"9abe16601ec156375395.svg"}}]);
//# sourceMappingURL=editor.js.map?v=7230dc3c33309beb7797