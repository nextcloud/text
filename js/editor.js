(window.textWebpackJsonp=window.textWebpackJsonp||[]).push([[187],{233:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return c}));var n=r(55),o=function(e){(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?setTimeout(e,0):document.addEventListener("DOMContentLoaded",e)},i=Object(n.generateUrl)("/apps/text"),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?"".concat(i,"/public/").concat(e):"".concat(i,"/").concat(e)},a=["Artichoke","Arugula","Asparagus","Avocado","Bamboo Shoot","Bean Sprout","Bean","Beet","Belgian Endive","Bell Pepper","Bitter Melon","Bitter Gourd","Bok Choy","Broccoli","Brussels Sprout","Burdock Root","Cabbage","Calabash","Caper","Carrot","Cassava","Cauliflower","Celery","Celery Root","Celtuce","Chayote","Chinese Broccoli","Corn","Baby Corn","Cucumber","English Cucumber","Gherkin","Pickling Cucumber","Daikon Radish","Edamame","Eggplant","Elephant Garlic","Endive","Curly","Escarole","Fennel","Fiddlehead","Galangal","Garlic","Ginger","Grape Leave","Green Bean","Wax Bean","Green","Amaranth Leave","Beet Green","Collard Green","Dandelion Green","Kale","Kohlrabi Green","Mustard Green","Rapini","Spinach","Swiss Chard","Turnip Green","Hearts of Palm","Horseradish","Jerusalem Artichoke","Jícama","Kale","Curly","Lacinato","Ornamental","Kohlrabi","Leeks","Lemongrass","Lettuce","Butterhead","Iceberg","Leaf","Romaine","Lotus Root","Lotus Seed","Mushroom","Napa Cabbage","Nopales","Okra","Olive","Onion","Green Onion","Parsley","Parsley Root","Parsnip","Pepper","Plantain","Potato","Pumpkin","Purslane","Radicchio","Radish","Rutabaga","Shallots","Spinach","Squash","Sweet Potato","Swiss Chard","Taro","Tomatillo","Tomato","Turnip","Water Chestnut","Water Spinach","Watercress","Winter Melon","Yams","Zucchini"],c=function(){return a[Math.floor(Math.random()*a.length)]}},235:function(e,r,n){"use strict";n.r(r);var o=n(111),i=n(270),s=n.n(i),a=n(271),c=n.n(a),l=n(233),u=n(252);function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}
/*
 * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */
var p=300,h=500,f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._authority=t,this.fetchInterval=p,this.retryTime=h,this.lock=!1,this.fetchRetryCounter=0}var t,r,n;return t=e,(r=[{key:"connect",value:function(){this.fetcher=setInterval(this._fetchSteps.bind(this),this.fetchInterval)}},{key:"_isPublic",value:function(){return!!this._authority.options.shareToken}},{key:"forceSave",value:function(){this._forcedSave=!0,this.fetchSteps()}},{key:"save",value:function(){this._manualSave=!0,this.fetchSteps()}},{key:"fetchSteps",value:function(){this._fetchSteps()}},{key:"_fetchSteps",value:function(){var e,t=this;!this.lock&&this.fetcher&&(this.lock=!0,(this._forcedSave||this._manualSave||!Object(u.sendableSteps)(this._authority.state)&&this._authority._getVersion()!==this._authority.document.lastSavedVersion)&&(e=this._authority._getContent()),c.a.post(Object(l.b)("session/sync",this._isPublic()),{documentId:this._authority.document.id,sessionId:this._authority.session.id,sessionToken:this._authority.session.token,version:this._authority._getVersion(),autosaveContent:e,force:!!this._forcedSave,manualSave:!!this._manualSave,token:this._authority.options.shareToken,filePath:this._authority.options.filePath}).then((function(e){if(t.fetchRetryCounter=0,t._authority.document.lastSavedVersion<e.data.document.lastSavedVersion&&(console.debug("Saved document",e.data.document),t._authority.emit("save",{document:e.data.document,sessions:e.data.sessions})),t._authority.emit("change",{document:e.data.document,sessions:e.data.sessions}),t._authority.document=e.data.document,t._authority.sessions=e.data.sessions,0===e.data.steps.length)return t.lock=!1,e.data.sessions.filter((function(e){return e.lastContact>Date.now()/1e3-20})).length<2?t.maximumRefetchTimer():t.increaseRefetchTimer(),t._authority.emit("stateChange",{dirty:!1}),void t._authority.emit("stateChange",{initialLoading:!0});t._authority._receiveSteps(e.data),t.lock=!1,t._forcedSave=!1,t.resetRefetchTimer()})).catch((function(e){t.lock=!1,e.response&&"ECONNABORTED"!==e.code?409===e.response.status&&e.response.data.document.currentVersion===t._authority.document.currentVersion?(console.error("Conflict during file save, please resolve"),t._authority.emit("error",b.SAVE_COLLISSION,{outsideChange:e.response.data.outsideChange})):403===e.response.status?t._authority.emit("error",b.CONNECTION_FAILED,{}):console.error("Failed to fetch steps due to other reason",e):t.fetchRetryCounter++>=5?(console.error("[PollingBackend:fetchSteps] Network error when fetching steps, emitting CONNECTION_FAILED"),t._authority.emit("error",b.CONNECTION_FAILED,{})):console.error("[PollingBackend:fetchSteps] Network error when fetching steps, retry ".concat(t.fetchRetryCounter))})),this._manualSave=!1,this._forcedSave=!1)}},{key:"sendSteps",value:function(e){var t=this;if(this._authority.emit("stateChange",{dirty:!0}),this.lock)setTimeout((function(){t._authority.sendSteps()}),100);else{this.lock=!0;var r="function"==typeof e?e():e,n=r.steps;c.a.post(Object(l.b)("session/push",!!this._authority.options.shareToken),{documentId:this._authority.document.id,sessionId:this._authority.session.id,sessionToken:this._authority.session.token,steps:n.map((function(e){return e.toJSON?e.toJSON():e}))||[],version:r.version,token:this._authority.options.shareToken,filePath:this._authority.options.filePath}).then((function(e){t.carefulRetryReset(),t.lock=!1,t.fetchSteps()})).catch((function(e){console.error("failed to apply steps due to collission, retrying"),t.lock=!1,e.response&&"ECONNABORTED"!==e.code?(403===e.response.status&&e.response.data.document.currentVersion===t._authority.document.currentVersion&&(t._authority.emit("error",b.PUSH_FAILURE,{}),OC.Notification.showTemporary("Changes could not be sent yet")),t.fetchSteps(),t.carefulRetry()):t._authority.emit("error",b.CONNECTION_FAILED,{})}))}}},{key:"disconnect",value:function(){clearInterval(this.fetcher),this.fetcher=0}},{key:"resetRefetchTimer",value:function(){0!==this.fetcher&&(this.fetchInverval=p,clearInterval(this.fetcher),this.fetcher=setInterval(this._fetchSteps.bind(this),this.fetchInverval))}},{key:"increaseRefetchTimer",value:function(){0!==this.fetcher&&(this.fetchInverval=Math.min(2*this.fetchInverval,5e3),clearInterval(this.fetcher),this.fetcher=setInterval(this._fetchSteps.bind(this),this.fetchInverval))}},{key:"maximumRefetchTimer",value:function(){0!==this.fetcher&&(this.fetchInverval=5e3,clearInterval(this.fetcher),this.fetcher=setInterval(this._fetchSteps.bind(this),this.fetchInverval))}},{key:"carefulRetry",value:function(){var e=this.retryTime?Math.min(2*this.retryTime,1e4):h;e>5e3&&this.retryTime<5e3&&(OC.Notification.showTemporary("Changes could not be sent yet"),this._authority.emit("error",b.PUSH_FAILURE,{})),this.retryTime=e}},{key:"carefulRetryReset",value:function(){this.retryTime=h}}])&&d(t.prototype,r),n&&d(t,n),e}();function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}
/*
 * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */
var v={shareToken:null,forceRecreate:!1,serialize:function(e){return e}},b={SAVE_COLLISSION:0,PUSH_FAILURE:1,LOAD_ERROR:2,CONNECTION_FAILED:3,SOURCE_NOT_FOUND:4},y=function(){function e(t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eventHandlers={opened:[],loaded:[],fetched:[],sync:[],stateChange:[],error:[],change:[],save:[]},this.backend=new f(this),this.options=Object.assign({},v,t),this.document=null,this.session=null,this.sessions=[],this.steps=[],this.stepClientIDs=[],this}var t,r,n;return t=e,(r=[{key:"open",value:function(e){var t=this,r=e.fileId,n=e.filePath;return this._openDocument({fileId:r,filePath:n}).then((function(){return t.emit("opened",{document:t.document,session:t.session}),t._fetchDocument().then((function(e){var r=e.data;t.emit("loaded",{document:t.document,session:t.session,documentSource:""+r})}))})).catch((function(e){return e.response&&"ECONNABORTED"!==e.code?t.emit("error",b.LOAD_ERROR,e.response.status):t.emit("error",b.CONNECTION_FAILED,{}),Promise.reject(e)}))}},{key:"startSync",value:function(){this.backend.connect()}},{key:"_openDocument",value:function(e){var t=this,r=e.fileId,n=e.filePath;return c.a.get(Object(l.b)("session/create",!!this.options.shareToken),{params:{fileId:r,filePath:n,token:this.options.shareToken,guestName:this.options.guestName,forceRecreate:this.options.forceRecreate}}).then((function(e){return t.document=e.data.document,t.document.readOnly=e.data.readOnly,t.session=e.data.session,e.data}))}},{key:"_fetchDocument",value:function(){return c.a.get(Object(l.b)("session/fetch",!!this.options.shareToken),{transformResponse:[function(e){return e}],params:{documentId:this.document.id,sessionId:this.session.id,sessionToken:this.session.token,token:this.options.shareToken}})}},{key:"updateSession",value:function(e){var t=this;if(this.isPublic())return c.a.post(Object(l.b)("session",!!this.options.shareToken),{documentId:this.document.id,sessionId:this.session.id,sessionToken:this.session.token,token:this.options.shareToken,guestName:e}).then((function(e){var r=e.data;return t.session=r,r})).catch((function(e){return console.error("Failed to update the session",e),Promise.reject(e)}))}},{key:"sendSteps",value:function(e){var t=e||Object(u.sendableSteps)(this.state);if(t)return this.backend.sendSteps(t)}},{key:"stepsSince",value:function(e){return{steps:this.steps.slice(e),clientIDs:this.stepClientIDs.slice(e)}}},{key:"_receiveSteps",value:function(e){for(var t=this,r=e.steps,n=e.document,o=[],i=function(e){var n=r[e].data;if(!Array.isArray(n))return console.error("Invalid step data, skipping step",r[e]),"continue";n.forEach((function(n){t.steps.push(n),o.push({step:n,clientID:r[e].sessionId})}))},s=0;s<r.length;s++)i(s);this.emit("sync",{steps:o,document:n}),console.debug("receivedSteps","newVersion",this._getVersion())}},{key:"_getVersion",value:function(){return this.state?Object(u.getVersion)(this.state):0}},{key:"_getDocument",value:function(){if(this.state)return this.state.doc}},{key:"_getContent",value:function(){return this.options.serialize(this._getDocument())}},{key:"save",value:function(){this.backend.save&&this.backend.save()}},{key:"forceSave",value:function(){this.backend.forceSave&&this.backend.forceSave()}},{key:"close",value:function(){var e=this,t=!1;return new Promise((function(r,n){e.on("save",(function(){e._close().then((function(){t=!0,r()})).catch((function(){return r()}))})),setTimeout((function(){t||e._close().then((function(){r()})).catch((function(){return r()}))}),2e3),e.save()}))}},{key:"_close",value:function(){return null===this.document||null===this.session?Promise.resolve():(this.backend.disconnect(),c.a.get(Object(l.b)("session/close",!!this.options.shareToken),{params:{documentId:this.document.id,sessionId:this.session.id,sessionToken:this.session.token,token:this.options.shareToken}}))}},{key:"on",value:function(e,t,r){return this.eventHandlers[e].push(t.bind(r)),this}},{key:"emit",value:function(e,t,r){void 0!==this.eventHandlers[e]?this.eventHandlers[e].forEach((function(e){e(t,r)})):console.error("Event not found",e)}},{key:"isPublic",value:function(){return!!this.options.shareToken}}])&&m(t.prototype,r),n&&m(t,n),e}(),g={py:"python",gyp:"python",wsgi:"python",htm:"html",xhtml:"html",erl:"erlang",jsp:"java",pl:"perl",rss:"xml",atom:"xml",xsl:"xml",plist:"xml",rb:"ruby",builder:"ruby",gemspec:"ruby",podspec:"ruby",thor:"ruby",diff:"patch",hs:"haskell",icl:"haskell",php3:"php",php4:"php",php5:"php",php6:"php",sh:"bash",zsh:"bash",st:"smalltalk",as:"actionscript",apacheconf:"apache",osacript:"applescript",b:"brainfuck",bf:"brainfuck",clj:"clojure","cmake.in":"cmake",coffee:"coffeescript",cson:"coffescript",iced:"coffescript",c:"cpp","c++":"cpp","h++":"cpp",hh:"cpp",jinja:"django",bat:"dos",cmd:"dos",fs:"fsharp",hbs:"handlebars","html.hbs":"handlebars","html.handlebars":"handlebars",sublime_metrics:"json",sublime_session:"json","sublime-keymap":"json","sublime-mousemap":"json","sublime-project":"json","sublime-settings":"json","sublime-workspace":"json",mk:"makefile",mak:"makefile",md:"markdown",mkdown:"markdown",mkd:"markdown",nginxconf:"nginx",m:"objectivec",mm:"objectivec",ml:"ocaml",rs:"rust",sci:"scilab",vb:"vbnet",vbs:"vbscript"},j=n(468),w=n(246),k=n(251);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}
/*
 * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */var E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),O(this,x(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,e),r=t,(n=[{key:"keys",value:function(e){return e.schema,this.options}},{key:"name",get:function(){return"save"}}])&&_(r.prototype,n),o&&_(r,o),t}(w.e),C={data:function(){return{isMobile:this._isMobile()}},beforeMount:function(){window.addEventListener("resize",this._onResize)},beforeDestroy:function(){window.removeEventListener("resize",this._onResize)},methods:{_onResize:function(){this.isMobile=this._isMobile()},_isMobile:function(){return document.documentElement.clientWidth<768}}},M=n(249),I=n.n(M),T={name:"EditorWrapper",components:{EditorContent:w.b,MenuBar:function(){return Promise.all([n.e(196),n.e(190)]).then(n.bind(null,562))},MenuBubble:function(){return Promise.all([n.e(196),n.e(190)]).then(n.bind(null,563))},ReadOnlyEditor:function(){return Promise.all([n.e(0),n.e(195),n.e(187)]).then(n.bind(null,564))},CollisionResolveDialog:function(){return Promise.all([n.e(0),n.e(195),n.e(187)]).then(n.bind(null,565))},GuestNameDialog:function(){return Promise.all([n.e(186),n.e(189)]).then(n.bind(null,566))},SessionList:function(){return Promise.all([n.e(186),n.e(188)]).then(n.bind(null,567))}},directives:{Tooltip:I.a},mixins:[C],props:{relativePath:{type:String,default:null},fileId:{type:Number,default:null},active:{type:Boolean,default:!1},shareToken:{type:String,default:null},mime:{type:String,default:null}},data:function(){return{tiptap:null,syncService:null,document:null,sessions:[],currentSession:null,filteredSessions:{},dirty:!1,initialLoading:!1,lastSavedString:"",syncError:null,hasConnectionIssue:!1,readOnly:!0,forceRecreate:!1,saveStatusPolling:null}},computed:{lastSavedStatus:function(){var e=this.dirtyStateIndicator?"*":"";return this.isMobile||(e+=this.lastSavedString),e},lastSavedStatusClass:function(){return this.syncError&&""!==this.lastSavedString?"error":""},dirtyStateIndicator:function(){return this.hasUnpushedChanges||this.hasUnsavedChanges},lastSavedStatusTooltip:function(){var e=t("text","Last save {lastSave}",{lastSave:this.lastSavedString});return this.hasSyncCollission&&(e=t("text","The document has been changed outside of the editor. The changes cannot be applied.")),this.hasUnpushedChanges&&(e+=" - "+t("text","Unpushed changes")),this.hasUnsavedChanges&&(e+=" - "+t("text","Unsaved changes")),{content:e,placement:"bottom"}},hasSyncCollission:function(){return this.syncError&&this.syncError.type===b.SAVE_COLLISSION},hasUnpushedChanges:function(){return this.dirty},hasUnsavedChanges:function(){return this.document&&this.document.lastSavedVersion<this.document.currentVersion},backendUrl:function(){var e=this;return function(t){return Object(l.b)(t,!!e.shareToken)}},hasDocumentParameters:function(){return this.fileId||this.shareToken},isPublic:function(){return document.getElementById("isPublic")&&"1"===document.getElementById("isPublic").value},isRichEditor:function(){return"text/markdown"===this.mime},fileExtension:function(){return this.relativePath?this.relativePath.split("/").pop().split(".").pop():"txt"}},watch:{lastSavedStatus:function(){this.$refs.menubar&&this.$refs.menubar.redrawMenuBar()}},mounted:function(){this.active&&this.hasDocumentParameters&&this.initSession(),this.$parent.$emit("update:loaded",!0)},created:function(){var e=this;this.saveStatusPolling=setInterval((function(){e.updateLastSavedStatus()}),2e3),document.addEventListener("keydown",this._keyUpHandler,!0)},beforeDestroy:function(){var e=this;document.removeEventListener("keydown",this._keyUpHandler,!0),clearInterval(this.saveStatusPolling),this.currentSession&&this.syncService&&this.syncService.close().then((function(){e.currentSession=null,e.syncService=null})).catch((function(e){}))},methods:{updateLastSavedStatus:function(){this.document&&(this.lastSavedString=window.moment(1e3*this.document.lastSavedVersionTime).fromNow())},initSession:function(){var e=this;if(this.hasDocumentParameters){var t=localStorage.getItem("nick")?localStorage.getItem("nick"):Object(l.c)();this.syncService=new y({shareToken:this.shareToken,filePath:this.relativePath,guestName:t,forceRecreate:this.forceRecreate,serialize:function(t){if(e.isRichEditor){var r=Object(j.b)(e.tiptap.nodes,e.tiptap.marks).serialize(t);return console.debug("serialized document",{markdown:r}),r}var n=Object(j.e)(e.tiptap);return console.debug("serialized document",{file:n}),n}}).on("opened",(function(t){var r=t.document,n=t.session;e.currentSession=n,e.document=r,e.readOnly=r.readOnly,localStorage.setItem("nick",e.currentSession.guestName)})).on("change",(function(t){var r=t.document,n=t.sessions;""===e.document.baseVersionEtag||r.baseVersionEtag===e.document.baseVersionEtag?(e.updateSessions.bind(e)(n),e.document=r,e.syncError=null,e.tiptap.setOptions({editable:!e.readOnly})):e.resolveUseServerVersion()})).on("loaded",(function(t){var r=t.documentSource;e.hasConnectionIssue=!1,Object(j.c)(g[e.fileExtension]?g[e.fileExtension]:e.fileExtension).then((function(t){e.tiptap=Object(j.a)({content:e.isRichEditor?j.d.render(r):"<pre>"+s()(r)+"</pre>",onInit:function(t){var r=t.state;e.syncService.state=r,e.syncService.startSync()},onUpdate:function(t){var r=t.state;e.syncService.state=r},extensions:[new k.g({version:e.document.initialVersion,clientID:e.currentSession.id,debounce:200,onSendable:function(t){t.sendable;e.syncService&&e.syncService.sendSteps()}}),new E({"Ctrl-s":function(){return e.syncService.save(),!0}})],enableRichEditing:e.isRichEditor,languages:t}),e.syncService.state=e.tiptap.state}))})).on("sync",(function(t){var r=t.steps,n=t.document;e.hasConnectionIssue=!1;try{e.tiptap.extensions.options.collaboration.update({version:n.currentVersion,steps:r}),e.syncService.state=e.tiptap.state,e.updateLastSavedStatus()}catch(e){console.error("Failed to update steps in collaboration plugin",e)}e.document=n})).on("error",(function(t,r){e.tiptap.setOptions({editable:!1}),t!==b.SAVE_COLLISSION||e.syncError&&e.syncError.type===b.SAVE_COLLISSION||(e.initialLoading=!0,e.syncError={type:t,data:r}),t!==b.CONNECTION_FAILED||e.hasConnectionIssue||(e.hasConnectionIssue=!0,OC.Notification.showTemporary("Connection failed, reconnecting"),setTimeout(e.reconnect.bind(e),1e3)),t===b.SOURCE_NOT_FOUND&&(e.initialLoading=!1,OC.Notification.showTemporary("Source not found"),e.$emit("close"))})).on("stateChange",(function(t){t.initialLoading&&!e.initialLoading&&(e.initialLoading=!0,e.tiptap.focus("start")),t.hasOwnProperty("dirty")&&(e.dirty=t.dirty)})),this.syncService.open({fileId:this.fileId,filePath:this.relativePath}).catch((function(t){e.hasConnectionIssue=!0})),this.forceRecreate=!1}else this.$parent.$emit("error","No valid file provided")},resolveUseThisVersion:function(){this.syncService.forceSave(),this.tiptap.setOptions({editable:!this.readOnly})},resolveUseServerVersion:function(){this.forceRecreate=!0,this.reconnect()},reconnect:function(){var e=this;this.syncService?this.syncService.close().then((function(){e.syncService=null,e.tiptap.destroy(),e.initSession()})).catch((function(e){})):(this.syncService=null,this.tiptap.destroy(),this.initSession())},updateSessions:function(e){this.sessions=e.sort((function(e,t){return t.lastContact-e.lastContact}));var t=this.sessions.map((function(e){return e.userId})),r=this.sessions.map((function(e){return e.guestId})),n=Object.keys(this.filteredSessions).filter((function(e){return!t.includes(e)&&!r.includes(e)}));for(var i in n)o.default.delete(this.filteredSessions,n[i]);for(var s in this.sessions){var a=this.sessions[s],c=a.displayName?a.userId:a.id;this.filteredSessions[c]?this.filteredSessions[c].lastContact<a.lastContact&&o.default.set(this.filteredSessions[c],"lastContact",a.lastContact):o.default.set(this.filteredSessions,c,a),a.id===this.currentSession.id&&o.default.set(this.filteredSessions[c],"isCurrent",!0)}},_keyUpHandler:function(e){var t=e.key||e.keyCode;if((e.ctrlKey||e.metaKey)&&!e.shiftKey&&("f"===t||70===t))return e.stopPropagation(),!0}}},R=(n(542),n(544),n(58)),N=Object(R.a)(T,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"editor-container"}},[e.currentSession&&e.active?r("div",[e.hasSyncCollission?r("p",{staticClass:"msg icon-error"},[e._v("\n\t\t\t"+e._s(e.t("text","The document has been changed outside of the editor. The changes cannot be applied."))+"\n\t\t")]):e._e(),e._v(" "),e.hasConnectionIssue?r("p",{staticClass:"msg icon-error"},[e._v("\n\t\t\t"+e._s(e.t("text","Network connection error: Could not connect to the document"))+" "),r("a",{staticClass:"button primary",on:{click:e.reconnect}},[e._v(e._s(e.t("text","Retry")))])]):e._e()]):e._e(),e._v(" "),e.currentSession&&e.active?r("div",{class:{"has-conflicts":e.hasSyncCollission,"icon-loading":!e.initialLoading,richEditor:e.isRichEditor},attrs:{id:"editor-wrapper"}},[r("div",{attrs:{id:"editor"}},[e.syncError||e.readOnly?e._e():r("MenuBar",{ref:"menubar",attrs:{editor:e.tiptap,"is-rich-editor":e.isRichEditor}},[e.currentSession&&e.active?r("div",{attrs:{id:"editor-session-list"}},[r("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.lastSavedStatusTooltip,expression:"lastSavedStatusTooltip"}],staticClass:"save-status",class:e.lastSavedStatusClass},[e._v("\n\t\t\t\t\t\t"+e._s(e.lastSavedStatus)+"\n\t\t\t\t\t")]),e._v(" "),r("SessionList",{attrs:{sessions:e.filteredSessions}},[e.isPublic&&e.currentSession.guestName?r("GuestNameDialog",{attrs:{"sync-service":e.syncService}}):e._e()],1)],1):e._e()]),e._v(" "),r("div",{staticClass:"editor__content"},[!e.readOnly&&e.isRichEditor?r("MenuBubble",{attrs:{editor:e.tiptap}}):e._e(),e._v(" "),r("EditorContent",{directives:[{name:"show",rawName:"v-show",value:e.initialLoading,expression:"initialLoading"}],attrs:{editor:e.tiptap}})],1)],1),e._v(" "),e.hasSyncCollission?r("ReadOnlyEditor",{attrs:{content:e.syncError.data.outsideChange,"is-rich-editor":e.isRichEditor}}):e._e()],1):e._e(),e._v(" "),e.hasSyncCollission&&!e.readOnly?r("CollisionResolveDialog",{on:{resolveUseThisVersion:e.resolveUseThisVersion,resolveUseServerVersion:e.resolveUseServerVersion}}):e._e()],1)}),[],!1,null,"736385a3",null);
/*
 * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */
/*
 * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */r.default=N.exports},257:function(e,t,r){var n=r(482);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,r(245).default)("2a7d740c",n,!0,{})},261:function(e,t,r){var n=r(543);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,r(245).default)("1d2b6318",n,!0,{})},262:function(e,t,r){var n=r(545);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,r(245).default)("5039213c",n,!0,{})},266:function(e,t,r){var n=r(555);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,r(245).default)("52eb0c89",n,!0,{})},267:function(e,t,r){var n=r(557);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,r(245).default)("62f53740",n,!0,{})},468:function(e,t,r){"use strict";var n=r(246),o=r(251);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(r,!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),e}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}
/*
 * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */var v=function(e){function t(){return l(this,t),p(this,h(t).apply(this,arguments))}return f(t,e),d(t,[{key:"name",get:function(){return"strong"}}]),t}(o.b),b=function(e){function t(){return l(this,t),p(this,h(t).apply(this,arguments))}return f(t,e),d(t,[{key:"name",get:function(){return"em"}}]),t}(o.m),y=function(e){function t(){return l(this,t),p(this,h(t).apply(this,arguments))}return f(t,e),d(t,[{key:"schema",get:function(){return{parseDOM:[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",getAttrs:function(e){return"line-through"===e}}],toDOM:function(){return["s",0]},toMarkdown:{open:"~~",close:"~~",mixable:!0,expelEnclosingWhitespace:!0}}}}]),t}(o.q),g=function(e){function t(){return l(this,t),p(this,h(t).apply(this,arguments))}return f(t,e),d(t,[{key:"schema",get:function(){return{attrs:{href:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(e){return{href:e.getAttribute("href")}}}],toDOM:function(e){return["a",s({},e.attrs,{title:e.attrs.href,rel:"noopener noreferrer nofollow"}),0]}}}}]),t}(o.n),j=["image/png","image/jpeg","image/gif","image/x-xbitmap","image/bmp","image/svg+xml"],w=function(e,t){var r=e.split("#")[1];if(void 0!==r){var n=r.split("&");if(void 0!==n)for(var o=0;o<n.length;o++){var i=n[o].split("=");if(decodeURIComponent(i[0])===t)return decodeURIComponent(i[1])}}},k={name:"ImageView",props:["node","updateAttrs","view"],data:function(){return{imageLoaded:!1,loaded:!1,failed:!1}},computed:{mimeIcon:function(){var e=w(this.src,"mimetype");return e?{backgroundImage:"url("+window.OC.MimeType.getIconUrl(e)+")"}:{}},isSupportedImage:function(){var e=w(this.src,"mimetype");return void 0===e||-1!==j.indexOf(e)},internalLinkOrImage:function(){var e=w(this.src,"fileId");return e?OC.generateUrl("/f/"+e):this.src},src:{get:function(){return this.node.attrs.src},set:function(e){this.updateAttrs({src:e})}},alt:{get:function(){return this.node.attrs.alt?this.node.attrs.alt:""},set:function(e){this.updateAttrs({alt:e})}},t:function(){return function(e,t){return window.t(e,t)}}},beforeMount:function(){var e=this;if(!this.isSupportedImage)return this.failed=!0,this.imageLoaded=!1,void(this.loaded=!0);var t=new Image;t.src=this.node.attrs.src,t.onload=function(){e.imageLoaded=!0},t.onerror=function(){e.failed=!0,e.imageLoaded=!1,e.loaded=!0}},methods:{updateAlt:function(){this.alt=this.$refs.altInput.value},onLoaded:function(){this.loaded=!0}}},S=(r(481),r(58)),_=Object(S.a)(k,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"image",class:{"icon-loading":!e.loaded},attrs:{"data-src":e.src}},[e.imageLoaded&&e.isSupportedImage?r("div",[r("transition",{attrs:{name:"fade"}},[r("img",{directives:[{name:"show",rawName:"v-show",value:e.loaded,expression:"loaded"}],staticClass:"image__main",attrs:{src:e.src},on:{load:e.onLoaded}})]),e._v(" "),r("transition",{attrs:{name:"fade"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.loaded,expression:"loaded"}],staticClass:"image__caption"},[r("input",{ref:"altInput",attrs:{type:"text"},domProps:{value:e.alt},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateAlt()}}})])])],1):r("div",{staticClass:"image__placeholder"},[r("transition",{attrs:{name:"fade"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.loaded,expression:"loaded"}],staticClass:"image__main"},[r("div",{staticClass:"icon-image",style:e.mimeIcon}),e._v(" "),r("p",[r("a",{attrs:{href:e.internalLinkOrImage,target:"_blank"}},[e._v(e._s(e.isSupportedImage?e.t("text","Show image"):e.t("text","Show file")))])])])]),r("transition",{attrs:{name:"fade"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.loaded,expression:"loaded"}],staticClass:"image__caption"},[r("input",{ref:"altInput",attrs:{type:"text"},domProps:{value:e.alt},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateAlt()}}})])])],1)])}),[],!1,null,"610cb7ec",null).exports;function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function C(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e,t,r){return(M="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=I(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}
/*
 * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */var R=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),C(this,I(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,e),r=t,(n=[{key:"view",get:function(){return _}},{key:"schema",get:function(){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(r,!0).forEach((function(t){P(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},M(I(t.prototype),"schema",this),{selectable:!1})}}])&&E(r.prototype,n),o&&E(r,o),t}(o.l),N=r(256);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function A(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}
/*
 * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */var V=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),A(this,U(t).apply(this,arguments))}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(t,e),r=t,(n=[{key:"keys",value:function(){var e=this;return{Tab:function(t){return Object(N.c)("\t")(t,e.editor.view.dispatch,e.editor.view),!0}}}},{key:"name",get:function(){return"doc"}},{key:"schema",get:function(){return{content:"block"}}}])&&D(r.prototype,n),o&&D(r,o),t}(n.g),B=r(273),q=r.n(B),F=(r(538),r(540));
/*
 * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function $(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(r,!0).forEach((function(t){J(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function J(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K(e,t,r,n,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}r.d(t,"d",(function(){return Q})),r.d(t,"a",(function(){return Z})),r.d(t,"b",(function(){return ee})),r.d(t,"e",(function(){return te})),r.d(t,"c",(function(){return Y}));
/*
 * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */
var Y=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,o,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[t],o={},i=0;case 3:if(!(i<n.length)){e.next=17;break}return e.prev=4,e.next=7,r(541)("./"+n[i]);case 7:s=e.sent,o[n[i]]=s.default,e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",void 0);case 14:i++,e.next=3;break;case 17:if(0!==Object.keys(o).length||o.constructor!==Object){e.next=19;break}return e.abrupt("return",void 0);case 19:return e.abrupt("return",{languages:o});case 20:case"end":return e.stop()}}),e,null,[[4,11]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){K(i,n,o,s,a,"next",e)}function a(e){K(i,n,o,s,a,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}(),Z=function(e){var t=e.content,r=e.onInit,i=e.onUpdate,s=e.extensions,a=e.enableRichEditing,c=e.languages,l=[];return l=a?[new o.i,new o.d,new v,new b,new y,new o.h,new o.k,new o.c,new o.p,new o.a,new o.e,new o.o,new g,new R]:[new V,new n.j,new o.f(W({},c))],s=s||[],new n.a({content:t,onInit:r,onUpdate:i,extensions:[].concat($(l),[new o.j]).concat(s),useBuiltInExtensions:a})},Q=q()("commonmark",{html:!1,breaks:!1}).enable("strikethrough"),X=function(e){this.message=e},ee=function(e,t){var r=Object.entries(e).filter((function(e){return G(e,2)[1].toMarkdown})).reduce((function(e,t){var r=G(t,2);return W({},e,J({},r[0],r[1].toMarkdown))}),{}),n=Object.entries(t).filter((function(e){return G(e,2)[1].toMarkdown})).reduce((function(e,t){var r=G(t,2);return W({},e,J({},r[0],r[1].toMarkdown))}),{});return{serializer:new F.MarkdownSerializer(W({},F.defaultMarkdownSerializer.nodes,{},r),W({},F.defaultMarkdownSerializer.marks,{},n)),serialize:function(e,t){return this.serializer.serialize(e,W({},t,{tightLists:!0})).split("\\[ \\]").join("[ ]").split("\\[x\\]").join("[x]")}}},te=function(e){var t=e.getJSON();if(1!==t.content.length||void 0===t.content[0].content||1!==t.content[0].content.length){if("code_block"===t.content[0].type&&void 0===t.content[0].content)return"";throw new X("Failed to serialize document to plain text")}var r=t.content[0].content[0];if("text"!==r.type)throw new X("Failed to serialize document to plain text");return r.text}},481:function(e,t,r){"use strict";var n=r(257);r.n(n).a},482:function(e,t,r){(e.exports=r(244)(!1)).push([e.i,".image[data-v-610cb7ec]{margin:0;padding:0}.image__caption[data-v-610cb7ec]{text-align:center;color:var(--color-text-lighter)}.image__caption input[type='text'][data-v-610cb7ec]{width:100%;border:none;text-align:center}.icon-image[data-v-610cb7ec]{margin-top:10px;height:32px;padding:20px;background-size:contain}.image__loading[data-v-610cb7ec]{height:100px}.image__placeholder .image__main[data-v-610cb7ec]{background-color:var(--color-background-dark);text-align:center;padding:20px;border-radius:var(--border-radius)}.image__placeholder .image__main .icon-image[data-v-610cb7ec]{opacity:0.7}.fade-enter-active[data-v-610cb7ec]{transition:opacity .3s ease-in-out}.fade-enter-to[data-v-610cb7ec]{opacity:1}.fade-enter[data-v-610cb7ec]{opacity:0}\n",""])},541:function(e,t,r){var n={"./1c":[283,1],"./1c.js":[283,1],"./abnf":[284,2],"./abnf.js":[284,2],"./accesslog":[285,3],"./accesslog.js":[285,3],"./actionscript":[286,4],"./actionscript.js":[286,4],"./ada":[287,5],"./ada.js":[287,5],"./angelscript":[288,6],"./angelscript.js":[288,6],"./apache":[289,7],"./apache.js":[289,7],"./applescript":[290,8],"./applescript.js":[290,8],"./arcade":[291,9],"./arcade.js":[291,9],"./arduino":[292,10],"./arduino.js":[292,10],"./armasm":[293,11],"./armasm.js":[293,11],"./asciidoc":[294,12],"./asciidoc.js":[294,12],"./aspectj":[295,13],"./aspectj.js":[295,13],"./autohotkey":[296,14],"./autohotkey.js":[296,14],"./autoit":[297,15],"./autoit.js":[297,15],"./avrasm":[298,16],"./avrasm.js":[298,16],"./awk":[299,17],"./awk.js":[299,17],"./axapta":[300,18],"./axapta.js":[300,18],"./bash":[301,19],"./bash.js":[301,19],"./basic":[302,20],"./basic.js":[302,20],"./bnf":[303,21],"./bnf.js":[303,21],"./brainfuck":[304,22],"./brainfuck.js":[304,22],"./cal":[305,23],"./cal.js":[305,23],"./capnproto":[306,24],"./capnproto.js":[306,24],"./ceylon":[307,25],"./ceylon.js":[307,25],"./clean":[308,26],"./clean.js":[308,26],"./clojure":[310,27],"./clojure-repl":[309,28],"./clojure-repl.js":[309,28],"./clojure.js":[310,27],"./cmake":[311,29],"./cmake.js":[311,29],"./coffeescript":[312,30],"./coffeescript.js":[312,30],"./coq":[313,31],"./coq.js":[313,31],"./cos":[314,32],"./cos.js":[314,32],"./cpp":[315,33],"./cpp.js":[315,33],"./crmsh":[316,34],"./crmsh.js":[316,34],"./crystal":[317,35],"./crystal.js":[317,35],"./cs":[318,36],"./cs.js":[318,36],"./csp":[319,37],"./csp.js":[319,37],"./css":[320,38],"./css.js":[320,38],"./d":[321,39],"./d.js":[321,39],"./dart":[322,40],"./dart.js":[322,40],"./delphi":[323,41],"./delphi.js":[323,41],"./diff":[324,42],"./diff.js":[324,42],"./django":[325,43],"./django.js":[325,43],"./dns":[326,44],"./dns.js":[326,44],"./dockerfile":[327,45],"./dockerfile.js":[327,45],"./dos":[328,46],"./dos.js":[328,46],"./dsconfig":[329,47],"./dsconfig.js":[329,47],"./dts":[330,48],"./dts.js":[330,48],"./dust":[331,49],"./dust.js":[331,49],"./ebnf":[332,50],"./ebnf.js":[332,50],"./elixir":[333,51],"./elixir.js":[333,51],"./elm":[334,52],"./elm.js":[334,52],"./erb":[335,53],"./erb.js":[335,53],"./erlang":[337,54],"./erlang-repl":[336,55],"./erlang-repl.js":[336,55],"./erlang.js":[337,54],"./excel":[338,56],"./excel.js":[338,56],"./fix":[339,57],"./fix.js":[339,57],"./flix":[340,58],"./flix.js":[340,58],"./fortran":[341,59],"./fortran.js":[341,59],"./fsharp":[342,60],"./fsharp.js":[342,60],"./gams":[343,61],"./gams.js":[343,61],"./gauss":[344,62],"./gauss.js":[344,62],"./gcode":[345,63],"./gcode.js":[345,63],"./gherkin":[346,64],"./gherkin.js":[346,64],"./glsl":[347,65],"./glsl.js":[347,65],"./gml":[348,66],"./gml.js":[348,66],"./go":[349,67],"./go.js":[349,67],"./golo":[350,68],"./golo.js":[350,68],"./gradle":[351,69],"./gradle.js":[351,69],"./groovy":[352,70],"./groovy.js":[352,70],"./haml":[353,71],"./haml.js":[353,71],"./handlebars":[354,72],"./handlebars.js":[354,72],"./haskell":[355,73],"./haskell.js":[355,73],"./haxe":[356,74],"./haxe.js":[356,74],"./hsp":[357,75],"./hsp.js":[357,75],"./htmlbars":[358,76],"./htmlbars.js":[358,76],"./http":[359,77],"./http.js":[359,77],"./hy":[360,78],"./hy.js":[360,78],"./inform7":[361,79],"./inform7.js":[361,79],"./ini":[362,80],"./ini.js":[362,80],"./irpf90":[363,81],"./irpf90.js":[363,81],"./isbl":[364,82],"./isbl.js":[364,82],"./java":[365,83],"./java.js":[365,83],"./javascript":[366,84],"./javascript.js":[366,84],"./jboss-cli":[367,85],"./jboss-cli.js":[367,85],"./json":[368,86],"./json.js":[368,86],"./julia":[370,87],"./julia-repl":[369,88],"./julia-repl.js":[369,88],"./julia.js":[370,87],"./kotlin":[371,89],"./kotlin.js":[371,89],"./lasso":[372,90],"./lasso.js":[372,90],"./ldif":[373,91],"./ldif.js":[373,91],"./leaf":[374,92],"./leaf.js":[374,92],"./less":[375,93],"./less.js":[375,93],"./lisp":[376,94],"./lisp.js":[376,94],"./livecodeserver":[377,95],"./livecodeserver.js":[377,95],"./livescript":[378,96],"./livescript.js":[378,96],"./llvm":[379,97],"./llvm.js":[379,97],"./lsl":[380,98],"./lsl.js":[380,98],"./lua":[381,99],"./lua.js":[381,99],"./makefile":[382,100],"./makefile.js":[382,100],"./markdown":[383,101],"./markdown.js":[383,101],"./mathematica":[384,102],"./mathematica.js":[384,102],"./matlab":[385,103],"./matlab.js":[385,103],"./maxima":[386,104],"./maxima.js":[386,104],"./mel":[387,105],"./mel.js":[387,105],"./mercury":[388,106],"./mercury.js":[388,106],"./mipsasm":[389,107],"./mipsasm.js":[389,107],"./mizar":[390,108],"./mizar.js":[390,108],"./mojolicious":[391,109],"./mojolicious.js":[391,109],"./monkey":[392,110],"./monkey.js":[392,110],"./moonscript":[393,111],"./moonscript.js":[393,111],"./n1ql":[394,112],"./n1ql.js":[394,112],"./nginx":[395,113],"./nginx.js":[395,113],"./nimrod":[396,114],"./nimrod.js":[396,114],"./nix":[397,115],"./nix.js":[397,115],"./nsis":[398,116],"./nsis.js":[398,116],"./objectivec":[399,117],"./objectivec.js":[399,117],"./ocaml":[400,118],"./ocaml.js":[400,118],"./openscad":[401,119],"./openscad.js":[401,119],"./oxygene":[402,120],"./oxygene.js":[402,120],"./parser3":[403,121],"./parser3.js":[403,121],"./perl":[404,122],"./perl.js":[404,122],"./pf":[405,123],"./pf.js":[405,123],"./pgsql":[406,124],"./pgsql.js":[406,124],"./php":[407,125],"./php.js":[407,125],"./plaintext":[408,126],"./plaintext.js":[408,126],"./pony":[409,127],"./pony.js":[409,127],"./powershell":[410,128],"./powershell.js":[410,128],"./processing":[411,129],"./processing.js":[411,129],"./profile":[412,130],"./profile.js":[412,130],"./prolog":[413,131],"./prolog.js":[413,131],"./properties":[414,132],"./properties.js":[414,132],"./protobuf":[415,133],"./protobuf.js":[415,133],"./puppet":[416,134],"./puppet.js":[416,134],"./purebasic":[417,135],"./purebasic.js":[417,135],"./python":[418,136],"./python.js":[418,136],"./q":[419,137],"./q.js":[419,137],"./qml":[420,138],"./qml.js":[420,138],"./r":[421,139],"./r.js":[421,139],"./reasonml":[422,140],"./reasonml.js":[422,140],"./rib":[423,141],"./rib.js":[423,141],"./roboconf":[424,142],"./roboconf.js":[424,142],"./routeros":[425,143],"./routeros.js":[425,143],"./rsl":[426,144],"./rsl.js":[426,144],"./ruby":[427,145],"./ruby.js":[427,145],"./ruleslanguage":[428,146],"./ruleslanguage.js":[428,146],"./rust":[429,147],"./rust.js":[429,147],"./sas":[430,148],"./sas.js":[430,148],"./scala":[431,149],"./scala.js":[431,149],"./scheme":[432,150],"./scheme.js":[432,150],"./scilab":[433,151],"./scilab.js":[433,151],"./scss":[434,152],"./scss.js":[434,152],"./shell":[435,153],"./shell.js":[435,153],"./smali":[436,154],"./smali.js":[436,154],"./smalltalk":[437,155],"./smalltalk.js":[437,155],"./sml":[438,156],"./sml.js":[438,156],"./sqf":[439,157],"./sqf.js":[439,157],"./sql":[440,158],"./sql.js":[440,158],"./stan":[441,159],"./stan.js":[441,159],"./stata":[442,160],"./stata.js":[442,160],"./step21":[443,161],"./step21.js":[443,161],"./stylus":[444,162],"./stylus.js":[444,162],"./subunit":[445,163],"./subunit.js":[445,163],"./swift":[446,164],"./swift.js":[446,164],"./taggerscript":[447,165],"./taggerscript.js":[447,165],"./tap":[448,166],"./tap.js":[448,166],"./tcl":[449,167],"./tcl.js":[449,167],"./tex":[450,168],"./tex.js":[450,168],"./thrift":[451,169],"./thrift.js":[451,169],"./tp":[452,170],"./tp.js":[452,170],"./twig":[453,171],"./twig.js":[453,171],"./typescript":[454,172],"./typescript.js":[454,172],"./vala":[455,173],"./vala.js":[455,173],"./vbnet":[456,174],"./vbnet.js":[456,174],"./vbscript":[458,175],"./vbscript-html":[457,176],"./vbscript-html.js":[457,176],"./vbscript.js":[458,175],"./verilog":[459,177],"./verilog.js":[459,177],"./vhdl":[460,178],"./vhdl.js":[460,178],"./vim":[461,179],"./vim.js":[461,179],"./x86asm":[462,180],"./x86asm.js":[462,180],"./xl":[463,181],"./xl.js":[463,181],"./xml":[464,182],"./xml.js":[464,182],"./xquery":[465,183],"./xquery.js":[465,183],"./yaml":[466,184],"./yaml.js":[466,184],"./zephir":[467,185],"./zephir.js":[467,185]};function o(e){if(!r.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],o=t[0];return r.e(t[1]).then((function(){return r.t(o,7)}))}o.keys=function(){return Object.keys(n)},o.id=541,e.exports=o},542:function(e,t,r){"use strict";var n=r(261);r.n(n).a},543:function(e,t,r){(e.exports=r(244)(!1)).push([e.i,"#editor-container[data-v-736385a3]{display:block;width:100vw;max-width:100%;height:calc(100% - 50px);top:50px;left:0;margin:0 auto;position:relative;background-color:var(--color-main-background)}#editor-wrapper[data-v-736385a3]{display:flex;width:100%;height:100%;overflow:hidden;position:absolute}#editor-wrapper .ProseMirror[data-v-736385a3]{margin-top:0 !important}#editor-wrapper.icon-loading #editor[data-v-736385a3]{opacity:0.3}#editor[data-v-736385a3],.editor[data-v-736385a3]{background:var(--color-main-background);color:var(--color-main-text);background-clip:padding-box;border-radius:var(--border-radius);padding:0;position:relative;overflow-y:auto;overflow-x:hidden;width:100%}.msg.icon-error[data-v-736385a3]{padding:12px;border-bottom:1px solid var(--color-error);padding-left:30px;background-position:8px center}.save-status[data-v-736385a3]{padding:9px;text-overflow:ellipsis;color:var(--color-text-lighter)}.save-status.error[data-v-736385a3]{background-color:var(--color-error);color:var(--color-main-background);border-radius:3px}#editor-container #editor-wrapper.has-conflicts[data-v-736385a3]{height:calc(100% - 50px)}#editor-container #editor-wrapper.has-conflicts #editor[data-v-736385a3],#editor-container #editor-wrapper.has-conflicts #read-only-editor[data-v-736385a3]{width:50%;height:100%}#editor-session-list[data-v-736385a3]{padding:9px;padding-right:16px;display:flex}#editor-session-list input[data-v-736385a3],#editor-session-list div[data-v-736385a3]{vertical-align:middle;margin-left:3px}.editor__content[data-v-736385a3]{max-width:670px;margin:auto;position:relative}#body-public[data-v-736385a3]{height:auto}#files-public-content[data-v-736385a3]{height:auto}#files-public-content #editor-wrapper[data-v-736385a3]{position:relative}#files-public-content #editor-container[data-v-736385a3]{top:0;width:100%}#files-public-content #editor-container #editor[data-v-736385a3] .menubar{position:fixed;top:50px;width:100%}#files-public-content #editor-container #editor[data-v-736385a3]{padding-top:50px;overflow:auto}#files-public-content #editor-container .has-conflicts #editor[data-v-736385a3]{padding-top:0px}.ie #editor[data-v-736385a3] .menubar{position:fixed;top:50px;width:100%}.ie .editor__content[data-v-736385a3] .ProseMirror{padding-top:50px}\n",""])},544:function(e,t,r){"use strict";var n=r(262);r.n(n).a},545:function(e,t,r){(e.exports=r(244)(!1)).push([e.i,'.modal-container #editor-container{position:absolute}.ProseMirror-hideselection *::selection{background:transparent}.ProseMirror-hideselection *::-moz-selection{background:transparent}.ProseMirror-hideselection{caret-color:transparent}.ProseMirror-selectednode{outline:2px solid #8cf}li.ProseMirror-selectednode{outline:none}li.ProseMirror-selectednode:after{content:"";position:absolute;left:-32px;right:-2px;top:-2px;bottom:-2px;border:2px solid #8cf;pointer-events:none}.has-conflicts .ProseMirror-menubar,#editor-wrapper.icon-loading .ProseMirror-menubar{display:none}.ProseMirror-gapcursor{display:none;pointer-events:none;position:absolute}.ProseMirror-gapcursor:after{content:"";display:block;position:absolute;top:-2px;width:20px;border-top:1px solid var(--color-main-text);animation:ProseMirror-cursor-blink 1.1s steps(2, start) infinite}@keyframes ProseMirror-cursor-blink{to{visibility:hidden}}div[contenteditable=true],div[contenteditable=false]{border:none !important;width:100%;background-color:transparent;color:var(--color-main-text);opacity:1;-webkit-user-select:text;user-select:text}#editor-wrapper .ProseMirror{margin-top:44px;height:100%;position:relative;word-wrap:break-word;white-space:pre-wrap;-webkit-font-variant-ligatures:none;font-variant-ligatures:none;padding:4px 8px 200px 14px;line-height:150%;font-size:14px;outline:none}#editor-wrapper .ProseMirror p:first-child,#editor-wrapper .ProseMirror h1:first-child,#editor-wrapper .ProseMirror h2:first-child,#editor-wrapper .ProseMirror h3:first-child,#editor-wrapper .ProseMirror h4:first-child,#editor-wrapper .ProseMirror h5:first-child,#editor-wrapper .ProseMirror h6:first-child{margin-top:10px}#editor-wrapper .ProseMirror a{color:var(--color-primary-element);text-decoration:underline;padding:.5em 0}#editor-wrapper .ProseMirror p{margin-bottom:1em;line-height:150%}#editor-wrapper .ProseMirror em{font-style:italic}#editor-wrapper .ProseMirror h1{font-size:36px}#editor-wrapper .ProseMirror h2{font-size:28px}#editor-wrapper .ProseMirror h3{font-size:24px}#editor-wrapper .ProseMirror h4{font-size:21px}#editor-wrapper .ProseMirror h5{font-size:17px}#editor-wrapper .ProseMirror h6{font-size:14px}#editor-wrapper .ProseMirror h1,#editor-wrapper .ProseMirror h2,#editor-wrapper .ProseMirror h3,#editor-wrapper .ProseMirror h4,#editor-wrapper .ProseMirror h5,#editor-wrapper .ProseMirror h6{font-weight:600;line-height:120%;margin-top:24px;margin-bottom:12px;color:var(--color-main-text)}#editor-wrapper .ProseMirror img{cursor:default;max-width:100%}#editor-wrapper .ProseMirror hr{padding:2px 0;border:none;margin:1em 0;width:100%}#editor-wrapper .ProseMirror hr:after{content:"";display:block;height:1px;background-color:var(--color-border-dark);line-height:2px}#editor-wrapper .ProseMirror pre{white-space:pre-wrap;background-color:var(--color-background-dark);border-radius:var(--border-radius);padding:1em 1.3em;margin-bottom:1em}#editor-wrapper .ProseMirror p code{background-color:var(--color-background-dark);border-radius:var(--border-radius);padding:.1em .3em}#editor-wrapper .ProseMirror li{position:relative}#editor-wrapper .ProseMirror ul,#editor-wrapper .ProseMirror ol{padding-left:14px}#editor-wrapper .ProseMirror ul li{list-style-type:disc}#editor-wrapper .ProseMirror blockquote{padding-left:1em;border-left:4px solid var(--color-primary-element);color:var(--color-text-maxcontrast);margin-left:0;margin-right:0}.ProseMirror-focused .ProseMirror-gapcursor{display:block}#editor-wrapper:not(.richEditor) .ProseMirror pre{background-color:var(--color-main-background)}#editor-wrapper:not(.richEditor) .ProseMirror pre::before{content:attr(data-language);text-transform:uppercase;display:block;text-align:right;font-weight:bold;font-size:0.6rem}#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-comment,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-quote{color:#999999}#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-variable,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-template-variable,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-attribute,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-tag,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-name,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-regexp,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-link,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-name,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-selector-id,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-selector-class{color:#f2777a}#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-number,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-meta,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-built_in,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-builtin-name,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-literal,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-type,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-params{color:#f99157}#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-string,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-symbol,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-bullet{color:#99cc99}#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-title,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-section{color:#ffcc66}#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-keyword,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-selector-tag{color:#6699cc}#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-emphasis{font-style:italic}#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-strong{font-weight:700}\n',""])},554:function(e,t,r){"use strict";var n=r(266);r.n(n).a},555:function(e,t,r){(e.exports=r(244)(!1)).push([e.i,"#read-only-editor[data-v-6d7c0aec]{overflow:scroll}\n",""])},556:function(e,t,r){"use strict";var n=r(267);r.n(n).a},557:function(e,t,r){(e.exports=r(244)(!1)).push([e.i,"#resolve-conflicts[data-v-1c2d184a]{display:flex;position:fixed;z-index:10000;bottom:0;max-width:900px;width:100vw;margin:auto;padding:20px 0}#resolve-conflicts button[data-v-1c2d184a]{margin:auto;box-shadow:0 0 10px var(--color-box-shadow)}\n",""])},564:function(e,t,r){"use strict";r.r(t);var n=r(246),o=r(270),i=r.n(o),s=r(468),a={name:"ReadOnlyEditor",components:{EditorContent:n.b},props:{content:{type:String,required:!0},isRichEditor:{type:Boolean,default:!1}},data:function(){return{editor:null}},mounted:function(){this.editor=Object(s.a)({content:this.isRichEditor?s.d.render(this.content):"<pre>"+i()(this.content)+"</pre>",enableRichEditing:this.isRichEditor}),this.editor.setOptions({editable:!1})},beforeDestroy:function(){this.editor.destroy()}},c=(r(554),r(58)),l=Object(c.a)(a,(function(){var e=this.$createElement,t=this._self._c||e;return this.editor?t("EditorContent",{attrs:{id:"read-only-editor",editor:this.editor}}):this._e()}),[],!1,null,"6d7c0aec",null);t.default=l.exports},565:function(e,t,r){"use strict";r.r(t);var n={name:"CollisionResolveDialog"},o=(r(556),r(58)),i=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"collision-resolve-dialog",attrs:{id:"resolve-conflicts"}},[r("button",{on:{click:function(t){return e.$emit("resolveUseThisVersion")}}},[e._v("\n\t\t"+e._s(e.t("text","Use current version"))+"\n\t")]),e._v(" "),r("button",{on:{click:function(t){return e.$emit("resolveUseServerVersion")}}},[e._v("\n\t\t"+e._s(e.t("text","Use the saved version"))+"\n\t")])])}),[],!1,null,"1c2d184a",null);t.default=i.exports}}]);
//# sourceMappingURL=editor.js.map?v=d857b9e6bd4cb6248ddf