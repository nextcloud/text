(window.textWebpackJsonp=window.textWebpackJsonp||[]).push([[189],{122:function(e,t,r){"use strict";r.r(t);var o=r(762),i=r(213);for(var n in i)["default"].indexOf(n)<0&&function(e){r.d(t,e,(function(){return i[e]}))}(n);r(696),r(698);var s=r(17),a=Object(s.a)(i.default,o.a,o.b,!1,null,"2f7ec685",null);t.default=a.exports},179:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRandomGuestName=t.endpointUrl=t.documentReady=void 0;var o=r(27);
/*
 * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */t.documentReady=function(e){(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?setTimeout(e,0):document.addEventListener("DOMContentLoaded",e)};var i=(0,o.generateUrl)("/apps/text");t.endpointUrl=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?"".concat(i,"/public/").concat(e):"".concat(i,"/").concat(e)};var n=["Artichoke","Arugula","Asparagus","Avocado","Bamboo Shoot","Bean Sprout","Bean","Beet","Belgian Endive","Bell Pepper","Bitter Melon","Bitter Gourd","Bok Choy","Broccoli","Brussels Sprout","Burdock Root","Cabbage","Calabash","Caper","Carrot","Cassava","Cauliflower","Celery","Celery Root","Celtuce","Chayote","Chinese Broccoli","Corn","Baby Corn","Cucumber","English Cucumber","Gherkin","Pickling Cucumber","Daikon Radish","Edamame","Eggplant","Elephant Garlic","Endive","Curly","Escarole","Fennel","Fiddlehead","Galangal","Garlic","Ginger","Grape Leave","Green Bean","Wax Bean","Green","Amaranth Leave","Beet Green","Collard Green","Dandelion Green","Kale","Kohlrabi Green","Mustard Green","Rapini","Spinach","Swiss Chard","Turnip Green","Hearts of Palm","Horseradish","Jerusalem Artichoke","Jícama","Kale","Curly","Lacinato","Ornamental","Kohlrabi","Leeks","Lemongrass","Lettuce","Butterhead","Iceberg","Leaf","Romaine","Lotus Root","Lotus Seed","Mushroom","Napa Cabbage","Nopales","Okra","Olive","Onion","Green Onion","Parsley","Parsley Root","Parsnip","Pepper","Plantain","Potato","Pumpkin","Purslane","Radicchio","Radish","Rutabaga","Shallots","Spinach","Squash","Sweet Potato","Swiss Chard","Taro","Tomatillo","Tomato","Turnip","Water Chestnut","Water Spinach","Watercress","Winter Melon","Yams","Zucchini"];t.getRandomGuestName=function(){return n[Math.floor(Math.random()*n.length)]}},191:function(e,t,r){"use strict";r.r(t);var o=r(761),i=r(211);for(var n in i)["default"].indexOf(n)<0&&function(e){r.d(t,e,(function(){return i[e]}))}(n);r(700);var s=r(17),a=Object(s.a)(i.default,o.a,o.b,!1,null,"3ea77884",null);t.default=a.exports},211:function(e,t,r){"use strict";r.r(t);var o=r(212),i=r.n(o);for(var n in o)["default"].indexOf(n)<0&&function(e){r.d(t,e,(function(){return o[e]}))}(n);t.default=i.a},212:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(28)),i=n(r(122));function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,o,i,n,s){try{var a=e[n](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(o,i)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(o,i){var n=e.apply(t,r);function a(e){s(n,o,i,a,c,"next",e)}function c(e){s(n,o,i,a,c,"throw",e)}a(void 0)}))}}var c=o.default.observable({messages:[],mtime:0}),l=function(e,t){console.debug("callMobileMessage "+e,t);var r=e;void 0!==t&&(r={MessageName:e,Values:t});var o=null;try{o=JSON.stringify(t)}catch(e){o=null}window.DirectEditingMobileInterface&&"function"==typeof window.DirectEditingMobileInterface[e]&&(null==o?window.DirectEditingMobileInterface[e]():window.DirectEditingMobileInterface[e](o)),window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.DirectEditingMobileInterface&&window.webkit.messageHandlers.DirectEditingMobileInterface.postMessage(r),window.postMessage(r)};window.addEventListener("message",(function(e){c.messages.push(e.data),console.debug("postMessage",e)}));var d={name:"DirectEditing",components:{EditorWrapper:i.default},data:function(){return{initial:OCP.InitialState.loadState("text","file"),messages:c.messages,log:c,saving:!1}},computed:{initialSession:function(){return JSON.parse(this.initial.session)||null}},beforeMount:function(){l("loading")},mounted:function(){document.querySelector('meta[name="viewport"]').setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0")},methods:{close:function(){var e=this;return a(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.saving=!0,setTimeout(a(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.editor.close();case 2:l("close");case 3:case"end":return t.stop()}}),t)}))),0);case 2:case"end":return t.stop()}}),t)})))()},share:function(){l("share")},loaded:function(){l("loaded")}}};t.default=d},213:function(e,t,r){"use strict";r.r(t);var o=r(214),i=r.n(o);for(var n in o)["default"].indexOf(n)<0&&function(e){r.d(t,e,(function(){return o[e]}))}(n);t.default=i.a},214:function(e,r,o){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=m(o(28)),n=m(o(215)),s=m(o(604)),a=o(382),c=o(179),l=o(610),d=o(218),u=o(197),p=o(199),f=o(691),h=m(o(693)),v=m(o(200));function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t,r,o,i,n,s){try{var a=e[n](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(o,i)}var y={name:"EditorWrapper",components:{EditorContent:u.EditorContent,MenuBar:function(){return Promise.all([o.e(1),o.e(198),o.e(192)]).then(o.bind(null,709))},MenuBubble:function(){return Promise.all([o.e(1),o.e(198),o.e(192)]).then(o.bind(null,716))},ReadOnlyEditor:function(){return Promise.all([o.e(0),o.e(188),o.e(197),o.e(189)]).then(o.bind(null,719))},CollisionResolveDialog:function(){return Promise.all([o.e(0),o.e(188),o.e(197),o.e(189)]).then(o.bind(null,724))},GuestNameDialog:function(){return Promise.all([o.e(1),o.e(187),o.e(191)]).then(o.bind(null,727))},SessionList:function(){return Promise.all([o.e(1),o.e(187),o.e(190)]).then(o.bind(null,758))}},directives:{Tooltip:v.default},mixins:[h.default],props:{initialSession:{type:Object,default:null},relativePath:{type:String,default:null},fileId:{type:Number,default:null},active:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!0},shareToken:{type:String,default:null},mime:{type:String,default:null},autohide:{type:Boolean,default:!1},isDirectEditing:{type:Boolean,default:!1}},data:function(){return{tiptap:null,syncService:null,document:null,sessions:[],currentSession:null,filteredSessions:{},dirty:!1,initialLoading:!1,lastSavedString:"",syncError:null,hasConnectionIssue:!1,readOnly:!0,forceRecreate:!1,saveStatusPolling:null}},computed:{lastSavedStatus:function(){var e=this.dirtyStateIndicator?"*":"";return this.isMobile||(e+=this.lastSavedString),e},lastSavedStatusClass:function(){return this.syncError&&""!==this.lastSavedString?"error":""},dirtyStateIndicator:function(){return this.hasUnpushedChanges||this.hasUnsavedChanges},lastSavedStatusTooltip:function(){var e=t("text","Last saved {lastSaved}",{lastSaved:this.lastSavedString});return this.hasSyncCollission&&(e=t("text","The document has been changed outside of the editor. The changes cannot be applied.")),this.hasUnpushedChanges&&(e+=" - "+t("text","Unpushed changes")),this.hasUnsavedChanges&&(e+=" - "+t("text","Unsaved changes")),{content:e,placement:"bottom"}},hasSyncCollission:function(){return this.syncError&&this.syncError.type===a.ERROR_TYPE.SAVE_COLLISSION},hasUnpushedChanges:function(){return this.dirty},hasUnsavedChanges:function(){return this.document&&this.document.lastSavedVersion<this.document.currentVersion},backendUrl:function(){var e=this;return function(t){return(0,c.endpointUrl)(t,!!e.shareToken)}},hasDocumentParameters:function(){return this.fileId||this.shareToken||this.initialSession},isPublic:function(){return this.isDirectEditing||document.getElementById("isPublic")&&"1"===document.getElementById("isPublic").value},isRichEditor:function(){return"text/markdown"===this.mime},fileExtension:function(){return this.relativePath?this.relativePath.split("/").pop().split(".").pop():"txt"}},watch:{lastSavedStatus:function(){this.$refs.menubar&&this.$refs.menubar.redrawMenuBar()}},mounted:function(){this.active&&this.hasDocumentParameters&&this.initSession(),this.$parent.$emit("update:loaded",!0)},created:function(){var e=this;this.saveStatusPolling=setInterval((function(){e.updateLastSavedStatus()}),2e3)},beforeDestroy:function(){this.close()},methods:{close:function(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(clearInterval(t.saveStatusPolling),!t.currentSession||!t.syncService){e.next=11;break}return e.prev=2,e.next=5,t.syncService.close();case 5:t.currentSession=null,t.syncService=null,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})),function(){var t=this,r=arguments;return new Promise((function(o,i){var n=e.apply(t,r);function s(e){b(n,o,i,s,a,"next",e)}function a(e){b(n,o,i,s,a,"throw",e)}s(void 0)}))})()},updateLastSavedStatus:function(){this.document&&(this.lastSavedString=(0,s.default)(1e3*this.document.lastSavedVersionTime).fromNow())},initSession:function(){var e=this;if(this.hasDocumentParameters){var t=localStorage.getItem("nick")?localStorage.getItem("nick"):(0,c.getRandomGuestName)();this.syncService=new a.SyncService({shareToken:this.shareToken,filePath:this.relativePath,guestName:t,forceRecreate:this.forceRecreate,serialize:function(t){if(e.isRichEditor){var r=(0,d.createMarkdownSerializer)(e.tiptap.nodes,e.tiptap.marks).serialize(t);return console.debug("serialized document",{markdown:r}),r}var o=(0,d.serializePlainText)(e.tiptap);return console.debug("serialized document",{file:o}),o}}).on("opened",(function(t){var r=t.document,o=t.session;e.currentSession=o,e.document=r,e.readOnly=r.readOnly,localStorage.setItem("nick",e.currentSession.guestName)})).on("change",(function(t){var r=t.document,o=t.sessions;""===e.document.baseVersionEtag||r.baseVersionEtag===e.document.baseVersionEtag?(e.updateSessions.bind(e)(o),e.document=r,e.syncError=null,e.tiptap.setOptions({editable:!e.readOnly})):e.resolveUseServerVersion()})).on("loaded",(function(t){var r=t.documentSource;e.hasConnectionIssue=!1,(0,d.loadSyntaxHighlight)(l.extensionHighlight[e.fileExtension]?l.extensionHighlight[e.fileExtension]:e.fileExtension).then((function(t){e.tiptap=(0,d.createEditor)({content:e.isRichEditor?d.markdownit.render(r):"<pre>"+(0,n.default)(r)+"</pre>",onInit:function(t){var r=t.state;e.syncService.state=r,e.syncService.startSync()},onUpdate:function(t){var r=t.state;e.syncService.state=r},extensions:[new p.Collaboration({version:e.document.initialVersion,clientID:e.currentSession.id,debounce:200,onSendable:function(t){t.sendable;e.syncService&&e.syncService.sendSteps()}}),new f.Keymap({"Mod-s":function(){return e.syncService.save(),!0}})],enableRichEditing:e.isRichEditor,languages:t}),e.tiptap.on("focus",(function(){e.$emit("focus")})),e.tiptap.on("blur",(function(){e.$emit("blur")})),e.syncService.state=e.tiptap.state}))})).on("sync",(function(t){var r=t.steps,o=t.document;e.hasConnectionIssue=!1;try{e.tiptap.extensions.options.collaboration.update({version:o.currentVersion,steps:r}),e.syncService.state=e.tiptap.state,e.updateLastSavedStatus()}catch(e){console.error("Failed to update steps in collaboration plugin",e)}e.document=o})).on("error",(function(t,r){e.tiptap.setOptions({editable:!1}),t!==a.ERROR_TYPE.SAVE_COLLISSION||e.syncError&&e.syncError.type===a.ERROR_TYPE.SAVE_COLLISSION||(e.initialLoading=!0,e.syncError={type:t,data:r}),t!==a.ERROR_TYPE.CONNECTION_FAILED||e.hasConnectionIssue||(e.hasConnectionIssue=!0,OC.Notification.showTemporary("Connection failed, reconnecting"),!1!==r.retry&&setTimeout(e.reconnect.bind(e),5e3)),t===a.ERROR_TYPE.SOURCE_NOT_FOUND&&(e.hasConnectionIssue=!0),e.$emit("ready")})).on("stateChange",(function(t){t.initialLoading&&!e.initialLoading&&(e.initialLoading=!0,e.autofocus&&e.tiptap.focus("start"),e.$emit("ready"),e.$parent.$emit("ready",!0)),Object.prototype.hasOwnProperty.call(t,"dirty")&&(e.dirty=t.dirty)})),null===this.initialSession?this.syncService.open({fileId:this.fileId,filePath:this.relativePath}).catch((function(t){e.hasConnectionIssue=!0})):this.syncService.open({initialSession:this.initialSession}).catch((function(t){e.hasConnectionIssue=!0})),this.forceRecreate=!1}else this.$parent.$emit("error","No valid file provided")},resolveUseThisVersion:function(){this.syncService.forceSave(),this.tiptap.setOptions({editable:!this.readOnly})},resolveUseServerVersion:function(){this.forceRecreate=!0,this.reconnect()},reconnect:function(){var e=this;this.initialLoading=!1,this.hasConnectionIssue=!1,this.syncService?this.syncService.close().then((function(){e.syncService=null,e.tiptap.destroy(),e.initSession()})).catch((function(e){})):(this.syncService=null,this.tiptap.destroy(),this.initSession())},updateSessions:function(e){this.sessions=e.sort((function(e,t){return t.lastContact-e.lastContact}));var t=this.sessions.map((function(e){return e.userId})),r=this.sessions.map((function(e){return e.guestId})),o=Object.keys(this.filteredSessions).filter((function(e){return!t.includes(e)&&!r.includes(e)}));for(var n in o)i.default.delete(this.filteredSessions,o[n]);for(var s in this.sessions){var a=this.sessions[s],c=a.displayName?a.userId:a.id;this.filteredSessions[c]?this.filteredSessions[c].lastContact<a.lastContact&&i.default.set(this.filteredSessions[c],"lastContact",a.lastContact):i.default.set(this.filteredSessions,c,a),a.id===this.currentSession.id&&i.default.set(this.filteredSessions[c],"isCurrent",!0)}}}};r.default=y},218:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadSyntaxHighlight=t.serializePlainText=t.createMarkdownSerializer=t.createEditor=t.markdownit=t.default=void 0;var o=r(197),i=r(199),n=r(621),s=r(623),a=u(r(387)),c=u(r(686)),l=r(204);r(687);var d=r(689);function u(e){return e&&e.__esModule?e:{default:e}}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],o=!0,i=!1,n=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);o=!0);}catch(e){i=!0,n=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw n}}return r}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t,r,o,i,n,s){try{var a=e[n](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(o,i)}var j=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var o,i,n,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=[t],i={},n=0;case 3:if(!(n<o.length)){e.next=17;break}return e.prev=4,e.next=7,r(690)("./"+o[n]);case 7:s=e.sent,i[o[n]]=s.default,e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",void 0);case 14:n++,e.next=3;break;case 17:if(0!==Object.keys(i).length||i.constructor!==Object){e.next=19;break}return e.abrupt("return",void 0);case 19:return e.abrupt("return",{languages:i});case 20:case"end":return e.stop()}}),e,null,[[4,11]])})),function(){var t=this,r=arguments;return new Promise((function(o,i){var n=e.apply(t,r);function s(e){g(n,o,i,s,a,"next",e)}function a(e){g(n,o,i,s,a,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}();t.loadSyntaxHighlight=j;var x=function(e){var t=e.content,r=e.onInit,a=e.onUpdate,c=e.extensions,d=e.enableRichEditing,u=e.languages,p=[];return p=d?[new i.Heading,new i.Code,new n.Strong,new n.Italic,new n.Strike,new i.HardBreak,new i.HorizontalRule,new i.BulletList,new i.OrderedList,new i.Blockquote,new i.CodeBlock,new s.ListItem,new n.Link({openOnClick:!0}),new s.Image,new i.Placeholder({emptyNodeClass:"is-empty",emptyNodeText:(0,l.translate)("text","Add notes, lists or links …"),showOnlyWhenEditable:!0})]:[new s.PlainTextDocument,new o.Text,new i.CodeBlockHighlight(b({},u))],c=c||[],new o.Editor({content:t,onInit:r,onUpdate:a,extensions:[].concat(f(p),[new i.History]).concat(c),useBuiltInExtensions:d})};t.createEditor=x;var w=(0,a.default)("commonmark",{html:!1,breaks:!1}).enable("strikethrough").use(c.default,{enable:!0,labelAfter:!0});t.markdownit=w;var k=function(e){this.message=e};t.createMarkdownSerializer=function(e,t){var r=Object.entries(e).filter((function(e){return p(e,2)[1].toMarkdown})).reduce((function(e,t){var r=p(t,2),o=r[0],i=r[1].toMarkdown;return b(b({},e),{},y({},o,i))}),{}),o=Object.entries(t).filter((function(e){return p(e,2)[1].toMarkdown})).reduce((function(e,t){var r=p(t,2),o=r[0],i=r[1].toMarkdown;return b(b({},e),{},y({},o,i))}),{});return{serializer:new d.MarkdownSerializer(b(b({},d.defaultMarkdownSerializer.nodes),r),b(b({},d.defaultMarkdownSerializer.marks),o)),serialize:function(e,t){return this.serializer.serialize(e,b(b({},t),{},{tightLists:!0})).split("\\[").join("[").split("\\]").join("]")}}};t.serializePlainText=function(e){var t=e.getJSON();if(1!==t.content.length||void 0===t.content[0].content||1!==t.content[0].content.length){if("code_block"===t.content[0].type&&void 0===t.content[0].content)return"";throw new k("Failed to serialize document to plain text")}var r=t.content[0].content[0];if("text"!==r.type)throw new k("Failed to serialize document to plain text");return r.text};var P=x;t.default=P},220:function(e,t,r){"use strict";r.r(t);var o=r(221),i=r.n(o);for(var n in o)["default"].indexOf(n)<0&&function(e){r.d(t,e,(function(){return o[e]}))}(n);t.default=i.a},221:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=(o=r(626))&&o.__esModule?o:{default:o},n=r(27);var s=["image/png","image/jpeg","image/gif","image/x-xbitmap","image/bmp","image/svg+xml"],a=function(e,t){var r=e.split("?")[1];if(void 0!==r){var o=r.split(/[&#]/);if(void 0!==o)for(var i=0;i<o.length;i++){var n=o[i].split("=");if(decodeURIComponent(n[0])===t)return decodeURIComponent(n[1])}}},c={name:"ImageView",props:["node","updateAttrs","view"],data:function(){return{imageLoaded:!1,loaded:!1,failed:!1}},computed:{imageUrl:function(){if(this.src.startsWith("http://")||this.src.startsWith("https://"))return this.src;if(this.hasPreviewUrl)return this.src;if(this.fileId)return(0,n.generateUrl)("/core/preview")+"?fileId=".concat(this.fileId,"&x=1024&y=1024&a=true");var e=FileList.getCurrentDirectory()+"/"+this.src,t=encodeURIComponent(i.default.normalize(e));return(0,n.generateUrl)("/core/preview.png")+"?file=".concat(t,"&x=1024&y=1024&a=true")},fileId:function(){return a(this.src,"fileId")},hasPreviewUrl:function(){return this.src.match(/^(\/index.php)?\/core\/preview/)||this.src.match(/^(\/index.php)?\/apps\/files_sharing\/publicpreview\//)},mimeIcon:function(){var e=a(this.src,"mimetype");return e?{backgroundImage:"url("+window.OC.MimeType.getIconUrl(e)+")"}:{}},isSupportedImage:function(){var e=a(this.src,"mimetype");return void 0===e||-1!==s.indexOf(e)},internalLinkOrImage:function(){var e=a(this.src,"fileId");return e?(0,n.generateUrl)("/f/"+e):this.src},src:{get:function(){return this.node.attrs.src},set:function(e){this.updateAttrs({src:e})}},alt:{get:function(){return this.node.attrs.alt?this.node.attrs.alt:""},set:function(e){this.updateAttrs({alt:e})}},t:function(){return function(e,t){return window.t(e,t)}}},beforeMount:function(){var e=this;if(!this.isSupportedImage)return this.failed=!0,this.imageLoaded=!1,void(this.loaded=!0);var t=new Image;t.src=this.imageUrl,t.onload=function(){e.imageLoaded=!0},t.onerror=function(){e.failed=!0,e.imageLoaded=!1,e.loaded=!0}},methods:{updateAlt:function(){this.alt=this.$refs.altInput.value},onLoaded:function(){this.loaded=!0}}};t.default=c},226:function(e,t,r){"use strict";r.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgdmlld2JveD0iMCAwIDE2IDE2IiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxwYXRoIGQ9Ik0xMS45MjQgNC4wNjZsLTQuOTMyIDQuOTctMi44MjgtMi44M0wyLjc1IDcuNjE4bDQuMjQyIDQuMjQzIDYuMzY1LTYuMzY1LTEuNDMzLTEuNDMyeiIgZmlsbD0iI2ZmZiIvPjwvc3ZnPgo="},245:function(e,t,r){"use strict";r.r(t);var o=r(246),i=r.n(o);for(var n in o)["default"].indexOf(n)<0&&function(e){r.d(t,e,(function(){return o[e]}))}(n);t.default=i.a},246:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=r(197),n=(o=r(215))&&o.__esModule?o:{default:o},s=r(218);var a={name:"ReadOnlyEditor",components:{EditorContent:i.EditorContent},props:{content:{type:String,required:!0},isRichEditor:{type:Boolean,default:!0}},data:function(){return{editor:null}},mounted:function(){this.editor=(0,s.createEditor)({content:this.isRichEditor?s.markdownit.render(this.content):"<pre>"+(0,n.default)(this.content)+"</pre>",enableRichEditing:this.isRichEditor}),this.editor.setOptions({editable:!1})},beforeDestroy:function(){this.editor.destroy()}};t.default=a},247:function(e,t,r){"use strict";r.r(t);var o=r(248),i=r.n(o);for(var n in o)["default"].indexOf(n)<0&&function(e){r.d(t,e,(function(){return o[e]}))}(n);t.default=i.a},248:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"CollisionResolveDialog"}},382:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERROR_TYPE=t.SyncService=t.default=void 0;var o=a(r(94)),i=a(r(608)),n=r(179),s=r(217);function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t,r,o,i,n,s){try{var a=e[n](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(o,i)}function l(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var d={shareToken:null,forceRecreate:!1,serialize:function(e){return e}},u={SAVE_COLLISSION:0,PUSH_FAILURE:1,LOAD_ERROR:2,CONNECTION_FAILED:3,SOURCE_NOT_FOUND:4};t.ERROR_TYPE=u;var p=function(){function e(t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eventHandlers={opened:[],loaded:[],fetched:[],sync:[],stateChange:[],error:[],change:[],save:[]},this.backend=new i.default(this),this.options=Object.assign({},d,t),this.document=null,this.session=null,this.sessions=[],this.steps=[],this.stepClientIDs=[],this}var t,r,a,p,f;return t=e,(r=[{key:"open",value:(p=regeneratorRuntime.mark((function e(t){var r,o,i,n,s,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.fileId,o=t.filePath,i=t.initialSession,n=null,void 0!==i){e.next=16;break}return e.prev=3,e.next=6,this._openDocument({fileId:r,filePath:o});case 6:s=e.sent,n=s.data,e.next=14;break;case 10:throw e.prev=10,e.t0=e.catch(3),e.t0.response&&"ECONNABORTED"!==e.t0.code?this.emit("error",u.LOAD_ERROR,e.t0.response.status):this.emit("error",u.CONNECTION_FAILED,{}),e.t0;case 14:e.next=17;break;case 16:n=i;case 17:return this.document=n.document,this.document.readOnly=n.readOnly,this.session=n.session,this.emit("opened",{document:this.document,session:this.session}),e.abrupt("return",this._fetchDocument().then((function(e){var t=e.data;a.emit("loaded",{document:a.document,session:a.session,documentSource:""+t})})));case 22:case"end":return e.stop()}}),e,this,[[3,10]])})),f=function(){var e=this,t=arguments;return new Promise((function(r,o){var i=p.apply(e,t);function n(e){c(i,r,o,n,s,"next",e)}function s(e){c(i,r,o,n,s,"throw",e)}n(void 0)}))},function(e){return f.apply(this,arguments)})},{key:"startSync",value:function(){this.backend.connect()}},{key:"_openDocument",value:function(e){var t=e.fileId,r=e.filePath;return o.default.put((0,n.endpointUrl)("session/create",!!this.options.shareToken),{fileId:t,filePath:r,token:this.options.shareToken,guestName:this.options.guestName,forceRecreate:this.options.forceRecreate})}},{key:"_fetchDocument",value:function(){return o.default.post((0,n.endpointUrl)("session/fetch",!!this.options.shareToken),{documentId:this.document.id,sessionId:this.session.id,sessionToken:this.session.token,token:this.options.shareToken},{transformResponse:[function(e){return e}]})}},{key:"updateSession",value:function(e){var t=this;if(this.isPublic())return o.default.post((0,n.endpointUrl)("session",!!this.options.shareToken),{documentId:this.document.id,sessionId:this.session.id,sessionToken:this.session.token,token:this.options.shareToken,guestName:e}).then((function(e){var r=e.data;return t.session=r,r})).catch((function(e){return console.error("Failed to update the session",e),Promise.reject(e)}))}},{key:"sendSteps",value:function(e){var t=e||(0,s.sendableSteps)(this.state);if(t)return this.backend.sendSteps(t)}},{key:"stepsSince",value:function(e){return{steps:this.steps.slice(e),clientIDs:this.stepClientIDs.slice(e)}}},{key:"_receiveSteps",value:function(e){for(var t=this,r=e.steps,o=e.document,i=[],n=function(e){var o=r[e].data;if(!Array.isArray(o))return console.error("Invalid step data, skipping step",r[e]),"continue";o.forEach((function(o){t.steps.push(o),i.push({step:o,clientID:r[e].sessionId})}))},s=0;s<r.length;s++)n(s);this.emit("sync",{steps:i,document:o}),console.debug("receivedSteps","newVersion",this._getVersion())}},{key:"_getVersion",value:function(){return this.state?(0,s.getVersion)(this.state):0}},{key:"_getDocument",value:function(){if(this.state)return this.state.doc}},{key:"_getContent",value:function(){return this.options.serialize(this._getDocument())}},{key:"save",value:function(){this.backend.save&&this.backend.save()}},{key:"forceSave",value:function(){this.backend.forceSave&&this.backend.forceSave()}},{key:"close",value:function(){var e=this,t=!1;return new Promise((function(r,o){e.on("save",(function(){e._close().then((function(){t=!0,r()})).catch((function(){return r()}))})),setTimeout((function(){t||e._close().then((function(){r()})).catch((function(){return r()}))}),2e3),e.save()}))}},{key:"_close",value:function(){return null===this.document||null===this.session?Promise.resolve():(this.backend.disconnect(),o.default.post((0,n.endpointUrl)("session/close",!!this.options.shareToken),{documentId:this.document.id,sessionId:this.session.id,sessionToken:this.session.token,token:this.options.shareToken}))}},{key:"on",value:function(e,t,r){return this.eventHandlers[e].push(t.bind(r)),this}},{key:"emit",value:function(e,t,r){void 0!==this.eventHandlers[e]?this.eventHandlers[e].forEach((function(e){e(t,r)})):console.error("Event not found",e)}},{key:"isPublic",value:function(){return!!this.options.shareToken}}])&&l(t.prototype,r),a&&l(t,a),e}();t.SyncService=p;var f=p;t.default=f},386:function(e,t,r){var o=r(628);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,r(51).default)("0bb0adc8",o,!0,{})},397:function(e,t,r){var o=r(697);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,r(51).default)("3dd0e91e",o,!0,{})},398:function(e,t,r){var o=r(699);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,r(51).default)("5039213c",o,!0,{})},399:function(e,t,r){var o=r(701);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,r(51).default)("992233ba",o,!0,{})},406:function(e,t,r){var o=r(721);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,r(51).default)("5ba6a5c3",o,!0,{})},407:function(e,t,r){var o=r(723);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,r(51).default)("ed017fbc",o,!0,{})},408:function(e,t,r){var o=r(726);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,r(51).default)("a3c96434",o,!0,{})},605:function(e,t,r){var o={"./af":255,"./af.js":255,"./ar":256,"./ar-dz":257,"./ar-dz.js":257,"./ar-kw":258,"./ar-kw.js":258,"./ar-ly":259,"./ar-ly.js":259,"./ar-ma":260,"./ar-ma.js":260,"./ar-sa":261,"./ar-sa.js":261,"./ar-tn":262,"./ar-tn.js":262,"./ar.js":256,"./az":263,"./az.js":263,"./be":264,"./be.js":264,"./bg":265,"./bg.js":265,"./bm":266,"./bm.js":266,"./bn":267,"./bn.js":267,"./bo":268,"./bo.js":268,"./br":269,"./br.js":269,"./bs":270,"./bs.js":270,"./ca":271,"./ca.js":271,"./cs":272,"./cs.js":272,"./cv":273,"./cv.js":273,"./cy":274,"./cy.js":274,"./da":275,"./da.js":275,"./de":276,"./de-at":277,"./de-at.js":277,"./de-ch":278,"./de-ch.js":278,"./de.js":276,"./dv":279,"./dv.js":279,"./el":280,"./el.js":280,"./en-SG":281,"./en-SG.js":281,"./en-au":282,"./en-au.js":282,"./en-ca":283,"./en-ca.js":283,"./en-gb":284,"./en-gb.js":284,"./en-ie":285,"./en-ie.js":285,"./en-il":286,"./en-il.js":286,"./en-nz":287,"./en-nz.js":287,"./eo":288,"./eo.js":288,"./es":289,"./es-do":290,"./es-do.js":290,"./es-us":291,"./es-us.js":291,"./es.js":289,"./et":292,"./et.js":292,"./eu":293,"./eu.js":293,"./fa":294,"./fa.js":294,"./fi":295,"./fi.js":295,"./fo":296,"./fo.js":296,"./fr":297,"./fr-ca":298,"./fr-ca.js":298,"./fr-ch":299,"./fr-ch.js":299,"./fr.js":297,"./fy":300,"./fy.js":300,"./ga":301,"./ga.js":301,"./gd":302,"./gd.js":302,"./gl":303,"./gl.js":303,"./gom-latn":304,"./gom-latn.js":304,"./gu":305,"./gu.js":305,"./he":306,"./he.js":306,"./hi":307,"./hi.js":307,"./hr":308,"./hr.js":308,"./hu":309,"./hu.js":309,"./hy-am":310,"./hy-am.js":310,"./id":311,"./id.js":311,"./is":312,"./is.js":312,"./it":313,"./it-ch":314,"./it-ch.js":314,"./it.js":313,"./ja":315,"./ja.js":315,"./jv":316,"./jv.js":316,"./ka":317,"./ka.js":317,"./kk":318,"./kk.js":318,"./km":319,"./km.js":319,"./kn":320,"./kn.js":320,"./ko":321,"./ko.js":321,"./ku":322,"./ku.js":322,"./ky":323,"./ky.js":323,"./lb":324,"./lb.js":324,"./lo":325,"./lo.js":325,"./lt":326,"./lt.js":326,"./lv":327,"./lv.js":327,"./me":328,"./me.js":328,"./mi":329,"./mi.js":329,"./mk":330,"./mk.js":330,"./ml":331,"./ml.js":331,"./mn":332,"./mn.js":332,"./mr":333,"./mr.js":333,"./ms":334,"./ms-my":335,"./ms-my.js":335,"./ms.js":334,"./mt":336,"./mt.js":336,"./my":337,"./my.js":337,"./nb":338,"./nb.js":338,"./ne":339,"./ne.js":339,"./nl":340,"./nl-be":341,"./nl-be.js":341,"./nl.js":340,"./nn":342,"./nn.js":342,"./pa-in":343,"./pa-in.js":343,"./pl":344,"./pl.js":344,"./pt":345,"./pt-br":346,"./pt-br.js":346,"./pt.js":345,"./ro":347,"./ro.js":347,"./ru":348,"./ru.js":348,"./sd":349,"./sd.js":349,"./se":350,"./se.js":350,"./si":351,"./si.js":351,"./sk":352,"./sk.js":352,"./sl":353,"./sl.js":353,"./sq":354,"./sq.js":354,"./sr":355,"./sr-cyrl":356,"./sr-cyrl.js":356,"./sr.js":355,"./ss":357,"./ss.js":357,"./sv":358,"./sv.js":358,"./sw":359,"./sw.js":359,"./ta":360,"./ta.js":360,"./te":361,"./te.js":361,"./tet":362,"./tet.js":362,"./tg":363,"./tg.js":363,"./th":364,"./th.js":364,"./tl-ph":365,"./tl-ph.js":365,"./tlh":366,"./tlh.js":366,"./tr":367,"./tr.js":367,"./tzl":368,"./tzl.js":368,"./tzm":369,"./tzm-latn":370,"./tzm-latn.js":370,"./tzm.js":369,"./ug-cn":371,"./ug-cn.js":371,"./uk":372,"./uk.js":372,"./ur":373,"./ur.js":373,"./uz":374,"./uz-latn":375,"./uz-latn.js":375,"./uz.js":374,"./vi":376,"./vi.js":376,"./x-pseudo":377,"./x-pseudo.js":377,"./yo":378,"./yo.js":378,"./zh-cn":379,"./zh-cn.js":379,"./zh-hk":380,"./zh-hk.js":380,"./zh-tw":381,"./zh-tw.js":381};function i(e){var t=n(e);return r(t)}function n(e){if(!r.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}i.keys=function(){return Object.keys(o)},i.resolve=n,e.exports=i,i.id=605},608:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=(o=r(94))&&o.__esModule?o:{default:o},n=r(179),s=r(382),a=r(217);function c(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._authority=t,this.fetchInterval=300,this.retryTime=500,this.lock=!1,this.fetchRetryCounter=0}var t,r,o;return t=e,(r=[{key:"connect",value:function(){this.fetcher=setInterval(this._fetchSteps.bind(this),0)}},{key:"_isPublic",value:function(){return!!this._authority.options.shareToken}},{key:"forceSave",value:function(){this._forcedSave=!0,this.fetchSteps()}},{key:"save",value:function(){this._manualSave=!0,this.fetchSteps()}},{key:"fetchSteps",value:function(){this._fetchSteps()}},{key:"_fetchSteps",value:function(){var e,t=this;!this.lock&&this.fetcher&&(this.lock=!0,(this._forcedSave||this._manualSave||!(0,a.sendableSteps)(this._authority.state)&&this._authority._getVersion()!==this._authority.document.lastSavedVersion)&&(e=this._authority._getContent()),i.default.post((0,n.endpointUrl)("session/sync",this._isPublic()),{documentId:this._authority.document.id,sessionId:this._authority.session.id,sessionToken:this._authority.session.token,version:this._authority._getVersion(),autosaveContent:e,force:!!this._forcedSave,manualSave:!!this._manualSave,token:this._authority.options.shareToken,filePath:this._authority.options.filePath}).then((function(e){if(t.fetchRetryCounter=0,t._authority.document.lastSavedVersion<e.data.document.lastSavedVersion&&(console.debug("Saved document",e.data.document),t._authority.emit("save",{document:e.data.document,sessions:e.data.sessions})),t._authority.emit("change",{document:e.data.document,sessions:e.data.sessions}),t._authority.document=e.data.document,t._authority.sessions=e.data.sessions,0===e.data.steps.length)return t.lock=!1,e.data.sessions.filter((function(e){return e.lastContact>Date.now()/1e3-20})).length<2?t.maximumRefetchTimer():t.increaseRefetchTimer(),t._authority.emit("stateChange",{dirty:!1}),void t._authority.emit("stateChange",{initialLoading:!0});t._authority._receiveSteps(e.data),t.lock=!1,t._forcedSave=!1,t.resetRefetchTimer()})).catch((function(e){t.lock=!1,e.response&&"ECONNABORTED"!==e.code?409===e.response.status&&e.response.data.document.currentVersion===t._authority.document.currentVersion?(console.error("Conflict during file save, please resolve"),t._authority.emit("error",s.ERROR_TYPE.SAVE_COLLISSION,{outsideChange:e.response.data.outsideChange})):403===e.response.status||404===e.response.status?(t._authority.emit("error",s.ERROR_TYPE.SOURCE_NOT_FOUND,{}),t.disconnect()):503===e.response.status?(t.increaseRefetchTimer(),t._authority.emit("error",s.ERROR_TYPE.CONNECTION_FAILED,{retry:!1}),console.error("Failed to fetch steps due to unavailable service",e)):(t.disconnect(),t._authority.emit("error",s.ERROR_TYPE.CONNECTION_FAILED,{retry:!1}),console.error("Failed to fetch steps due to other reason",e)):t.fetchRetryCounter++>=5?(console.error("[PollingBackend:fetchSteps] Network error when fetching steps, emitting CONNECTION_FAILED"),t._authority.emit("error",s.ERROR_TYPE.CONNECTION_FAILED,{retry:!1})):console.error("[PollingBackend:fetchSteps] Network error when fetching steps, retry ".concat(t.fetchRetryCounter))})),this._manualSave=!1,this._forcedSave=!1)}},{key:"sendSteps",value:function(e){var t=this;if(this._authority.emit("stateChange",{dirty:!0}),this.lock)setTimeout((function(){t._authority.sendSteps()}),100);else{this.lock=!0;var r="function"==typeof e?e():e,o=r.steps;i.default.post((0,n.endpointUrl)("session/push",!!this._authority.options.shareToken),{documentId:this._authority.document.id,sessionId:this._authority.session.id,sessionToken:this._authority.session.token,steps:o.map((function(e){return e.toJSON?e.toJSON():e}))||[],version:r.version,token:this._authority.options.shareToken,filePath:this._authority.options.filePath}).then((function(e){t.carefulRetryReset(),t.lock=!1,t.fetchSteps()})).catch((function(e){console.error("failed to apply steps due to collission, retrying"),t.lock=!1,e.response&&"ECONNABORTED"!==e.code?(403===e.response.status&&e.response.data.document.currentVersion===t._authority.document.currentVersion&&(t._authority.emit("error",s.ERROR_TYPE.PUSH_FAILURE,{}),OC.Notification.showTemporary("Changes could not be sent yet")),t.fetchSteps(),t.carefulRetry()):t._authority.emit("error",s.ERROR_TYPE.CONNECTION_FAILED,{})}))}}},{key:"disconnect",value:function(){clearInterval(this.fetcher),this.fetcher=0}},{key:"resetRefetchTimer",value:function(){0!==this.fetcher&&(this.fetchInterval=300,clearInterval(this.fetcher),this.fetcher=setInterval(this._fetchSteps.bind(this),this.fetchInterval))}},{key:"increaseRefetchTimer",value:function(){0!==this.fetcher&&(this.fetchInterval=Math.min(2*this.fetchInterval,5e3),clearInterval(this.fetcher),this.fetcher=setInterval(this._fetchSteps.bind(this),this.fetchInterval))}},{key:"maximumRefetchTimer",value:function(){0!==this.fetcher&&(this.fetchInterval=5e3,clearInterval(this.fetcher),this.fetcher=setInterval(this._fetchSteps.bind(this),this.fetchInterval))}},{key:"carefulRetry",value:function(){var e=this.retryTime?Math.min(2*this.retryTime,1e4):500;e>5e3&&this.retryTime<5e3&&(OC.Notification.showTemporary("Changes could not be sent yet"),this._authority.emit("error",s.ERROR_TYPE.PUSH_FAILURE,{})),this.retryTime=e}},{key:"carefulRetryReset",value:function(){this.retryTime=500}}])&&c(t.prototype,r),o&&c(t,o),e}();t.default=l},610:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extensionHighlight=t.default=void 0;
/*
 * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */
var o={py:"python",gyp:"python",wsgi:"python",htm:"html",xhtml:"html",erl:"erlang",jsp:"java",pl:"perl",rss:"xml",atom:"xml",xsl:"xml",plist:"xml",rb:"ruby",builder:"ruby",gemspec:"ruby",podspec:"ruby",thor:"ruby",diff:"patch",hs:"haskell",icl:"haskell",php3:"php",php4:"php",php5:"php",php6:"php",sh:"bash",zsh:"bash",st:"smalltalk",as:"actionscript",apacheconf:"apache",osacript:"applescript",b:"brainfuck",bf:"brainfuck",clj:"clojure","cmake.in":"cmake",coffee:"coffeescript",cson:"coffescript",iced:"coffescript",c:"cpp",h:"cpp","c++":"cpp","h++":"cpp",hh:"cpp",jinja:"django",bat:"dos",cmd:"dos",fs:"fsharp",hbs:"handlebars","html.hbs":"handlebars","html.handlebars":"handlebars",sublime_metrics:"json",sublime_session:"json","sublime-keymap":"json","sublime-mousemap":"json","sublime-project":"json","sublime-settings":"json","sublime-workspace":"json",mk:"makefile",mak:"makefile",md:"markdown",mkdown:"markdown",mkd:"markdown",nginxconf:"nginx",m:"objectivec",mm:"objectivec",ml:"ocaml",rs:"rust",sci:"scilab",vb:"vbnet",vbs:"vbscript"};t.extensionHighlight=o;var i=o;t.default=i},621:function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Link=t.Strike=t.Italic=t.Strong=void 0;var i=r(199),n=r(197),s=r(206),a=r(622),c=r(218);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),e}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=g(e);if(t){var i=g(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return y(this,r)}}function y(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(e){v(r,e);var t=b(r);function r(){return p(this,r),t.apply(this,arguments)}return h(r,[{key:"name",get:function(){return"strong"}}]),r}(i.Bold);t.Strong=j;var x=function(e){v(r,e);var t=b(r);function r(){return p(this,r),t.apply(this,arguments)}return h(r,[{key:"name",get:function(){return"em"}}]),r}(i.Italic);t.Italic=x;var w=function(e){v(r,e);var t=b(r);function r(){return p(this,r),t.apply(this,arguments)}return h(r,[{key:"schema",get:function(){return{parseDOM:[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",getAttrs:function(e){return"line-through"===e}}],toDOM:function(){return["s",0]},toMarkdown:{open:"~~",close:"~~",mixable:!0,expelEnclosingWhitespace:!0}}}}]),r}(i.Strike);t.Strike=w;var k=function(e){v(r,e);var t=b(r);function r(){return p(this,r),t.apply(this,arguments)}return h(r,[{key:"schema",get:function(){return{attrs:{href:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(e){return{href:(0,a.parseHref)(e)}}}],toDOM:function(e){return["a",d(d({},e.attrs),{},{href:(0,a.domHref)(e),title:e.attrs.href,rel:"noopener noreferrer nofollow"}),0]}}}},{key:"plugins",get:function(){return this.options.openOnClick?[new n.Plugin({props:{handleClick:function(e,t,r){var o=e.state.schema;if((0,s.getMarkAttrs)(e.state,o.marks.link).href&&r.target instanceof HTMLAnchorElement){r.stopPropagation();var i=r.target.href;if(0===r.button&&!r.ctrlKey&&i.startsWith(window.location.origin)){var n=OC.parseQueryString(i),a=OC.parseQueryString(i.split("#").pop());if(n.dir&&a.relPath){var l=a.relPath.split("/").pop(),d="".concat(n.dir,"/").concat(l);return document.title="".concat(l," - ").concat(OC.theme.title),window.location.pathname.match(/apps\/files\/$/),void OCA.Viewer.open({path:d})}}if(!c.markdownit.validateLink(i))return void console.error("Invalid link",i);window.open(i)}}}})]:[]}}]),r}(i.Link);t.Link=k},622:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseHref=t.domHref=void 0;var o=r(27);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],o=!0,i=!1,n=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);o=!0);}catch(e){i=!0,n=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw n}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}var s=function(e){var t=e.lastIndexOf("/");return t>0?e.slice(0,t):e.slice(0,t+1)};t.domHref=function(e){var t=e.attrs.href;if(!t)return t;if(t.match(/^[a-zA-Z]*:/))return t;var r=t.match(/^([^?]*)\?fileId=(\d+)/);if(r){var n=i(r,3),a=n[1],c=n[2],l=function(e,t){if(!t)return e;if("/"===t[0])return t;for(e=e.split("/"),t=t.split("/");".."===t[0]||"."===t[0];)".."===t[0]&&e.pop(),t.shift();return e.concat(t).join("/")}(s(OCA.Viewer.state.file),s(a));return(0,o.generateUrl)("/apps/files/?dir=".concat(l,"&openfile=").concat(c,"#relPath=").concat(a))}};t.parseHref=function(e){var t=e.getAttribute("href");if(!t)return t;var r=t.match(/\?dir=([^&]*)&openfile=([^&]*)#relPath=([^&]*)/);if(r){var o=i(r,4),n=o[2],s=o[3];return"".concat(s,"?fileId=").concat(n)}return t}},623:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Image",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"PlainTextDocument",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"ListItem",{enumerable:!0,get:function(){return n.default}});var o=s(r(624)),i=s(r(629)),n=s(r(630));function s(e){return e&&e.__esModule?e:{default:e}}},624:function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,n=r(199),s=(i=r(625))&&i.__esModule?i:{default:i};function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t,r){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=m(e);if(t){var i=m(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return v(this,r)}}function v(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(n,e);var t,r,o,i=h(n);function n(){return d(this,n),i.apply(this,arguments)}return t=n,(r=[{key:"view",get:function(){return s.default}},{key:"schema",get:function(){return c(c({},p(m(n.prototype),"schema",this)),{},{selectable:!1})}}])&&u(t.prototype,r),o&&u(t,o),n}(n.Image);t.default=b},625:function(e,t,r){"use strict";r.r(t);var o=r(770),i=r(220);for(var n in i)["default"].indexOf(n)<0&&function(e){r.d(t,e,(function(){return i[e]}))}(n);r(627);var s=r(17),a=Object(s.a)(i.default,o.a,o.b,!1,null,"efec1cb6",null);t.default=a.exports},627:function(e,t,r){"use strict";r(386)},628:function(e,t,r){(t=r(50)(!1)).push([e.i,".image[data-v-efec1cb6]{margin:0;padding:0}.image__caption[data-v-efec1cb6]{text-align:center;color:var(--color-text-lighter)}.image__caption input[type='text'][data-v-efec1cb6]{width:100%;border:none;text-align:center}.icon-image[data-v-efec1cb6]{margin-top:10px;height:32px;padding:20px;background-size:contain}.image__loading[data-v-efec1cb6]{height:100px}.image__view[data-v-efec1cb6]{text-align:center}.image__view .image__main[data-v-efec1cb6]{max-height:40vh}.image__placeholder a[data-v-efec1cb6]{display:flex}.image__placeholder .image__main[data-v-efec1cb6]{background-color:var(--color-background-dark);text-align:center;padding:5px;border-radius:var(--border-radius)}.image__placeholder .image__main .icon-image[data-v-efec1cb6]{margin:0}.image__placeholder .image__main p[data-v-efec1cb6]{padding:10px}.fade-enter-active[data-v-efec1cb6]{transition:opacity .3s ease-in-out}.fade-enter-to[data-v-efec1cb6]{opacity:1}.fade-enter[data-v-efec1cb6]{opacity:0}\n",""]),e.exports=t},629:function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(197),n=r(207);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=u(e);if(t){var i=u(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(d,e);var t,r,o,i=l(d);function d(){return s(this,d),i.apply(this,arguments)}return t=d,(r=[{key:"name",get:function(){return"doc"}},{key:"schema",get:function(){return{content:"block"}}},{key:"keys",value:function(){var e=this;return{Tab:function(t){return(0,n.insertText)("\t")(t,e.editor.view.dispatch,e.editor.view),!0}}}}])&&a(t.prototype,r),o&&a(t,o),d}(i.Node);t.default=p},630:function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(199),n=r(197),s=r(207),a=r(631);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=f(e);if(t){var i=f(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return p(this,r)}}function p(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=0,v=1,m=function(e,t){return(0,a.findParentNode)((function(t){return t.type===e.nodes.list_item}))(t)},b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(p,e);var t,r,o,i=u(p);function p(){return c(this,p),i.apply(this,arguments)}return t=p,(r=[{key:"defaultOptions",get:function(){return{nested:!0}}},{key:"schema",get:function(){return{attrs:{done:{default:!1},type:{default:h}},draggable:!1,content:"paragraph block*",toDOM:function(e){if(e.attrs.type===h)return["li",0];var t={class:"checkbox-item"},r={type:"checkbox",class:"",contenteditable:!1};return e.attrs.done&&(r.checked=!0,t.class+=" checked"),["li",t,["input",r],["label",0]]},parseDOM:[{priority:100,tag:"li",getAttrs:function(e){var t=e.querySelector("input[type=checkbox]");return{done:t&&t.checked,type:t?v:h}}}],toMarkdown:function(e,t){t.attrs.type===v&&e.write("[".concat(t.attrs.done?"x":" ","] ")),e.renderContent(t)}}}},{key:"commands",value:function(e){var t=e.type,r=e.schema;return{bullet_list_item:function(){return function(e,o,i){return(0,s.toggleList)(r.nodes.bullet_list,t)(e,o,i)}},todo_item:function(){return function(e,r,o){var i=e.schema,n=e.selection,a=n.$from,c=n.$to,l=a.blockRange(c),d=e.tr,u=m(i,n);if(void 0===u&&((0,s.toggleList)(i.nodes.bullet_list,t)(e,(function(e){d=e}),o),u=m(i,d.selection)),!l||void 0===u)return!1;d.setNodeMarkup(u.pos,i.nodes.list_item,{type:u.node.attrs.type===v?h:v}),d.scrollIntoView(),r&&r(d)}}}}},{key:"plugins",get:function(){return[new n.Plugin({props:{handleClick:function(e,t,r){var o=e.state,i=o.schema,n=e.posAtCoords({left:r.clientX,top:r.clientY}),s=o.doc.resolve(n.pos),c=(0,a.findParentNodeClosestToPos)(s,(function(e){return e.type===i.nodes.list_item})),l="li"===r.target.tagName.toLowerCase();if(void 0!==c&&c.node.attrs.type===v&&l){var d=o.tr;d.setNodeMarkup(c.pos,i.nodes.list_item,{done:!c.node.attrs.done,type:v}),e.dispatch(d)}}}})]}}])&&l(t.prototype,r),o&&l(t,o),p}(i.ListItem);t.default=b},690:function(e,t,r){var o={"./1c":[419,2],"./1c.js":[419,2],"./abnf":[420,3],"./abnf.js":[420,3],"./accesslog":[421,4],"./accesslog.js":[421,4],"./actionscript":[422,5],"./actionscript.js":[422,5],"./ada":[423,6],"./ada.js":[423,6],"./angelscript":[424,7],"./angelscript.js":[424,7],"./apache":[425,8],"./apache.js":[425,8],"./applescript":[426,9],"./applescript.js":[426,9],"./arcade":[427,10],"./arcade.js":[427,10],"./arduino":[428,11],"./arduino.js":[428,11],"./armasm":[429,12],"./armasm.js":[429,12],"./asciidoc":[430,13],"./asciidoc.js":[430,13],"./aspectj":[431,14],"./aspectj.js":[431,14],"./autohotkey":[432,15],"./autohotkey.js":[432,15],"./autoit":[433,16],"./autoit.js":[433,16],"./avrasm":[434,17],"./avrasm.js":[434,17],"./awk":[435,18],"./awk.js":[435,18],"./axapta":[436,19],"./axapta.js":[436,19],"./bash":[437,20],"./bash.js":[437,20],"./basic":[438,21],"./basic.js":[438,21],"./bnf":[439,22],"./bnf.js":[439,22],"./brainfuck":[440,23],"./brainfuck.js":[440,23],"./cal":[441,24],"./cal.js":[441,24],"./capnproto":[442,25],"./capnproto.js":[442,25],"./ceylon":[443,26],"./ceylon.js":[443,26],"./clean":[444,27],"./clean.js":[444,27],"./clojure":[446,28],"./clojure-repl":[445,29],"./clojure-repl.js":[445,29],"./clojure.js":[446,28],"./cmake":[447,30],"./cmake.js":[447,30],"./coffeescript":[448,31],"./coffeescript.js":[448,31],"./coq":[449,32],"./coq.js":[449,32],"./cos":[450,33],"./cos.js":[450,33],"./cpp":[451,34],"./cpp.js":[451,34],"./crmsh":[452,35],"./crmsh.js":[452,35],"./crystal":[453,36],"./crystal.js":[453,36],"./cs":[454,37],"./cs.js":[454,37],"./csp":[455,38],"./csp.js":[455,38],"./css":[456,39],"./css.js":[456,39],"./d":[457,40],"./d.js":[457,40],"./dart":[458,41],"./dart.js":[458,41],"./delphi":[459,42],"./delphi.js":[459,42],"./diff":[460,43],"./diff.js":[460,43],"./django":[461,44],"./django.js":[461,44],"./dns":[462,45],"./dns.js":[462,45],"./dockerfile":[463,46],"./dockerfile.js":[463,46],"./dos":[464,47],"./dos.js":[464,47],"./dsconfig":[465,48],"./dsconfig.js":[465,48],"./dts":[466,49],"./dts.js":[466,49],"./dust":[467,50],"./dust.js":[467,50],"./ebnf":[468,51],"./ebnf.js":[468,51],"./elixir":[469,52],"./elixir.js":[469,52],"./elm":[470,53],"./elm.js":[470,53],"./erb":[471,54],"./erb.js":[471,54],"./erlang":[473,55],"./erlang-repl":[472,56],"./erlang-repl.js":[472,56],"./erlang.js":[473,55],"./excel":[474,57],"./excel.js":[474,57],"./fix":[475,58],"./fix.js":[475,58],"./flix":[476,59],"./flix.js":[476,59],"./fortran":[477,60],"./fortran.js":[477,60],"./fsharp":[478,61],"./fsharp.js":[478,61],"./gams":[479,62],"./gams.js":[479,62],"./gauss":[480,63],"./gauss.js":[480,63],"./gcode":[481,64],"./gcode.js":[481,64],"./gherkin":[482,65],"./gherkin.js":[482,65],"./glsl":[483,66],"./glsl.js":[483,66],"./gml":[484,67],"./gml.js":[484,67],"./go":[485,68],"./go.js":[485,68],"./golo":[486,69],"./golo.js":[486,69],"./gradle":[487,70],"./gradle.js":[487,70],"./groovy":[488,71],"./groovy.js":[488,71],"./haml":[489,72],"./haml.js":[489,72],"./handlebars":[490,73],"./handlebars.js":[490,73],"./haskell":[491,74],"./haskell.js":[491,74],"./haxe":[492,75],"./haxe.js":[492,75],"./hsp":[493,76],"./hsp.js":[493,76],"./htmlbars":[494,77],"./htmlbars.js":[494,77],"./http":[495,78],"./http.js":[495,78],"./hy":[496,79],"./hy.js":[496,79],"./inform7":[497,80],"./inform7.js":[497,80],"./ini":[498,81],"./ini.js":[498,81],"./irpf90":[499,82],"./irpf90.js":[499,82],"./isbl":[500,83],"./isbl.js":[500,83],"./java":[501,84],"./java.js":[501,84],"./javascript":[502,85],"./javascript.js":[502,85],"./jboss-cli":[503,86],"./jboss-cli.js":[503,86],"./json":[504,87],"./json.js":[504,87],"./julia":[506,88],"./julia-repl":[505,89],"./julia-repl.js":[505,89],"./julia.js":[506,88],"./kotlin":[507,90],"./kotlin.js":[507,90],"./lasso":[508,91],"./lasso.js":[508,91],"./ldif":[509,92],"./ldif.js":[509,92],"./leaf":[510,93],"./leaf.js":[510,93],"./less":[511,94],"./less.js":[511,94],"./lisp":[512,95],"./lisp.js":[512,95],"./livecodeserver":[513,96],"./livecodeserver.js":[513,96],"./livescript":[514,97],"./livescript.js":[514,97],"./llvm":[515,98],"./llvm.js":[515,98],"./lsl":[516,99],"./lsl.js":[516,99],"./lua":[517,100],"./lua.js":[517,100],"./makefile":[518,101],"./makefile.js":[518,101],"./markdown":[519,102],"./markdown.js":[519,102],"./mathematica":[520,103],"./mathematica.js":[520,103],"./matlab":[521,104],"./matlab.js":[521,104],"./maxima":[522,105],"./maxima.js":[522,105],"./mel":[523,106],"./mel.js":[523,106],"./mercury":[524,107],"./mercury.js":[524,107],"./mipsasm":[525,108],"./mipsasm.js":[525,108],"./mizar":[526,109],"./mizar.js":[526,109],"./mojolicious":[527,110],"./mojolicious.js":[527,110],"./monkey":[528,111],"./monkey.js":[528,111],"./moonscript":[529,112],"./moonscript.js":[529,112],"./n1ql":[530,113],"./n1ql.js":[530,113],"./nginx":[531,114],"./nginx.js":[531,114],"./nimrod":[532,115],"./nimrod.js":[532,115],"./nix":[533,116],"./nix.js":[533,116],"./nsis":[534,117],"./nsis.js":[534,117],"./objectivec":[535,118],"./objectivec.js":[535,118],"./ocaml":[536,119],"./ocaml.js":[536,119],"./openscad":[537,120],"./openscad.js":[537,120],"./oxygene":[538,121],"./oxygene.js":[538,121],"./parser3":[539,122],"./parser3.js":[539,122],"./perl":[540,123],"./perl.js":[540,123],"./pf":[541,124],"./pf.js":[541,124],"./pgsql":[542,125],"./pgsql.js":[542,125],"./php":[543,126],"./php.js":[543,126],"./plaintext":[544,127],"./plaintext.js":[544,127],"./pony":[545,128],"./pony.js":[545,128],"./powershell":[546,129],"./powershell.js":[546,129],"./processing":[547,130],"./processing.js":[547,130],"./profile":[548,131],"./profile.js":[548,131],"./prolog":[549,132],"./prolog.js":[549,132],"./properties":[550,133],"./properties.js":[550,133],"./protobuf":[551,134],"./protobuf.js":[551,134],"./puppet":[552,135],"./puppet.js":[552,135],"./purebasic":[553,136],"./purebasic.js":[553,136],"./python":[554,137],"./python.js":[554,137],"./q":[555,138],"./q.js":[555,138],"./qml":[556,139],"./qml.js":[556,139],"./r":[557,140],"./r.js":[557,140],"./reasonml":[558,141],"./reasonml.js":[558,141],"./rib":[559,142],"./rib.js":[559,142],"./roboconf":[560,143],"./roboconf.js":[560,143],"./routeros":[561,144],"./routeros.js":[561,144],"./rsl":[562,145],"./rsl.js":[562,145],"./ruby":[563,146],"./ruby.js":[563,146],"./ruleslanguage":[564,147],"./ruleslanguage.js":[564,147],"./rust":[565,148],"./rust.js":[565,148],"./sas":[566,149],"./sas.js":[566,149],"./scala":[567,150],"./scala.js":[567,150],"./scheme":[568,151],"./scheme.js":[568,151],"./scilab":[569,152],"./scilab.js":[569,152],"./scss":[570,153],"./scss.js":[570,153],"./shell":[571,154],"./shell.js":[571,154],"./smali":[572,155],"./smali.js":[572,155],"./smalltalk":[573,156],"./smalltalk.js":[573,156],"./sml":[574,157],"./sml.js":[574,157],"./sqf":[575,158],"./sqf.js":[575,158],"./sql":[576,159],"./sql.js":[576,159],"./stan":[577,160],"./stan.js":[577,160],"./stata":[578,161],"./stata.js":[578,161],"./step21":[579,162],"./step21.js":[579,162],"./stylus":[580,163],"./stylus.js":[580,163],"./subunit":[581,164],"./subunit.js":[581,164],"./swift":[582,165],"./swift.js":[582,165],"./taggerscript":[583,166],"./taggerscript.js":[583,166],"./tap":[584,167],"./tap.js":[584,167],"./tcl":[585,168],"./tcl.js":[585,168],"./tex":[586,169],"./tex.js":[586,169],"./thrift":[587,170],"./thrift.js":[587,170],"./tp":[588,171],"./tp.js":[588,171],"./twig":[589,172],"./twig.js":[589,172],"./typescript":[590,173],"./typescript.js":[590,173],"./vala":[591,174],"./vala.js":[591,174],"./vbnet":[592,175],"./vbnet.js":[592,175],"./vbscript":[594,176],"./vbscript-html":[593,177],"./vbscript-html.js":[593,177],"./vbscript.js":[594,176],"./verilog":[595,178],"./verilog.js":[595,178],"./vhdl":[596,179],"./vhdl.js":[596,179],"./vim":[597,180],"./vim.js":[597,180],"./x86asm":[598,181],"./x86asm.js":[598,181],"./xl":[599,182],"./xl.js":[599,182],"./xml":[600,183],"./xml.js":[600,183],"./xquery":[601,184],"./xquery.js":[601,184],"./yaml":[602,185],"./yaml.js":[602,185],"./zephir":[603,186],"./zephir.js":[603,186]};function i(e){if(!r.o(o,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],i=t[0];return r.e(t[1]).then((function(){return r.t(i,7)}))}i.keys=function(){return Object.keys(o)},i.id=690,e.exports=i},691:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Keymap",{enumerable:!0,get:function(){return i.default}});var o,i=(o=r(692))&&o.__esModule?o:{default:o}},692:function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(197);function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=d(e);if(t){var i=d(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return l(this,r)}}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(d,e);var t,r,o,l=c(d);function d(){return n(this,d),l.apply(this,arguments)}return t=d,(r=[{key:"name",get:function(){return"customkeymap"}},{key:"keys",value:function(e){return e.schema,this.options}},{key:"plugins",get:function(){return[new i.Plugin({props:{handleKeyDown:function(e,t){var r=t.key||t.keyCode;if((t.ctrlKey||t.metaKey)&&!t.shiftKey&&("f"===r||70===r))return t.stopPropagation(),window.dispatchEvent(t),!0}}})]}}])&&s(t.prototype,r),o&&s(t,o),d}(i.Extension);t.default=u},693:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;
/*
 * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */
var o={data:function(){return{isMobile:this._isMobile()}},beforeMount:function(){window.addEventListener("resize",this._onResize)},beforeDestroy:function(){window.removeEventListener("resize",this._onResize)},methods:{_onResize:function(){this.isMobile=this._isMobile()},_isMobile:function(){return document.documentElement.clientWidth<768}}};t.default=o},696:function(e,t,r){"use strict";r(397)},697:function(e,t,r){(t=r(50)(!1)).push([e.i,"#editor-container[data-v-2f7ec685]{display:block;width:100%;max-width:100%;height:100%;left:0;top:50px;margin:0 auto;position:relative;background-color:var(--color-main-background)}#editor-wrapper[data-v-2f7ec685]{display:flex;width:100%;height:100%;overflow:hidden;position:absolute}#editor-wrapper .ProseMirror[data-v-2f7ec685]{margin-top:0 !important}#editor-wrapper.icon-loading #editor[data-v-2f7ec685]{opacity:0.3}#editor[data-v-2f7ec685],.editor[data-v-2f7ec685]{background:var(--color-main-background);color:var(--color-main-text);background-clip:padding-box;border-radius:var(--border-radius);padding:0;position:relative;overflow-y:auto;overflow-x:hidden;width:100%}.msg.icon-error[data-v-2f7ec685]{padding:12px;border-bottom:1px solid var(--color-border);padding-left:30px;background-position:8px center}.save-status[data-v-2f7ec685]{padding:9px;text-overflow:ellipsis;color:var(--color-text-lighter);position:relative;top:10px;min-width:85px}.save-status.error[data-v-2f7ec685]{background-color:var(--color-error);color:var(--color-main-background);border-radius:3px}#editor-container #editor-wrapper.has-conflicts[data-v-2f7ec685]{height:calc(100% - 50px)}#editor-container #editor-wrapper.has-conflicts #editor[data-v-2f7ec685],#editor-container #editor-wrapper.has-conflicts #read-only-editor[data-v-2f7ec685]{width:50%;height:100%}#editor-session-list[data-v-2f7ec685]{padding:4px 16px 4px 4px;display:flex}#editor-session-list input[data-v-2f7ec685],#editor-session-list div[data-v-2f7ec685]{vertical-align:middle;margin-left:3px}.editor__content[data-v-2f7ec685]{max-width:670px;margin:auto;position:relative}#body-public[data-v-2f7ec685]{height:auto}#files-public-content[data-v-2f7ec685]{height:auto}#files-public-content #editor-wrapper[data-v-2f7ec685]{position:relative}#files-public-content #editor-container[data-v-2f7ec685]{top:0;width:100%}#files-public-content #editor-container #editor[data-v-2f7ec685] .menubar{position:fixed;top:50px;width:100%}#files-public-content #editor-container #editor[data-v-2f7ec685]{padding-top:50px;overflow:auto;z-index:1000}#files-public-content #editor-container .has-conflicts #editor[data-v-2f7ec685]{padding-top:0px}.ie #editor[data-v-2f7ec685] .menubar{position:fixed;top:50px;width:100%}.ie .editor__content[data-v-2f7ec685] .ProseMirror{padding-top:50px}\n",""]),e.exports=t},698:function(e,t,r){"use strict";r(398)},699:function(e,t,r){var o=r(50),i=r(225),n=r(226);t=o(!1);var s=i(n);t.push([e.i,'.modal-container #editor-container{position:absolute}.ProseMirror-hideselection *::selection{background:transparent;color:var(--color-main-text)}.ProseMirror-hideselection *::-moz-selection{background:transparent;color:var(--color-main-text)}.ProseMirror-hideselection{caret-color:transparent;color:var(--color-main-text)}.ProseMirror-selectednode{outline:2px solid #8cf}li.ProseMirror-selectednode{outline:none}li.ProseMirror-selectednode:after{content:"";position:absolute;left:-32px;right:-2px;top:-2px;bottom:-2px;border:2px solid #8cf;pointer-events:none}.has-conflicts .ProseMirror-menubar,#editor-wrapper.icon-loading .ProseMirror-menubar{display:none}.ProseMirror-gapcursor{display:none;pointer-events:none;position:absolute}.ProseMirror-gapcursor:after{content:"";display:block;position:absolute;top:-2px;width:20px;border-top:1px solid var(--color-main-text);animation:ProseMirror-cursor-blink 1.1s steps(2, start) infinite}@keyframes ProseMirror-cursor-blink{to{visibility:hidden}}#editor-wrapper div.ProseMirror{margin-top:44px;height:100%;position:relative;word-wrap:break-word;white-space:pre-wrap;-webkit-font-variant-ligatures:none;font-variant-ligatures:none;padding:4px 8px 200px 14px;line-height:150%;font-size:14px;outline:none}#editor-wrapper div.ProseMirror[contenteditable=true],#editor-wrapper div.ProseMirror[contenteditable=false],#editor-wrapper div.ProseMirror [contenteditable=true],#editor-wrapper div.ProseMirror [contenteditable=false]{border:none !important;width:100%;background-color:transparent;color:var(--color-main-text);opacity:1;-webkit-user-select:text;user-select:text;font-size:14px}#editor-wrapper div.ProseMirror .checkbox-item{display:flex;align-items:start;margin-left:-24px}#editor-wrapper div.ProseMirror .checkbox-item input[type=checkbox]{display:none}#editor-wrapper div.ProseMirror .checkbox-item:before{content:\'\';display:inline-block;height:14px;width:14px;vertical-align:middle;border-radius:50%;margin:2px 6px 3px 3px;border:1px solid var(--color-text-maxcontrast);content:"";position:relative;width:44px;height:44px;display:block;border-radius:var(--border-radius);height:14px;width:14px;box-shadow:none !important;background-position:center;cursor:pointer}#editor-wrapper div.ProseMirror .checkbox-item.checked:before{background-image:url('+s+');background-color:var(--color-primary-element);border-color:var(--color-primary-element)}#editor-wrapper div.ProseMirror .checkbox-item label{display:block;flex-grow:1;max-width:calc(100% - 28px)}#editor-wrapper div.ProseMirror .checkbox-item label>*:first-child{margin-top:0}#editor-wrapper div.ProseMirror li label.checkbox-label{width:100%;display:flex;margin-top:10px;margin-bottom:1em}#editor-wrapper div.ProseMirror li label.checkbox-label:before{position:relative;top:2px}#editor-wrapper div.ProseMirror li label.checkbox-label div.checkbox-wrapper{margin-bottom:-1em;width:100%}#editor-wrapper div.ProseMirror li label.checkbox-label div.checkbox-wrapper>p{margin-top:-1px;margin-bottom:0;padding-bottom:10px}#editor-wrapper div.ProseMirror p:first-child,#editor-wrapper div.ProseMirror h1:first-child,#editor-wrapper div.ProseMirror h2:first-child,#editor-wrapper div.ProseMirror h3:first-child,#editor-wrapper div.ProseMirror h4:first-child,#editor-wrapper div.ProseMirror h5:first-child,#editor-wrapper div.ProseMirror h6:first-child{margin-top:10px}#editor-wrapper div.ProseMirror a{color:var(--color-primary-element);text-decoration:underline;padding:.5em 0}#editor-wrapper div.ProseMirror p{margin-bottom:1em;line-height:150%}#editor-wrapper div.ProseMirror em{font-style:italic}#editor-wrapper div.ProseMirror h1,#editor-wrapper div.ProseMirror h2,#editor-wrapper div.ProseMirror h3,#editor-wrapper div.ProseMirror h4,#editor-wrapper div.ProseMirror h5,#editor-wrapper div.ProseMirror h6{font-weight:600;line-height:120%;margin-top:24px;margin-bottom:12px;color:var(--color-main-text)}#editor-wrapper div.ProseMirror h1{font-size:36px;margin-top:48px}#editor-wrapper div.ProseMirror h2{font-size:28px;margin-top:48px}#editor-wrapper div.ProseMirror h3{font-size:24px}#editor-wrapper div.ProseMirror h4{font-size:21px}#editor-wrapper div.ProseMirror h5{font-size:17px}#editor-wrapper div.ProseMirror h6{font-size:14px}#editor-wrapper div.ProseMirror img{cursor:default;max-width:100%}#editor-wrapper div.ProseMirror hr{padding:2px 0;border:none;margin:1em 0;width:100%}#editor-wrapper div.ProseMirror hr:after{content:"";display:block;height:1px;background-color:var(--color-border-dark);line-height:2px}#editor-wrapper div.ProseMirror pre{white-space:pre;overflow-x:auto;background-color:var(--color-background-dark);border-radius:var(--border-radius);padding:1em 1.3em;margin-bottom:1em}#editor-wrapper div.ProseMirror p code{background-color:var(--color-background-dark);border-radius:var(--border-radius);padding:.1em .3em}#editor-wrapper div.ProseMirror li{position:relative}#editor-wrapper div.ProseMirror ul,#editor-wrapper div.ProseMirror ol{padding-left:10px;margin-left:10px}#editor-wrapper div.ProseMirror ul li{list-style-type:disc}#editor-wrapper div.ProseMirror ul>li>ul>li{list-style-type:circle}#editor-wrapper div.ProseMirror ul>li>ul>li ul li{list-style-type:square}#editor-wrapper div.ProseMirror blockquote{padding-left:1em;border-left:4px solid var(--color-primary-element);color:var(--color-text-maxcontrast);margin-left:0;margin-right:0}#editor-wrapper .ProseMirror-focused .ProseMirror-gapcursor{display:block}#editor-wrapper .editor__content p.is-empty:first-child::before{content:attr(data-empty-text);float:left;color:var(--color-text-maxcontrast);pointer-events:none;height:0}#editor-wrapper:not(.richEditor) .ProseMirror pre{background-color:var(--color-main-background)}#editor-wrapper:not(.richEditor) .ProseMirror pre::before{content:attr(data-language);text-transform:uppercase;display:block;text-align:right;font-weight:bold;font-size:0.6rem}#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-comment,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-quote{color:#999999}#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-variable,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-template-variable,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-attribute,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-tag,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-name,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-regexp,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-link,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-selector-id,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-selector-class{color:#f2777a}#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-number,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-meta,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-built_in,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-builtin-name,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-literal,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-type,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-params{color:#f99157}#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-string,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-symbol,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-bullet{color:#99cc99}#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-title,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-section{color:#ffcc66}#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-keyword,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-selector-tag{color:#6699cc}#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-emphasis{font-style:italic}#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-strong{font-weight:700}\n',""]),e.exports=t},700:function(e,t,r){"use strict";r(399)},701:function(e,t,r){(t=r(50)(!1)).push([e.i,"body[data-v-3ea77884]{position:fixed}#direct-editor[data-v-3ea77884]{width:100%;height:100%;position:fixed;overflow:hidden}#direct-editor[data-v-3ea77884] #editor-container{height:100%;top:0}#direct-editor[data-v-3ea77884] #editor-wrapper div.ProseMirror{margin-top:0}pre[data-v-3ea77884]{width:100%;max-width:700px;margin:auto;background-color:var(--color-background-dark)}button[data-v-3ea77884]{width:44px;height:44px;margin:0;background-size:16px;border:0;background-color:transparent;opacity:.5;color:var(--color-main-text);background-position:center center;vertical-align:top}button[data-v-3ea77884]:hover,button[data-v-3ea77884]:focus,button[data-v-3ea77884]:active{background-color:var(--color-background-dark)}button.is-active[data-v-3ea77884],button[data-v-3ea77884]:hover,button[data-v-3ea77884]:focus{opacity:1}button.icon-undo[data-v-3ea77884],button.icon-redo[data-v-3ea77884]{opacity:.4}\n",""]),e.exports=t},719:function(e,t,r){"use strict";r.r(t);var o=r(766),i=r(245);for(var n in i)["default"].indexOf(n)<0&&function(e){r.d(t,e,(function(){return i[e]}))}(n);r(720),r(722);var s=r(17),a=Object(s.a)(i.default,o.a,o.b,!1,null,null,null);t.default=a.exports},720:function(e,t,r){"use strict";r(406)},721:function(e,t,r){var o=r(50),i=r(225),n=r(226);t=o(!1);var s=i(n);t.push([e.i,"#read-only-editor{overflow:scroll}#read-only-editor div.ProseMirror{margin-top:44px;height:100%;position:relative;word-wrap:break-word;white-space:pre-wrap;-webkit-font-variant-ligatures:none;font-variant-ligatures:none;padding:4px 8px 200px 14px;line-height:150%;font-size:14px;outline:none}#read-only-editor div.ProseMirror[contenteditable=true],#read-only-editor div.ProseMirror[contenteditable=false],#read-only-editor div.ProseMirror [contenteditable=true],#read-only-editor div.ProseMirror [contenteditable=false]{border:none !important;width:100%;background-color:transparent;color:var(--color-main-text);opacity:1;-webkit-user-select:text;user-select:text;font-size:14px}#read-only-editor div.ProseMirror .checkbox-item{display:flex;align-items:start;margin-left:-24px}#read-only-editor div.ProseMirror .checkbox-item input[type=checkbox]{display:none}#read-only-editor div.ProseMirror .checkbox-item:before{content:'';display:inline-block;height:14px;width:14px;vertical-align:middle;border-radius:50%;margin:2px 6px 3px 3px;border:1px solid var(--color-text-maxcontrast);content:\"\";position:relative;width:44px;height:44px;display:block;border-radius:var(--border-radius);height:14px;width:14px;box-shadow:none !important;background-position:center;cursor:pointer}#read-only-editor div.ProseMirror .checkbox-item.checked:before{background-image:url("+s+');background-color:var(--color-primary-element);border-color:var(--color-primary-element)}#read-only-editor div.ProseMirror .checkbox-item label{display:block;flex-grow:1;max-width:calc(100% - 28px)}#read-only-editor div.ProseMirror .checkbox-item label>*:first-child{margin-top:0}#read-only-editor div.ProseMirror li label.checkbox-label{width:100%;display:flex;margin-top:10px;margin-bottom:1em}#read-only-editor div.ProseMirror li label.checkbox-label:before{position:relative;top:2px}#read-only-editor div.ProseMirror li label.checkbox-label div.checkbox-wrapper{margin-bottom:-1em;width:100%}#read-only-editor div.ProseMirror li label.checkbox-label div.checkbox-wrapper>p{margin-top:-1px;margin-bottom:0;padding-bottom:10px}#read-only-editor div.ProseMirror p:first-child,#read-only-editor div.ProseMirror h1:first-child,#read-only-editor div.ProseMirror h2:first-child,#read-only-editor div.ProseMirror h3:first-child,#read-only-editor div.ProseMirror h4:first-child,#read-only-editor div.ProseMirror h5:first-child,#read-only-editor div.ProseMirror h6:first-child{margin-top:10px}#read-only-editor div.ProseMirror a{color:var(--color-primary-element);text-decoration:underline;padding:.5em 0}#read-only-editor div.ProseMirror p{margin-bottom:1em;line-height:150%}#read-only-editor div.ProseMirror em{font-style:italic}#read-only-editor div.ProseMirror h1,#read-only-editor div.ProseMirror h2,#read-only-editor div.ProseMirror h3,#read-only-editor div.ProseMirror h4,#read-only-editor div.ProseMirror h5,#read-only-editor div.ProseMirror h6{font-weight:600;line-height:120%;margin-top:24px;margin-bottom:12px;color:var(--color-main-text)}#read-only-editor div.ProseMirror h1{font-size:36px;margin-top:48px}#read-only-editor div.ProseMirror h2{font-size:28px;margin-top:48px}#read-only-editor div.ProseMirror h3{font-size:24px}#read-only-editor div.ProseMirror h4{font-size:21px}#read-only-editor div.ProseMirror h5{font-size:17px}#read-only-editor div.ProseMirror h6{font-size:14px}#read-only-editor div.ProseMirror img{cursor:default;max-width:100%}#read-only-editor div.ProseMirror hr{padding:2px 0;border:none;margin:1em 0;width:100%}#read-only-editor div.ProseMirror hr:after{content:"";display:block;height:1px;background-color:var(--color-border-dark);line-height:2px}#read-only-editor div.ProseMirror pre{white-space:pre;overflow-x:auto;background-color:var(--color-background-dark);border-radius:var(--border-radius);padding:1em 1.3em;margin-bottom:1em}#read-only-editor div.ProseMirror p code{background-color:var(--color-background-dark);border-radius:var(--border-radius);padding:.1em .3em}#read-only-editor div.ProseMirror li{position:relative}#read-only-editor div.ProseMirror ul,#read-only-editor div.ProseMirror ol{padding-left:10px;margin-left:10px}#read-only-editor div.ProseMirror ul li{list-style-type:disc}#read-only-editor div.ProseMirror ul>li>ul>li{list-style-type:circle}#read-only-editor div.ProseMirror ul>li>ul>li ul li{list-style-type:square}#read-only-editor div.ProseMirror blockquote{padding-left:1em;border-left:4px solid var(--color-primary-element);color:var(--color-text-maxcontrast);margin-left:0;margin-right:0}#read-only-editor .ProseMirror-focused .ProseMirror-gapcursor{display:block}#read-only-editor .editor__content p.is-empty:first-child::before{content:attr(data-empty-text);float:left;color:var(--color-text-maxcontrast);pointer-events:none;height:0}.thumbnailContainer #read-only-editor{width:100%}.thumbnailContainer #read-only-editor .ProseMirror{height:auto;margin:0 0 0 0;padding:0}\n',""]),e.exports=t},722:function(e,t,r){"use strict";r(407)},723:function(e,t,r){var o=r(50),i=r(225),n=r(226);t=o(!1);var s=i(n);t.push([e.i,"div.ProseMirror{margin-top:44px;height:100%;position:relative;word-wrap:break-word;white-space:pre-wrap;-webkit-font-variant-ligatures:none;font-variant-ligatures:none;padding:4px 8px 200px 14px;line-height:150%;font-size:14px;outline:none}div.ProseMirror[contenteditable=true],div.ProseMirror[contenteditable=false],div.ProseMirror [contenteditable=true],div.ProseMirror [contenteditable=false]{border:none !important;width:100%;background-color:transparent;color:var(--color-main-text);opacity:1;-webkit-user-select:text;user-select:text;font-size:14px}div.ProseMirror .checkbox-item{display:flex;align-items:start;margin-left:-24px}div.ProseMirror .checkbox-item input[type=checkbox]{display:none}div.ProseMirror .checkbox-item:before{content:'';display:inline-block;height:14px;width:14px;vertical-align:middle;border-radius:50%;margin:2px 6px 3px 3px;border:1px solid var(--color-text-maxcontrast);content:\"\";position:relative;width:44px;height:44px;display:block;border-radius:var(--border-radius);height:14px;width:14px;box-shadow:none !important;background-position:center;cursor:pointer}div.ProseMirror .checkbox-item.checked:before{background-image:url("+s+');background-color:var(--color-primary-element);border-color:var(--color-primary-element)}div.ProseMirror .checkbox-item label{display:block;flex-grow:1;max-width:calc(100% - 28px)}div.ProseMirror .checkbox-item label>*:first-child{margin-top:0}div.ProseMirror li label.checkbox-label{width:100%;display:flex;margin-top:10px;margin-bottom:1em}div.ProseMirror li label.checkbox-label:before{position:relative;top:2px}div.ProseMirror li label.checkbox-label div.checkbox-wrapper{margin-bottom:-1em;width:100%}div.ProseMirror li label.checkbox-label div.checkbox-wrapper>p{margin-top:-1px;margin-bottom:0;padding-bottom:10px}div.ProseMirror p:first-child,div.ProseMirror h1:first-child,div.ProseMirror h2:first-child,div.ProseMirror h3:first-child,div.ProseMirror h4:first-child,div.ProseMirror h5:first-child,div.ProseMirror h6:first-child{margin-top:10px}div.ProseMirror a{color:var(--color-primary-element);text-decoration:underline;padding:.5em 0}div.ProseMirror p{margin-bottom:1em;line-height:150%}div.ProseMirror em{font-style:italic}div.ProseMirror h1,div.ProseMirror h2,div.ProseMirror h3,div.ProseMirror h4,div.ProseMirror h5,div.ProseMirror h6{font-weight:600;line-height:120%;margin-top:24px;margin-bottom:12px;color:var(--color-main-text)}div.ProseMirror h1{font-size:36px;margin-top:48px}div.ProseMirror h2{font-size:28px;margin-top:48px}div.ProseMirror h3{font-size:24px}div.ProseMirror h4{font-size:21px}div.ProseMirror h5{font-size:17px}div.ProseMirror h6{font-size:14px}div.ProseMirror img{cursor:default;max-width:100%}div.ProseMirror hr{padding:2px 0;border:none;margin:1em 0;width:100%}div.ProseMirror hr:after{content:"";display:block;height:1px;background-color:var(--color-border-dark);line-height:2px}div.ProseMirror pre{white-space:pre;overflow-x:auto;background-color:var(--color-background-dark);border-radius:var(--border-radius);padding:1em 1.3em;margin-bottom:1em}div.ProseMirror p code{background-color:var(--color-background-dark);border-radius:var(--border-radius);padding:.1em .3em}div.ProseMirror li{position:relative}div.ProseMirror ul,div.ProseMirror ol{padding-left:10px;margin-left:10px}div.ProseMirror ul li{list-style-type:disc}div.ProseMirror ul>li>ul>li{list-style-type:circle}div.ProseMirror ul>li>ul>li ul li{list-style-type:square}div.ProseMirror blockquote{padding-left:1em;border-left:4px solid var(--color-primary-element);color:var(--color-text-maxcontrast);margin-left:0;margin-right:0}.ProseMirror-focused .ProseMirror-gapcursor{display:block}.editor__content p.is-empty:first-child::before{content:attr(data-empty-text);float:left;color:var(--color-text-maxcontrast);pointer-events:none;height:0}\n',""]),e.exports=t},724:function(e,t,r){"use strict";r.r(t);var o=r(767),i=r(247);for(var n in i)["default"].indexOf(n)<0&&function(e){r.d(t,e,(function(){return i[e]}))}(n);r(725);var s=r(17),a=Object(s.a)(i.default,o.a,o.b,!1,null,"7fd0186f",null);t.default=a.exports},725:function(e,t,r){"use strict";r(408)},726:function(e,t,r){(t=r(50)(!1)).push([e.i,"#resolve-conflicts[data-v-7fd0186f]{display:flex;position:fixed;z-index:10000;bottom:0;max-width:900px;width:100vw;margin:auto;padding:20px 0}#resolve-conflicts button[data-v-7fd0186f]{margin:auto;box-shadow:0 0 10px var(--color-box-shadow)}\n",""]),e.exports=t},761:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return i}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:{"icon-loading":e.saving},attrs:{id:"direct-editor"}},[r("EditorWrapper",{ref:"editor",attrs:{"initial-session":e.initialSession,active:!0,mime:e.initial.mimetype,"is-direct-editing":!0},on:{ready:e.loaded},scopedSlots:e._u([{key:"header",fn:function(){return[r("button",{staticClass:"icon-share",on:{click:e.share}}),e._v(" "),r("button",{staticClass:"icon-close",on:{click:e.close}})]},proxy:!0}])})],1)},i=[]},762:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return i}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"editor-container"}},[e.currentSession&&e.active?r("div",[e.hasSyncCollission?r("p",{staticClass:"msg icon-error"},[e._v("\n\t\t\t"+e._s(e.t("text","The document has been changed outside of the editor. The changes cannot be applied."))+"\n\t\t")]):e.hasConnectionIssue?r("p",{staticClass:"msg icon-info"},[e._v("\n\t\t\t"+e._s(e.t("text","File could not be loaded. Please check your internet connection."))+" "),r("a",{staticClass:"button primary",on:{click:e.reconnect}},[e._v(e._s(e.t("text","Retry")))])]):e._e()]):e._e(),e._v(" "),e.currentSession&&e.active?r("div",{class:{"has-conflicts":e.hasSyncCollission,"icon-loading":!e.initialLoading&&!e.hasConnectionIssue,richEditor:e.isRichEditor},attrs:{id:"editor-wrapper"}},[r("div",{attrs:{id:"editor"}},[e.syncError||e.readOnly?e._e():r("MenuBar",{ref:"menubar",attrs:{editor:e.tiptap,"file-path":e.relativePath,"is-rich-editor":e.isRichEditor,"is-public":e.isPublic,autohide:e.autohide}},[e.currentSession&&e.active?r("div",{attrs:{id:"editor-session-list"}},[r("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.lastSavedStatusTooltip,expression:"lastSavedStatusTooltip"}],staticClass:"save-status",class:e.lastSavedStatusClass},[e._v("\n\t\t\t\t\t\t"+e._s(e.lastSavedStatus)+"\n\t\t\t\t\t")]),e._v(" "),r("SessionList",{attrs:{sessions:e.filteredSessions}},[e.isPublic&&e.currentSession.guestName?r("GuestNameDialog",{attrs:{"sync-service":e.syncService}}):e._e()],1)],1):e._e(),e._v(" "),e._t("header")],2),e._v(" "),r("div",[!e.readOnly&&e.isRichEditor?r("MenuBubble",{attrs:{editor:e.tiptap,"file-path":e.relativePath}}):e._e(),e._v(" "),r("EditorContent",{directives:[{name:"show",rawName:"v-show",value:e.initialLoading,expression:"initialLoading"}],staticClass:"editor__content",attrs:{editor:e.tiptap}})],1)],1),e._v(" "),e.hasSyncCollission?r("ReadOnlyEditor",{attrs:{content:e.syncError.data.outsideChange,"is-rich-editor":e.isRichEditor}}):e._e()],1):e._e(),e._v(" "),e.hasSyncCollission&&!e.readOnly?r("CollisionResolveDialog",{on:{resolveUseThisVersion:e.resolveUseThisVersion,resolveUseServerVersion:e.resolveUseServerVersion}}):e._e()],1)},i=[]},766:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return i}));var o=function(){var e=this.$createElement,t=this._self._c||e;return this.editor?t("EditorContent",{attrs:{id:"read-only-editor",editor:this.editor}}):this._e()},i=[]},767:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return i}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"collision-resolve-dialog",attrs:{id:"resolve-conflicts"}},[r("button",{on:{click:function(t){return e.$emit("resolveUseThisVersion")}}},[e._v("\n\t\t"+e._s(e.t("text","Use current version"))+"\n\t")]),e._v(" "),r("button",{on:{click:function(t){return e.$emit("resolveUseServerVersion")}}},[e._v("\n\t\t"+e._s(e.t("text","Use the saved version"))+"\n\t")])])},i=[]},770:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return i}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"image",class:{"icon-loading":!e.loaded},attrs:{"data-src":e.src}},[e.imageLoaded&&e.isSupportedImage?r("div",{staticClass:"image__view"},[r("transition",{attrs:{name:"fade"}},[r("img",{directives:[{name:"show",rawName:"v-show",value:e.loaded,expression:"loaded"}],staticClass:"image__main",attrs:{src:e.imageUrl},on:{load:e.onLoaded}})]),e._v(" "),r("transition",{attrs:{name:"fade"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.loaded,expression:"loaded"}],staticClass:"image__caption"},[r("input",{ref:"altInput",attrs:{type:"text"},domProps:{value:e.alt},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateAlt()}}})])])],1):r("div",{staticClass:"image__placeholder"},[r("transition",{attrs:{name:"fade"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.loaded,expression:"loaded"}],staticClass:"image__main"},[r("a",{attrs:{href:e.internalLinkOrImage,target:"_blank"}},[r("div",{staticClass:"icon-image",style:e.mimeIcon}),e._v(" "),e.isSupportedImage?e._e():r("p",[e._v(e._s(e.alt))])])])]),r("transition",{attrs:{name:"fade"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.loaded,expression:"loaded"}],staticClass:"image__caption"},[r("input",{ref:"altInput",attrs:{type:"text"},domProps:{value:e.alt},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateAlt()}}})])])],1)])},i=[]}}]);
//# sourceMappingURL=editor.js.map?v=8b9d34a3d9d90c94002d