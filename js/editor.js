(window.webpackJsonp=window.webpackJsonp||[]).push([[187],{271:function(e,t,n){"use strict";var r=n(48),o=n(53);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}
/*
 * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */var h=function(e){function t(){return s(this,t),l(this,u(t).apply(this,arguments))}return d(t,o["b"]),c(t,[{key:"name",get:function(){return"strong"}}]),t}(),f=function(e){function t(){return s(this,t),l(this,u(t).apply(this,arguments))}return d(t,o["m"]),c(t,[{key:"name",get:function(){return"em"}}]),t}(),m=function(e){function t(){return s(this,t),l(this,u(t).apply(this,arguments))}return d(t,o["q"]),c(t,[{key:"schema",get:function(){return{parseDOM:[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",getAttrs:function(e){return"line-through"===e}}],toDOM:function(){return["s",0]},toMarkdown:{open:"~~",close:"~~",mixable:!0,expelEnclosingWhitespace:!0}}}}]),t}(),v=["image/png","image/jpeg","image/gif","image/x-xbitmap","image/bmp","image/svg+xml"],b=function(e,t){var n=e.split("#")[1];if(void 0!==n){var r=n.split("&");if(void 0!==r)for(var o=0;o<r.length;o++){var i=r[o].split("=");if(decodeURIComponent(i[0])===t)return decodeURIComponent(i[1])}}},y={name:"ImageView",props:["node","updateAttrs","view"],data:function(){return{imageLoaded:!1,loaded:!1,failed:!1}},computed:{mimeIcon:function(){var e=b(this.src,"mimetype");return e?{backgroundImage:"url("+window.OC.MimeType.getIconUrl(e)+")"}:{}},isSupportedImage:function(){var e=b(this.src,"mimetype");return void 0===e||-1!==v.indexOf(e)},internalLinkOrImage:function(){var e=b(this.src,"fileId");return e?OC.generateUrl("/f/"+e):this.src},src:{get:function(){return this.node.attrs.src},set:function(e){this.updateAttrs({src:e})}},alt:{get:function(){return this.node.attrs.alt?this.node.attrs.alt:""},set:function(e){this.updateAttrs({alt:e})}},t:function(){return function(e,t){return window.t(e,t)}}},beforeMount:function(){var e=this;if(!this.isSupportedImage)return this.failed=!0,this.imageLoaded=!1,void(this.loaded=!0);var t=new Image;t.src=this.node.attrs.src,t.onload=function(){e.imageLoaded=!0},t.onerror=function(){e.failed=!0,e.imageLoaded=!1,e.loaded=!0}},methods:{updateAlt:function(){this.alt=this.$refs.altInput.value},onLoaded:function(){this.loaded=!0}}},g=(n(282),n(5)),j=Object(g.a)(y,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"image",class:{"icon-loading":!e.loaded},attrs:{"data-src":e.src}},[e.imageLoaded&&e.isSupportedImage?n("div",[n("transition",{attrs:{name:"fade"}},[n("img",{directives:[{name:"show",rawName:"v-show",value:e.loaded,expression:"loaded"}],staticClass:"image__main",attrs:{src:e.src},on:{load:e.onLoaded}})]),e._v(" "),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.loaded,expression:"loaded"}],staticClass:"image__caption"},[n("input",{ref:"altInput",attrs:{type:"text"},domProps:{value:e.alt},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateAlt()}}})])])],1):n("div",{staticClass:"image__placeholder"},[n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.loaded,expression:"loaded"}],staticClass:"image__main"},[n("div",{staticClass:"icon-image",style:e.mimeIcon}),e._v(" "),n("p",[n("a",{attrs:{href:e.internalLinkOrImage,target:"_blank"}},[e._v(e._s(e.isSupportedImage?e.t("text","Show image"):e.t("text","Show file")))])])])]),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.loaded,expression:"loaded"}],staticClass:"image__caption"},[n("input",{ref:"altInput",attrs:{type:"text"},domProps:{value:e.alt},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateAlt()}}})])])],1)])},[],!1,null,"3153cb96",null).exports;function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e,t,n){return(P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}
/*
 * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */var M=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_(this,O(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,o["l"]),n=t,(r=[{key:"view",get:function(){return j}},{key:"schema",get:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(n,!0).forEach(function(t){S(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},P(O(t.prototype),"schema",this),{selectable:!1})}}])&&x(n.prototype,r),i&&x(n,i),t}(),C=n(75);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}
/*
 * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */var D=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),R(this,L(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,r["f"]),n=t,(o=[{key:"keys",value:function(){var e=this;return{Tab:function(t){return Object(C.a)("\t")(t,e.editor.view.dispatch,e.editor.view),!0}}}},{key:"name",get:function(){return"doc"}},{key:"schema",get:function(){return{content:"block"}}}])&&T(n.prototype,o),i&&T(n,i),t}(),U=n(76),z=n.n(U),A=n(339);
/*
 * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function B(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(n,!0).forEach(function(t){F(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}n.d(t,"d",function(){return J}),n.d(t,"a",function(){return W}),n.d(t,"b",function(){return Y}),n.d(t,"e",function(){return Z}),n.d(t,"c",function(){return $});
/*
 * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */
var $=function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var r,o,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=[t],o={},i=0;case 3:if(!(i<r.length)){e.next=17;break}return e.prev=4,e.next=7,n(340)("./"+r[i]);case 7:s=e.sent,o[r[i]]=s.default,e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",void 0);case 14:i++,e.next=3;break;case 17:if(0!==Object.keys(o).length||o.constructor!==Object){e.next=19;break}return e.abrupt("return",void 0);case 19:return e.abrupt("return",{languages:o});case 20:case"end":return e.stop()}},e,null,[[4,11]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function s(e){H(i,r,o,s,a,"next",e)}function a(e){H(i,r,o,s,a,"throw",e)}s(void 0)})});return function(e){return t.apply(this,arguments)}}(),W=function(e){var t=e.content,n=e.onUpdate,i=e.extensions,s=e.enableRichEditing,a=e.languages,c=[];return c=s?[new o.i,new o.d,new h,new f,new m,new o.h,new o.k,new o.c,new o.p,new o.a,new o.e,new o.o,new o.n,new M]:[new D,new r.g,new o.f(G({},a))],i=i||[],new r.a({content:t,onUpdate:n,extensions:[].concat(B(c),[new o.j]).concat(i),useBuiltInExtensions:s})},J=z()("commonmark",{html:!1,breaks:!1}).enable("strikethrough"),K=function(e){this.message=e},Y=function(e,t){var n=Object.entries(e).filter(function(e){return V(e,2)[1].toMarkdown}).reduce(function(e,t){var n=V(t,2);return G({},e,F({},n[0],n[1].toMarkdown))},{}),r=Object.entries(t).filter(function(e){return V(e,2)[1].toMarkdown}).reduce(function(e,t){var n=V(t,2);return G({},e,F({},n[0],n[1].toMarkdown))},{});return{serializer:new A.MarkdownSerializer(G({},A.defaultMarkdownSerializer.nodes,{},n),G({},A.defaultMarkdownSerializer.marks,{},r)),serialize:function(e,t){return this.serializer.serialize(e,t).split("\\[ \\]").join("[ ]").split("\\[x\\]").join("[x]")}}},Z=function(e){var t=e.getJSON();if(1!==t.content.length||void 0===t.content[0].content||1!==t.content[0].content.length){if("code_block"===t.content[0].type&&void 0===t.content[0].content)return"";throw new K("Failed to serialize document to plain text")}var n=t.content[0].content[0];if("text"!==n.type)throw new K("Failed to serialize document to plain text");return n.text}},282:function(e,t,n){"use strict";var r=n(57);n.n(r).a},283:function(e,t,n){(e.exports=n(46)(!1)).push([e.i,".image[data-v-3153cb96] {\n  margin: 0;\n  padding: 0;\n}\n.image__caption[data-v-3153cb96] {\n  text-align: center;\n  color: var(--color-text-lighter);\n}\n.image__caption input[type='text'][data-v-3153cb96] {\n    width: 100%;\n    border: none;\n    text-align: center;\n}\n.icon-image[data-v-3153cb96] {\n  margin-top: 10px;\n  height: 32px;\n  padding: 20px;\n  background-size: contain;\n}\n.image__loading[data-v-3153cb96] {\n  height: 100px;\n}\n.image__placeholder .image__main[data-v-3153cb96] {\n  background-color: var(--color-background-dark);\n  text-align: center;\n  padding: 20px;\n  border-radius: var(--border-radius);\n}\n.image__placeholder .image__main .icon-image[data-v-3153cb96] {\n    opacity: 0.7;\n}\n.fade-enter-active[data-v-3153cb96] {\n  transition: opacity .3s ease-in-out;\n}\n.fade-enter-to[data-v-3153cb96] {\n  opacity: 1;\n}\n.fade-enter[data-v-3153cb96] {\n  opacity: 0;\n}\n",""])},33:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return c});var r=n(2),o=function(e){(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?setTimeout(e,0):document.addEventListener("DOMContentLoaded",e)},i=Object(r.generateUrl)("/apps/text"),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?"".concat(i,"/public/").concat(e):"".concat(i,"/").concat(e)},a=["Artichoke","Arugula","Asparagus","Avocado","Bamboo Shoot","Bean Sprout","Bean","Beet","Belgian Endive","Bell Pepper","Bitter Melon","Bitter Gourd","Bok Choy","Broccoli","Brussels Sprout","Burdock Root","Cabbage","Calabash","Caper","Carrot","Cassava","Cauliflower","Celery","Celery Root","Celtuce","Chayote","Chinese Broccoli","Corn","Baby Corn","Cucumber","English Cucumber","Gherkin","Pickling Cucumber","Daikon Radish","Edamame","Eggplant","Elephant Garlic","Endive","Curly","Escarole","Fennel","Fiddlehead","Galangal","Garlic","Ginger","Grape Leave","Green Bean","Wax Bean","Green","Amaranth Leave","Beet Green","Collard Green","Dandelion Green","Kale","Kohlrabi Green","Mustard Green","Rapini","Spinach","Swiss Chard","Turnip Green","Hearts of Palm","Horseradish","Jerusalem Artichoke","Jícama","Kale","Curly","Lacinato","Ornamental","Kohlrabi","Leeks","Lemongrass","Lettuce","Butterhead","Iceberg","Leaf","Romaine","Lotus Root","Lotus Seed","Mushroom","Napa Cabbage","Nopales","Okra","Olive","Onion","Green Onion","Parsley","Parsley Root","Parsnip","Pepper","Plantain","Potato","Pumpkin","Purslane","Radicchio","Radish","Rutabaga","Shallots","Spinach","Squash","Sweet Potato","Swiss Chard","Taro","Tomatillo","Tomato","Turnip","Water Chestnut","Water Spinach","Watercress","Winter Melon","Yams","Zucchini"],c=function(){return a[Math.floor(Math.random()*a.length)]}},340:function(e,t,n){var r={"./1c":[86,1],"./1c.js":[86,1],"./abnf":[87,2],"./abnf.js":[87,2],"./accesslog":[88,3],"./accesslog.js":[88,3],"./actionscript":[89,4],"./actionscript.js":[89,4],"./ada":[90,5],"./ada.js":[90,5],"./angelscript":[91,6],"./angelscript.js":[91,6],"./apache":[92,7],"./apache.js":[92,7],"./applescript":[93,8],"./applescript.js":[93,8],"./arcade":[94,9],"./arcade.js":[94,9],"./arduino":[95,10],"./arduino.js":[95,10],"./armasm":[96,11],"./armasm.js":[96,11],"./asciidoc":[97,12],"./asciidoc.js":[97,12],"./aspectj":[98,13],"./aspectj.js":[98,13],"./autohotkey":[99,14],"./autohotkey.js":[99,14],"./autoit":[100,15],"./autoit.js":[100,15],"./avrasm":[101,16],"./avrasm.js":[101,16],"./awk":[102,17],"./awk.js":[102,17],"./axapta":[103,18],"./axapta.js":[103,18],"./bash":[104,19],"./bash.js":[104,19],"./basic":[105,20],"./basic.js":[105,20],"./bnf":[106,21],"./bnf.js":[106,21],"./brainfuck":[107,22],"./brainfuck.js":[107,22],"./cal":[108,23],"./cal.js":[108,23],"./capnproto":[109,24],"./capnproto.js":[109,24],"./ceylon":[110,25],"./ceylon.js":[110,25],"./clean":[111,26],"./clean.js":[111,26],"./clojure":[113,27],"./clojure-repl":[112,28],"./clojure-repl.js":[112,28],"./clojure.js":[113,27],"./cmake":[114,29],"./cmake.js":[114,29],"./coffeescript":[115,30],"./coffeescript.js":[115,30],"./coq":[116,31],"./coq.js":[116,31],"./cos":[117,32],"./cos.js":[117,32],"./cpp":[118,33],"./cpp.js":[118,33],"./crmsh":[119,34],"./crmsh.js":[119,34],"./crystal":[120,35],"./crystal.js":[120,35],"./cs":[121,36],"./cs.js":[121,36],"./csp":[122,37],"./csp.js":[122,37],"./css":[123,38],"./css.js":[123,38],"./d":[124,39],"./d.js":[124,39],"./dart":[125,40],"./dart.js":[125,40],"./delphi":[126,41],"./delphi.js":[126,41],"./diff":[127,42],"./diff.js":[127,42],"./django":[128,43],"./django.js":[128,43],"./dns":[129,44],"./dns.js":[129,44],"./dockerfile":[130,45],"./dockerfile.js":[130,45],"./dos":[131,46],"./dos.js":[131,46],"./dsconfig":[132,47],"./dsconfig.js":[132,47],"./dts":[133,48],"./dts.js":[133,48],"./dust":[134,49],"./dust.js":[134,49],"./ebnf":[135,50],"./ebnf.js":[135,50],"./elixir":[136,51],"./elixir.js":[136,51],"./elm":[137,52],"./elm.js":[137,52],"./erb":[138,53],"./erb.js":[138,53],"./erlang":[140,54],"./erlang-repl":[139,55],"./erlang-repl.js":[139,55],"./erlang.js":[140,54],"./excel":[141,56],"./excel.js":[141,56],"./fix":[142,57],"./fix.js":[142,57],"./flix":[143,58],"./flix.js":[143,58],"./fortran":[144,59],"./fortran.js":[144,59],"./fsharp":[145,60],"./fsharp.js":[145,60],"./gams":[146,61],"./gams.js":[146,61],"./gauss":[147,62],"./gauss.js":[147,62],"./gcode":[148,63],"./gcode.js":[148,63],"./gherkin":[149,64],"./gherkin.js":[149,64],"./glsl":[150,65],"./glsl.js":[150,65],"./gml":[151,66],"./gml.js":[151,66],"./go":[152,67],"./go.js":[152,67],"./golo":[153,68],"./golo.js":[153,68],"./gradle":[154,69],"./gradle.js":[154,69],"./groovy":[155,70],"./groovy.js":[155,70],"./haml":[156,71],"./haml.js":[156,71],"./handlebars":[157,72],"./handlebars.js":[157,72],"./haskell":[158,73],"./haskell.js":[158,73],"./haxe":[159,74],"./haxe.js":[159,74],"./hsp":[160,75],"./hsp.js":[160,75],"./htmlbars":[161,76],"./htmlbars.js":[161,76],"./http":[162,77],"./http.js":[162,77],"./hy":[163,78],"./hy.js":[163,78],"./inform7":[164,79],"./inform7.js":[164,79],"./ini":[165,80],"./ini.js":[165,80],"./irpf90":[166,81],"./irpf90.js":[166,81],"./isbl":[167,82],"./isbl.js":[167,82],"./java":[168,83],"./java.js":[168,83],"./javascript":[169,84],"./javascript.js":[169,84],"./jboss-cli":[170,85],"./jboss-cli.js":[170,85],"./json":[171,86],"./json.js":[171,86],"./julia":[173,87],"./julia-repl":[172,88],"./julia-repl.js":[172,88],"./julia.js":[173,87],"./kotlin":[174,89],"./kotlin.js":[174,89],"./lasso":[175,90],"./lasso.js":[175,90],"./ldif":[176,91],"./ldif.js":[176,91],"./leaf":[177,92],"./leaf.js":[177,92],"./less":[178,93],"./less.js":[178,93],"./lisp":[179,94],"./lisp.js":[179,94],"./livecodeserver":[180,95],"./livecodeserver.js":[180,95],"./livescript":[181,96],"./livescript.js":[181,96],"./llvm":[182,97],"./llvm.js":[182,97],"./lsl":[183,98],"./lsl.js":[183,98],"./lua":[184,99],"./lua.js":[184,99],"./makefile":[185,100],"./makefile.js":[185,100],"./markdown":[186,101],"./markdown.js":[186,101],"./mathematica":[187,102],"./mathematica.js":[187,102],"./matlab":[188,103],"./matlab.js":[188,103],"./maxima":[189,104],"./maxima.js":[189,104],"./mel":[190,105],"./mel.js":[190,105],"./mercury":[191,106],"./mercury.js":[191,106],"./mipsasm":[192,107],"./mipsasm.js":[192,107],"./mizar":[193,108],"./mizar.js":[193,108],"./mojolicious":[194,109],"./mojolicious.js":[194,109],"./monkey":[195,110],"./monkey.js":[195,110],"./moonscript":[196,111],"./moonscript.js":[196,111],"./n1ql":[197,112],"./n1ql.js":[197,112],"./nginx":[198,113],"./nginx.js":[198,113],"./nimrod":[199,114],"./nimrod.js":[199,114],"./nix":[200,115],"./nix.js":[200,115],"./nsis":[201,116],"./nsis.js":[201,116],"./objectivec":[202,117],"./objectivec.js":[202,117],"./ocaml":[203,118],"./ocaml.js":[203,118],"./openscad":[204,119],"./openscad.js":[204,119],"./oxygene":[205,120],"./oxygene.js":[205,120],"./parser3":[206,121],"./parser3.js":[206,121],"./perl":[207,122],"./perl.js":[207,122],"./pf":[208,123],"./pf.js":[208,123],"./pgsql":[209,124],"./pgsql.js":[209,124],"./php":[210,125],"./php.js":[210,125],"./plaintext":[211,126],"./plaintext.js":[211,126],"./pony":[212,127],"./pony.js":[212,127],"./powershell":[213,128],"./powershell.js":[213,128],"./processing":[214,129],"./processing.js":[214,129],"./profile":[215,130],"./profile.js":[215,130],"./prolog":[216,131],"./prolog.js":[216,131],"./properties":[217,132],"./properties.js":[217,132],"./protobuf":[218,133],"./protobuf.js":[218,133],"./puppet":[219,134],"./puppet.js":[219,134],"./purebasic":[220,135],"./purebasic.js":[220,135],"./python":[221,136],"./python.js":[221,136],"./q":[222,137],"./q.js":[222,137],"./qml":[223,138],"./qml.js":[223,138],"./r":[224,139],"./r.js":[224,139],"./reasonml":[225,140],"./reasonml.js":[225,140],"./rib":[226,141],"./rib.js":[226,141],"./roboconf":[227,142],"./roboconf.js":[227,142],"./routeros":[228,143],"./routeros.js":[228,143],"./rsl":[229,144],"./rsl.js":[229,144],"./ruby":[230,145],"./ruby.js":[230,145],"./ruleslanguage":[231,146],"./ruleslanguage.js":[231,146],"./rust":[232,147],"./rust.js":[232,147],"./sas":[233,148],"./sas.js":[233,148],"./scala":[234,149],"./scala.js":[234,149],"./scheme":[235,150],"./scheme.js":[235,150],"./scilab":[236,151],"./scilab.js":[236,151],"./scss":[237,152],"./scss.js":[237,152],"./shell":[238,153],"./shell.js":[238,153],"./smali":[239,154],"./smali.js":[239,154],"./smalltalk":[240,155],"./smalltalk.js":[240,155],"./sml":[241,156],"./sml.js":[241,156],"./sqf":[242,157],"./sqf.js":[242,157],"./sql":[243,158],"./sql.js":[243,158],"./stan":[244,159],"./stan.js":[244,159],"./stata":[245,160],"./stata.js":[245,160],"./step21":[246,161],"./step21.js":[246,161],"./stylus":[247,162],"./stylus.js":[247,162],"./subunit":[248,163],"./subunit.js":[248,163],"./swift":[249,164],"./swift.js":[249,164],"./taggerscript":[250,165],"./taggerscript.js":[250,165],"./tap":[251,166],"./tap.js":[251,166],"./tcl":[252,167],"./tcl.js":[252,167],"./tex":[253,168],"./tex.js":[253,168],"./thrift":[254,169],"./thrift.js":[254,169],"./tp":[255,170],"./tp.js":[255,170],"./twig":[256,171],"./twig.js":[256,171],"./typescript":[257,172],"./typescript.js":[257,172],"./vala":[258,173],"./vala.js":[258,173],"./vbnet":[259,174],"./vbnet.js":[259,174],"./vbscript":[261,175],"./vbscript-html":[260,176],"./vbscript-html.js":[260,176],"./vbscript.js":[261,175],"./verilog":[262,177],"./verilog.js":[262,177],"./vhdl":[263,178],"./vhdl.js":[263,178],"./vim":[264,179],"./vim.js":[264,179],"./x86asm":[265,180],"./x86asm.js":[265,180],"./xl":[266,181],"./xl.js":[266,181],"./xml":[267,182],"./xml.js":[267,182],"./xquery":[268,183],"./xquery.js":[268,183],"./yaml":[269,184],"./yaml.js":[269,184],"./zephir":[270,185],"./zephir.js":[270,185]};function o(e){if(!n.o(r,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=r[e],o=t[0];return n.e(t[1]).then(function(){return n.t(o,7)})}o.keys=function(){return Object.keys(r)},o.id=340,e.exports=o},341:function(e,t,n){"use strict";var r=n(61);n.n(r).a},342:function(e,t,n){(e.exports=n(46)(!1)).push([e.i,"#editor-container[data-v-8aaec4a6] {\n  display: block;\n  width: 100vw;\n  max-width: 100%;\n  height: calc(100% - 50px);\n  top: 50px;\n  left: 0;\n  margin: 0 auto;\n  position: relative;\n  background-color: var(--color-main-background);\n}\n#editor-wrapper[data-v-8aaec4a6] {\n  display: flex;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  position: absolute;\n}\n#editor-wrapper .ProseMirror[data-v-8aaec4a6] {\n    margin-top: 0 !important;\n}\n#editor-wrapper.icon-loading #editor[data-v-8aaec4a6] {\n    opacity: 0.3;\n}\n#editor[data-v-8aaec4a6], .editor[data-v-8aaec4a6] {\n  background: var(--color-main-background);\n  color: var(--color-main-text);\n  background-clip: padding-box;\n  border-radius: var(--border-radius);\n  padding: 0;\n  position: relative;\n  overflow-y: auto;\n  overflow-x: hidden;\n  width: 100%;\n}\n.msg.icon-error[data-v-8aaec4a6] {\n  padding: 12px;\n  border-bottom: 1px solid var(--color-error);\n  padding-left: 30px;\n  background-position: 8px center;\n}\n.save-status[data-v-8aaec4a6] {\n  padding: 9px;\n  text-overflow: ellipsis;\n  color: var(--color-text-lighter);\n}\n.save-status.error[data-v-8aaec4a6] {\n    background-color: var(--color-error);\n    color: var(--color-main-background);\n    border-radius: 3px;\n}\n#editor-container #editor-wrapper.has-conflicts[data-v-8aaec4a6] {\n  height: calc(100% - 50px);\n}\n#editor-container #editor-wrapper.has-conflicts #editor[data-v-8aaec4a6], #editor-container #editor-wrapper.has-conflicts #read-only-editor[data-v-8aaec4a6] {\n    width: 50%;\n    height: 100%;\n}\n#editor-session-list[data-v-8aaec4a6] {\n  padding: 9px;\n  padding-right: 16px;\n  display: flex;\n}\n#editor-session-list input[data-v-8aaec4a6], #editor-session-list div[data-v-8aaec4a6] {\n    vertical-align: middle;\n    margin-left: 3px;\n}\n.editor__content[data-v-8aaec4a6] {\n  max-width: 670px;\n  margin: auto;\n}\n#body-public[data-v-8aaec4a6] {\n  height: auto;\n}\n#files-public-content[data-v-8aaec4a6] {\n  height: auto;\n}\n#files-public-content #editor-wrapper[data-v-8aaec4a6] {\n    position: relative;\n}\n#files-public-content #editor-container[data-v-8aaec4a6] {\n    top: 0;\n    width: 100%;\n}\n#files-public-content #editor-container #editor[data-v-8aaec4a6] .menubar {\n      position: fixed;\n      top: 50px;\n      width: 100%;\n}\n#files-public-content #editor-container #editor[data-v-8aaec4a6] {\n      padding-top: 50px;\n      overflow: auto;\n}\n#files-public-content #editor-container .has-conflicts #editor[data-v-8aaec4a6] {\n      padding-top: 0px;\n}\n.ie #editor[data-v-8aaec4a6] .menubar {\n  position: fixed;\n  top: 50px;\n  width: 100%;\n}\n.ie .editor__content[data-v-8aaec4a6] .ProseMirror {\n  padding-top: 50px;\n}\n",""])},343:function(e,t,n){"use strict";var r=n(62);n.n(r).a},344:function(e,t,n){(e.exports=n(46)(!1)).push([e.i,'.modal-container #editor-container {\n  position: absolute;\n}\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n.ProseMirror-hideselection {\n  caret-color: transparent;\n}\n.ProseMirror-selectednode {\n  outline: 2px solid #8cf;\n}\n\n/* Make sure li selections wrap around markers */\nli.ProseMirror-selectednode {\n  outline: none;\n}\nli.ProseMirror-selectednode:after {\n  content: "";\n  position: absolute;\n  left: -32px;\n  right: -2px;\n  top: -2px;\n  bottom: -2px;\n  border: 2px solid #8cf;\n  pointer-events: none;\n}\n.has-conflicts .ProseMirror-menubar,\n#editor-wrapper.icon-loading .ProseMirror-menubar {\n  display: none;\n}\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n}\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid var(--color-main-text);\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n@keyframes ProseMirror-cursor-blink {\nto {\n    visibility: hidden;\n}\n}\ndiv[contenteditable=true],\ndiv[contenteditable=false] {\n  border: none !important;\n  width: 100%;\n  background-color: transparent;\n  color: var(--color-main-text);\n  opacity: 1;\n  -webkit-user-select: text;\n  user-select: text;\n}\n\n/* Document rendering styles */\n#editor-wrapper .ProseMirror {\n  margin-top: 44px;\n  height: 100%;\n  position: relative;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  padding: 4px 8px 200px 14px;\n  line-height: 150%;\n  font-size: 14px;\n  outline: none;\n}\n#editor-wrapper .ProseMirror p:first-child,\n  #editor-wrapper .ProseMirror h1:first-child,\n  #editor-wrapper .ProseMirror h2:first-child,\n  #editor-wrapper .ProseMirror h3:first-child,\n  #editor-wrapper .ProseMirror h4:first-child,\n  #editor-wrapper .ProseMirror h5:first-child,\n  #editor-wrapper .ProseMirror h6:first-child {\n    margin-top: 10px;\n}\n#editor-wrapper .ProseMirror a {\n    color: var(--color-primary);\n    text-decoration: underline;\n    padding: .5em 0;\n}\n#editor-wrapper .ProseMirror p {\n    margin-bottom: 1em;\n    line-height: 150%;\n}\n#editor-wrapper .ProseMirror em {\n    font-style: italic;\n}\n#editor-wrapper .ProseMirror h1 {\n    font-size: 36px;\n}\n#editor-wrapper .ProseMirror h2 {\n    font-size: 28px;\n}\n#editor-wrapper .ProseMirror h3 {\n    font-size: 24px;\n}\n#editor-wrapper .ProseMirror h4 {\n    font-size: 21px;\n}\n#editor-wrapper .ProseMirror h5 {\n    font-size: 17px;\n}\n#editor-wrapper .ProseMirror h6 {\n    font-size: 14px;\n}\n#editor-wrapper .ProseMirror h1,\n  #editor-wrapper .ProseMirror h2,\n  #editor-wrapper .ProseMirror h3,\n  #editor-wrapper .ProseMirror h4,\n  #editor-wrapper .ProseMirror h5,\n  #editor-wrapper .ProseMirror h6 {\n    font-weight: 600;\n    line-height: 120%;\n    margin-top: 24px;\n    margin-bottom: 12px;\n    color: var(--color-main-text);\n}\n#editor-wrapper .ProseMirror img {\n    cursor: default;\n    max-width: 100%;\n}\n#editor-wrapper .ProseMirror hr {\n    padding: 2px 0;\n    border: none;\n    margin: 1em 0;\n    width: 100%;\n}\n#editor-wrapper .ProseMirror hr:after {\n    content: "";\n    display: block;\n    height: 1px;\n    background-color: var(--color-border-dark);\n    line-height: 2px;\n}\n#editor-wrapper .ProseMirror pre {\n    white-space: pre-wrap;\n    background-color: var(--color-background-dark);\n    border-radius: var(--border-radius);\n    padding: 1em 1.3em;\n    margin-bottom: 1em;\n}\n#editor-wrapper .ProseMirror p code {\n    background-color: var(--color-background-dark);\n    border-radius: var(--border-radius);\n    padding: .1em .3em;\n}\n#editor-wrapper .ProseMirror li {\n    position: relative;\n}\n#editor-wrapper .ProseMirror ul, #editor-wrapper .ProseMirror ol {\n    padding-left: 14px;\n}\n#editor-wrapper .ProseMirror ul li {\n    list-style-type: disc;\n}\n#editor-wrapper .ProseMirror blockquote {\n    padding-left: 1em;\n    border-left: 4px solid var(--color-primary);\n    color: var(--color-text-maxcontrast);\n    margin-left: 0;\n    margin-right: 0;\n}\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n#editor-wrapper:not(.richEditor) .ProseMirror pre {\n  background-color: var(--color-main-background);\n}\n#editor-wrapper:not(.richEditor) .ProseMirror pre::before {\n    content: attr(data-language);\n    text-transform: uppercase;\n    display: block;\n    text-align: right;\n    font-weight: bold;\n    font-size: 0.6rem;\n}\n#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-comment,\n  #editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-quote {\n    color: #999999;\n}\n#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-variable,\n  #editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-template-variable,\n  #editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-attribute,\n  #editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-tag,\n  #editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-name,\n  #editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-regexp,\n  #editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-link,\n  #editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-name,\n  #editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-selector-id,\n  #editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-selector-class {\n    color: #f2777a;\n}\n#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-number,\n  #editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-meta,\n  #editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-built_in,\n  #editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-builtin-name,\n  #editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-literal,\n  #editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-type,\n  #editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-params {\n    color: #f99157;\n}\n#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-string,\n  #editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-symbol,\n  #editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-bullet {\n    color: #99cc99;\n}\n#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-title,\n  #editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-section {\n    color: #ffcc66;\n}\n#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-keyword,\n  #editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-selector-tag {\n    color: #6699cc;\n}\n#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-emphasis {\n    font-style: italic;\n}\n#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-strong {\n    font-weight: 700;\n}\n',""])},35:function(e,n,r){"use strict";r.r(n);var o=r(15),i=r(70),s=r.n(i),a=r(33),c=r(54);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}
/*
 * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */
var u=300,d=500,p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._authority=t,this.fetchInterval=u,this.retryTime=d,this.lock=!1}var t,n,r;return t=e,(n=[{key:"connect",value:function(){this.fetcher=setInterval(this._fetchSteps.bind(this),this.fetchInterval)}},{key:"_isPublic",value:function(){return!!this._authority.options.shareToken}},{key:"forceSave",value:function(){this._forcedSave=!0,this.fetchSteps()}},{key:"save",value:function(){this._manualSave=!0,this.fetchSteps()}},{key:"fetchSteps",value:function(){this._fetchSteps()}},{key:"_fetchSteps",value:function(){var e,t=this;!this.lock&&this.fetcher&&(this.lock=!0,(this._forcedSave||this._manualSave||!Object(c.sendableSteps)(this._authority.state)&&this._authority._getVersion()!==this._authority.document.lastSavedVersion)&&(e=this._authority._getContent()),s.a.post(Object(a.b)("session/sync",this._isPublic()),{documentId:this._authority.document.id,sessionId:this._authority.session.id,sessionToken:this._authority.session.token,version:this._authority.steps.length,autosaveContent:e,force:!!this._forcedSave,manualSave:!!this._manualSave,token:this._authority.options.shareToken,filePath:this._authority.options.filePath}).then(function(e){if(t._authority.document.lastSavedVersion<e.data.document.lastSavedVersion&&console.debug("Saved document",e.data.document),t._authority.emit("change",{document:e.data.document,sessions:e.data.sessions}),t._authority.document=e.data.document,t._authority.sessions=e.data.sessions,0===e.data.steps.length)return t.lock=!1,e.data.sessions.filter(function(e){return e.lastContact>Date.now()/1e3-20}).length<2?t.maximumRefetchTimer():t.increaseRefetchTimer(),t._authority.emit("stateChange",{dirty:!1}),void t._authority.emit("stateChange",{initialLoading:!0});t._authority._receiveSteps(e.data),t.lock=!1,t._forcedSave=!1,t.resetRefetchTimer()}).catch(function(e){if(t.lock=!1,!e.response)throw e;409===e.response.status&&e.response.data.document.currentVersion===t._authority.document.currentVersion?(console.error("Conflict during file save, please resolve"),t._authority.emit("error",m.SAVE_COLLISSION,{outsideChange:e.response.data.outsideChange})):403===e.response.status?t._authority.emit("error",m.CONNECTION_FAILED,{}):console.error("Failed to fetch steps due to other reason",e)}),this._manualSave=!1,this._forcedSave=!1)}},{key:"sendSteps",value:function(e){var t=this;if(this._authority.emit("stateChange",{dirty:!0}),this.lock)setTimeout(function(){t._authority.sendSteps(e)},100);else{this.lock=!0;var n="function"==typeof e?e():e,r=n.steps;s.a.post(Object(a.b)("session/push",!!this._authority.options.shareToken),{documentId:this._authority.document.id,sessionId:this._authority.session.id,sessionToken:this._authority.session.token,steps:r.map(function(e){return e.toJSON?e.toJSON():e})||[],version:n.version,token:this._authority.options.shareToken,filePath:this._authority.options.filePath}).then(function(e){t.carefulRetryReset(),t.lock=!1,t.fetchSteps()}).catch(function(e){if(console.error("failed to apply steps due to collission, retrying"),t.lock=!1,!e.response)throw e;403===e.response.status&&e.response.data.document.currentVersion===t._authority.document.currentVersion&&(t._authority.emit("error",m.PUSH_FAILURE,{}),OC.Notification.showTemporary("Changes could not be sent yet")),t.fetchSteps(),t.carefulRetry()})}}},{key:"disconnect",value:function(){clearInterval(this.fetcher),this.fetcher=0}},{key:"resetRefetchTimer",value:function(){0!==this.fetcher&&(this.fetchInverval=u,clearInterval(this.fetcher),this.fetcher=setInterval(this._fetchSteps.bind(this),this.fetchInverval))}},{key:"increaseRefetchTimer",value:function(){0!==this.fetcher&&(this.fetchInverval=Math.min(2*this.fetchInverval,5e3),clearInterval(this.fetcher),this.fetcher=setInterval(this._fetchSteps.bind(this),this.fetchInverval))}},{key:"maximumRefetchTimer",value:function(){0!==this.fetcher&&(this.fetchInverval=5e3,clearInterval(this.fetcher),this.fetcher=setInterval(this._fetchSteps.bind(this),this.fetchInverval))}},{key:"carefulRetry",value:function(){var e=this.retryTime?Math.min(2*this.retryTime,1e4):d;e>5e3&&this.retryTime<5e3&&(OC.Notification.showTemporary("Changes could not be sent yet"),this._authority.emit("error",m.PUSH_FAILURE,{})),this.retryTime=e}},{key:"carefulRetryReset",value:function(){this.retryTime=d}}])&&l(t.prototype,n),r&&l(t,r),e}();function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}
/*
 * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */
var f={shareToken:null,forceRecreate:!1,serialize:function(e){return e}},m={SAVE_COLLISSION:0,PUSH_FAILURE:1,LOAD_ERROR:2,CONNECTION_FAILED:3,SOURCE_NOT_FOUND:4},v=function(){function e(t){var n=this;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eventHandlers={opened:[],loaded:[],fetched:[],sync:[],stateChange:[],error:[],change:[]},this.backend=new p(this),this.on("loaded",function(){n.backend.connect()}),this.options=Object.assign({},f,t),this.document=null,this.session=null,this.sessions=[],this.steps=[],this.stepClientIDs=[],this}var t,n,r;return t=e,(n=[{key:"open",value:function(e){var t=this,n=e.fileId,r=e.filePath;return this._openDocument({fileId:n,filePath:r}).then(function(){return t.emit("opened",{document:t.document,session:t.session}),t._fetchDocument().then(function(e){var n=e.data;t.emit("loaded",{document:t.document,session:t.session,documentSource:""+n})})}).catch(function(e){if(!e.response)throw e;return console.error(e.response),t.emit("error",m.LOAD_ERROR,e.response.status),Promise.reject(e)})}},{key:"_openDocument",value:function(e){var t=this,n=e.fileId,r=e.filePath;return s.a.get(Object(a.b)("session/create",!!this.options.shareToken),{params:{fileId:n,filePath:r,token:this.options.shareToken,guestName:this.options.guestName,forceRecreate:this.options.forceRecreate}}).then(function(e){return t.document=e.data.document,t.document.readOnly=e.data.readOnly,t.session=e.data.session,e.data})}},{key:"_fetchDocument",value:function(){return s.a.get(Object(a.b)("session/fetch",!!this.options.shareToken),{params:{documentId:this.document.id,sessionId:this.session.id,sessionToken:this.session.token,token:this.options.shareToken}})}},{key:"updateSession",value:function(e){var t=this;if(this.isPublic())return s.a.post(Object(a.b)("session",!!this.options.shareToken),{documentId:this.document.id,sessionId:this.session.id,sessionToken:this.session.token,token:this.options.shareToken,guestName:e}).then(function(e){var n=e.data;return t.session=n,n}).catch(function(e){return console.error("Failed to update the session",e),Promise.reject(e)})}},{key:"sendSteps",value:function(e){var t=e||Object(c.sendableSteps)(this.state);if(t)return this.backend.sendSteps(t)}},{key:"stepsSince",value:function(e){return{steps:this.steps.slice(e),clientIDs:this.stepClientIDs.slice(e)}}},{key:"_receiveSteps",value:function(e){for(var t=this,n=e.steps,r=e.document,o=[],i=function(e){var r=n[e].data;if(!Array.isArray(r))return console.error("Invalid step data, skipping step",n[e]),"continue";r.forEach(function(r){t.steps.push(r),o.push({step:r,clientID:n[e].sessionId})})},s=0;s<n.length;s++)i(s);this.emit("sync",{steps:o,document:r}),console.debug("receivedSteps","newVersion",this._getVersion())}},{key:"_getVersion",value:function(){return this.state?Object(c.getVersion)(this.state):0}},{key:"_getDocument",value:function(){if(this.state)return this.state.doc}},{key:"_getContent",value:function(){return this.options.serialize(this._getDocument())}},{key:"save",value:function(){this.backend.save&&this.backend.save()}},{key:"forceSave",value:function(){this.backend.forceSave&&this.backend.forceSave()}},{key:"close",value:function(){return this.backend.disconnect(),s.a.get(Object(a.b)("session/close",!!this.options.shareToken),{params:{documentId:this.document.id,sessionId:this.session.id,sessionToken:this.session.token,token:this.options.shareToken}})}},{key:"on",value:function(e,t,n){return this.eventHandlers[e].push(t.bind(n)),this}},{key:"emit",value:function(e,t,n){void 0!==this.eventHandlers[e]?this.eventHandlers[e].forEach(function(e){e(t,n)}):console.error("Event not found",e)}},{key:"isPublic",value:function(){return!!this.options.shareToken}}])&&h(t.prototype,n),r&&h(t,r),e}(),b={py:"python",gyp:"python",wsgi:"python",htm:"html",xhtml:"html",erl:"erlang",jsp:"java",pl:"perl",rss:"xml",atom:"xml",xsl:"xml",plist:"xml",rb:"ruby",builder:"ruby",gemspec:"ruby",podspec:"ruby",thor:"ruby",diff:"patch",hs:"haskell",icl:"haskell",php3:"php",php4:"php",php5:"php",php6:"php",sh:"bash",zsh:"bash",st:"smalltalk",as:"actionscript",apacheconf:"apache",osacript:"applescript",b:"brainfuck",bf:"brainfuck",clj:"clojure","cmake.in":"cmake",coffee:"coffeescript",cson:"coffescript",iced:"coffescript",c:"cpp","c++":"cpp","h++":"cpp",hh:"cpp",jinja:"django",bat:"dos",cmd:"dos",fs:"fsharp",hbs:"handlebars","html.hbs":"handlebars","html.handlebars":"handlebars",sublime_metrics:"json",sublime_session:"json","sublime-keymap":"json","sublime-mousemap":"json","sublime-project":"json","sublime-settings":"json","sublime-workspace":"json",mk:"makefile",mak:"makefile",md:"markdown",mkdown:"markdown",mkd:"markdown",nginxconf:"nginx",m:"objectivec",mm:"objectivec",ml:"ocaml",rs:"rust",sci:"scilab",vb:"vbnet",vbs:"vbscript"},y=r(271),g=r(48),j=r(53);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}
/*
 * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */var P=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),S(this,x(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,g["e"]),n=t,(r=[{key:"keys",value:function(e){e.schema;return this.options}},{key:"name",get:function(){return"save"}}])&&k(n.prototype,r),o&&k(n,o),t}(),O={data:function(){return{isMobile:this._isMobile()}},beforeMount:function(){window.addEventListener("resize",this._onResize)},beforeDestroy:function(){window.removeEventListener("resize",this._onResize)},methods:{_onResize:function(){this.isMobile=this._isMobile()},_isMobile:function(){return document.documentElement.clientWidth<768}}},E=r(50),M=r.n(E),C={name:"EditorWrapper",components:{EditorContent:g.b,MenuBar:function(){return Promise.all([r.e(196),r.e(190)]).then(r.bind(null,361))},MenuBubble:function(){return Promise.all([r.e(196),r.e(190)]).then(r.bind(null,366))},ReadOnlyEditor:function(){return Promise.resolve().then(r.bind(null,362))},CollisionResolveDialog:function(){return Promise.resolve().then(r.bind(null,364))},GuestNameDialog:function(){return Promise.all([r.e(186),r.e(189)]).then(r.bind(null,363))},SessionList:function(){return Promise.all([r.e(186),r.e(188)]).then(r.bind(null,365))}},directives:{Tooltip:M.a},mixins:[O],props:{relativePath:{type:String,default:null},fileId:{type:Number,default:null},active:{type:Boolean,default:!1},shareToken:{type:String,default:null},mime:{type:String,default:null}},data:function(){return{tiptap:null,syncService:null,document:null,sessions:[],currentSession:null,filteredSessions:{},dirty:!1,initialLoading:!1,lastSavedString:"",syncError:null,readOnly:!0,forceRecreate:!1,saveStatusPolling:null}},computed:{lastSavedStatus:function(){var e=this.dirtyStateIndicator?"*":"";return this.isMobile||(e+=this.lastSavedString),e},lastSavedStatusClass:function(){return this.syncError&&""!==this.lastSavedString?"error":""},dirtyStateIndicator:function(){return this.hasUnpushedChanges||this.hasUnsavedChanges},lastSavedStatusTooltip:function(){var e=t("text","Last save {lastSave}",{lastSave:this.lastSavedString});return this.hasSyncCollission&&(e=t("text","The document has been changed outside of the editor. The changes cannot be applied.")),this.hasUnpushedChanges&&(e+=" - "+t("text","Unpushed changes")),this.hasUnsavedChanges&&(e+=" - "+t("text","Unsaved changes")),{content:e,placement:"bottom"}},hasSyncCollission:function(){return this.syncError&&this.syncError.type===m.SAVE_COLLISSION},hasUnpushedChanges:function(){return this.dirty},hasUnsavedChanges:function(){return this.document&&this.document.lastSavedVersion<this.document.currentVersion},backendUrl:function(){var e=this;return function(t){return Object(a.b)(t,!!e.shareToken)}},hasDocumentParameters:function(){return this.fileId||this.shareToken},isPublic:function(){return document.getElementById("isPublic")&&"1"===document.getElementById("isPublic").value},isRichEditor:function(){return"text/markdown"===this.mime},fileExtension:function(){return this.relativePath?this.relativePath.split("/").pop().split(".").pop():"txt"}},watch:{lastSavedStatus:function(){this.$refs.menubar&&this.$refs.menubar.redrawMenuBar()}},mounted:function(){this.active&&this.hasDocumentParameters&&this.initSession(),this.$parent.$emit("update:loaded",!0)},created:function(){var e=this;this.saveStatusPolling=setInterval(function(){e.updateLastSavedStatus()},2e3),document.addEventListener("keydown",this._keyUpHandler,!0)},beforeDestroy:function(){document.removeEventListener("keydown",this._keyUpHandler,!0),clearInterval(this.saveStatusPolling),this.currentSession&&this.syncService&&(this.currentSession=null,this.syncService.close(),this.syncService=null)},methods:{updateLastSavedStatus:function(){this.document&&(this.lastSavedString=window.moment(1e3*this.document.lastSavedVersionTime).fromNow())},initSession:function(){var e=this;if(this.hasDocumentParameters){var t=localStorage.getItem("nick")?localStorage.getItem("nick"):Object(a.c)();this.syncService=new v({shareToken:this.shareToken,filePath:this.relativePath,guestName:t,forceRecreate:this.forceRecreate,serialize:function(t){if(e.isRichEditor){var n=Object(y.b)(e.tiptap.nodes,e.tiptap.marks).serialize(t);return console.debug("serialized document",{markdown:n}),n}var r=Object(y.e)(e.tiptap);return console.debug("serialized document",{file:r}),r}}).on("opened",function(t){var n=t.document,r=t.session;e.currentSession=r,e.document=n,e.readOnly=n.readOnly,localStorage.setItem("nick",e.currentSession.guestName)}).on("change",function(t){var n=t.document,r=t.sessions;""===e.document.baseVersionEtag||n.baseVersionEtag===e.document.baseVersionEtag?(e.updateSessions.bind(e)(r),e.document=n,e.syncError=null,e.tiptap.setOptions({editable:!e.readOnly})):e.resolveUseServerVersion()}).on("loaded",function(t){var n=t.documentSource;Object(y.c)(b[e.fileExtension]?b[e.fileExtension]:e.fileExtension).then(function(t){e.tiptap=Object(y.a)({content:e.isRichEditor?y.d.render(n):"<pre>"+window.escapeHTML(n)+"</pre>",onUpdate:function(t){var n=t.state;e.syncService.state=n},extensions:[new j.g({version:e.document.initialVersion,clientID:e.currentSession.id,debounce:200,onSendable:function(t){t.sendable;e.syncService&&e.syncService.sendSteps()}}),new P({"Ctrl-s":function(){return e.syncService.save(),!0}})],enableRichEditing:e.isRichEditor,languages:t}),e.syncService.state=e.tiptap.state})}).on("sync",function(t){var n=t.steps,r=t.document;try{e.tiptap.extensions.options.collaboration.update({version:r.currentVersion,steps:n}),e.syncService.state=e.tiptap.state,e.updateLastSavedStatus()}catch(e){console.error("Failed to update steps in collaboration plugin",e)}e.document=r}).on("error",function(t,n){e.tiptap.setOptions({editable:!1}),t!==m.SAVE_COLLISSION||e.syncError&&e.syncError.type===m.SAVE_COLLISSION||(e.initialLoading=!0,e.syncError={type:t,data:n}),t===m.CONNECTION_FAILED&&(e.initialLoading=!1,OC.Notification.showTemporary("Connection failed, reconnecting"),e.reconnect()),t===m.SOURCE_NOT_FOUND&&(e.initialLoading=!1,OC.Notification.showTemporary("Source not found"),e.$emit("close"))}).on("stateChange",function(t){t.initialLoading&&!e.initialLoading&&(e.initialLoading=!0,e.tiptap.focus("start")),t.hasOwnProperty("dirty")&&(e.dirty=t.dirty)}),this.syncService.open({fileId:this.fileId,filePath:this.relativePath}),this.forceRecreate=!1}else this.$parent.$emit("error","No valid file provided")},resolveUseThisVersion:function(){this.syncService.forceSave(),this.tiptap.setOptions({editable:!this.readOnly})},resolveUseServerVersion:function(){this.forceRecreate=!0,this.reconnect()},reconnect:function(){this.syncService.close(),this.syncService=null,this.tiptap.destroy(),this.initSession()},updateSessions:function(e){this.sessions=e.sort(function(e,t){return t.lastContact-e.lastContact});var t=this.sessions.map(function(e){return e.userId}),n=this.sessions.map(function(e){return e.guestId}),r=Object.keys(this.filteredSessions).filter(function(e){return!t.includes(e)&&!n.includes(e)});for(var i in r)o.default.delete(this.filteredSessions,r[i]);for(var s in this.sessions){var a=this.sessions[s],c=a.displayName?a.userId:a.id;this.filteredSessions[c]?this.filteredSessions[c].lastContact<a.lastContact&&o.default.set(this.filteredSessions[c],"lastContact",a.lastContact):o.default.set(this.filteredSessions,c,a),a.id===this.currentSession.id&&o.default.set(this.filteredSessions[c],"isCurrent",!0)}},_keyUpHandler:function(e){var t=e.key||e.keyCode;if((e.ctrlKey||e.metaKey)&&!e.shiftKey&&("f"===t||70===t))return e.stopPropagation(),!0}}},I=(r(341),r(343),r(5)),T=Object(I.a)(C,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"editor-container"}},[e.currentSession&&e.active?n("div",[e.hasSyncCollission?n("p",{staticClass:"msg icon-error"},[e._v("\n\t\t\t"+e._s(e.t("text","The document has been changed outside of the editor. The changes cannot be applied."))+"\n\t\t")]):e._e()]):e._e(),e._v(" "),e.currentSession&&e.active?n("div",{class:{"has-conflicts":e.hasSyncCollission,"icon-loading":!e.initialLoading,richEditor:e.isRichEditor},attrs:{id:"editor-wrapper"}},[n("div",{attrs:{id:"editor"}},[e.syncError||e.readOnly?e._e():n("menu-bar",{ref:"menubar",attrs:{editor:e.tiptap,"is-rich-editor":e.isRichEditor}},[e.currentSession&&e.active?n("div",{attrs:{id:"editor-session-list"}},[n("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.lastSavedStatusTooltip,expression:"lastSavedStatusTooltip"}],staticClass:"save-status",class:e.lastSavedStatusClass},[e._v("\n\t\t\t\t\t\t"+e._s(e.lastSavedStatus)+"\n\t\t\t\t\t")]),e._v(" "),n("session-list",{attrs:{sessions:e.filteredSessions}},[e.isPublic&&e.currentSession.guestName?n("guest-name-dialog",{attrs:{"sync-service":e.syncService}}):e._e()],1)],1):e._e()]),e._v(" "),!e.readOnly&&e.isRichEditor?n("menu-bubble",{attrs:{editor:e.tiptap}}):e._e(),e._v(" "),n("editor-content",{directives:[{name:"show",rawName:"v-show",value:e.initialLoading,expression:"initialLoading"}],staticClass:"editor__content",attrs:{editor:e.tiptap}})],1),e._v(" "),e.hasSyncCollission?n("read-only-editor",{attrs:{content:e.syncError.data.outsideChange,"is-rich-editor":e.isRichEditor}}):e._e()],1):e._e(),e._v(" "),e.hasSyncCollission&&!e.readOnly?n("collision-resolve-dialog",{on:{resolveUseThisVersion:e.resolveUseThisVersion,resolveUseServerVersion:e.resolveUseServerVersion}}):e._e()],1)},[],!1,null,"8aaec4a6",null);
/*
 * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */
/*
 * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */n.default=T.exports},353:function(e,t,n){"use strict";var r=n(66);n.n(r).a},354:function(e,t,n){(e.exports=n(46)(!1)).push([e.i,"#read-only-editor[data-v-7a012ea5] {\n  overflow: scroll;\n}\n",""])},355:function(e,t,n){"use strict";var r=n(67);n.n(r).a},356:function(e,t,n){(e.exports=n(46)(!1)).push([e.i,"#resolve-conflicts[data-v-1c2d184a] {\n  display: flex;\n  position: fixed;\n  z-index: 10000;\n  bottom: 0;\n  max-width: 900px;\n  width: 100vw;\n  margin: auto;\n  padding: 20px 0;\n}\n#resolve-conflicts button[data-v-1c2d184a] {\n    margin: auto;\n    box-shadow: 0 0 10px var(--color-box-shadow);\n}\n",""])},362:function(e,t,n){"use strict";n.r(t);var r=n(48),o=n(271),i={name:"ReadOnlyEditor",components:{EditorContent:r.b},props:{content:{type:String,required:!0},isRichEditor:{type:Boolean,default:!1}},data:function(){return{editor:null}},mounted:function(){this.editor=Object(o.a)({content:this.isRichEditor?o.d.render(this.content):"<pre>"+window.escapeHTML(this.content)+"</pre>",enableRichEditing:this.isRichEditor}),this.editor.setOptions({editable:!1})},beforeDestroy:function(){this.editor.destroy()}},s=(n(353),n(5)),a=Object(s.a)(i,function(){var e=this.$createElement,t=this._self._c||e;return this.editor?t("editor-content",{attrs:{id:"read-only-editor",editor:this.editor}}):this._e()},[],!1,null,"7a012ea5",null);t.default=a.exports},364:function(e,t,n){"use strict";n.r(t);var r={name:"CollisionResolveDialog"},o=(n(355),n(5)),i=Object(o.a)(r,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"collision-resolve-dialog",attrs:{id:"resolve-conflicts"}},[n("button",{on:{click:function(t){return e.$emit("resolveUseThisVersion")}}},[e._v("\n\t\t"+e._s(e.t("text","Use current version"))+"\n\t")]),e._v(" "),n("button",{on:{click:function(t){return e.$emit("resolveUseServerVersion")}}},[e._v("\n\t\t"+e._s(e.t("text","Use the saved version"))+"\n\t")])])},[],!1,null,"1c2d184a",null);t.default=i.exports},57:function(e,t,n){var r=n(283);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n(47).default)("0e73d06f",r,!0,{})},61:function(e,t,n){var r=n(342);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n(47).default)("038abb85",r,!0,{})},62:function(e,t,n){var r=n(344);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n(47).default)("de4c163c",r,!0,{})},66:function(e,t,n){var r=n(354);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n(47).default)("e6d84634",r,!0,{})},67:function(e,t,n){var r=n(356);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n(47).default)("724c1b66",r,!0,{})}}]);
//# sourceMappingURL=editor.js.map?v=e6254ab99133bb6532ee