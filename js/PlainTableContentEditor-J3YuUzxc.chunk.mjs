import{m as n,E as a,c as i,a as s}from"./NcColorPicker-DfnhHJmY.chunk.mjs";import{H as d}from"./index-DrV-eJ8J.chunk.mjs";import{C as c,M as m,W as p}from"./Wrapper-CMouzaPZ.chunk.mjs";import{c as h,d as l,I as $,e as u,E as y}from"./MediaHandler.provider-BJ1SsG4D.chunk.mjs";import{n as f}from"./_plugin-vue2_normalizer-wd1ZAbRr.chunk.mjs";import"./vue.runtime.esm-C7aVrvtW.chunk.mjs";import"./index-Dtu68Mmq.chunk.mjs";import"./modulepreload-polyfill-nb9XBeg7.chunk.mjs";import"./emoji-picker-DlAAdvrL.chunk.mjs";import"./index-DqP6CuPc.chunk.mjs";import"./NcLoadingIcon-CHw5fok5.chunk.mjs";import"./NcCheckboxRadioSwitch-ip_mRd2T-kNk9kCSa.chunk.mjs";import"./NcNoteCard-ChweF_5Q-C5i59jBT.chunk.mjs";import"./index-DfiDB3im.chunk.mjs";import"./index-_QHNqdwt.chunk.mjs";import"./logger-Bu78VaEB.chunk.mjs";const g={name:"PlainTableContentEditor",components:{ContentContainer:c,MainContainer:m,Wrapper:p},provide(){const t={};return Object.defineProperties(t,{[h]:{get:()=>this.$editor},[l]:{get:()=>!1},[$]:{get:()=>!1},[u]:{get:()=>!1},[y]:{get:()=>!1}}),t},props:{content:{type:String,default:""},readOnly:{type:Boolean,default:!1}},emits:["update:content","ready","create:content"],computed:{editor(){return this.$editor}},created(){const t=n.render(this.content),e=[s,d];this.$editor=new a({content:t,extensions:e,editable:!this.readOnly}),this.$editor.on("create",()=>{this.$emit("ready"),this.$parent.$emit("ready");try{const r=i(this.$editor.schema).serialize(this.$editor.state.doc);this.emit("create:content",{json:this.$editor.state.doc,markdown:r})}catch(r){console.error("Error serializing table:",r)}}),this.$editor.on("update",({editor:r})=>{try{const o=i(r.schema).serialize(r.state.doc);this.emit("update:content",{json:r.state.doc,markdown:o})}catch(o){console.error("Error serializing table:",o)}})},updated(){this.$editor.setEditable(!this.readOnly)},beforeDestroy(){this.$editor.destroy()},methods:{emit(t,e){this.$emit(t,e),this.$parent?.$emit(t,e)}}};var C=function(){var t=this,e=t._self._c;return e("Wrapper",{attrs:{"content-loaded":!0,"show-outline-outside":!1}},[e("MainContainer",[e("ContentContainer",{attrs:{"read-only":t.readOnly}})],1)],1)},b=[],E=f(g,C,b,!1,null,"322564ad");const T=E.exports;export{T as default};
//# sourceMappingURL=PlainTableContentEditor-J3YuUzxc.chunk.mjs.map
