import{p as mt,g as Jt,o as yn,a as vn}from"./modulepreload-polyfill-B3hybnpm.chunk.mjs";import{p as ut}from"./_plugin-vue2_normalizer-BNL0n0sv-DPZOKPcj.chunk.mjs";import{g as bn}from"./index-DzPZc6Sq.chunk.mjs";import{U as En}from"./index-DOPBV2O1.chunk.mjs";import{g as bt}from"./vue.runtime.esm-Cd-BRs9x.chunk.mjs";import{i as Qt,g as Nn,d as xn,e as ze}from"./NcNoteCard-C6xb7vi0-DT19luaD.chunk.mjs";function An(e){return e&&e.split("/").map(encodeURIComponent).join("/")}function it(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function we(e,t,n){On(e,t),t.set(e,n)}function On(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function G(e,t){var n=Ve(e,t,"get");return In(e,n)}function In(e,t){return t.get?t.get.call(e):t.value}function ye(e,t,n){var r=Ve(e,t,"set");return Tn(e,r,n),n}function Ve(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function Tn(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}var Pn=typeof Symbol<"u"?Symbol.toStringTag:"@@toStringTag",B=new WeakMap,pt=new WeakMap;class St{constructor(t){var{executor:n=()=>{},internals:r=ee(),promise:i=new Promise((o,l)=>n(o,l,c=>{r.onCancelList.push(c)}))}=t;we(this,B,{writable:!0,value:void 0}),we(this,pt,{writable:!0,value:void 0}),it(this,Pn,"CancelablePromise"),this.cancel=this.cancel.bind(this),ye(this,B,r),ye(this,pt,i||new Promise((o,l)=>n(o,l,c=>{r.onCancelList.push(c)})))}then(t,n){return At(G(this,pt).then(Et(t,G(this,B)),Et(n,G(this,B))),G(this,B))}catch(t){return At(G(this,pt).catch(Et(t,G(this,B))),G(this,B))}finally(t,n){return n&&G(this,B).onCancelList.push(t),At(G(this,pt).finally(Et(()=>{if(t)return n&&(G(this,B).onCancelList=G(this,B).onCancelList.filter(r=>r!==t)),t()},G(this,B))),G(this,B))}cancel(){G(this,B).isCanceled=!0;var t=G(this,B).onCancelList;G(this,B).onCancelList=[];for(var n of t)if(typeof n=="function")try{n()}catch(r){console.error(r)}}isCanceled(){return G(this,B).isCanceled===!0}}class et extends St{constructor(t){super({executor:t})}}it(et,"all",function(e){return Nt(e,Promise.all(e))}),it(et,"allSettled",function(e){return Nt(e,Promise.allSettled(e))}),it(et,"any",function(e){return Nt(e,Promise.any(e))}),it(et,"race",function(e){return Nt(e,Promise.race(e))}),it(et,"resolve",function(e){return ve(Promise.resolve(e))}),it(et,"reject",function(e){return ve(Promise.reject(e))}),it(et,"isCancelable",te);function ve(e){return At(e,ee())}function te(e){return e instanceof et||e instanceof St}function Et(e,t){if(e)return n=>{if(!t.isCanceled){var r=e(n);return te(r)&&t.onCancelList.push(r.cancel),r}return n}}function At(e,t){return new St({internals:t,promise:e})}function Nt(e,t){var n=ee();return n.onCancelList.push(()=>{for(var r of e)te(r)&&r.cancel()}),new St({internals:n,promise:t})}function ee(){return{isCanceled:!1,onCancelList:[]}}var jt={},Rn={2:e=>{function t(i,o,l){i instanceof RegExp&&(i=n(i,l)),o instanceof RegExp&&(o=n(o,l));var c=r(i,o,l);return c&&{start:c[0],end:c[1],pre:l.slice(0,c[0]),body:l.slice(c[0]+i.length,c[1]),post:l.slice(c[1]+o.length)}}function n(i,o){var l=o.match(i);return l?l[0]:null}function r(i,o,l){var c,h,s,a,f,u=l.indexOf(i),d=l.indexOf(o,u+1),p=u;if(u>=0&&d>0){for(c=[],s=l.length;p>=0&&!f;)p==u?(c.push(p),u=l.indexOf(i,p+1)):c.length==1?f=[c.pop(),d]:((h=c.pop())<s&&(s=h,a=d),d=l.indexOf(o,p+1)),p=u<d&&u>=0?u:d;c.length&&(f=[s,a])}return f}e.exports=t,t.range=r},101:function(e,t,n){var r;e=n.nmd(e),function(i){var o=(e&&e.exports,typeof bt=="object"&&bt);o.global!==o&&o.window;var l=function(f){this.message=f};(l.prototype=new Error).name="InvalidCharacterError";var c=function(f){throw new l(f)},h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=/[\t\n\f\r ]/g,a={encode:function(f){f=String(f),/[^\0-\xFF]/.test(f)&&c("The string to be encoded contains characters outside of the Latin1 range.");for(var u,d,p,m,w=f.length%3,E="",g=-1,y=f.length-w;++g<y;)u=f.charCodeAt(g)<<16,d=f.charCodeAt(++g)<<8,p=f.charCodeAt(++g),E+=h.charAt((m=u+d+p)>>18&63)+h.charAt(m>>12&63)+h.charAt(m>>6&63)+h.charAt(63&m);return w==2?(u=f.charCodeAt(g)<<8,d=f.charCodeAt(++g),E+=h.charAt((m=u+d)>>10)+h.charAt(m>>4&63)+h.charAt(m<<2&63)+"="):w==1&&(m=f.charCodeAt(g),E+=h.charAt(m>>2)+h.charAt(m<<4&63)+"=="),E},decode:function(f){var u=(f=String(f).replace(s,"")).length;u%4==0&&(u=(f=f.replace(/==?$/,"")).length),(u%4==1||/[^+a-zA-Z0-9/]/.test(f))&&c("Invalid character: the string to be decoded is not correctly encoded.");for(var d,p,m=0,w="",E=-1;++E<u;)p=h.indexOf(f.charAt(E)),d=m%4?64*d+p:p,m++%4&&(w+=String.fromCharCode(255&d>>(-2*m&6)));return w},version:"1.0.0"};(r=function(){return a}.call(t,n,t,e))===void 0||(e.exports=r)}()},172:(e,t)=>{t.d=function(n){if(!n)return 0;for(var r=(n=n.toString()).length,i=n.length;i--;){var o=n.charCodeAt(i);56320<=o&&o<=57343&&i--,127<o&&o<=2047?r++:2047<o&&o<=65535&&(r+=2)}return r}},526:e=>{var t={utf8:{stringToBytes:function(n){return t.bin.stringToBytes(unescape(encodeURIComponent(n)))},bytesToString:function(n){return decodeURIComponent(escape(t.bin.bytesToString(n)))}},bin:{stringToBytes:function(n){for(var r=[],i=0;i<n.length;i++)r.push(255&n.charCodeAt(i));return r},bytesToString:function(n){for(var r=[],i=0;i<n.length;i++)r.push(String.fromCharCode(n[i]));return r.join("")}}};e.exports=t},298:e=>{var t,n;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(r,i){return r<<i|r>>>32-i},rotr:function(r,i){return r<<32-i|r>>>i},endian:function(r){if(r.constructor==Number)return 16711935&n.rotl(r,8)|4278255360&n.rotl(r,24);for(var i=0;i<r.length;i++)r[i]=n.endian(r[i]);return r},randomBytes:function(r){for(var i=[];r>0;r--)i.push(Math.floor(256*Math.random()));return i},bytesToWords:function(r){for(var i=[],o=0,l=0;o<r.length;o++,l+=8)i[l>>>5]|=r[o]<<24-l%32;return i},wordsToBytes:function(r){for(var i=[],o=0;o<32*r.length;o+=8)i.push(r[o>>>5]>>>24-o%32&255);return i},bytesToHex:function(r){for(var i=[],o=0;o<r.length;o++)i.push((r[o]>>>4).toString(16)),i.push((15&r[o]).toString(16));return i.join("")},hexToBytes:function(r){for(var i=[],o=0;o<r.length;o+=2)i.push(parseInt(r.substr(o,2),16));return i},bytesToBase64:function(r){for(var i=[],o=0;o<r.length;o+=3)for(var l=r[o]<<16|r[o+1]<<8|r[o+2],c=0;c<4;c++)8*o+6*c<=8*r.length?i.push(t.charAt(l>>>6*(3-c)&63)):i.push("=");return i.join("")},base64ToBytes:function(r){r=r.replace(/[^A-Z0-9+\/]/gi,"");for(var i=[],o=0,l=0;o<r.length;l=++o%4)l!=0&&i.push((t.indexOf(r.charAt(o-1))&Math.pow(2,-2*l+8)-1)<<2*l|t.indexOf(r.charAt(o))>>>6-2*l);return i}},e.exports=n},635:(e,t,n)=>{const r=n(31),i=n(338),o=n(221);e.exports={XMLParser:i,XMLValidator:r,XMLBuilder:o}},705:(e,t)=>{const n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r="["+n+"]["+n+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",i=new RegExp("^"+r+"$");t.isExist=function(o){return o!==void 0},t.isEmptyObject=function(o){return Object.keys(o).length===0},t.merge=function(o,l,c){if(l){const h=Object.keys(l),s=h.length;for(let a=0;a<s;a++)o[h[a]]=c==="strict"?[l[h[a]]]:l[h[a]]}},t.getValue=function(o){return t.isExist(o)?o:""},t.isName=function(o){return i.exec(o)!=null},t.getAllMatches=function(o,l){const c=[];let h=l.exec(o);for(;h;){const s=[];s.startIndex=l.lastIndex-h[0].length;const a=h.length;for(let f=0;f<a;f++)s.push(h[f]);c.push(s),h=l.exec(o)}return c},t.nameRegexp=r},31:(e,t,n)=>{const r=n(705),i={allowBooleanAttributes:!1,unpairedTags:[]};function o(g){return g===" "||g==="	"||g===`
`||g==="\r"}function l(g,y){const b=y;for(;y<g.length;y++)if(!(g[y]!="?"&&g[y]!=" ")){const v=g.substr(b,y-b);if(y>5&&v==="xml")return p("InvalidXml","XML declaration allowed only at the start of the document.",w(g,y));if(g[y]=="?"&&g[y+1]==">"){y++;break}}return y}function c(g,y){if(g.length>y+5&&g[y+1]==="-"&&g[y+2]==="-"){for(y+=3;y<g.length;y++)if(g[y]==="-"&&g[y+1]==="-"&&g[y+2]===">"){y+=2;break}}else if(g.length>y+8&&g[y+1]==="D"&&g[y+2]==="O"&&g[y+3]==="C"&&g[y+4]==="T"&&g[y+5]==="Y"&&g[y+6]==="P"&&g[y+7]==="E"){let b=1;for(y+=8;y<g.length;y++)if(g[y]==="<")b++;else if(g[y]===">"&&(b--,b===0))break}else if(g.length>y+9&&g[y+1]==="["&&g[y+2]==="C"&&g[y+3]==="D"&&g[y+4]==="A"&&g[y+5]==="T"&&g[y+6]==="A"&&g[y+7]==="["){for(y+=8;y<g.length;y++)if(g[y]==="]"&&g[y+1]==="]"&&g[y+2]===">"){y+=2;break}}return y}t.validate=function(g,y){y=Object.assign({},i,y);const b=[];let v=!1,A=!1;g[0]==="\uFEFF"&&(g=g.substr(1));for(let x=0;x<g.length;x++)if(g[x]==="<"&&g[x+1]==="?"){if(x+=2,x=l(g,x),x.err)return x}else{if(g[x]!=="<"){if(o(g[x]))continue;return p("InvalidChar","char '"+g[x]+"' is not expected.",w(g,x))}{let O=x;if(x++,g[x]==="!"){x=c(g,x);continue}{let P=!1;g[x]==="/"&&(P=!0,x++);let R="";for(;x<g.length&&g[x]!==">"&&g[x]!==" "&&g[x]!=="	"&&g[x]!==`
`&&g[x]!=="\r";x++)R+=g[x];if(R=R.trim(),R[R.length-1]==="/"&&(R=R.substring(0,R.length-1),x--),N=R,!r.isName(N)){let $;return $=R.trim().length===0?"Invalid space after '<'.":"Tag '"+R+"' is an invalid name.",p("InvalidTag",$,w(g,x))}const T=a(g,x);if(T===!1)return p("InvalidAttr","Attributes for '"+R+"' have open quote.",w(g,x));let I=T.value;if(x=T.index,I[I.length-1]==="/"){const $=x-I.length;I=I.substring(0,I.length-1);const L=u(I,y);if(L!==!0)return p(L.err.code,L.err.msg,w(g,$+L.err.line));v=!0}else if(P){if(!T.tagClosed)return p("InvalidTag","Closing tag '"+R+"' doesn't have proper closing.",w(g,x));if(I.trim().length>0)return p("InvalidTag","Closing tag '"+R+"' can't have attributes or invalid starting.",w(g,O));if(b.length===0)return p("InvalidTag","Closing tag '"+R+"' has not been opened.",w(g,O));{const $=b.pop();if(R!==$.tagName){let L=w(g,$.tagStartPos);return p("InvalidTag","Expected closing tag '"+$.tagName+"' (opened in line "+L.line+", col "+L.col+") instead of closing tag '"+R+"'.",w(g,O))}b.length==0&&(A=!0)}}else{const $=u(I,y);if($!==!0)return p($.err.code,$.err.msg,w(g,x-I.length+$.err.line));if(A===!0)return p("InvalidXml","Multiple possible root nodes found.",w(g,x));y.unpairedTags.indexOf(R)!==-1||b.push({tagName:R,tagStartPos:O}),v=!0}for(x++;x<g.length;x++)if(g[x]==="<"){if(g[x+1]==="!"){x++,x=c(g,x);continue}if(g[x+1]!=="?")break;if(x=l(g,++x),x.err)return x}else if(g[x]==="&"){const $=d(g,x);if($==-1)return p("InvalidChar","char '&' is not expected.",w(g,x));x=$}else if(A===!0&&!o(g[x]))return p("InvalidXml","Extra text at the end",w(g,x));g[x]==="<"&&x--}}}var N;return v?b.length==1?p("InvalidTag","Unclosed tag '"+b[0].tagName+"'.",w(g,b[0].tagStartPos)):!(b.length>0)||p("InvalidXml","Invalid '"+JSON.stringify(b.map(x=>x.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):p("InvalidXml","Start tag expected.",1)};const h='"',s="'";function a(g,y){let b="",v="",A=!1;for(;y<g.length;y++){if(g[y]===h||g[y]===s)v===""?v=g[y]:v!==g[y]||(v="");else if(g[y]===">"&&v===""){A=!0;break}b+=g[y]}return v===""&&{value:b,index:y,tagClosed:A}}const f=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function u(g,y){const b=r.getAllMatches(g,f),v={};for(let A=0;A<b.length;A++){if(b[A][1].length===0)return p("InvalidAttr","Attribute '"+b[A][2]+"' has no space in starting.",E(b[A]));if(b[A][3]!==void 0&&b[A][4]===void 0)return p("InvalidAttr","Attribute '"+b[A][2]+"' is without value.",E(b[A]));if(b[A][3]===void 0&&!y.allowBooleanAttributes)return p("InvalidAttr","boolean attribute '"+b[A][2]+"' is not allowed.",E(b[A]));const N=b[A][2];if(!m(N))return p("InvalidAttr","Attribute '"+N+"' is an invalid name.",E(b[A]));if(v.hasOwnProperty(N))return p("InvalidAttr","Attribute '"+N+"' is repeated.",E(b[A]));v[N]=1}return!0}function d(g,y){if(g[++y]===";")return-1;if(g[y]==="#")return function(v,A){let N=/\d/;for(v[A]==="x"&&(A++,N=/[\da-fA-F]/);A<v.length;A++){if(v[A]===";")return A;if(!v[A].match(N))break}return-1}(g,++y);let b=0;for(;y<g.length;y++,b++)if(!(g[y].match(/\w/)&&b<20)){if(g[y]===";")break;return-1}return y}function p(g,y,b){return{err:{code:g,msg:y,line:b.line||b,col:b.col}}}function m(g){return r.isName(g)}function w(g,y){const b=g.substring(0,y).split(/\r?\n/);return{line:b.length,col:b[b.length-1].length+1}}function E(g){return g.startIndex+g[1].length}},221:(e,t,n)=>{const r=n(87),i={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(s,a){return a},attributeValueProcessor:function(s,a){return a},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function o(s){this.options=Object.assign({},i,s),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=h),this.processTextOrObjNode=l,this.options.format?(this.indentate=c,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function l(s,a,f){const u=this.j2x(s,f+1);return s[this.options.textNodeName]!==void 0&&Object.keys(s).length===1?this.buildTextValNode(s[this.options.textNodeName],a,u.attrStr,f):this.buildObjectNode(u.val,a,u.attrStr,f)}function c(s){return this.options.indentBy.repeat(s)}function h(s){return!(!s.startsWith(this.options.attributeNamePrefix)||s===this.options.textNodeName)&&s.substr(this.attrPrefixLen)}o.prototype.build=function(s){return this.options.preserveOrder?r(s,this.options):(Array.isArray(s)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(s={[this.options.arrayNodeName]:s}),this.j2x(s,0).val)},o.prototype.j2x=function(s,a){let f="",u="";for(let d in s)if(Object.prototype.hasOwnProperty.call(s,d))if(s[d]===void 0)this.isAttribute(d)&&(u+="");else if(s[d]===null)this.isAttribute(d)?u+="":d[0]==="?"?u+=this.indentate(a)+"<"+d+"?"+this.tagEndChar:u+=this.indentate(a)+"<"+d+"/"+this.tagEndChar;else if(s[d]instanceof Date)u+=this.buildTextValNode(s[d],d,"",a);else if(typeof s[d]!="object"){const p=this.isAttribute(d);if(p)f+=this.buildAttrPairStr(p,""+s[d]);else if(d===this.options.textNodeName){let m=this.options.tagValueProcessor(d,""+s[d]);u+=this.replaceEntitiesValue(m)}else u+=this.buildTextValNode(s[d],d,"",a)}else if(Array.isArray(s[d])){const p=s[d].length;let m="",w="";for(let E=0;E<p;E++){const g=s[d][E];if(g!==void 0)if(g===null)d[0]==="?"?u+=this.indentate(a)+"<"+d+"?"+this.tagEndChar:u+=this.indentate(a)+"<"+d+"/"+this.tagEndChar;else if(typeof g=="object")if(this.options.oneListGroup){const y=this.j2x(g,a+1);m+=y.val,this.options.attributesGroupName&&g.hasOwnProperty(this.options.attributesGroupName)&&(w+=y.attrStr)}else m+=this.processTextOrObjNode(g,d,a);else if(this.options.oneListGroup){let y=this.options.tagValueProcessor(d,g);y=this.replaceEntitiesValue(y),m+=y}else m+=this.buildTextValNode(g,d,"",a)}this.options.oneListGroup&&(m=this.buildObjectNode(m,d,w,a)),u+=m}else if(this.options.attributesGroupName&&d===this.options.attributesGroupName){const p=Object.keys(s[d]),m=p.length;for(let w=0;w<m;w++)f+=this.buildAttrPairStr(p[w],""+s[d][p[w]])}else u+=this.processTextOrObjNode(s[d],d,a);return{attrStr:f,val:u}},o.prototype.buildAttrPairStr=function(s,a){return a=this.options.attributeValueProcessor(s,""+a),a=this.replaceEntitiesValue(a),this.options.suppressBooleanAttributes&&a==="true"?" "+s:" "+s+'="'+a+'"'},o.prototype.buildObjectNode=function(s,a,f,u){if(s==="")return a[0]==="?"?this.indentate(u)+"<"+a+f+"?"+this.tagEndChar:this.indentate(u)+"<"+a+f+this.closeTag(a)+this.tagEndChar;{let d="</"+a+this.tagEndChar,p="";return a[0]==="?"&&(p="?",d=""),!f&&f!==""||s.indexOf("<")!==-1?this.options.commentPropName!==!1&&a===this.options.commentPropName&&p.length===0?this.indentate(u)+`<!--${s}-->`+this.newLine:this.indentate(u)+"<"+a+f+p+this.tagEndChar+s+this.indentate(u)+d:this.indentate(u)+"<"+a+f+p+">"+s+d}},o.prototype.closeTag=function(s){let a="";return this.options.unpairedTags.indexOf(s)!==-1?this.options.suppressUnpairedNode||(a="/"):a=this.options.suppressEmptyNode?"/":`></${s}`,a},o.prototype.buildTextValNode=function(s,a,f,u){if(this.options.cdataPropName!==!1&&a===this.options.cdataPropName)return this.indentate(u)+`<![CDATA[${s}]]>`+this.newLine;if(this.options.commentPropName!==!1&&a===this.options.commentPropName)return this.indentate(u)+`<!--${s}-->`+this.newLine;if(a[0]==="?")return this.indentate(u)+"<"+a+f+"?"+this.tagEndChar;{let d=this.options.tagValueProcessor(a,s);return d=this.replaceEntitiesValue(d),d===""?this.indentate(u)+"<"+a+f+this.closeTag(a)+this.tagEndChar:this.indentate(u)+"<"+a+f+">"+d+"</"+a+this.tagEndChar}},o.prototype.replaceEntitiesValue=function(s){if(s&&s.length>0&&this.options.processEntities)for(let a=0;a<this.options.entities.length;a++){const f=this.options.entities[a];s=s.replace(f.regex,f.val)}return s},e.exports=o},87:e=>{function t(l,c,h,s){let a="",f=!1;for(let u=0;u<l.length;u++){const d=l[u],p=n(d);if(p===void 0)continue;let m="";if(m=h.length===0?p:`${h}.${p}`,p===c.textNodeName){let y=d[p];i(m,c)||(y=c.tagValueProcessor(p,y),y=o(y,c)),f&&(a+=s),a+=y,f=!1;continue}if(p===c.cdataPropName){f&&(a+=s),a+=`<![CDATA[${d[p][0][c.textNodeName]}]]>`,f=!1;continue}if(p===c.commentPropName){a+=s+`<!--${d[p][0][c.textNodeName]}-->`,f=!0;continue}if(p[0]==="?"){const y=r(d[":@"],c),b=p==="?xml"?"":s;let v=d[p][0][c.textNodeName];v=v.length!==0?" "+v:"",a+=b+`<${p}${v}${y}?>`,f=!0;continue}let w=s;w!==""&&(w+=c.indentBy);const E=s+`<${p}${r(d[":@"],c)}`,g=t(d[p],c,m,w);c.unpairedTags.indexOf(p)!==-1?c.suppressUnpairedNode?a+=E+">":a+=E+"/>":g&&g.length!==0||!c.suppressEmptyNode?g&&g.endsWith(">")?a+=E+`>${g}${s}</${p}>`:(a+=E+">",g&&s!==""&&(g.includes("/>")||g.includes("</"))?a+=s+c.indentBy+g+s:a+=g,a+=`</${p}>`):a+=E+"/>",f=!0}return a}function n(l){const c=Object.keys(l);for(let h=0;h<c.length;h++){const s=c[h];if(l.hasOwnProperty(s)&&s!==":@")return s}}function r(l,c){let h="";if(l&&!c.ignoreAttributes)for(let s in l){if(!l.hasOwnProperty(s))continue;let a=c.attributeValueProcessor(s,l[s]);a=o(a,c),a===!0&&c.suppressBooleanAttributes?h+=` ${s.substr(c.attributeNamePrefix.length)}`:h+=` ${s.substr(c.attributeNamePrefix.length)}="${a}"`}return h}function i(l,c){let h=(l=l.substr(0,l.length-c.textNodeName.length-1)).substr(l.lastIndexOf(".")+1);for(let s in c.stopNodes)if(c.stopNodes[s]===l||c.stopNodes[s]==="*."+h)return!0;return!1}function o(l,c){if(l&&l.length>0&&c.processEntities)for(let h=0;h<c.entities.length;h++){const s=c.entities[h];l=l.replace(s.regex,s.val)}return l}e.exports=function(l,c){let h="";return c.format&&c.indentBy.length>0&&(h=`
`),t(l,c,"",h)}},193:(e,t,n)=>{const r=n(705);function i(f,u){let d="";for(;u<f.length&&f[u]!=="'"&&f[u]!=='"';u++)d+=f[u];if(d=d.trim(),d.indexOf(" ")!==-1)throw new Error("External entites are not supported");const p=f[u++];let m="";for(;u<f.length&&f[u]!==p;u++)m+=f[u];return[d,m,u]}function o(f,u){return f[u+1]==="!"&&f[u+2]==="-"&&f[u+3]==="-"}function l(f,u){return f[u+1]==="!"&&f[u+2]==="E"&&f[u+3]==="N"&&f[u+4]==="T"&&f[u+5]==="I"&&f[u+6]==="T"&&f[u+7]==="Y"}function c(f,u){return f[u+1]==="!"&&f[u+2]==="E"&&f[u+3]==="L"&&f[u+4]==="E"&&f[u+5]==="M"&&f[u+6]==="E"&&f[u+7]==="N"&&f[u+8]==="T"}function h(f,u){return f[u+1]==="!"&&f[u+2]==="A"&&f[u+3]==="T"&&f[u+4]==="T"&&f[u+5]==="L"&&f[u+6]==="I"&&f[u+7]==="S"&&f[u+8]==="T"}function s(f,u){return f[u+1]==="!"&&f[u+2]==="N"&&f[u+3]==="O"&&f[u+4]==="T"&&f[u+5]==="A"&&f[u+6]==="T"&&f[u+7]==="I"&&f[u+8]==="O"&&f[u+9]==="N"}function a(f){if(r.isName(f))return f;throw new Error(`Invalid entity name ${f}`)}e.exports=function(f,u){const d={};if(f[u+3]!=="O"||f[u+4]!=="C"||f[u+5]!=="T"||f[u+6]!=="Y"||f[u+7]!=="P"||f[u+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{u+=9;let p=1,m=!1,w=!1,E="";for(;u<f.length;u++)if(f[u]!=="<"||w)if(f[u]===">"){if(w?f[u-1]==="-"&&f[u-2]==="-"&&(w=!1,p--):p--,p===0)break}else f[u]==="["?m=!0:E+=f[u];else{if(m&&l(f,u))u+=7,[entityName,val,u]=i(f,u+1),val.indexOf("&")===-1&&(d[a(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(m&&c(f,u))u+=8;else if(m&&h(f,u))u+=8;else if(m&&s(f,u))u+=9;else{if(!o)throw new Error("Invalid DOCTYPE");w=!0}p++,E=""}if(p!==0)throw new Error("Unclosed DOCTYPE")}return{entities:d,i:u}}},63:(e,t)=>{const n={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(r,i){return i},attributeValueProcessor:function(r,i){return i},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(r,i,o){return r}};t.buildOptions=function(r){return Object.assign({},n,r)},t.defaultOptions=n},299:(e,t,n)=>{const r=n(705),i=n(365),o=n(193),l=n(494);function c(v){const A=Object.keys(v);for(let N=0;N<A.length;N++){const x=A[N];this.lastEntities[x]={regex:new RegExp("&"+x+";","g"),val:v[x]}}}function h(v,A,N,x,O,P,R){if(v!==void 0&&(this.options.trimValues&&!x&&(v=v.trim()),v.length>0)){R||(v=this.replaceEntitiesValue(v));const T=this.options.tagValueProcessor(A,v,N,O,P);return T==null?v:typeof T!=typeof v||T!==v?T:this.options.trimValues||v.trim()===v?b(v,this.options.parseTagValue,this.options.numberParseOptions):v}}function s(v){if(this.options.removeNSPrefix){const A=v.split(":"),N=v.charAt(0)==="/"?"/":"";if(A[0]==="xmlns")return"";A.length===2&&(v=N+A[1])}return v}const a=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function f(v,A,N){if(!this.options.ignoreAttributes&&typeof v=="string"){const x=r.getAllMatches(v,a),O=x.length,P={};for(let R=0;R<O;R++){const T=this.resolveNameSpace(x[R][1]);let I=x[R][4],$=this.options.attributeNamePrefix+T;if(T.length)if(this.options.transformAttributeName&&($=this.options.transformAttributeName($)),$==="__proto__"&&($="#__proto__"),I!==void 0){this.options.trimValues&&(I=I.trim()),I=this.replaceEntitiesValue(I);const L=this.options.attributeValueProcessor(T,I,A);P[$]=L==null?I:typeof L!=typeof I||L!==I?L:b(I,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(P[$]=!0)}if(!Object.keys(P).length)return;if(this.options.attributesGroupName){const R={};return R[this.options.attributesGroupName]=P,R}return P}}const u=function(v){v=v.replace(/\r\n?/g,`
`);const A=new i("!xml");let N=A,x="",O="";for(let P=0;P<v.length;P++)if(v[P]==="<")if(v[P+1]==="/"){const R=E(v,">",P,"Closing Tag is not closed.");let T=v.substring(P+2,R).trim();if(this.options.removeNSPrefix){const L=T.indexOf(":");L!==-1&&(T=T.substr(L+1))}this.options.transformTagName&&(T=this.options.transformTagName(T)),N&&(x=this.saveTextToParentTag(x,N,O));const I=O.substring(O.lastIndexOf(".")+1);if(T&&this.options.unpairedTags.indexOf(T)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${T}>`);let $=0;I&&this.options.unpairedTags.indexOf(I)!==-1?($=O.lastIndexOf(".",O.lastIndexOf(".")-1),this.tagsNodeStack.pop()):$=O.lastIndexOf("."),O=O.substring(0,$),N=this.tagsNodeStack.pop(),x="",P=R}else if(v[P+1]==="?"){let R=g(v,P,!1,"?>");if(!R)throw new Error("Pi Tag is not closed.");if(x=this.saveTextToParentTag(x,N,O),!(this.options.ignoreDeclaration&&R.tagName==="?xml"||this.options.ignorePiTags)){const T=new i(R.tagName);T.add(this.options.textNodeName,""),R.tagName!==R.tagExp&&R.attrExpPresent&&(T[":@"]=this.buildAttributesMap(R.tagExp,O,R.tagName)),this.addChild(N,T,O)}P=R.closeIndex+1}else if(v.substr(P+1,3)==="!--"){const R=E(v,"-->",P+4,"Comment is not closed.");if(this.options.commentPropName){const T=v.substring(P+4,R-2);x=this.saveTextToParentTag(x,N,O),N.add(this.options.commentPropName,[{[this.options.textNodeName]:T}])}P=R}else if(v.substr(P+1,2)==="!D"){const R=o(v,P);this.docTypeEntities=R.entities,P=R.i}else if(v.substr(P+1,2)==="!["){const R=E(v,"]]>",P,"CDATA is not closed.")-2,T=v.substring(P+9,R);x=this.saveTextToParentTag(x,N,O);let I=this.parseTextData(T,N.tagname,O,!0,!1,!0,!0);I==null&&(I=""),this.options.cdataPropName?N.add(this.options.cdataPropName,[{[this.options.textNodeName]:T}]):N.add(this.options.textNodeName,I),P=R+2}else{let R=g(v,P,this.options.removeNSPrefix),T=R.tagName;const I=R.rawTagName;let $=R.tagExp,L=R.attrExpPresent,tt=R.closeIndex;this.options.transformTagName&&(T=this.options.transformTagName(T)),N&&x&&N.tagname!=="!xml"&&(x=this.saveTextToParentTag(x,N,O,!1));const D=N;if(D&&this.options.unpairedTags.indexOf(D.tagname)!==-1&&(N=this.tagsNodeStack.pop(),O=O.substring(0,O.lastIndexOf("."))),T!==A.tagname&&(O+=O?"."+T:T),this.isItStopNode(this.options.stopNodes,O,T)){let S="";if($.length>0&&$.lastIndexOf("/")===$.length-1)T[T.length-1]==="/"?(T=T.substr(0,T.length-1),O=O.substr(0,O.length-1),$=T):$=$.substr(0,$.length-1),P=R.closeIndex;else if(this.options.unpairedTags.indexOf(T)!==-1)P=R.closeIndex;else{const V=this.readStopNodeData(v,I,tt+1);if(!V)throw new Error(`Unexpected end of ${I}`);P=V.i,S=V.tagContent}const Z=new i(T);T!==$&&L&&(Z[":@"]=this.buildAttributesMap($,O,T)),S&&(S=this.parseTextData(S,T,O,!0,L,!0,!0)),O=O.substr(0,O.lastIndexOf(".")),Z.add(this.options.textNodeName,S),this.addChild(N,Z,O)}else{if($.length>0&&$.lastIndexOf("/")===$.length-1){T[T.length-1]==="/"?(T=T.substr(0,T.length-1),O=O.substr(0,O.length-1),$=T):$=$.substr(0,$.length-1),this.options.transformTagName&&(T=this.options.transformTagName(T));const S=new i(T);T!==$&&L&&(S[":@"]=this.buildAttributesMap($,O,T)),this.addChild(N,S,O),O=O.substr(0,O.lastIndexOf("."))}else{const S=new i(T);this.tagsNodeStack.push(N),T!==$&&L&&(S[":@"]=this.buildAttributesMap($,O,T)),this.addChild(N,S,O),N=S}x="",P=tt}}else x+=v[P];return A.child};function d(v,A,N){const x=this.options.updateTag(A.tagname,N,A[":@"]);x===!1||(typeof x=="string"&&(A.tagname=x),v.addChild(A))}const p=function(v){if(this.options.processEntities){for(let A in this.docTypeEntities){const N=this.docTypeEntities[A];v=v.replace(N.regx,N.val)}for(let A in this.lastEntities){const N=this.lastEntities[A];v=v.replace(N.regex,N.val)}if(this.options.htmlEntities)for(let A in this.htmlEntities){const N=this.htmlEntities[A];v=v.replace(N.regex,N.val)}v=v.replace(this.ampEntity.regex,this.ampEntity.val)}return v};function m(v,A,N,x){return v&&(x===void 0&&(x=Object.keys(A.child).length===0),(v=this.parseTextData(v,A.tagname,N,!1,!!A[":@"]&&Object.keys(A[":@"]).length!==0,x))!==void 0&&v!==""&&A.add(this.options.textNodeName,v),v=""),v}function w(v,A,N){const x="*."+N;for(const O in v){const P=v[O];if(x===P||A===P)return!0}return!1}function E(v,A,N,x){const O=v.indexOf(A,N);if(O===-1)throw new Error(x);return O+A.length-1}function g(v,A,N){const x=function(L,tt){let D,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:">",Z="";for(let V=tt;V<L.length;V++){let U=L[V];if(D)U===D&&(D="");else if(U==='"'||U==="'")D=U;else if(U===S[0]){if(!S[1])return{data:Z,index:V};if(L[V+1]===S[1])return{data:Z,index:V}}else U==="	"&&(U=" ");Z+=U}}(v,A+1,arguments.length>3&&arguments[3]!==void 0?arguments[3]:">");if(!x)return;let O=x.data;const P=x.index,R=O.search(/\s/);let T=O,I=!0;R!==-1&&(T=O.substring(0,R),O=O.substring(R+1).trimStart());const $=T;if(N){const L=T.indexOf(":");L!==-1&&(T=T.substr(L+1),I=T!==x.data.substr(L+1))}return{tagName:T,tagExp:O,closeIndex:P,attrExpPresent:I,rawTagName:$}}function y(v,A,N){const x=N;let O=1;for(;N<v.length;N++)if(v[N]==="<")if(v[N+1]==="/"){const P=E(v,">",N,`${A} is not closed`);if(v.substring(N+2,P).trim()===A&&(O--,O===0))return{tagContent:v.substring(x,N),i:P};N=P}else if(v[N+1]==="?")N=E(v,"?>",N+1,"StopNode is not closed.");else if(v.substr(N+1,3)==="!--")N=E(v,"-->",N+3,"StopNode is not closed.");else if(v.substr(N+1,2)==="![")N=E(v,"]]>",N,"StopNode is not closed.")-2;else{const P=g(v,N,">");P&&((P&&P.tagName)===A&&P.tagExp[P.tagExp.length-1]!=="/"&&O++,N=P.closeIndex)}}function b(v,A,N){if(A&&typeof v=="string"){const x=v.trim();return x==="true"||x!=="false"&&l(v,N)}return r.isExist(v)?v:""}e.exports=class{constructor(v){this.options=v,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(A,N)=>String.fromCharCode(Number.parseInt(N,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(A,N)=>String.fromCharCode(Number.parseInt(N,16))}},this.addExternalEntities=c,this.parseXml=u,this.parseTextData=h,this.resolveNameSpace=s,this.buildAttributesMap=f,this.isItStopNode=w,this.replaceEntitiesValue=p,this.readStopNodeData=y,this.saveTextToParentTag=m,this.addChild=d}}},338:(e,t,n)=>{const{buildOptions:r}=n(63),i=n(299),{prettify:o}=n(728),l=n(31);e.exports=class{constructor(c){this.externalEntities={},this.options=r(c)}parse(c,h){if(typeof c!="string"){if(!c.toString)throw new Error("XML data is accepted in String or Bytes[] form.");c=c.toString()}if(h){h===!0&&(h={});const f=l.validate(c,h);if(f!==!0)throw Error(`${f.err.msg}:${f.err.line}:${f.err.col}`)}const s=new i(this.options);s.addExternalEntities(this.externalEntities);const a=s.parseXml(c);return this.options.preserveOrder||a===void 0?a:o(a,this.options)}addEntity(c,h){if(h.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(c.indexOf("&")!==-1||c.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(h==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[c]=h}}},728:(e,t)=>{function n(l,c,h){let s;const a={};for(let f=0;f<l.length;f++){const u=l[f],d=r(u);let p="";if(p=h===void 0?d:h+"."+d,d===c.textNodeName)s===void 0?s=u[d]:s+=""+u[d];else{if(d===void 0)continue;if(u[d]){let m=n(u[d],c,p);const w=o(m,c);u[":@"]?i(m,u[":@"],p,c):Object.keys(m).length!==1||m[c.textNodeName]===void 0||c.alwaysCreateTextNode?Object.keys(m).length===0&&(c.alwaysCreateTextNode?m[c.textNodeName]="":m=""):m=m[c.textNodeName],a[d]!==void 0&&a.hasOwnProperty(d)?(Array.isArray(a[d])||(a[d]=[a[d]]),a[d].push(m)):c.isArray(d,p,w)?a[d]=[m]:a[d]=m}}}return typeof s=="string"?s.length>0&&(a[c.textNodeName]=s):s!==void 0&&(a[c.textNodeName]=s),a}function r(l){const c=Object.keys(l);for(let h=0;h<c.length;h++){const s=c[h];if(s!==":@")return s}}function i(l,c,h,s){if(c){const a=Object.keys(c),f=a.length;for(let u=0;u<f;u++){const d=a[u];s.isArray(d,h+"."+d,!0,!0)?l[d]=[c[d]]:l[d]=c[d]}}}function o(l,c){const{textNodeName:h}=c,s=Object.keys(l).length;return s===0||!(s!==1||!l[h]&&typeof l[h]!="boolean"&&l[h]!==0)}t.prettify=function(l,c){return n(l,c)}},365:e=>{e.exports=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,n){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:n})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}}},135:e=>{function t(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}e.exports=function(n){return n!=null&&(t(n)||function(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&t(r.slice(0,0))}(n)||!!n._isBuffer)}},542:(e,t,n)=>{(function(){var r=n(298),i=n(526).utf8,o=n(135),l=n(526).bin,c=function(h,s){h.constructor==String?h=s&&s.encoding==="binary"?l.stringToBytes(h):i.stringToBytes(h):o(h)?h=Array.prototype.slice.call(h,0):Array.isArray(h)||h.constructor===Uint8Array||(h=h.toString());for(var a=r.bytesToWords(h),f=8*h.length,u=1732584193,d=-271733879,p=-1732584194,m=271733878,w=0;w<a.length;w++)a[w]=16711935&(a[w]<<8|a[w]>>>24)|4278255360&(a[w]<<24|a[w]>>>8);a[f>>>5]|=128<<f%32,a[14+(f+64>>>9<<4)]=f;var E=c._ff,g=c._gg,y=c._hh,b=c._ii;for(w=0;w<a.length;w+=16){var v=u,A=d,N=p,x=m;u=E(u,d,p,m,a[w+0],7,-680876936),m=E(m,u,d,p,a[w+1],12,-389564586),p=E(p,m,u,d,a[w+2],17,606105819),d=E(d,p,m,u,a[w+3],22,-1044525330),u=E(u,d,p,m,a[w+4],7,-176418897),m=E(m,u,d,p,a[w+5],12,1200080426),p=E(p,m,u,d,a[w+6],17,-1473231341),d=E(d,p,m,u,a[w+7],22,-45705983),u=E(u,d,p,m,a[w+8],7,1770035416),m=E(m,u,d,p,a[w+9],12,-1958414417),p=E(p,m,u,d,a[w+10],17,-42063),d=E(d,p,m,u,a[w+11],22,-1990404162),u=E(u,d,p,m,a[w+12],7,1804603682),m=E(m,u,d,p,a[w+13],12,-40341101),p=E(p,m,u,d,a[w+14],17,-1502002290),u=g(u,d=E(d,p,m,u,a[w+15],22,1236535329),p,m,a[w+1],5,-165796510),m=g(m,u,d,p,a[w+6],9,-1069501632),p=g(p,m,u,d,a[w+11],14,643717713),d=g(d,p,m,u,a[w+0],20,-373897302),u=g(u,d,p,m,a[w+5],5,-701558691),m=g(m,u,d,p,a[w+10],9,38016083),p=g(p,m,u,d,a[w+15],14,-660478335),d=g(d,p,m,u,a[w+4],20,-405537848),u=g(u,d,p,m,a[w+9],5,568446438),m=g(m,u,d,p,a[w+14],9,-1019803690),p=g(p,m,u,d,a[w+3],14,-187363961),d=g(d,p,m,u,a[w+8],20,1163531501),u=g(u,d,p,m,a[w+13],5,-1444681467),m=g(m,u,d,p,a[w+2],9,-51403784),p=g(p,m,u,d,a[w+7],14,1735328473),u=y(u,d=g(d,p,m,u,a[w+12],20,-1926607734),p,m,a[w+5],4,-378558),m=y(m,u,d,p,a[w+8],11,-2022574463),p=y(p,m,u,d,a[w+11],16,1839030562),d=y(d,p,m,u,a[w+14],23,-35309556),u=y(u,d,p,m,a[w+1],4,-1530992060),m=y(m,u,d,p,a[w+4],11,1272893353),p=y(p,m,u,d,a[w+7],16,-155497632),d=y(d,p,m,u,a[w+10],23,-1094730640),u=y(u,d,p,m,a[w+13],4,681279174),m=y(m,u,d,p,a[w+0],11,-358537222),p=y(p,m,u,d,a[w+3],16,-722521979),d=y(d,p,m,u,a[w+6],23,76029189),u=y(u,d,p,m,a[w+9],4,-640364487),m=y(m,u,d,p,a[w+12],11,-421815835),p=y(p,m,u,d,a[w+15],16,530742520),u=b(u,d=y(d,p,m,u,a[w+2],23,-995338651),p,m,a[w+0],6,-198630844),m=b(m,u,d,p,a[w+7],10,1126891415),p=b(p,m,u,d,a[w+14],15,-1416354905),d=b(d,p,m,u,a[w+5],21,-57434055),u=b(u,d,p,m,a[w+12],6,1700485571),m=b(m,u,d,p,a[w+3],10,-1894986606),p=b(p,m,u,d,a[w+10],15,-1051523),d=b(d,p,m,u,a[w+1],21,-2054922799),u=b(u,d,p,m,a[w+8],6,1873313359),m=b(m,u,d,p,a[w+15],10,-30611744),p=b(p,m,u,d,a[w+6],15,-1560198380),d=b(d,p,m,u,a[w+13],21,1309151649),u=b(u,d,p,m,a[w+4],6,-145523070),m=b(m,u,d,p,a[w+11],10,-1120210379),p=b(p,m,u,d,a[w+2],15,718787259),d=b(d,p,m,u,a[w+9],21,-343485551),u=u+v>>>0,d=d+A>>>0,p=p+N>>>0,m=m+x>>>0}return r.endian([u,d,p,m])};c._ff=function(h,s,a,f,u,d,p){var m=h+(s&a|~s&f)+(u>>>0)+p;return(m<<d|m>>>32-d)+s},c._gg=function(h,s,a,f,u,d,p){var m=h+(s&f|a&~f)+(u>>>0)+p;return(m<<d|m>>>32-d)+s},c._hh=function(h,s,a,f,u,d,p){var m=h+(s^a^f)+(u>>>0)+p;return(m<<d|m>>>32-d)+s},c._ii=function(h,s,a,f,u,d,p){var m=h+(a^(s|~f))+(u>>>0)+p;return(m<<d|m>>>32-d)+s},c._blocksize=16,c._digestsize=16,e.exports=function(h,s){if(h==null)throw new Error("Illegal argument "+h);var a=r.wordsToBytes(c(h,s));return s&&s.asBytes?a:s&&s.asString?l.bytesToString(a):r.bytesToHex(a)}})()},285:(e,t,n)=>{var r=n(2);e.exports=function(E){return E?(E.substr(0,2)==="{}"&&(E="\\{\\}"+E.substr(2)),w(function(g){return g.split("\\\\").join(i).split("\\{").join(o).split("\\}").join(l).split("\\,").join(c).split("\\.").join(h)}(E),!0).map(a)):[]};var i="\0SLASH"+Math.random()+"\0",o="\0OPEN"+Math.random()+"\0",l="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",h="\0PERIOD"+Math.random()+"\0";function s(E){return parseInt(E,10)==E?parseInt(E,10):E.charCodeAt(0)}function a(E){return E.split(i).join("\\").split(o).join("{").split(l).join("}").split(c).join(",").split(h).join(".")}function f(E){if(!E)return[""];var g=[],y=r("{","}",E);if(!y)return E.split(",");var b=y.pre,v=y.body,A=y.post,N=b.split(",");N[N.length-1]+="{"+v+"}";var x=f(A);return A.length&&(N[N.length-1]+=x.shift(),N.push.apply(N,x)),g.push.apply(g,N),g}function u(E){return"{"+E+"}"}function d(E){return/^-?0\d/.test(E)}function p(E,g){return E<=g}function m(E,g){return E>=g}function w(E,g){var y=[],b=r("{","}",E);if(!b)return[E];var v=b.pre,A=b.post.length?w(b.post,!1):[""];if(/\$$/.test(b.pre))for(var N=0;N<A.length;N++){var x=v+"{"+b.body+"}"+A[N];y.push(x)}else{var O,P,R=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(b.body),T=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(b.body),I=R||T,$=b.body.indexOf(",")>=0;if(!I&&!$)return b.post.match(/,.*\}/)?w(E=b.pre+"{"+b.body+l+b.post):[E];if(I)O=b.body.split(/\.\./);else if((O=f(b.body)).length===1&&(O=w(O[0],!1).map(u)).length===1)return A.map(function(wn){return b.pre+O[0]+wn});if(I){var L=s(O[0]),tt=s(O[1]),D=Math.max(O[0].length,O[1].length),S=O.length==3?Math.abs(s(O[2])):1,Z=p;tt<L&&(S*=-1,Z=m);var V=O.some(d);P=[];for(var U=L;Z(U,tt);U+=S){var st;if(T)(st=String.fromCharCode(U))==="\\"&&(st="");else if(st=String(U),V){var ge=D-st.length;if(ge>0){var me=new Array(ge+1).join("0");st=U<0?"-"+me+st.slice(1):me+st}}P.push(st)}}else{P=[];for(var at=0;at<O.length;at++)P.push.apply(P,w(O[at],!1))}for(at=0;at<P.length;at++)for(N=0;N<A.length;N++)x=v+P[at]+A[N],(!g||I||x)&&y.push(x)}return y}},829:e=>{function t(s){return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},t(s)}function n(s){var a=typeof Map=="function"?new Map:void 0;return n=function(f){if(f===null||(u=f,Function.toString.call(u).indexOf("[native code]")===-1))return f;var u;if(typeof f!="function")throw new TypeError("Super expression must either be null or a function");if(a!==void 0){if(a.has(f))return a.get(f);a.set(f,d)}function d(){return r(f,arguments,o(this).constructor)}return d.prototype=Object.create(f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),i(d,f)},n(s)}function r(s,a,f){return r=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(u,d,p){var m=[null];m.push.apply(m,d);var w=new(Function.bind.apply(u,m));return p&&i(w,p.prototype),w},r.apply(null,arguments)}function i(s,a){return i=Object.setPrototypeOf||function(f,u){return f.__proto__=u,f},i(s,a)}function o(s){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},o(s)}var l=function(s){function a(f){var u;return function(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}(this,a),(u=function(d,p){return!p||t(p)!=="object"&&typeof p!="function"?function(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(d):p}(this,o(a).call(this,f))).name="ObjectPrototypeMutationError",u}return function(f,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(u&&u.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),u&&i(f,u)}(a,s),a}(n(Error));function c(s,a){for(var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},u=a.split("."),d=u.length,p=function(E){var g=u[E];if(!s)return{v:void 0};if(g==="+"){if(Array.isArray(s))return{v:s.map(function(b,v){var A=u.slice(E+1);return A.length>0?c(b,A.join("."),f):f(s,v,u,E)})};var y=u.slice(0,E).join(".");throw new Error("Object at wildcard (".concat(y,") is not an array"))}s=f(s,g,u,E)},m=0;m<d;m++){var w=p(m);if(t(w)==="object")return w.v}return s}function h(s,a){return s.length===a+1}e.exports={set:function(s,a,f){if(t(s)!="object"||s===null||a===void 0)return s;if(typeof a=="number")return s[a]=f,s[a];try{return c(s,a,function(u,d,p,m){if(u===Reflect.getPrototypeOf({}))throw new l("Attempting to mutate Object.prototype");if(!u[d]){var w=Number.isInteger(Number(p[m+1])),E=p[m+1]==="+";u[d]=w||E?[]:{}}return h(p,m)&&(u[d]=f),u[d]})}catch(u){if(u instanceof l)throw u;return s}},get:function(s,a){if(t(s)!="object"||s===null||a===void 0)return s;if(typeof a=="number")return s[a];try{return c(s,a,function(f,u){return f[u]})}catch{return s}},has:function(s,a){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(t(s)!="object"||s===null||a===void 0)return!1;if(typeof a=="number")return a in s;try{var u=!1;return c(s,a,function(d,p,m,w){if(!h(m,w))return d&&d[p];u=f.own?d.hasOwnProperty(p):p in d}),u}catch{return!1}},hasOwn:function(s,a,f){return this.has(s,a,f||{own:!0})},isIn:function(s,a,f){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t(s)!="object"||s===null||a===void 0)return!1;try{var d=!1,p=!1;return c(s,a,function(m,w,E,g){return d=d||m===f||!!m&&m[w]===f,p=h(E,g)&&t(m)==="object"&&w in m,m&&m[w]}),u.validPath?d&&p:d}catch{return!1}},ObjectPrototypeMutationError:l}},47:(e,t,n)=>{var r=n(410),i=function(s){return typeof s=="string"};function o(s,a){for(var f=[],u=0;u<s.length;u++){var d=s[u];d&&d!=="."&&(d===".."?f.length&&f[f.length-1]!==".."?f.pop():a&&f.push(".."):f.push(d))}return f}var l=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,c={};function h(s){return l.exec(s).slice(1)}c.resolve=function(){for(var s="",a=!1,f=arguments.length-1;f>=-1&&!a;f--){var u=f>=0?arguments[f]:mt.cwd();if(!i(u))throw new TypeError("Arguments to path.resolve must be strings");u&&(s=u+"/"+s,a=u.charAt(0)==="/")}return(a?"/":"")+(s=o(s.split("/"),!a).join("/"))||"."},c.normalize=function(s){var a=c.isAbsolute(s),f=s.substr(-1)==="/";return(s=o(s.split("/"),!a).join("/"))||a||(s="."),s&&f&&(s+="/"),(a?"/":"")+s},c.isAbsolute=function(s){return s.charAt(0)==="/"},c.join=function(){for(var s="",a=0;a<arguments.length;a++){var f=arguments[a];if(!i(f))throw new TypeError("Arguments to path.join must be strings");f&&(s+=s?"/"+f:f)}return c.normalize(s)},c.relative=function(s,a){function f(g){for(var y=0;y<g.length&&g[y]==="";y++);for(var b=g.length-1;b>=0&&g[b]==="";b--);return y>b?[]:g.slice(y,b+1)}s=c.resolve(s).substr(1),a=c.resolve(a).substr(1);for(var u=f(s.split("/")),d=f(a.split("/")),p=Math.min(u.length,d.length),m=p,w=0;w<p;w++)if(u[w]!==d[w]){m=w;break}var E=[];for(w=m;w<u.length;w++)E.push("..");return(E=E.concat(d.slice(m))).join("/")},c._makeLong=function(s){return s},c.dirname=function(s){var a=h(s),f=a[0],u=a[1];return f||u?(u&&(u=u.substr(0,u.length-1)),f+u):"."},c.basename=function(s,a){var f=h(s)[2];return a&&f.substr(-1*a.length)===a&&(f=f.substr(0,f.length-a.length)),f},c.extname=function(s){return h(s)[3]},c.format=function(s){if(!r.isObject(s))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof s);var a=s.root||"";if(!i(a))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof s.root);return(s.dir?s.dir+c.sep:"")+(s.base||"")},c.parse=function(s){if(!i(s))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof s);var a=h(s);if(!a||a.length!==4)throw new TypeError("Invalid path '"+s+"'");return a[1]=a[1]||"",a[2]=a[2]||"",a[3]=a[3]||"",{root:a[0],dir:a[0]+a[1].slice(0,a[1].length-1),base:a[2],ext:a[3],name:a[2].slice(0,a[2].length-a[3].length)}},c.sep="/",c.delimiter=":",e.exports=c},647:(e,t)=>{var n=Object.prototype.hasOwnProperty;function r(o){try{return decodeURIComponent(o.replace(/\+/g," "))}catch{return null}}function i(o){try{return encodeURIComponent(o)}catch{return null}}t.stringify=function(o,l){l=l||"";var c,h,s=[];for(h in typeof l!="string"&&(l="?"),o)if(n.call(o,h)){if((c=o[h])||c!=null&&!isNaN(c)||(c=""),h=i(h),c=i(c),h===null||c===null)continue;s.push(h+"="+c)}return s.length?l+s.join("&"):""},t.parse=function(o){for(var l,c=/([^=?#&]+)=?([^&]*)/g,h={};l=c.exec(o);){var s=r(l[1]),a=r(l[2]);s===null||a===null||s in h||(h[s]=a)}return h}},670:e=>{e.exports=function(t,n){if(n=n.split(":")[0],!(t=+t))return!1;switch(n){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0}},494:e=>{const t=/^[-+]?0x[a-fA-F0-9]+$/,n=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const r={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};e.exports=function(i){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(o=Object.assign({},r,o),!i||typeof i!="string")return i;let l=i.trim();if(o.skipLike!==void 0&&o.skipLike.test(l))return i;if(o.hex&&t.test(l))return Number.parseInt(l,16);{const h=n.exec(l);if(h){const s=h[1],a=h[2];let f=((c=h[3])&&c.indexOf(".")!==-1&&((c=c.replace(/0+$/,""))==="."?c="0":c[0]==="."?c="0"+c:c[c.length-1]==="."&&(c=c.substr(0,c.length-1))),c);const u=h[4]||h[6];if(!o.leadingZeros&&a.length>0&&s&&l[2]!=="."||!o.leadingZeros&&a.length>0&&!s&&l[1]!==".")return i;{const d=Number(l),p=""+d;return p.search(/[eE]/)!==-1||u?o.eNotation?d:i:l.indexOf(".")!==-1?p==="0"&&f===""||p===f||s&&p==="-"+f?d:i:a?f===p||s+f===p?d:i:l===p||l===s+p?d:i}}return i}var c}},737:(e,t,n)=>{var r=n(670),i=n(647),o=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,l=/[\n\r\t]/g,c=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,h=/:\d+$/,s=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,a=/^[a-zA-Z]:/;function f(g){return(g||"").toString().replace(o,"")}var u=[["#","hash"],["?","query"],function(g,y){return m(y.protocol)?g.replace(/\\/g,"/"):g},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],d={hash:1,query:1};function p(g){var y,b=(typeof window<"u"?window:typeof bt<"u"?bt:typeof self<"u"?self:{}).location||{},v={},A=typeof(g=g||b);if(g.protocol==="blob:")v=new E(unescape(g.pathname),{});else if(A==="string")for(y in v=new E(g,{}),d)delete v[y];else if(A==="object"){for(y in g)y in d||(v[y]=g[y]);v.slashes===void 0&&(v.slashes=c.test(g.href))}return v}function m(g){return g==="file:"||g==="ftp:"||g==="http:"||g==="https:"||g==="ws:"||g==="wss:"}function w(g,y){g=(g=f(g)).replace(l,""),y=y||{};var b,v=s.exec(g),A=v[1]?v[1].toLowerCase():"",N=!!v[2],x=!!v[3],O=0;return N?x?(b=v[2]+v[3]+v[4],O=v[2].length+v[3].length):(b=v[2]+v[4],O=v[2].length):x?(b=v[3]+v[4],O=v[3].length):b=v[4],A==="file:"?O>=2&&(b=b.slice(2)):m(A)?b=v[4]:A?N&&(b=b.slice(2)):O>=2&&m(y.protocol)&&(b=v[4]),{protocol:A,slashes:N||m(A),slashesCount:O,rest:b}}function E(g,y,b){if(g=(g=f(g)).replace(l,""),!(this instanceof E))return new E(g,y,b);var v,A,N,x,O,P,R=u.slice(),T=typeof y,I=this,$=0;for(T!=="object"&&T!=="string"&&(b=y,y=null),b&&typeof b!="function"&&(b=i.parse),v=!(A=w(g||"",y=p(y))).protocol&&!A.slashes,I.slashes=A.slashes||v&&y.slashes,I.protocol=A.protocol||y.protocol||"",g=A.rest,(A.protocol==="file:"&&(A.slashesCount!==2||a.test(g))||!A.slashes&&(A.protocol||A.slashesCount<2||!m(I.protocol)))&&(R[3]=[/(.*)/,"pathname"]);$<R.length;$++)typeof(x=R[$])!="function"?(N=x[0],P=x[1],N!=N?I[P]=g:typeof N=="string"?~(O=N==="@"?g.lastIndexOf(N):g.indexOf(N))&&(typeof x[2]=="number"?(I[P]=g.slice(0,O),g=g.slice(O+x[2])):(I[P]=g.slice(O),g=g.slice(0,O))):(O=N.exec(g))&&(I[P]=O[1],g=g.slice(0,O.index)),I[P]=I[P]||v&&x[3]&&y[P]||"",x[4]&&(I[P]=I[P].toLowerCase())):g=x(g,I);b&&(I.query=b(I.query)),v&&y.slashes&&I.pathname.charAt(0)!=="/"&&(I.pathname!==""||y.pathname!=="")&&(I.pathname=function(L,tt){if(L==="")return tt;for(var D=(tt||"/").split("/").slice(0,-1).concat(L.split("/")),S=D.length,Z=D[S-1],V=!1,U=0;S--;)D[S]==="."?D.splice(S,1):D[S]===".."?(D.splice(S,1),U++):U&&(S===0&&(V=!0),D.splice(S,1),U--);return V&&D.unshift(""),Z!=="."&&Z!==".."||D.push(""),D.join("/")}(I.pathname,y.pathname)),I.pathname.charAt(0)!=="/"&&m(I.protocol)&&(I.pathname="/"+I.pathname),r(I.port,I.protocol)||(I.host=I.hostname,I.port=""),I.username=I.password="",I.auth&&(~(O=I.auth.indexOf(":"))?(I.username=I.auth.slice(0,O),I.username=encodeURIComponent(decodeURIComponent(I.username)),I.password=I.auth.slice(O+1),I.password=encodeURIComponent(decodeURIComponent(I.password))):I.username=encodeURIComponent(decodeURIComponent(I.auth)),I.auth=I.password?I.username+":"+I.password:I.username),I.origin=I.protocol!=="file:"&&m(I.protocol)&&I.host?I.protocol+"//"+I.host:"null",I.href=I.toString()}E.prototype={set:function(g,y,b){var v=this;switch(g){case"query":typeof y=="string"&&y.length&&(y=(b||i.parse)(y)),v[g]=y;break;case"port":v[g]=y,r(y,v.protocol)?y&&(v.host=v.hostname+":"+y):(v.host=v.hostname,v[g]="");break;case"hostname":v[g]=y,v.port&&(y+=":"+v.port),v.host=y;break;case"host":v[g]=y,h.test(y)?(y=y.split(":"),v.port=y.pop(),v.hostname=y.join(":")):(v.hostname=y,v.port="");break;case"protocol":v.protocol=y.toLowerCase(),v.slashes=!b;break;case"pathname":case"hash":if(y){var A=g==="pathname"?"/":"#";v[g]=y.charAt(0)!==A?A+y:y}else v[g]=y;break;case"username":case"password":v[g]=encodeURIComponent(y);break;case"auth":var N=y.indexOf(":");~N?(v.username=y.slice(0,N),v.username=encodeURIComponent(decodeURIComponent(v.username)),v.password=y.slice(N+1),v.password=encodeURIComponent(decodeURIComponent(v.password))):v.username=encodeURIComponent(decodeURIComponent(y))}for(var x=0;x<u.length;x++){var O=u[x];O[4]&&(v[O[1]]=v[O[1]].toLowerCase())}return v.auth=v.password?v.username+":"+v.password:v.username,v.origin=v.protocol!=="file:"&&m(v.protocol)&&v.host?v.protocol+"//"+v.host:"null",v.href=v.toString(),v},toString:function(g){g&&typeof g=="function"||(g=i.stringify);var y,b=this,v=b.host,A=b.protocol;A&&A.charAt(A.length-1)!==":"&&(A+=":");var N=A+(b.protocol&&b.slashes||m(b.protocol)?"//":"");return b.username?(N+=b.username,b.password&&(N+=":"+b.password),N+="@"):b.password?(N+=":"+b.password,N+="@"):b.protocol!=="file:"&&m(b.protocol)&&!v&&b.pathname!=="/"&&(N+="@"),(v[v.length-1]===":"||h.test(b.hostname)&&!b.port)&&(v+=":"),N+=v+b.pathname,(y=typeof b.query=="object"?g(b.query):b.query)&&(N+=y.charAt(0)!=="?"?"?"+y:y),b.hash&&(N+=b.hash),N}},E.extractProtocol=w,E.location=p,E.trimLeft=f,E.qs=i,e.exports=E},410:()=>{},388:()=>{},805:()=>{},345:()=>{},800:()=>{}},be={};function C(e){var t=be[e];if(t!==void 0)return t.exports;var n=be[e]={id:e,loaded:!1,exports:{}};return Rn[e].call(n.exports,n,n.exports,C),n.loaded=!0,n.exports}C.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return C.d(t,{a:t}),t},C.d=(e,t)=>{for(var n in t)C.o(t,n)&&!C.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},C.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),C.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var J={};C.d(J,{hT:()=>W,O4:()=>rt,Kd:()=>Mn,YK:()=>kn,UU:()=>Xr,Gu:()=>He,ky:()=>rn,h4:()=>vt,ch:()=>Ct,hq:()=>ct,i5:()=>sn});var $n=C(737),Ln=C.n($n);function Dt(e){if(!qt(e))throw new Error("Parameter was not an error")}function qt(e){return!!e&&typeof e=="object"&&(t=e,Object.prototype.toString.call(t)==="[object Error]")||e instanceof Error;var t}class H extends Error{constructor(t,n){const r=[...arguments],{options:i,shortMessage:o}=function(c){let h,s="";if(c.length===0)h={};else if(qt(c[0]))h={cause:c[0]},s=c.slice(1).join(" ")||"";else if(c[0]&&typeof c[0]=="object")h=Object.assign({},c[0]),s=c.slice(1).join(" ")||"";else{if(typeof c[0]!="string")throw new Error("Invalid arguments passed to Layerr");h={},s=s=c.join(" ")||""}return{options:h,shortMessage:s}}(r);let l=o;if(i.cause&&(l=`${l}: ${i.cause.message}`),super(l),this.message=l,i.name&&typeof i.name=="string"?this.name=i.name:this.name="Layerr",i.cause&&Object.defineProperty(this,"_cause",{value:i.cause}),Object.defineProperty(this,"_info",{value:{}}),i.info&&typeof i.info=="object"&&Object.assign(this._info,i.info),Error.captureStackTrace){const c=i.constructorOpt||this.constructor;Error.captureStackTrace(this,c)}}static cause(t){return Dt(t),t._cause&&qt(t._cause)?t._cause:null}static fullStack(t){Dt(t);const n=H.cause(t);return n?`${t.stack}
caused by: ${H.fullStack(n)}`:t.stack??""}static info(t){Dt(t);const n={},r=H.cause(t);return r&&Object.assign(n,H.info(r)),t._info&&Object.assign(n,t._info),n}toString(){let t=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(t=`${t}: ${this.message}`),t}}var Sn=C(47),Ot=C.n(Sn);const Ee="__PATH_SEPARATOR_POSIX__",Ne="__PATH_SEPARATOR_WINDOWS__";function _(e){try{const t=e.replace(/\//g,Ee).replace(/\\\\/g,Ne);return encodeURIComponent(t).split(Ne).join("\\\\").split(Ee).join("/")}catch(t){throw new H(t,"Failed encoding path")}}function xe(e){return e.startsWith("/")?e:"/"+e}function yt(e){let t=e;return t[0]!=="/"&&(t="/"+t),/^.+\/$/.test(t)&&(t=t.substr(0,t.length-1)),t}function Cn(e){let t=new(Ln())(e).pathname;return t.length<=0&&(t="/"),yt(t)}function j(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){return function(r){var i=[];if(r.length===0)return"";if(typeof r[0]!="string")throw new TypeError("Url must be a string. Received "+r[0]);if(r[0].match(/^[^/:]+:\/*$/)&&r.length>1){var o=r.shift();r[0]=o+r[0]}r[0].match(/^file:\/\/\//)?r[0]=r[0].replace(/^([^/:]+):\/*/,"$1:///"):r[0]=r[0].replace(/^([^/:]+):\/*/,"$1://");for(var l=0;l<r.length;l++){var c=r[l];if(typeof c!="string")throw new TypeError("Url must be a string. Received "+c);c!==""&&(l>0&&(c=c.replace(/^[\/]+/,"")),c=l<r.length-1?c.replace(/[\/]+$/,""):c.replace(/[\/]+$/,"/"),i.push(c))}var h=i.join("/"),s=(h=h.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return s.shift()+(s.length>0?"?":"")+s.join("&")}(typeof arguments[0]=="object"?arguments[0]:[].slice.call(arguments))}(t.reduce((r,i,o)=>((o===0||i!=="/"||i==="/"&&r[r.length-1]!=="/")&&r.push(i),r),[]))}var _n=C(542),ft=C.n(_n);const jn="abcdef0123456789";function Ae(e,t){const n=e.url.replace("//",""),r=n.indexOf("/")==-1?"/":n.slice(n.indexOf("/")),i=e.method?e.method.toUpperCase():"GET",o=!!/(^|,)\s*auth\s*($|,)/.test(t.qop)&&"auth",l=`00000000${t.nc}`.slice(-8),c=function(u,d,p,m,w,E,g){const y=g||ft()(`${d}:${p}:${m}`);return u&&u.toLowerCase()==="md5-sess"?ft()(`${y}:${w}:${E}`):y}(t.algorithm,t.username,t.realm,t.password,t.nonce,t.cnonce,t.ha1),h=ft()(`${i}:${r}`),s=o?ft()(`${c}:${t.nonce}:${l}:${t.cnonce}:${o}:${h}`):ft()(`${c}:${t.nonce}:${h}`),a={username:t.username,realm:t.realm,nonce:t.nonce,uri:r,qop:o,response:s,nc:l,cnonce:t.cnonce,algorithm:t.algorithm,opaque:t.opaque},f=[];for(const u in a)a[u]&&(u==="qop"||u==="nc"||u==="algorithm"?f.push(`${u}=${a[u]}`):f.push(`${u}="${a[u]}"`));return`Digest ${f.join(", ")}`}function Xe(e){return(e.headers&&e.headers.get("www-authenticate")||"").split(/\s/)[0].toLowerCase()==="digest"}var Dn=C(101),We=C.n(Dn);function Oe(e){return We().decode(e)}function Ie(e,t){var n;return`Basic ${n=`${e}:${t}`,We().encode(n)}`}const It=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:typeof window<"u"?window:globalThis,Fn=It.fetch.bind(It),Mn=It.Request,kn=It.Response;let W=function(e){return e.Auto="auto",e.Digest="digest",e.None="none",e.Password="password",e.Token="token",e}({}),rt=function(e){return e.DataTypeNoLength="data-type-no-length",e.InvalidAuthType="invalid-auth-type",e.InvalidOutputFormat="invalid-output-format",e.LinkUnsupportedAuthType="link-unsupported-auth",e.InvalidUpdateRange="invalid-update-range",e.NotSupported="not-supported",e}({});function qe(e,t,n,r,i){switch(e.authType){case W.Auto:t&&n&&(e.headers.Authorization=Ie(t,n));break;case W.Digest:e.digest=function(l,c,h){return{username:l,password:c,ha1:h,nc:0,algorithm:"md5",hasDigestAuth:!1}}(t,n,i);break;case W.None:break;case W.Password:e.headers.Authorization=Ie(t,n);break;case W.Token:e.headers.Authorization=`${(o=r).token_type} ${o.access_token}`;break;default:throw new H({info:{code:rt.InvalidAuthType}},`Invalid auth type: ${e.authType}`)}var o}C(345),C(800);const Te="@@HOTPATCHER",Un=()=>{};function Ft(e){return{original:e,methods:[e],final:!1}}class Gn{constructor(){this._configuration={registry:{},getEmptyAction:"null"},this.__type__=Te}get configuration(){return this._configuration}get getEmptyAction(){return this.configuration.getEmptyAction}set getEmptyAction(t){this.configuration.getEmptyAction=t}control(t){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!t||t.__type__!==Te)throw new Error("Failed taking control of target HotPatcher instance: Invalid type or object");return Object.keys(t.configuration.registry).forEach(r=>{this.configuration.registry.hasOwnProperty(r)?n&&(this.configuration.registry[r]=Object.assign({},t.configuration.registry[r])):this.configuration.registry[r]=Object.assign({},t.configuration.registry[r])}),t._configuration=this.configuration,this}execute(t){const n=this.get(t)||Un;for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return n(...i)}get(t){const n=this.configuration.registry[t];if(!n)switch(this.getEmptyAction){case"null":return null;case"throw":throw new Error(`Failed handling method request: No method provided for override: ${t}`);default:throw new Error(`Failed handling request which resulted in an empty method: Invalid empty-action specified: ${this.getEmptyAction}`)}return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];if(i.length===0)throw new Error("Failed creating sequence: No functions provided");return function(){for(var l=arguments.length,c=new Array(l),h=0;h<l;h++)c[h]=arguments[h];let s=c;const a=this;for(;i.length>0;)s=[i.shift().apply(a,s)];return s[0]}}(...n.methods)}isPatched(t){return!!this.configuration.registry[t]}patch(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{chain:i=!1}=r;if(this.configuration.registry[t]&&this.configuration.registry[t].final)throw new Error(`Failed patching '${t}': Method marked as being final`);if(typeof n!="function")throw new Error(`Failed patching '${t}': Provided method is not a function`);if(i)this.configuration.registry[t]?this.configuration.registry[t].methods.push(n):this.configuration.registry[t]=Ft(n);else if(this.isPatched(t)){const{original:o}=this.configuration.registry[t];this.configuration.registry[t]=Object.assign(Ft(n),{original:o})}else this.configuration.registry[t]=Ft(n);return this}patchInline(t,n){this.isPatched(t)||this.patch(t,n);for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return this.execute(t,...i)}plugin(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach(o=>{this.patch(t,o,{chain:!0})}),this}restore(t){if(!this.isPatched(t))throw new Error(`Failed restoring method: No method present for key: ${t}`);if(typeof this.configuration.registry[t].original!="function")throw new Error(`Failed restoring method: Original method not found or of invalid type for key: ${t}`);return this.configuration.registry[t].methods=[this.configuration.registry[t].original],this}setFinal(t){if(!this.configuration.registry.hasOwnProperty(t))throw new Error(`Failed marking '${t}' as final: No method found for key`);return this.configuration.registry[t].final=!0,this}}let Mt=null;function He(){return Mt||(Mt=new Gn),Mt}function Tt(e){return function(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let n=t;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n}(e)?Object.assign({},e):Object.setPrototypeOf(Object.assign({},e),Object.getPrototypeOf(e))}function Pe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=null,i=[...t];for(;i.length>0;){const o=i.shift();r=r?Ze(r,o):Tt(o)}return r}function Ze(e,t){const n=Tt(e);return Object.keys(t).forEach(r=>{n.hasOwnProperty(r)?Array.isArray(t[r])?n[r]=Array.isArray(n[r])?[...n[r],...t[r]]:[...t[r]]:typeof t[r]=="object"&&t[r]?n[r]=typeof n[r]=="object"&&n[r]?Ze(n[r],t[r]):Tt(t[r]):n[r]=t[r]:n[r]=t[r]}),n}function Bn(e){const t={};for(const n of e.keys())t[n]=e.get(n);return t}function Ht(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length===0)return{};const r={};return t.reduce((i,o)=>(Object.keys(o).forEach(l=>{const c=l.toLowerCase();r.hasOwnProperty(c)?i[r[c]]=o[l]:(r[c]=l,i[l]=o[l])}),i),{})}C(805);const zn=typeof ArrayBuffer=="function",{toString:Vn}=Object.prototype;function Ke(e){return zn&&(e instanceof ArrayBuffer||Vn.call(e)==="[object ArrayBuffer]")}function Ye(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function ne(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}function Zt(e,t,n){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const Je=ne(function(e){const t=e._digest;return delete e._digest,t.hasDigestAuth&&(e=Pe(e,{headers:{Authorization:Ae(e,t)}})),Zt(Pt(e),function(n){let r=!1;return i=function(l){return r?l:n},(o=function(){if(n.status==401)return t.hasDigestAuth=function(l,c){if(!Xe(l))return!1;const h=/([a-z0-9_-]+)=(?:"([^"]+)"|([a-z0-9_-]+))/gi;for(;;){const s=l.headers&&l.headers.get("www-authenticate")||"",a=h.exec(s);if(!a)break;c[a[1]]=a[2]||a[3]}return c.nc+=1,c.cnonce=function(){let s="";for(let a=0;a<32;++a)s=`${s}${jn[Math.floor(16*Math.random())]}`;return s}(),!0}(n,t),function(){if(t.hasDigestAuth)return Zt(Pt(e=Pe(e,{headers:{Authorization:Ae(e,t)}})),function(l){return l.status==401?t.hasDigestAuth=!1:t.nc++,r=!0,l})}();t.nc++}())&&o.then?o.then(i):i(o);var i,o})}),Xn=ne(function(e,t){return Zt(Pt(e),function(n){return n.ok?(t.authType=W.Password,n):n.status==401&&Xe(n)?(t.authType=W.Digest,qe(t,t.username,t.password,void 0,void 0),e._digest=t.digest,Je(e)):n})}),F=ne(function(e,t){return t.authType===W.Auto?Xn(e,t):e._digest?Je(e):Pt(e)});function M(e,t,n){const r=Tt(e);return r.headers=Ht(t.headers,r.headers||{},n.headers||{}),n.data!==void 0&&(r.data=n.data),n.signal&&(r.signal=n.signal),t.httpAgent&&(r.httpAgent=t.httpAgent),t.httpsAgent&&(r.httpsAgent=t.httpsAgent),t.digest&&(r._digest=t.digest),typeof t.withCredentials=="boolean"&&(r.withCredentials=t.withCredentials),r}function Pt(e){const t=He();return t.patchInline("request",n=>t.patchInline("fetch",Fn,n.url,function(r){let i={};const o={method:r.method};if(r.headers&&(i=Ht(i,r.headers)),r.data!==void 0){const[l,c]=function(h){if(typeof h=="string")return[h,{}];if(Ye(h))return[h,{}];if(Ke(h))return[h,{}];if(h&&typeof h=="object")return[JSON.stringify(h),{"content-type":"application/json"}];throw new Error("Unable to convert request body: Unexpected body type: "+typeof h)}(r.data);o.body=l,i=Ht(i,c)}return r.signal&&(o.signal=r.signal),r.withCredentials&&(o.credentials="include"),o.headers=i,o}(n)),e)}var Wn=C(285);const Rt=e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},qn={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},dt=e=>e.replace(/[[\]\\-]/g,"\\$&"),Re=e=>e.join(""),Hn=(e,t)=>{const n=t;if(e.charAt(n)!=="[")throw new Error("not in a brace expression");const r=[],i=[];let o=n+1,l=!1,c=!1,h=!1,s=!1,a=n,f="";t:for(;o<e.length;){const m=e.charAt(o);if(m!=="!"&&m!=="^"||o!==n+1){if(m==="]"&&l&&!h){a=o+1;break}if(l=!0,m!=="\\"||h){if(m==="["&&!h){for(const[w,[E,g,y]]of Object.entries(qn))if(e.startsWith(w,o)){if(f)return["$.",!1,e.length-n,!0];o+=w.length,y?i.push(E):r.push(E),c=c||g;continue t}}h=!1,f?(m>f?r.push(dt(f)+"-"+dt(m)):m===f&&r.push(dt(m)),f="",o++):e.startsWith("-]",o+1)?(r.push(dt(m+"-")),o+=2):e.startsWith("-",o+1)?(f=m,o+=2):(r.push(dt(m)),o++)}else h=!0,o++}else s=!0,o++}if(a<o)return["",!1,0,!1];if(!r.length&&!i.length)return["$.",!1,e.length-n,!0];if(i.length===0&&r.length===1&&/^\\?.$/.test(r[0])&&!s)return[(u=r[0].length===2?r[0].slice(-1):r[0],u.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,a-n,!1];var u;const d="["+(s?"^":"")+Re(r)+"]",p="["+(s?"":"^")+Re(i)+"]";return[r.length&&i.length?"("+d+"|"+p+")":r.length?d:p,c,a-n,!0]},gt=function(e){let{windowsPathsNoEscape:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1")},Zn=new Set(["!","?","+","*","@"]),$e=e=>Zn.has(e),kt="(?!\\.)",Kn=new Set(["[","."]),Yn=new Set(["..","."]),Jn=new Set("().*{}+?[]^$\\!"),re="[^/]",Le=re+"*?",Se=re+"+?";class X{type;#n;#r;#i=!1;#t=[];#e;#o;#u;#a=!1;#s;#c;#h=!1;constructor(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.type=t,t&&(this.#r=!0),this.#e=n,this.#n=this.#e?this.#e.#n:this,this.#s=this.#n===this?r:this.#n.#s,this.#u=this.#n===this?[]:this.#n.#u,t!=="!"||this.#n.#a||this.#u.push(this),this.#o=this.#e?this.#e.#t.length:0}get hasMagic(){if(this.#r!==void 0)return this.#r;for(const t of this.#t)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#r=!0;return this.#r}toString(){return this.#c!==void 0?this.#c:this.type?this.#c=this.type+"("+this.#t.map(t=>String(t)).join("|")+")":this.#c=this.#t.map(t=>String(t)).join("")}#f(){if(this!==this.#n)throw new Error("should only call on root");if(this.#a)return this;let t;for(this.toString(),this.#a=!0;t=this.#u.pop();){if(t.type!=="!")continue;let n=t,r=n.#e;for(;r;){for(let i=n.#o+1;!r.type&&i<r.#t.length;i++)for(const o of t.#t){if(typeof o=="string")throw new Error("string part in extglob AST??");o.copyIn(r.#t[i])}n=r,r=n.#e}}return this}push(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)if(i!==""){if(typeof i!="string"&&!(i instanceof X&&i.#e===this))throw new Error("invalid part: "+i);this.#t.push(i)}}toJSON(){const t=this.type===null?this.#t.slice().map(n=>typeof n=="string"?n:n.toJSON()):[this.type,...this.#t.map(n=>n.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#n||this.#n.#a&&this.#e?.type==="!")&&t.push({}),t}isStart(){if(this.#n===this)return!0;if(!this.#e?.isStart())return!1;if(this.#o===0)return!0;const t=this.#e;for(let n=0;n<this.#o;n++){const r=t.#t[n];if(!(r instanceof X&&r.type==="!"))return!1}return!0}isEnd(){if(this.#n===this||this.#e?.type==="!")return!0;if(!this.#e?.isEnd())return!1;if(!this.type)return this.#e?.isEnd();const t=this.#e?this.#e.#t.length:0;return this.#o===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){const n=new X(this.type,t);for(const r of this.#t)n.copyIn(r);return n}static#l(t,n,r,i){let o=!1,l=!1,c=-1,h=!1;if(n.type===null){let d=r,p="";for(;d<t.length;){const m=t.charAt(d++);if(o||m==="\\")o=!o,p+=m;else if(l)d===c+1?m!=="^"&&m!=="!"||(h=!0):m!=="]"||d===c+2&&h||(l=!1),p+=m;else if(m!=="[")if(i.noext||!$e(m)||t.charAt(d)!=="(")p+=m;else{n.push(p),p="";const w=new X(m,n);d=X.#l(t,w,d,i),n.push(w)}else l=!0,c=d,h=!1,p+=m}return n.push(p),d}let s=r+1,a=new X(null,n);const f=[];let u="";for(;s<t.length;){const d=t.charAt(s++);if(o||d==="\\")o=!o,u+=d;else if(l)s===c+1?d!=="^"&&d!=="!"||(h=!0):d!=="]"||s===c+2&&h||(l=!1),u+=d;else if(d!=="[")if($e(d)&&t.charAt(s)==="("){a.push(u),u="";const p=new X(d,a);a.push(p),s=X.#l(t,p,s,i)}else if(d!=="|"){if(d===")")return u===""&&n.#t.length===0&&(n.#h=!0),a.push(u),u="",n.push(...f,a),s;u+=d}else a.push(u),u="",f.push(a),a=new X(null,n);else l=!0,c=s,h=!1,u+=d}return n.type=null,n.#r=void 0,n.#t=[t.substring(r-1)],s}static fromGlob(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=new X(null,void 0,n);return X.#l(t,r,0,n),r}toMMPattern(){if(this!==this.#n)return this.#n.toMMPattern();const t=this.toString(),[n,r,i,o]=this.toRegExpSource();if(!(i||this.#r||this.#s.nocase&&!this.#s.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return r;const l=(this.#s.nocase?"i":"")+(o?"u":"");return Object.assign(new RegExp(`^${n}$`,l),{_src:n,_glob:t})}get options(){return this.#s}toRegExpSource(t){const n=t??!!this.#s.dot;if(this.#n===this&&this.#f(),!this.type){const h=this.isStart()&&this.isEnd(),s=this.#t.map(u=>{const[d,p,m,w]=typeof u=="string"?X.#d(u,this.#r,h):u.toRegExpSource(t);return this.#r=this.#r||m,this.#i=this.#i||w,d}).join("");let a="";if(this.isStart()&&typeof this.#t[0]=="string"&&(this.#t.length!==1||!Yn.has(this.#t[0]))){const u=Kn,d=n&&u.has(s.charAt(0))||s.startsWith("\\.")&&u.has(s.charAt(2))||s.startsWith("\\.\\.")&&u.has(s.charAt(4)),p=!n&&!t&&u.has(s.charAt(0));a=d?"(?!(?:^|/)\\.\\.?(?:$|/))":p?kt:""}let f="";return this.isEnd()&&this.#n.#a&&this.#e?.type==="!"&&(f="(?:$|\\/)"),[a+s+f,gt(s),this.#r=!!this.#r,this.#i]}const r=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:";let o=this.#p(n);if(this.isStart()&&this.isEnd()&&!o&&this.type!=="!"){const h=this.toString();return this.#t=[h],this.type=null,this.#r=void 0,[h,gt(this.toString()),!1,!1]}let l=!r||t||n?"":this.#p(!0);l===o&&(l=""),l&&(o=`(?:${o})(?:${l})*?`);let c="";return c=this.type==="!"&&this.#h?(this.isStart()&&!n?kt:"")+Se:i+o+(this.type==="!"?"))"+(!this.isStart()||n||t?"":kt)+Le+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&l?")":this.type==="*"&&l?")?":`)${this.type}`),[c,gt(o),this.#r=!!this.#r,this.#i]}#p(t){return this.#t.map(n=>{if(typeof n=="string")throw new Error("string type in extglob ast??");const[r,i,o,l]=n.toRegExpSource(t);return this.#i=this.#i||l,r}).filter(n=>!(this.isStart()&&this.isEnd()&&!n)).join("|")}static#d(t,n){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=!1,o="",l=!1;for(let c=0;c<t.length;c++){const h=t.charAt(c);if(i)i=!1,o+=(Jn.has(h)?"\\":"")+h;else if(h!=="\\"){if(h==="["){const[s,a,f,u]=Hn(t,c);if(f){o+=s,l=l||a,c+=f-1,n=n||u;continue}}h!=="*"?h!=="?"?o+=h.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):(o+=re,n=!0):(o+=r&&t==="*"?Se:Le,n=!0)}else c===t.length-1?o+="\\\\":i=!0}return[o,gt(t),!!n,l]}}const z=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Rt(t),!(!n.nocomment&&t.charAt(0)==="#")&&new $t(t,n).match(e)},Qn=/^\*+([^+@!?\*\[\(]*)$/,tr=e=>t=>!t.startsWith(".")&&t.endsWith(e),er=e=>t=>t.endsWith(e),nr=e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),rr=e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),sr=/^\*+\.\*+$/,ir=e=>!e.startsWith(".")&&e.includes("."),or=e=>e!=="."&&e!==".."&&e.includes("."),ar=/^\.\*+$/,ur=e=>e!=="."&&e!==".."&&e.startsWith("."),cr=/^\*+$/,lr=e=>e.length!==0&&!e.startsWith("."),hr=e=>e.length!==0&&e!=="."&&e!=="..",pr=/^\?+([^+@!?\*\[\(]*)?$/,fr=e=>{let[t,n=""]=e;const r=Qe([t]);return n?(n=n.toLowerCase(),i=>r(i)&&i.toLowerCase().endsWith(n)):r},dr=e=>{let[t,n=""]=e;const r=tn([t]);return n?(n=n.toLowerCase(),i=>r(i)&&i.toLowerCase().endsWith(n)):r},gr=e=>{let[t,n=""]=e;const r=tn([t]);return n?i=>r(i)&&i.endsWith(n):r},mr=e=>{let[t,n=""]=e;const r=Qe([t]);return n?i=>r(i)&&i.endsWith(n):r},Qe=e=>{let[t]=e;const n=t.length;return r=>r.length===n&&!r.startsWith(".")},tn=e=>{let[t]=e;const n=t.length;return r=>r.length===n&&r!=="."&&r!==".."},en=typeof mt=="object"&&mt?typeof jt=="object"&&jt&&jt.__MINIMATCH_TESTING_PLATFORM__||mt.platform:"posix";z.sep=en==="win32"?"\\":"/";const Y=Symbol("globstar **");z.GLOBSTAR=Y,z.filter=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return n=>z(n,e,t)};const K=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.assign({},e,t)};z.defaults=e=>{if(!e||typeof e!="object"||!Object.keys(e).length)return z;const t=z;return Object.assign(function(n,r){return t(n,r,K(e,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))},{Minimatch:class extends t.Minimatch{constructor(n){super(n,K(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}))}static defaults(n){return t.defaults(K(e,n)).Minimatch}},AST:class extends t.AST{constructor(n,r){super(n,r,K(e,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))}static fromGlob(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.AST.fromGlob(n,K(e,r))}},unescape:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.unescape(n,K(e,r))},escape:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.escape(n,K(e,r))},filter:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.filter(n,K(e,r))},defaults:n=>t.defaults(K(e,n)),makeRe:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.makeRe(n,K(e,r))},braceExpand:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.braceExpand(n,K(e,r))},match:function(n,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t.match(n,r,K(e,i))},sep:t.sep,GLOBSTAR:Y})};const nn=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Rt(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:Wn(e)};z.braceExpand=nn,z.makeRe=function(e){return new $t(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).makeRe()},z.match=function(e,t){const n=new $t(t,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{});return e=e.filter(r=>n.match(r)),n.options.nonull&&!e.length&&e.push(t),e};const Ce=/[?*]|[+@!]\(.*?\)|\[|\]/;class $t{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Rt(t),n=n||{},this.options=n,this.pattern=t,this.platform=n.platform||en,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!n.windowsPathsNoEscape||n.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!n.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!n.nonegate,this.comment=!1,this.empty=!1,this.partial=!!n.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=n.windowsNoMagicRoot!==void 0?n.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const t of this.set)for(const n of t)if(typeof n!="string")return!0;return!1}debug(){}make(){const t=this.pattern,n=this.options;if(!n.nocomment&&t.charAt(0)==="#")return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],n.debug&&(this.debug=function(){return console.error(...arguments)}),this.debug(this.pattern,this.globSet);const r=this.globSet.map(o=>this.slashSplit(o));this.globParts=this.preprocess(r),this.debug(this.pattern,this.globParts);let i=this.globParts.map((o,l,c)=>{if(this.isWindows&&this.windowsNoMagicRoot){const h=!(o[0]!==""||o[1]!==""||o[2]!=="?"&&Ce.test(o[2])||Ce.test(o[3])),s=/^[a-z]:/i.test(o[0]);if(h)return[...o.slice(0,4),...o.slice(4).map(a=>this.parse(a))];if(s)return[o[0],...o.slice(1).map(a=>this.parse(a))]}return o.map(h=>this.parse(h))});if(this.debug(this.pattern,i),this.set=i.filter(o=>o.indexOf(!1)===-1),this.isWindows)for(let o=0;o<this.set.length;o++){const l=this.set[o];l[0]===""&&l[1]===""&&this.globParts[o][2]==="?"&&typeof l[3]=="string"&&/^[a-z]:$/i.test(l[3])&&(l[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let r=0;r<t.length;r++)for(let i=0;i<t[r].length;i++)t[r][i]==="**"&&(t[r][i]="*");const{optimizationLevel:n=1}=this.options;return n>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):t=n>=1?this.levelOneOptimize(t):this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(n=>{let r=-1;for(;(r=n.indexOf("**",r+1))!==-1;){let i=r;for(;n[i+1]==="**";)i++;i!==r&&n.splice(r,i-r)}return n})}levelOneOptimize(t){return t.map(n=>(n=n.reduce((r,i)=>{const o=r[r.length-1];return i==="**"&&o==="**"?r:i===".."&&o&&o!==".."&&o!=="."&&o!=="**"?(r.pop(),r):(r.push(i),r)},[])).length===0?[""]:n)}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let n=!1;do{if(n=!1,!this.preserveMultipleSlashes){for(let i=1;i<t.length-1;i++){const o=t[i];i===1&&o===""&&t[0]===""||o!=="."&&o!==""||(n=!0,t.splice(i,1),i--)}t[0]!=="."||t.length!==2||t[1]!=="."&&t[1]!==""||(n=!0,t.pop())}let r=0;for(;(r=t.indexOf("..",r+1))!==-1;){const i=t[r-1];i&&i!=="."&&i!==".."&&i!=="**"&&(n=!0,t.splice(r-1,2),r-=2)}}while(n);return t.length===0?[""]:t}firstPhasePreProcess(t){let n=!1;do{n=!1;for(let r of t){let i=-1;for(;(i=r.indexOf("**",i+1))!==-1;){let l=i;for(;r[l+1]==="**";)l++;l>i&&r.splice(i+1,l-i);let c=r[i+1];const h=r[i+2],s=r[i+3];if(c!==".."||!h||h==="."||h===".."||!s||s==="."||s==="..")continue;n=!0,r.splice(i,1);const a=r.slice(0);a[i]="**",t.push(a),i--}if(!this.preserveMultipleSlashes){for(let l=1;l<r.length-1;l++){const c=r[l];l===1&&c===""&&r[0]===""||c!=="."&&c!==""||(n=!0,r.splice(l,1),l--)}r[0]!=="."||r.length!==2||r[1]!=="."&&r[1]!==""||(n=!0,r.pop())}let o=0;for(;(o=r.indexOf("..",o+1))!==-1;){const l=r[o-1];if(l&&l!=="."&&l!==".."&&l!=="**"){n=!0;const c=o===1&&r[o+1]==="**"?["."]:[];r.splice(o-1,2,...c),r.length===0&&r.push(""),o-=2}}}}while(n);return t}secondPhasePreProcess(t){for(let n=0;n<t.length-1;n++)for(let r=n+1;r<t.length;r++){const i=this.partsMatch(t[n],t[r],!this.preserveMultipleSlashes);if(i){t[n]=[],t[r]=i;break}}return t.filter(n=>n.length)}partsMatch(t,n){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=0,o=0,l=[],c="";for(;i<t.length&&o<n.length;)if(t[i]===n[o])l.push(c==="b"?n[o]:t[i]),i++,o++;else if(r&&t[i]==="**"&&n[o]===t[i+1])l.push(t[i]),i++;else if(r&&n[o]==="**"&&t[i]===n[o+1])l.push(n[o]),o++;else if(t[i]!=="*"||!n[o]||!this.options.dot&&n[o].startsWith(".")||n[o]==="**"){if(n[o]!=="*"||!t[i]||!this.options.dot&&t[i].startsWith(".")||t[i]==="**"||c==="a")return!1;c="b",l.push(n[o]),i++,o++}else{if(c==="b")return!1;c="a",l.push(t[i]),i++,o++}return t.length===n.length&&l}parseNegate(){if(this.nonegate)return;const t=this.pattern;let n=!1,r=0;for(let i=0;i<t.length&&t.charAt(i)==="!";i++)n=!n,r++;r&&(this.pattern=t.slice(r)),this.negate=n}matchOne(t,n){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const i=this.options;if(this.isWindows){const m=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),w=!m&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),E=typeof n[0]=="string"&&/^[a-z]:$/i.test(n[0]),g=w?3:m?0:void 0,y=!E&&n[0]===""&&n[1]===""&&n[2]==="?"&&typeof n[3]=="string"&&/^[a-z]:$/i.test(n[3])?3:E?0:void 0;if(typeof g=="number"&&typeof y=="number"){const[b,v]=[t[g],n[y]];b.toLowerCase()===v.toLowerCase()&&(n[y]=b,y>g?n=n.slice(y):g>y&&(t=t.slice(g)))}}const{optimizationLevel:o=1}=this.options;o>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:n}),this.debug("matchOne",t.length,n.length);for(var l=0,c=0,h=t.length,s=n.length;l<h&&c<s;l++,c++){this.debug("matchOne loop");var a=n[c],f=t[l];if(this.debug(n,a,f),a===!1)return!1;if(a===Y){this.debug("GLOBSTAR",[n,a,f]);var u=l,d=c+1;if(d===s){for(this.debug("** at the end");l<h;l++)if(t[l]==="."||t[l]===".."||!i.dot&&t[l].charAt(0)===".")return!1;return!0}for(;u<h;){var p=t[u];if(this.debug(`
globstar while`,t,u,n,d,p),this.matchOne(t.slice(u),n.slice(d),r))return this.debug("globstar found match!",u,h,p),!0;if(p==="."||p===".."||!i.dot&&p.charAt(0)==="."){this.debug("dot detected!",t,u,n,d);break}this.debug("globstar swallow a segment, and continue"),u++}return!(!r||(this.debug(`
>>> no match, partial?`,t,u,n,d),u!==h))}let m;if(typeof a=="string"?(m=f===a,this.debug("string match",a,f,m)):(m=a.test(f),this.debug("pattern match",a,f,m)),!m)return!1}if(l===h&&c===s)return!0;if(l===h)return r;if(c===s)return l===h-1&&t[l]==="";throw new Error("wtf?")}braceExpand(){return nn(this.pattern,this.options)}parse(t){Rt(t);const n=this.options;if(t==="**")return Y;if(t==="")return"";let r,i=null;(r=t.match(cr))?i=n.dot?hr:lr:(r=t.match(Qn))?i=(n.nocase?n.dot?rr:nr:n.dot?er:tr)(r[1]):(r=t.match(pr))?i=(n.nocase?n.dot?dr:fr:n.dot?gr:mr)(r):(r=t.match(sr))?i=n.dot?or:ir:(r=t.match(ar))&&(i=ur);const o=X.fromGlob(t,this.options).toMMPattern();return i&&typeof o=="object"&&Reflect.defineProperty(o,"test",{value:i}),o}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const n=this.options,r=n.noglobstar?"[^/]*?":n.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",i=new Set(n.nocase?["i"]:[]);let o=t.map(h=>{const s=h.map(a=>{if(a instanceof RegExp)for(const f of a.flags.split(""))i.add(f);return typeof a=="string"?a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):a===Y?Y:a._src});return s.forEach((a,f)=>{const u=s[f+1],d=s[f-1];a===Y&&d!==Y&&(d===void 0?u!==void 0&&u!==Y?s[f+1]="(?:\\/|"+r+"\\/)?"+u:s[f]=r:u===void 0?s[f-1]=d+"(?:\\/|"+r+")?":u!==Y&&(s[f-1]=d+"(?:\\/|\\/"+r+"\\/)"+u,s[f+1]=Y))}),s.filter(a=>a!==Y).join("/")}).join("|");const[l,c]=t.length>1?["(?:",")"]:["",""];o="^"+l+o+c+"$",this.negate&&(o="^(?!"+o+").+$");try{this.regexp=new RegExp(o,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.partial;if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&n)return!0;const r=this.options;this.isWindows&&(t=t.split("\\").join("/"));const i=this.slashSplit(t);this.debug(this.pattern,"split",i);const o=this.set;this.debug(this.pattern,"set",o);let l=i[i.length-1];if(!l)for(let c=i.length-2;!l&&c>=0;c--)l=i[c];for(let c=0;c<o.length;c++){const h=o[c];let s=i;if(r.matchBase&&h.length===1&&(s=[l]),this.matchOne(s,h,n))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate}static defaults(t){return z.defaults(t).Minimatch}}function se(e){const t=new Error(`${arguments.length>1&&arguments[1]!==void 0?arguments[1]:""}Invalid response: ${e.status} ${e.statusText}`);return t.status=e.status,t.response=e,t}function k(e,t){const{status:n}=t;if(n===401&&e.digest)return t;if(n>=400)throw se(t);return t}function ct(e,t){return arguments.length>2&&arguments[2]!==void 0&&arguments[2]?{data:t,headers:e.headers?Bn(e.headers):{},status:e.status,statusText:e.statusText}:t}z.AST=X,z.Minimatch=$t,z.escape=function(e){let{windowsPathsNoEscape:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&")},z.unescape=gt;const wr=(_e=function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=M({url:j(e.remoteURL,_(t)),method:"COPY",headers:{Destination:j(e.remoteURL,_(n)),Overwrite:r.overwrite===!1?"F":"T",Depth:r.shallow?"0":"infinity"}},e,r);return l=function(c){k(e,c)},(o=F(i,e))&&o.then||(o=Promise.resolve(o)),l?o.then(l):o;var o,l},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(_e.apply(this,e))}catch(n){return Promise.reject(n)}});var _e,ie=C(635),yr=C(829),nt=C.n(yr),lt=function(e){return e.Array="array",e.Object="object",e.Original="original",e}(lt||{});function xt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:lt.Original;const r=nt().get(e,t);return n==="array"&&Array.isArray(r)===!1?[r]:n==="object"&&Array.isArray(r)?r[0]:r}function vt(e){return new Promise(t=>{t(function(n){const{multistatus:r}=n;if(r==="")return{multistatus:{response:[]}};if(!r)throw new Error("Invalid response: No root multistatus found");const i={multistatus:Array.isArray(r)?r[0]:r};return nt().set(i,"multistatus.response",xt(i,"multistatus.response",lt.Array)),nt().set(i,"multistatus.response",nt().get(i,"multistatus.response").map(o=>function(l){const c=Object.assign({},l);return c.status?nt().set(c,"status",xt(c,"status",lt.Object)):(nt().set(c,"propstat",xt(c,"propstat",lt.Object)),nt().set(c,"propstat.prop",xt(c,"propstat.prop",lt.Object))),c}(o))),i}(new ie.XMLParser({removeNSPrefix:!0,numberParseOptions:{hex:!0,leadingZeros:!1}}).parse(e)))})}function Ct(e,t){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const{getlastmodified:r=null,getcontentlength:i="0",resourcetype:o=null,getcontenttype:l=null,getetag:c=null}=e,h=o&&typeof o=="object"&&o.collection!==void 0?"directory":"file",s={filename:t,basename:Ot().basename(t),lastmod:r,size:parseInt(i,10),type:h,etag:typeof c=="string"?c.replace(/"/g,""):null};return h==="file"&&(s.mime=l&&typeof l=="string"?l.split(";")[0]:""),n&&(e.displayname!==void 0&&(e.displayname=String(e.displayname)),s.props=e),s}function rn(e,t){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=null;try{e.multistatus.response[0].propstat&&(r=e.multistatus.response[0])}catch{}if(!r)throw new Error("Failed getting item stat: bad response");const{propstat:{prop:i,status:o}}=r,[l,c,h]=o.split(" ",3),s=parseInt(c,10);if(s>=400){const a=new Error(`Invalid response: ${s} ${h}`);throw a.status=s,a}return Ct(i,yt(t),n)}function sn(e){switch(String(e)){case"-3":return"unlimited";case"-2":case"-1":return"unknown";default:return parseInt(String(e),10)}}function Ut(e,t,n){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const oe=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:r=!1}=n,i=M({url:j(e.remoteURL,_(t)),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},e,n);return Ut(F(i,e),function(o){return k(e,o),Ut(o.text(),function(l){return Ut(vt(l),function(c){const h=rn(c,t,r);return ct(o,h,r)})})})});function on(e,t,n){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const vr=an(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=function(o){if(!o||o==="/")return[];let l=o;const c=[];do c.push(l),l=Ot().dirname(l);while(l&&l!=="/");return c}(yt(t));r.sort((o,l)=>o.length>l.length?1:l.length>o.length?-1:0);let i=!1;return function(o,l,c){if(typeof o[De]=="function"){let m=function(w){try{for(;!(h=f.next()).done;)if((w=l(h.value))&&w.then){if(!Fe(w))return void w.then(m,a||(a=q.bind(null,s=new ht,2)));w=w.v}s?q(s,1,w):s=w}catch(E){q(s||(s=new ht),2,E)}};var h,s,a,f=o[De]();if(m(),f.return){var u=function(w){try{h.done||f.return()}catch{}return w};if(s&&s.then)return s.then(u,function(w){throw u(w)});u()}return s}if(!("length"in o))throw new TypeError("Object is not iterable");for(var d=[],p=0;p<o.length;p++)d.push(o[p]);return function(m,w,E){var g,y,b=-1;return function v(A){try{for(;++b<m.length&&(!E||!E());)if((A=w(b))&&A.then){if(!Fe(A))return void A.then(v,y||(y=q.bind(null,g=new ht,2)));A=A.v}g?q(g,1,A):g=A}catch(N){q(g||(g=new ht),2,N)}}(),g}(d,function(m){return l(d[m])},c)}(r,function(o){return l=function(){return function(h,s){try{var a=on(oe(e,o),function(f){if(f.type!=="directory")throw new Error(`Path includes a file: ${t}`)})}catch(f){return s(f)}return a&&a.then?a.then(void 0,s):a}(0,function(h){const s=h;return function(){if(s.status===404)return i=!0,je(Kt(e,o,{...n,recursive:!1}));throw h}()})},(c=function(){if(i)return je(Kt(e,o,{...n,recursive:!1}))}())&&c.then?c.then(l):l();var l,c},function(){return!1})});function an(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}function br(){}function je(e,t){return e&&e.then?e.then(br):Promise.resolve()}const De=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function q(e,t,n){if(!e.s){if(n instanceof ht){if(!n.s)return void(n.o=q.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(q.bind(null,e,t),q.bind(null,e,2));e.s=t,e.v=n;const r=e.o;r&&r(e)}}const ht=function(){function e(){}return e.prototype.then=function(t,n){const r=new e,i=this.s;if(i){const o=1&i?t:n;if(o){try{q(r,1,o(this.v))}catch(l){q(r,2,l)}return r}return this}return this.o=function(o){try{const l=o.v;1&o.s?q(r,1,t?t(l):l):n?q(r,1,n(l)):q(r,2,l)}catch(l){q(r,2,l)}},r},e}();function Fe(e){return e instanceof ht&&1&e.s}const Kt=an(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n.recursive===!0)return vr(e,t,n);const r=M({url:j(e.remoteURL,(i=_(t),i.endsWith("/")?i:i+"/")),method:"MKCOL"},e,n);var i;return on(F(r,e),function(o){k(e,o)})});var Er=C(388),Me=C.n(Er);const Nr=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r={};if(typeof n.range=="object"&&typeof n.range.start=="number"){let c=`bytes=${n.range.start}-`;typeof n.range.end=="number"&&(c=`${c}${n.range.end}`),r.Range=c}const i=M({url:j(e.remoteURL,_(t)),method:"GET",headers:r},e,n);return l=function(c){if(k(e,c),r.Range&&c.status!==206){const h=new Error(`Invalid response code for partial request: ${c.status}`);throw h.status=c.status,h}return n.callback&&setTimeout(()=>{n.callback(c)},0),c.body},(o=F(i,e))&&o.then||(o=Promise.resolve(o)),l?o.then(l):o;var o,l}),xr=()=>{},Ar=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t,n){n.url||(n.url=j(e.remoteURL,_(t)));const r=M(n,e,{});return o=function(l){return k(e,l),l},(i=F(r,e))&&i.then||(i=Promise.resolve(i)),o?i.then(o):i;var i,o}),Or=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=M({url:j(e.remoteURL,_(t)),method:"DELETE"},e,n);return o=function(l){k(e,l)},(i=F(r,e))&&i.then||(i=Promise.resolve(i)),o?i.then(o):i;var i,o}),Ir=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function(r,i){try{var o=(l=oe(e,t,n),c=function(){return!0},h?c?c(l):l:(l&&l.then||(l=Promise.resolve(l)),c?l.then(c):l))}catch(s){return i(s)}var l,c,h;return o&&o.then?o.then(void 0,i):o}(0,function(r){if(r.status===404)return!1;throw r})});function Gt(e,t,n){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const Tr=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=M({url:j(e.remoteURL,_(t),"/"),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:n.deep?"infinity":"1"}},e,n);return Gt(F(r,e),function(i){return k(e,i),Gt(i.text(),function(o){if(!o)throw new Error("Failed parsing directory contents: Empty response");return Gt(vt(o),function(l){const c=xe(t);let h=function(s,a,f){let u=arguments.length>3&&arguments[3]!==void 0&&arguments[3],d=arguments.length>4&&arguments[4]!==void 0&&arguments[4];const p=Ot().join(a,"/"),{multistatus:{response:m}}=s,w=m.map(E=>{const g=function(b){try{return b.replace(/^https?:\/\/[^\/]+/,"")}catch(v){throw new H(v,"Failed normalising HREF")}}(E.href),{propstat:{prop:y}}=E;return Ct(y,p==="/"?decodeURIComponent(yt(g)):yt(Ot().relative(decodeURIComponent(p),decodeURIComponent(g))),u)});return d?w:w.filter(E=>E.basename&&(E.type==="file"||E.filename!==f.replace(/\/$/,"")))}(l,xe(e.remoteBasePath||e.remotePath),c,n.details,n.includeSelf);return n.glob&&(h=function(s,a){return s.filter(f=>z(f.filename,a,{matchBase:!0}))}(h,n.glob)),ct(i,h,n.details)})})})});function ae(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}const Pr=ae(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=M({url:j(e.remoteURL,_(t)),method:"GET",headers:{Accept:"text/plain"},transformResponse:[Lr]},e,n);return Lt(F(r,e),function(i){return k(e,i),Lt(i.text(),function(o){return ct(i,o,n.details)})})});function Lt(e,t,n){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const Rr=ae(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=M({url:j(e.remoteURL,_(t)),method:"GET"},e,n);return Lt(F(r,e),function(i){let o;return k(e,i),function(l,c){var h=l();return h&&h.then?h.then(c):c()}(function(){return Lt(i.arrayBuffer(),function(l){o=l})},function(){return ct(i,o,n.details)})})}),$r=ae(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{format:r="binary"}=n;if(r!=="binary"&&r!=="text")throw new H({info:{code:rt.InvalidOutputFormat}},`Invalid output format: ${r}`);return r==="text"?Pr(e,t,n):Rr(e,t,n)}),Lr=e=>e;function Sr(e){return new ie.XMLBuilder({attributeNamePrefix:"@_",format:!0,ignoreAttributes:!1,suppressEmptyNode:!0}).build(un({lockinfo:{"@_xmlns:d":"DAV:",lockscope:{exclusive:{}},locktype:{write:{}},owner:{href:e}}},"d"))}function un(e,t){const n={...e};for(const r in n)n.hasOwnProperty(r)&&(n[r]&&typeof n[r]=="object"&&r.indexOf(":")===-1?(n[`${t}:${r}`]=un(n[r],t),delete n[r]):/^@_/.test(r)===!1&&(n[`${t}:${r}`]=n[r],delete n[r]));return n}function Yt(e,t,n){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}function cn(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}const Cr=cn(function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=M({url:j(e.remoteURL,_(t)),method:"UNLOCK",headers:{"Lock-Token":n}},e,r);return Yt(F(i,e),function(o){if(k(e,o),o.status!==204&&o.status!==200)throw se(o)})}),_r=cn(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{refreshToken:r,timeout:i=jr}=n,o={Accept:"text/plain,application/xml",Timeout:i};r&&(o.If=r);const l=M({url:j(e.remoteURL,_(t)),method:"LOCK",headers:o,data:Sr(e.contactHref)},e,n);return Yt(F(l,e),function(c){return k(e,c),Yt(c.text(),function(h){const s=(u=h,new ie.XMLParser({removeNSPrefix:!0,parseAttributeValue:!0,parseTagValue:!0}).parse(u)),a=nt().get(s,"prop.lockdiscovery.activelock.locktoken.href"),f=nt().get(s,"prop.lockdiscovery.activelock.timeout");var u;if(!a)throw se(c,"No lock token received: ");return{token:a,serverTimeout:f}})})}),jr="Infinite, Second-4100000000";function Bt(e,t,n){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const Dr=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=t.path||"/",r=M({url:j(e.remoteURL,n),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},e,t);return Bt(F(r,e),function(i){return k(e,i),Bt(i.text(),function(o){return Bt(vt(o),function(l){const c=function(h){try{const[s]=h.multistatus.response,{propstat:{prop:{"quota-used-bytes":a,"quota-available-bytes":f}}}=s;return a!==void 0&&f!==void 0?{used:parseInt(String(a),10),available:sn(f)}:null}catch{}return null}(l);return ct(i,c,t.details)})})})});function zt(e,t,n){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const Fr=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:r=!1}=n,i=M({url:j(e.remoteURL,_(t)),method:"SEARCH",headers:{Accept:"text/plain,application/xml","Content-Type":e.headers["Content-Type"]||"application/xml; charset=utf-8"}},e,n);return zt(F(i,e),function(o){return k(e,o),zt(o.text(),function(l){return zt(vt(l),function(c){const h=function(s,a,f){const u={truncated:!1,results:[]};return u.truncated=s.multistatus.response.some(d=>(d.status||d.propstat?.status).split(" ",3)?.[1]==="507"&&d.href.replace(/\/$/,"").endsWith(_(a).replace(/\/$/,""))),s.multistatus.response.forEach(d=>{if(d.propstat===void 0)return;const p=d.href.split("/").map(decodeURIComponent).join("/");u.results.push(Ct(d.propstat.prop,p,f))}),u}(c,t,r);return ct(o,h,r)})})})}),Mr=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=M({url:j(e.remoteURL,_(t)),method:"MOVE",headers:{Destination:j(e.remoteURL,_(n)),Overwrite:r.overwrite===!1?"F":"T"}},e,r);return l=function(c){k(e,c)},(o=F(i,e))&&o.then||(o=Promise.resolve(o)),l?o.then(l):o;var o,l});var kr=C(172);const Ur=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const{contentLength:i=!0,overwrite:o=!0}=r,l={"Content-Type":"application/octet-stream"};i===!1||(l["Content-Length"]=typeof i=="number"?`${i}`:`${function(a){if(Ke(a))return a.byteLength;if(Ye(a))return a.length;if(typeof a=="string")return(0,kr.d)(a);throw new H({info:{code:rt.DataTypeNoLength}},"Cannot calculate data length: Invalid type")}(n)}`),o||(l["If-None-Match"]="*");const c=M({url:j(e.remoteURL,_(t)),method:"PUT",headers:l,data:n},e,r);return s=function(a){try{k(e,a)}catch(f){const u=f;if(u.status!==412||o)throw u;return!1}return!0},(h=F(c,e))&&h.then||(h=Promise.resolve(h)),s?h.then(s):h;var h,s}),ln=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=M({url:j(e.remoteURL,_(t)),method:"OPTIONS"},e,n);return o=function(l){try{k(e,l)}catch(c){throw c}return{compliance:(l.headers.get("DAV")??"").split(",").map(c=>c.trim()),server:l.headers.get("Server")??""}},(i=F(r,e))&&i.then||(i=Promise.resolve(i)),o?i.then(o):i;var i,o});function wt(e,t,n){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const Gr=ue(function(e,t,n,r,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(n>r||n<0)throw new H({info:{code:rt.InvalidUpdateRange}},`Invalid update range ${n} for partial update`);const l={"Content-Type":"application/octet-stream","Content-Length":""+(r-n+1),"Content-Range":`bytes ${n}-${r}/*`},c=M({url:j(e.remoteURL,_(t)),method:"PUT",headers:l,data:i},e,o);return wt(F(c,e),function(h){k(e,h)})});function ke(e,t){var n=e();return n&&n.then?n.then(t):t(n)}const Br=ue(function(e,t,n,r,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(n>r||n<0)throw new H({info:{code:rt.InvalidUpdateRange}},`Invalid update range ${n} for partial update`);const l={"Content-Type":"application/x-sabredav-partialupdate","Content-Length":""+(r-n+1),"X-Update-Range":`bytes=${n}-${r}`},c=M({url:j(e.remoteURL,_(t)),method:"PATCH",headers:l,data:i},e,o);return wt(F(c,e),function(h){k(e,h)})});function ue(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}const zr=ue(function(e,t,n,r,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};return wt(ln(e,t,o),function(l){let c=!1;return ke(function(){if(l.compliance.includes("sabredav-partialupdate"))return wt(Br(e,t,n,r,i,o),function(h){return c=!0,h})},function(h){let s=!1;return c?h:ke(function(){if(l.server.includes("Apache")&&l.compliance.includes("<http://apache.org/dav/propset/fs/1>"))return wt(Gr(e,t,n,r,i,o),function(a){return s=!0,a})},function(a){if(s)return a;throw new H({info:{code:rt.NotSupported}},"Not supported")})})})}),Vr="https://github.com/perry-mitchell/webdav-client/blob/master/LOCK_CONTACT.md";function Xr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{authType:n=null,remoteBasePath:r,contactHref:i=Vr,ha1:o,headers:l={},httpAgent:c,httpsAgent:h,password:s,token:a,username:f,withCredentials:u}=t;let d=n;d||(d=f||s?W.Password:W.None);const p={authType:d,remoteBasePath:r,contactHref:i,ha1:o,headers:Object.assign({},l),httpAgent:c,httpsAgent:h,password:s,remotePath:Cn(e),remoteURL:e,token:a,username:f,withCredentials:u};return qe(p,f,s,a,o),{copyFile:(m,w,E)=>wr(p,m,w,E),createDirectory:(m,w)=>Kt(p,m,w),createReadStream:(m,w)=>function(E,g){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const b=new(Me()).PassThrough;return Nr(E,g,y).then(v=>{v.pipe(b)}).catch(v=>{b.emit("error",v)}),b}(p,m,w),createWriteStream:(m,w,E)=>function(g,y){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:xr;const A=new(Me()).PassThrough,N={};b.overwrite===!1&&(N["If-None-Match"]="*");const x=M({url:j(g.remoteURL,_(y)),method:"PUT",headers:N,data:A,maxRedirects:0},g,b);return F(x,g).then(O=>k(g,O)).then(O=>{setTimeout(()=>{v(O)},0)}).catch(O=>{A.emit("error",O)}),A}(p,m,w,E),customRequest:(m,w)=>Ar(p,m,w),deleteFile:(m,w)=>Or(p,m,w),exists:(m,w)=>Ir(p,m,w),getDirectoryContents:(m,w)=>Tr(p,m,w),getFileContents:(m,w)=>$r(p,m,w),getFileDownloadLink:m=>function(w,E){let g=j(w.remoteURL,_(E));const y=/^https:/i.test(g)?"https":"http";switch(w.authType){case W.None:break;case W.Password:{const b=Oe(w.headers.Authorization.replace(/^Basic /i,"").trim());g=g.replace(/^https?:\/\//,`${y}://${b}@`);break}default:throw new H({info:{code:rt.LinkUnsupportedAuthType}},`Unsupported auth type for file link: ${w.authType}`)}return g}(p,m),getFileUploadLink:m=>function(w,E){let g=`${j(w.remoteURL,_(E))}?Content-Type=application/octet-stream`;const y=/^https:/i.test(g)?"https":"http";switch(w.authType){case W.None:break;case W.Password:{const b=Oe(w.headers.Authorization.replace(/^Basic /i,"").trim());g=g.replace(/^https?:\/\//,`${y}://${b}@`);break}default:throw new H({info:{code:rt.LinkUnsupportedAuthType}},`Unsupported auth type for file link: ${w.authType}`)}return g}(p,m),getHeaders:()=>Object.assign({},p.headers),getQuota:m=>Dr(p,m),lock:(m,w)=>_r(p,m,w),moveFile:(m,w,E)=>Mr(p,m,w,E),putFileContents:(m,w,E)=>Ur(p,m,w,E),partialUpdateFileContents:(m,w,E,g,y)=>zr(p,m,w,E,g,y),getDAVCompliance:m=>ln(p,m),search:(m,w)=>Fr(p,m,w),setHeaders:m=>{p.headers=Object.assign({},m)},stat:(m,w)=>oe(p,m,w),unlock:(m,w,E)=>Cr(p,m,w,E)}}J.hT,J.O4,J.Kd,J.YK;var Wr=J.UU,qr=J.Gu;J.ky,J.h4,J.ch,J.hq,J.i5;const ot=bn().setApp("@nextcloud/files").detectUser().build();var Q=(e=>(e[e.NONE=0]="NONE",e[e.CREATE=4]="CREATE",e[e.READ=1]="READ",e[e.UPDATE=2]="UPDATE",e[e.DELETE=8]="DELETE",e[e.SHARE=16]="SHARE",e[e.ALL=31]="ALL",e))(Q||{}),ce=(e=>(e.Folder="folder",e.File="file",e))(ce||{});const hn=function(e,t){return e.match(t)!==null},Ue=(e,t)=>{if(e.id&&typeof e.id!="number")throw new Error("Invalid id type of value");if(!e.source)throw new Error("Missing mandatory source");try{new URL(e.source)}catch{throw new Error("Invalid source format, source must be a valid URL")}if(!e.source.startsWith("http"))throw new Error("Invalid source format, only http(s) is supported");if(e.displayname&&typeof e.displayname!="string")throw new Error("Invalid displayname type");if(e.mtime&&!(e.mtime instanceof Date))throw new Error("Invalid mtime type");if(e.crtime&&!(e.crtime instanceof Date))throw new Error("Invalid crtime type");if(!e.mime||typeof e.mime!="string"||!e.mime.match(/^[-\w.]+\/[-+\w.]+$/gi))throw new Error("Missing or invalid mandatory mime");if("size"in e&&typeof e.size!="number"&&e.size!==void 0)throw new Error("Invalid size type");if("permissions"in e&&e.permissions!==void 0&&!(typeof e.permissions=="number"&&e.permissions>=Q.NONE&&e.permissions<=Q.ALL))throw new Error("Invalid permissions");if(e.owner&&e.owner!==null&&typeof e.owner!="string")throw new Error("Invalid owner type");if(e.attributes&&typeof e.attributes!="object")throw new Error("Invalid attributes type");if(e.root&&typeof e.root!="string")throw new Error("Invalid root type");if(e.root&&!e.root.startsWith("/"))throw new Error("Root must start with a leading slash");if(e.root&&!e.source.includes(e.root))throw new Error("Root must be part of the source");if(e.root&&hn(e.source,t)){const n=e.source.match(t)[0];if(!e.source.includes(ut.join(n,e.root)))throw new Error("The root must be relative to the service. e.g /files/emma")}if(e.status&&!Object.values(le).includes(e.status))throw new Error("Status must be a valid NodeStatus")};var le=(e=>(e.NEW="new",e.FAILED="failed",e.LOADING="loading",e.LOCKED="locked",e))(le||{});class _t{_data;_attributes;_knownDavService=/(remote|public)\.php\/(web)?dav/i;readonlyAttributes=Object.entries(Object.getOwnPropertyDescriptors(_t.prototype)).filter(t=>typeof t[1].get=="function"&&t[0]!=="__proto__").map(t=>t[0]);handler={set:(t,n,r)=>this.readonlyAttributes.includes(n)?!1:Reflect.set(t,n,r),deleteProperty:(t,n)=>this.readonlyAttributes.includes(n)?!1:Reflect.deleteProperty(t,n),get:(t,n,r)=>this.readonlyAttributes.includes(n)?(ot.warn(`Accessing "Node.attributes.${n}" is deprecated, access it directly on the Node instance.`),Reflect.get(this,n)):Reflect.get(t,n,r)};constructor(t,n){Ue(t,n||this._knownDavService),this._data={displayname:t.attributes?.displayname,...t,attributes:{}},this._attributes=new Proxy(this._data.attributes,this.handler),this.update(t.attributes??{}),n&&(this._knownDavService=n)}get source(){return this._data.source.replace(/\/$/i,"")}get encodedSource(){const{origin:t}=new URL(this.source);return t+An(this.source.slice(t.length))}get basename(){return ut.basename(this.source)}get displayname(){return this._data.displayname||this.basename}set displayname(t){this._data.displayname=t}get extension(){return ut.extname(this.source)}get dirname(){if(this.root){let n=this.source;this.isDavResource&&(n=n.split(this._knownDavService).pop());const r=n.indexOf(this.root),i=this.root.replace(/\/$/,"");return ut.dirname(n.slice(r+i.length)||"/")}const t=new URL(this.source);return ut.dirname(t.pathname)}get mime(){return this._data.mime}get mtime(){return this._data.mtime}set mtime(t){this._data.mtime=t}get crtime(){return this._data.crtime}get size(){return this._data.size}set size(t){this.updateMtime(),this._data.size=t}get attributes(){return this._attributes}get permissions(){return this.owner===null&&!this.isDavResource?Q.READ:this._data.permissions!==void 0?this._data.permissions:Q.NONE}set permissions(t){this.updateMtime(),this._data.permissions=t}get owner(){return this.isDavResource?this._data.owner:null}get isDavResource(){return hn(this.source,this._knownDavService)}get isDavRessource(){return this.isDavResource}get root(){return this._data.root?this._data.root.replace(/^(.+)\/$/,"$1"):this.isDavResource&&ut.dirname(this.source).split(this._knownDavService).pop()||null}get path(){if(this.root){let t=this.source;this.isDavResource&&(t=t.split(this._knownDavService).pop());const n=t.indexOf(this.root),r=this.root.replace(/\/$/,"");return t.slice(n+r.length)||"/"}return(this.dirname+"/"+this.basename).replace(/\/\//g,"/")}get fileid(){return this._data?.id}get status(){return this._data?.status}set status(t){this._data.status=t}get data(){return structuredClone(this._data)}move(t){Ue({...this._data,source:t},this._knownDavService);const n=this.basename;this._data.source=t,this.displayname===n&&this.basename!==n&&(this.displayname=this.basename),this.updateMtime()}rename(t){if(t.includes("/"))throw new Error("Invalid basename");this.move(ut.dirname(this.source)+"/"+t)}updateMtime(){this._data.mtime&&(this._data.mtime=new Date)}update(t){for(const[n,r]of Object.entries(t))try{r===void 0?delete this.attributes[n]:this.attributes[n]=r}catch(i){if(i instanceof TypeError)continue;throw i}}}class he extends _t{get type(){return ce.File}clone(){return new he(this.data)}}class pe extends _t{constructor(t){super({...t,mime:"httpd/unix-directory"})}get type(){return ce.Folder}get extension(){return null}get mime(){return"httpd/unix-directory"}clone(){return new pe(this.data)}}const Hr=function(e=""){let t=Q.NONE;return e&&((e.includes("C")||e.includes("K"))&&(t|=Q.CREATE),e.includes("G")&&(t|=Q.READ),(e.includes("W")||e.includes("N")||e.includes("V"))&&(t|=Q.UPDATE),e.includes("D")&&(t|=Q.DELETE),e.includes("R")&&(t|=Q.SHARE)),t},pn=["d:getcontentlength","d:getcontenttype","d:getetag","d:getlastmodified","d:creationdate","d:displayname","d:quota-available-bytes","d:resourcetype","nc:has-preview","nc:is-encrypted","nc:mount-type","oc:comments-unread","oc:favorite","oc:fileid","oc:owner-display-name","oc:owner-id","oc:permissions","oc:size"],fn={d:"DAV:",nc:"http://nextcloud.org/ns",oc:"http://owncloud.org/ns",ocs:"http://open-collaboration-services.org/ns"},ys=function(e,t={nc:"http://nextcloud.org/ns"}){typeof window._nc_dav_properties>"u"&&(window._nc_dav_properties=[...pn],window._nc_dav_namespaces={...fn});const n={...window._nc_dav_namespaces,...t};if(window._nc_dav_properties.find(i=>i===e))return ot.warn(`${e} already registered`,{prop:e}),!1;if(e.startsWith("<")||e.split(":").length!==2)return ot.error(`${e} is not valid. See example: 'oc:fileid'`,{prop:e}),!1;const r=e.split(":")[0];return n[r]?(window._nc_dav_properties.push(e),window._nc_dav_namespaces=n,!0):(ot.error(`${e} namespace unknown`,{prop:e,namespaces:n}),!1)},fe=function(){return typeof window._nc_dav_properties>"u"&&(window._nc_dav_properties=[...pn]),window._nc_dav_properties.map(e=>`<${e} />`).join(" ")},de=function(){return typeof window._nc_dav_namespaces>"u"&&(window._nc_dav_namespaces={...fn}),Object.keys(window._nc_dav_namespaces).map(e=>`xmlns:${e}="${window._nc_dav_namespaces?.[e]}"`).join(" ")},vs=function(){return`<?xml version="1.0"?>
		<d:propfind ${de()}>
			<d:prop>
				${fe()}
			</d:prop>
		</d:propfind>`},Zr=function(){return`<?xml version="1.0"?>
		<oc:filter-files ${de()}>
			<d:prop>
				${fe()}
			</d:prop>
			<oc:filter-rules>
				<oc:favorite>1</oc:favorite>
			</oc:filter-rules>
		</oc:filter-files>`},bs=function(e){return`<?xml version="1.0" encoding="UTF-8"?>
<d:searchrequest ${de()}
	xmlns:ns="https://github.com/icewind1991/SearchDAV/ns">
	<d:basicsearch>
		<d:select>
			<d:prop>
				${fe()}
			</d:prop>
		</d:select>
		<d:from>
			<d:scope>
				<d:href>/files/${Jt()?.uid}/</d:href>
				<d:depth>infinity</d:depth>
			</d:scope>
		</d:from>
		<d:where>
			<d:and>
				<d:or>
					<d:not>
						<d:eq>
							<d:prop>
								<d:getcontenttype/>
							</d:prop>
							<d:literal>httpd/unix-directory</d:literal>
						</d:eq>
					</d:not>
					<d:eq>
						<d:prop>
							<oc:size/>
						</d:prop>
						<d:literal>0</d:literal>
					</d:eq>
				</d:or>
				<d:gt>
					<d:prop>
						<d:getlastmodified/>
					</d:prop>
					<d:literal>${e}</d:literal>
				</d:gt>
			</d:and>
		</d:where>
		<d:orderby>
			<d:order>
				<d:prop>
					<d:getlastmodified/>
				</d:prop>
				<d:descending/>
			</d:order>
		</d:orderby>
		<d:limit>
			<d:nresults>100</d:nresults>
			<ns:firstresult>0</ns:firstresult>
		</d:limit>
	</d:basicsearch>
</d:searchrequest>`};function Kr(){return Qt()?`/files/${Nn()}`:`/files/${Jt()?.uid}`}const dn=Kr();function Yr(){const e=En("dav");return Qt()?e.replace("remote.php","public.php"):e}const gn=Yr(),Es=function(e=gn,t={}){const n=Wr(e,{headers:t});function r(i){n.setHeaders({...t,"X-Requested-With":"XMLHttpRequest",requesttoken:i??""})}return yn(r),r(vn()),qr().patch("fetch",(i,o)=>{const l=o.headers;return l?.method&&(o.method=l.method,delete l.method),fetch(i,o)}),n},Ns=(e,t="/",n=dn)=>{const r=new AbortController;return new et(async(i,o,l)=>{l(()=>r.abort());try{const c=(await e.getDirectoryContents(`${n}${t}`,{signal:r.signal,details:!0,data:Zr(),headers:{method:"REPORT"},includeSelf:!0})).data.filter(h=>h.filename!==t).map(h=>Jr(h,n));i(c)}catch(c){o(c)}})},Jr=function(e,t=dn,n=gn){let r=Jt()?.uid;if(Qt())r=r??"anonymous";else if(!r)throw new Error("No user id found");const i=e.props,o=Hr(i?.permissions),l=String(i?.["owner-id"]||r),c=i.fileid||0,h=new Date(Date.parse(e.lastmod)),s=new Date(Date.parse(i.creationdate)),a={id:c,source:`${n}${e.filename}`,mtime:!isNaN(h.getTime())&&h.getTime()!==0?h:void 0,crtime:!isNaN(s.getTime())&&s.getTime()!==0?s:void 0,mime:e.mime||"application/octet-stream",displayname:i.displayname!==void 0?String(i.displayname):void 0,size:i?.size||Number.parseInt(i.getcontentlength||"0"),status:c<0?le.FAILED:void 0,permissions:o,owner:l,root:t,attributes:{...e,...i,hasPreview:i?.["has-preview"]}};return delete a.attributes?.props,e.type==="file"?new he(a):new pe(a)};var Vt={},Qr=(e=>(e[e.UploadFromDevice=0]="UploadFromDevice",e[e.CreateNew=1]="CreateNew",e[e.Other=2]="Other",e))(Qr||{});class ts{_entries=[];registerEntry(t){this.validateEntry(t),t.category=t.category??1,this._entries.push(t)}unregisterEntry(t){const n=typeof t=="string"?this.getEntryIndex(t):this.getEntryIndex(t.id);if(n===-1){ot.warn("Entry not found, nothing removed",{entry:t,entries:this.getEntries()});return}this._entries.splice(n,1)}getEntries(t){return t?this._entries.filter(n=>typeof n.enabled=="function"?n.enabled(t):!0):this._entries}getEntryIndex(t){return this._entries.findIndex(n=>n.id===t)}validateEntry(t){if(!t.id||!t.displayName||!(t.iconSvgInline||t.iconClass)||!t.handler)throw new Error("Invalid entry");if(typeof t.id!="string"||typeof t.displayName!="string")throw new Error("Invalid id or displayName property");if(t.iconClass&&typeof t.iconClass!="string"||t.iconSvgInline&&typeof t.iconSvgInline!="string")throw new Error("Invalid icon provided");if(t.enabled!==void 0&&typeof t.enabled!="function")throw new Error("Invalid enabled property");if(typeof t.handler!="function")throw new Error("Invalid handler property");if("order"in t&&typeof t.order!="number")throw new Error("Invalid order property");if(this.getEntryIndex(t.id)!==-1)throw new Error("Duplicate entry")}}const es=function(){return typeof window._nc_newfilemenu>"u"&&(window._nc_newfilemenu=new ts,ot.debug("NewFileMenu initialized")),window._nc_newfilemenu};class xs{_header;constructor(t){this.validateHeader(t),this._header=t}get id(){return this._header.id}get order(){return this._header.order}get enabled(){return this._header.enabled}get render(){return this._header.render}get updated(){return this._header.updated}validateHeader(t){if(!t.id||!t.render||!t.updated)throw new Error("Invalid header: id, render and updated are required");if(typeof t.id!="string")throw new Error("Invalid id property");if(t.enabled!==void 0&&typeof t.enabled!="function")throw new Error("Invalid enabled property");if(t.render&&typeof t.render!="function")throw new Error("Invalid render property");if(t.updated&&typeof t.updated!="function")throw new Error("Invalid updated property")}}const As=function(e){if(typeof window._nc_filelistheader>"u"&&(window._nc_filelistheader=[],ot.debug("FileListHeaders initialized")),window._nc_filelistheader.find(t=>t.id===e.id)){ot.error(`Header ${e.id} already registered`,{header:e});return}window._nc_filelistheader.push(e)},Xt=["B","KB","MB","GB","TB","PB"],Wt=["B","KiB","MiB","GiB","TiB","PiB"];function Os(e,t=!1,n=!1,r=!1){n=n&&!r,typeof e=="string"&&(e=Number(e));let i=e>0?Math.floor(Math.log(e)/Math.log(r?1e3:1024)):0;i=Math.min((n?Wt.length:Xt.length)-1,i);const o=n?Wt[i]:Xt[i];let l=(e/Math.pow(r?1e3:1024,i)).toFixed(1);return t===!0&&i===0?(l!=="0.0"?"< 1 ":"0 ")+(n?Wt[1]:Xt[1]):(i<2?l=parseFloat(l).toFixed(0):l=parseFloat(l).toLocaleString(ze()),l+" "+o)}function Ge(e){return e instanceof Date?e.toISOString():String(e)}function ns(e,t,n){t=t??[o=>o],n=n??[];const r=t.map((o,l)=>(n[l]??"asc")==="asc"?1:-1),i=Intl.Collator([xn(),ze()],{numeric:!0,usage:"sort"});return[...e].sort((o,l)=>{for(const[c,h]of t.entries()){const s=i.compare(Ge(h(o)),Ge(h(l)));if(s!==0)return s*r[c]}return 0})}function Is(e,t={}){const n={sortingMode:"basename",sortingOrder:"asc",...t},r=l=>l.lastIndexOf(".")>0?l.slice(0,l.lastIndexOf(".")):l,i=[...n.sortFavoritesFirst?[l=>l.attributes?.favorite!==1]:[],...n.sortFoldersFirst?[l=>l.type!=="folder"]:[],...n.sortingMode!=="basename"?[l=>l[n.sortingMode]]:[],l=>r(l.displayname||l.attributes?.displayname||l.basename),l=>l.basename],o=[...n.sortFavoritesFirst?["asc"]:[],...n.sortFoldersFirst?["asc"]:[],...n.sortingMode==="mtime"?[n.sortingOrder==="asc"?"desc":"asc"]:[],...n.sortingMode!=="mtime"&&n.sortingMode!=="basename"?[n.sortingOrder]:[],n.sortingOrder,n.sortingOrder];return ns(e,i,o)}var rs={};(function(e){const t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=t+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",r="["+t+"]["+n+"]*",i=new RegExp("^"+r+"$"),o=function(c,h){const s=[];let a=h.exec(c);for(;a;){const f=[];f.startIndex=h.lastIndex-a[0].length;const u=a.length;for(let d=0;d<u;d++)f.push(a[d]);s.push(f),a=h.exec(c)}return s},l=function(c){const h=i.exec(c);return!(h===null||typeof h>"u")};e.isExist=function(c){return typeof c<"u"},e.isEmptyObject=function(c){return Object.keys(c).length===0},e.merge=function(c,h,s){if(h){const a=Object.keys(h),f=a.length;for(let u=0;u<f;u++)s==="strict"?c[a[u]]=[h[a[u]]]:c[a[u]]=h[a[u]]}},e.getValue=function(c){return e.isExist(c)?c:""},e.isName=l,e.getAllMatches=o,e.nameRegexp=r})(rs),!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const ss=typeof mt=="object"&&Vt&&Vt.NODE_DEBUG&&/\bsemver\b/i.test(Vt.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var is=ss;const os="2.0.0",mn=256,as=Number.MAX_SAFE_INTEGER||9007199254740991,us=16,cs=mn-6,ls=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var hs={MAX_LENGTH:mn,MAX_SAFE_COMPONENT_LENGTH:us,MAX_SAFE_BUILD_LENGTH:cs,MAX_SAFE_INTEGER:as,RELEASE_TYPES:ls,SEMVER_SPEC_VERSION:os,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Be={exports:{}};(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=hs,o=is;t=e.exports={};const l=t.re=[],c=t.safeRe=[],h=t.src=[],s=t.t={};let a=0;const f="[a-zA-Z0-9-]",u=[["\\s",1],["\\d",i],[f,r]],d=m=>{for(const[w,E]of u)m=m.split(`${w}*`).join(`${w}{0,${E}}`).split(`${w}+`).join(`${w}{1,${E}}`);return m},p=(m,w,E)=>{const g=d(w),y=a++;o(m,y,w),s[m]=y,h[y]=w,l[y]=new RegExp(w,E?"g":void 0),c[y]=new RegExp(g,E?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),p("MAINVERSION",`(${h[s.NUMERICIDENTIFIER]})\\.(${h[s.NUMERICIDENTIFIER]})\\.(${h[s.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${h[s.NUMERICIDENTIFIERLOOSE]})\\.(${h[s.NUMERICIDENTIFIERLOOSE]})\\.(${h[s.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${h[s.NUMERICIDENTIFIER]}|${h[s.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${h[s.NUMERICIDENTIFIERLOOSE]}|${h[s.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${h[s.PRERELEASEIDENTIFIER]}(?:\\.${h[s.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${h[s.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${h[s.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${f}+`),p("BUILD",`(?:\\+(${h[s.BUILDIDENTIFIER]}(?:\\.${h[s.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${h[s.MAINVERSION]}${h[s.PRERELEASE]}?${h[s.BUILD]}?`),p("FULL",`^${h[s.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${h[s.MAINVERSIONLOOSE]}${h[s.PRERELEASELOOSE]}?${h[s.BUILD]}?`),p("LOOSE",`^${h[s.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${h[s.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${h[s.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${h[s.XRANGEIDENTIFIER]})(?:\\.(${h[s.XRANGEIDENTIFIER]})(?:\\.(${h[s.XRANGEIDENTIFIER]})(?:${h[s.PRERELEASE]})?${h[s.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${h[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${h[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${h[s.XRANGEIDENTIFIERLOOSE]})(?:${h[s.PRERELEASELOOSE]})?${h[s.BUILD]}?)?)?`),p("XRANGE",`^${h[s.GTLT]}\\s*${h[s.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${h[s.GTLT]}\\s*${h[s.XRANGEPLAINLOOSE]}$`),p("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),p("COERCE",`${h[s.COERCEPLAIN]}(?:$|[^\\d])`),p("COERCEFULL",h[s.COERCEPLAIN]+`(?:${h[s.PRERELEASE]})?(?:${h[s.BUILD]})?(?:$|[^\\d])`),p("COERCERTL",h[s.COERCE],!0),p("COERCERTLFULL",h[s.COERCEFULL],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${h[s.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",p("TILDE",`^${h[s.LONETILDE]}${h[s.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${h[s.LONETILDE]}${h[s.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${h[s.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",p("CARET",`^${h[s.LONECARET]}${h[s.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${h[s.LONECARET]}${h[s.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${h[s.GTLT]}\\s*(${h[s.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${h[s.GTLT]}\\s*(${h[s.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${h[s.GTLT]}\\s*(${h[s.LOOSEPLAIN]}|${h[s.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${h[s.XRANGEPLAIN]})\\s+-\\s+(${h[s.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${h[s.XRANGEPLAINLOOSE]})\\s+-\\s+(${h[s.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Be,Be.exports);const Ts=function(e){return es().registerEntry(e)};export{et as C,he as F,xs as H,Qr as N,Q as P,As as a,Ts as b,Ns as c,dn as d,ce as e,bs as f,Es as g,Jr as h,vs as i,Os as j,ys as r,Is as s};
