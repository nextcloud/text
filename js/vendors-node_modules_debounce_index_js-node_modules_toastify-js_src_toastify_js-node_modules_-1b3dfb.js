/*! For license information please see vendors-node_modules_debounce_index_js-node_modules_toastify-js_src_toastify_js-node_modules_-1b3dfb.js.LICENSE.txt */
(self.webpackChunk_nextcloud_text=self.webpackChunk_nextcloud_text||[]).push([["vendors-node_modules_debounce_index_js-node_modules_toastify-js_src_toastify_js-node_modules_-1b3dfb"],{17334:t=>{function e(t,e=100,n={}){if("function"!=typeof t)throw new TypeError(`Expected the first parameter to be a function, got \`${typeof t}\`.`);if(e<0)throw new RangeError("`wait` must not be negative.");const{immediate:i}="boolean"==typeof n?{immediate:n}:n;let o,r,s,a,l;function c(){const e=o,n=r;return o=void 0,r=void 0,l=t.apply(e,n),l}function h(){const t=Date.now()-a;t<e&&t>=0?s=setTimeout(h,e-t):(s=void 0,i||(l=c()))}const p=function(...t){if(o&&this!==o&&Object.getPrototypeOf(this)===Object.getPrototypeOf(o))throw new Error("Debounced method called with different contexts of the same prototype.");o=this,r=t,a=Date.now();const n=i&&!s;return s||(s=setTimeout(h,e)),n&&(l=c()),l};return p.clear=()=>{s&&(clearTimeout(s),s=void 0)},p.flush=()=>{s&&p.trigger()},p.trigger=()=>{l=c(),p.clear()},p}t.exports.debounce=e,t.exports=e},41421:(t,e,n)=>{"use strict";var i=n(65606);function o(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function r(t,e){for(var n,i="",o=0,r=-1,s=0,a=0;a<=t.length;++a){if(a<t.length)n=t.charCodeAt(a);else{if(47===n)break;n=47}if(47===n){if(r===a-1||1===s);else if(r!==a-1&&2===s){if(i.length<2||2!==o||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2))if(i.length>2){var l=i.lastIndexOf("/");if(l!==i.length-1){-1===l?(i="",o=0):o=(i=i.slice(0,l)).length-1-i.lastIndexOf("/"),r=a,s=0;continue}}else if(2===i.length||1===i.length){i="",o=0,r=a,s=0;continue}e&&(i.length>0?i+="/..":i="..",o=2)}else i.length>0?i+="/"+t.slice(r+1,a):i=t.slice(r+1,a),o=a-r-1;r=a,s=0}else 46===n&&-1!==s?++s:s=-1}return i}var s={resolve:function(){for(var t,e="",n=!1,s=arguments.length-1;s>=-1&&!n;s--){var a;s>=0?a=arguments[s]:(void 0===t&&(t=i.cwd()),a=t),o(a),0!==a.length&&(e=a+"/"+e,n=47===a.charCodeAt(0))}return e=r(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(t){if(o(t),0===t.length)return".";var e=47===t.charCodeAt(0),n=47===t.charCodeAt(t.length-1);return 0!==(t=r(t,!e)).length||e||(t="."),t.length>0&&n&&(t+="/"),e?"/"+t:t},isAbsolute:function(t){return o(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,e=0;e<arguments.length;++e){var n=arguments[e];o(n),n.length>0&&(void 0===t?t=n:t+="/"+n)}return void 0===t?".":s.normalize(t)},relative:function(t,e){if(o(t),o(e),t===e)return"";if((t=s.resolve(t))===(e=s.resolve(e)))return"";for(var n=1;n<t.length&&47===t.charCodeAt(n);++n);for(var i=t.length,r=i-n,a=1;a<e.length&&47===e.charCodeAt(a);++a);for(var l=e.length-a,c=r<l?r:l,h=-1,p=0;p<=c;++p){if(p===c){if(l>c){if(47===e.charCodeAt(a+p))return e.slice(a+p+1);if(0===p)return e.slice(a+p)}else r>c&&(47===t.charCodeAt(n+p)?h=p:0===p&&(h=0));break}var u=t.charCodeAt(n+p);if(u!==e.charCodeAt(a+p))break;47===u&&(h=p)}var f="";for(p=n+h+1;p<=i;++p)p!==i&&47!==t.charCodeAt(p)||(0===f.length?f+="..":f+="/..");return f.length>0?f+e.slice(a+h):(a+=h,47===e.charCodeAt(a)&&++a,e.slice(a))},_makeLong:function(t){return t},dirname:function(t){if(o(t),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,i=-1,r=!0,s=t.length-1;s>=1;--s)if(47===(e=t.charCodeAt(s))){if(!r){i=s;break}}else r=!1;return-1===i?n?"/":".":n&&1===i?"//":t.slice(0,i)},basename:function(t,e){if(void 0!==e&&"string"!=typeof e)throw new TypeError('"ext" argument must be a string');o(t);var n,i=0,r=-1,s=!0;if(void 0!==e&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var a=e.length-1,l=-1;for(n=t.length-1;n>=0;--n){var c=t.charCodeAt(n);if(47===c){if(!s){i=n+1;break}}else-1===l&&(s=!1,l=n+1),a>=0&&(c===e.charCodeAt(a)?-1==--a&&(r=n):(a=-1,r=l))}return i===r?r=l:-1===r&&(r=t.length),t.slice(i,r)}for(n=t.length-1;n>=0;--n)if(47===t.charCodeAt(n)){if(!s){i=n+1;break}}else-1===r&&(s=!1,r=n+1);return-1===r?"":t.slice(i,r)},extname:function(t){o(t);for(var e=-1,n=0,i=-1,r=!0,s=0,a=t.length-1;a>=0;--a){var l=t.charCodeAt(a);if(47!==l)-1===i&&(r=!1,i=a+1),46===l?-1===e?e=a:1!==s&&(s=1):-1!==e&&(s=-1);else if(!r){n=a+1;break}}return-1===e||-1===i||0===s||1===s&&e===i-1&&e===n+1?"":t.slice(e,i)},format:function(t){if(null===t||"object"!=typeof t)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return function(t,e){var n=e.dir||e.root,i=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+i:n+t+i:i}("/",t)},parse:function(t){o(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return e;var n,i=t.charCodeAt(0),r=47===i;r?(e.root="/",n=1):n=0;for(var s=-1,a=0,l=-1,c=!0,h=t.length-1,p=0;h>=n;--h)if(47!==(i=t.charCodeAt(h)))-1===l&&(c=!1,l=h+1),46===i?-1===s?s=h:1!==p&&(p=1):-1!==s&&(p=-1);else if(!c){a=h+1;break}return-1===s||-1===l||0===p||1===p&&s===l-1&&s===a+1?-1!==l&&(e.base=e.name=0===a&&r?t.slice(1,l):t.slice(a,l)):(0===a&&r?(e.name=t.slice(1,s),e.base=t.slice(1,l)):(e.name=t.slice(a,s),e.base=t.slice(a,l)),e.ext=t.slice(s,l)),a>0?e.dir=t.slice(0,a-1):r&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};s.posix=s,t.exports=s},7736:function(t){var e,n;e=this,n=function(t){var e=function(t){return new e.lib.init(t)};function n(t,e){return e.offset[t]?isNaN(e.offset[t])?e.offset[t]:e.offset[t]+"px":"0px"}function i(t,e){return!(!t||"string"!=typeof e||!(t.className&&t.className.trim().split(/\s+/gi).indexOf(e)>-1))}return e.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},e.lib=e.prototype={toastify:"1.12.0",constructor:e,init:function(t){return t||(t={}),this.options={},this.toastElement=null,this.options.text=t.text||e.defaults.text,this.options.node=t.node||e.defaults.node,this.options.duration=0===t.duration?0:t.duration||e.defaults.duration,this.options.selector=t.selector||e.defaults.selector,this.options.callback=t.callback||e.defaults.callback,this.options.destination=t.destination||e.defaults.destination,this.options.newWindow=t.newWindow||e.defaults.newWindow,this.options.close=t.close||e.defaults.close,this.options.gravity="bottom"===t.gravity?"toastify-bottom":e.defaults.gravity,this.options.positionLeft=t.positionLeft||e.defaults.positionLeft,this.options.position=t.position||e.defaults.position,this.options.backgroundColor=t.backgroundColor||e.defaults.backgroundColor,this.options.avatar=t.avatar||e.defaults.avatar,this.options.className=t.className||e.defaults.className,this.options.stopOnFocus=void 0===t.stopOnFocus?e.defaults.stopOnFocus:t.stopOnFocus,this.options.onClick=t.onClick||e.defaults.onClick,this.options.offset=t.offset||e.defaults.offset,this.options.escapeMarkup=void 0!==t.escapeMarkup?t.escapeMarkup:e.defaults.escapeMarkup,this.options.ariaLive=t.ariaLive||e.defaults.ariaLive,this.options.style=t.style||e.defaults.style,t.backgroundColor&&(this.options.style.background=t.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var t=document.createElement("div");for(var e in t.className="toastify on "+this.options.className,this.options.position?t.className+=" toastify-"+this.options.position:!0===this.options.positionLeft?(t.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):t.className+=" toastify-right",t.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.'),this.options.style)t.style[e]=this.options.style[e];if(this.options.ariaLive&&t.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)t.appendChild(this.options.node);else if(this.options.escapeMarkup?t.innerText=this.options.text:t.innerHTML=this.options.text,""!==this.options.avatar){var i=document.createElement("img");i.src=this.options.avatar,i.className="toastify-avatar","left"==this.options.position||!0===this.options.positionLeft?t.appendChild(i):t.insertAdjacentElement("afterbegin",i)}if(!0===this.options.close){var o=document.createElement("button");o.type="button",o.setAttribute("aria-label","Close"),o.className="toast-close",o.innerHTML="&#10006;",o.addEventListener("click",function(t){t.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}.bind(this));var r=window.innerWidth>0?window.innerWidth:screen.width;("left"==this.options.position||!0===this.options.positionLeft)&&r>360?t.insertAdjacentElement("afterbegin",o):t.appendChild(o)}if(this.options.stopOnFocus&&this.options.duration>0){var s=this;t.addEventListener("mouseover",(function(e){window.clearTimeout(t.timeOutValue)})),t.addEventListener("mouseleave",(function(){t.timeOutValue=window.setTimeout((function(){s.removeElement(t)}),s.options.duration)}))}if(void 0!==this.options.destination&&t.addEventListener("click",function(t){t.stopPropagation(),!0===this.options.newWindow?window.open(this.options.destination,"_blank"):window.location=this.options.destination}.bind(this)),"function"==typeof this.options.onClick&&void 0===this.options.destination&&t.addEventListener("click",function(t){t.stopPropagation(),this.options.onClick()}.bind(this)),"object"==typeof this.options.offset){var a=n("x",this.options),l=n("y",this.options),c="left"==this.options.position?a:"-"+a,h="toastify-top"==this.options.gravity?l:"-"+l;t.style.transform="translate("+c+","+h+")"}return t},showToast:function(){var t;if(this.toastElement=this.buildToast(),!(t="string"==typeof this.options.selector?document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||"undefined"!=typeof ShadowRoot&&this.options.selector instanceof ShadowRoot?this.options.selector:document.body))throw"Root element is not defined";var n=e.defaults.oldestFirst?t.firstChild:t.lastChild;return t.insertBefore(this.toastElement,n),e.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout(function(){this.removeElement(this.toastElement)}.bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(t){t.className=t.className.replace(" on",""),window.setTimeout(function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),t.parentNode&&t.parentNode.removeChild(t),this.options.callback.call(t),e.reposition()}.bind(this),400)}},e.reposition=function(){for(var t,e={top:15,bottom:15},n={top:15,bottom:15},o={top:15,bottom:15},r=document.getElementsByClassName("toastify"),s=0;s<r.length;s++){t=!0===i(r[s],"toastify-top")?"toastify-top":"toastify-bottom";var a=r[s].offsetHeight;t=t.substr(9,t.length-1),(window.innerWidth>0?window.innerWidth:screen.width)<=360?(r[s].style[t]=o[t]+"px",o[t]+=a+15):!0===i(r[s],"toastify-left")?(r[s].style[t]=e[t]+"px",e[t]+=a+15):(r[s].style[t]=n[t]+"px",n[t]+=a+15)}return this},e.lib.init.prototype=e.lib,e},t.exports?t.exports=n():e.Toastify=n()},95353:(t,e,n)=>{"use strict";n.d(e,{Ay:()=>F,L8:()=>_,aH:()=>k,i0:()=>x,il:()=>u});var i=("undefined"!=typeof window?window:void 0!==n.g?n.g:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function o(t,e){if(void 0===e&&(e=[]),null===t||"object"!=typeof t)return t;var n,i=(n=function(e){return e.original===t},e.filter(n)[0]);if(i)return i.copy;var r=Array.isArray(t)?[]:{};return e.push({original:t,copy:r}),Object.keys(t).forEach((function(n){r[n]=o(t[n],e)})),r}function r(t,e){Object.keys(t).forEach((function(n){return e(t[n],n)}))}function s(t){return null!==t&&"object"==typeof t}var a=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"==typeof n?n():n)||{}},l={namespaced:{configurable:!0}};l.namespaced.get=function(){return!!this._rawModule.namespaced},a.prototype.addChild=function(t,e){this._children[t]=e},a.prototype.removeChild=function(t){delete this._children[t]},a.prototype.getChild=function(t){return this._children[t]},a.prototype.hasChild=function(t){return t in this._children},a.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},a.prototype.forEachChild=function(t){r(this._children,t)},a.prototype.forEachGetter=function(t){this._rawModule.getters&&r(this._rawModule.getters,t)},a.prototype.forEachAction=function(t){this._rawModule.actions&&r(this._rawModule.actions,t)},a.prototype.forEachMutation=function(t){this._rawModule.mutations&&r(this._rawModule.mutations,t)},Object.defineProperties(a.prototype,l);var c=function(t){this.register([],t,!1)};function h(t,e,n){if(e.update(n),n.modules)for(var i in n.modules){if(!e.getChild(i))return void 0;h(t.concat(i),e.getChild(i),n.modules[i])}}c.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},c.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,n){return t+((e=e.getChild(n)).namespaced?n+"/":"")}),"")},c.prototype.update=function(t){h([],this.root,t)},c.prototype.register=function(t,e,n){var i=this;void 0===n&&(n=!0);var o=new a(e,n);0===t.length?this.root=o:this.get(t.slice(0,-1)).addChild(t[t.length-1],o);e.modules&&r(e.modules,(function(e,o){i.register(t.concat(o),e,n)}))},c.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1],i=e.getChild(n);i&&i.runtime&&e.removeChild(n)},c.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];return!!e&&e.hasChild(n)};var p;var u=function(t){var e=this;void 0===t&&(t={}),!p&&"undefined"!=typeof window&&window.Vue&&b(window.Vue);var n=t.plugins;void 0===n&&(n=[]);var o=t.strict;void 0===o&&(o=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new c(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new p,this._makeLocalGettersCache=Object.create(null);var r=this,s=this.dispatch,a=this.commit;this.dispatch=function(t,e){return s.call(r,t,e)},this.commit=function(t,e,n){return a.call(r,t,e,n)},this.strict=o;var l=this._modules.root.state;v(this,l,[],this._modules.root),g(this,l),n.forEach((function(t){return t(e)})),(void 0!==t.devtools?t.devtools:p.config.devtools)&&function(t){i&&(t._devtoolHook=i,i.emit("vuex:init",t),i.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){i.emit("vuex:mutation",t,e)}),{prepend:!0}),t.subscribeAction((function(t,e){i.emit("vuex:action",t,e)}),{prepend:!0}))}(this)},f={state:{configurable:!0}};function d(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function m(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;v(t,n,[],t._modules.root,!0),g(t,n,e)}function g(t,e,n){var i=t._vm;t.getters={},t._makeLocalGettersCache=Object.create(null);var o=t._wrappedGetters,s={};r(o,(function(e,n){s[n]=function(t,e){return function(){return t(e)}}(e,t),Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})}));var a=p.config.silent;p.config.silent=!0,t._vm=new p({data:{$$state:e},computed:s}),p.config.silent=a,t.strict&&function(t){t._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}(t),i&&(n&&t._withCommit((function(){i._data.$$state=null})),p.nextTick((function(){return i.$destroy()})))}function v(t,e,n,i,o){var r=!n.length,s=t._modules.getNamespace(n);if(i.namespaced&&(t._modulesNamespaceMap[s],t._modulesNamespaceMap[s]=i),!r&&!o){var a=y(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit((function(){p.set(a,l,i.state)}))}var c=i.context=function(t,e,n){var i=""===e,o={dispatch:i?t.dispatch:function(n,i,o){var r=w(n,i,o),s=r.payload,a=r.options,l=r.type;return a&&a.root||(l=e+l),t.dispatch(l,s)},commit:i?t.commit:function(n,i,o){var r=w(n,i,o),s=r.payload,a=r.options,l=r.type;a&&a.root||(l=e+l),t.commit(l,s,a)}};return Object.defineProperties(o,{getters:{get:i?function(){return t.getters}:function(){return function(t,e){if(!t._makeLocalGettersCache[e]){var n={},i=e.length;Object.keys(t.getters).forEach((function(o){if(o.slice(0,i)===e){var r=o.slice(i);Object.defineProperty(n,r,{get:function(){return t.getters[o]},enumerable:!0})}})),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}(t,e)}},state:{get:function(){return y(t.state,n)}}}),o}(t,s,n);i.forEachMutation((function(e,n){!function(t,e,n,i){var o=t._mutations[e]||(t._mutations[e]=[]);o.push((function(e){n.call(t,i.state,e)}))}(t,s+n,e,c)})),i.forEachAction((function(e,n){var i=e.root?n:s+n,o=e.handler||e;!function(t,e,n,i){var o=t._actions[e]||(t._actions[e]=[]);o.push((function(e){var o,r=n.call(t,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:t.getters,rootState:t.state},e);return(o=r)&&"function"==typeof o.then||(r=Promise.resolve(r)),t._devtoolHook?r.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):r}))}(t,i,o,c)})),i.forEachGetter((function(e,n){!function(t,e,n,i){if(t._wrappedGetters[e])return void 0;t._wrappedGetters[e]=function(t){return n(i.state,i.getters,t.state,t.getters)}}(t,s+n,e,c)})),i.forEachChild((function(i,r){v(t,e,n.concat(r),i,o)}))}function y(t,e){return e.reduce((function(t,e){return t[e]}),t)}function w(t,e,n){return s(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function b(t){p&&t===p||function(t){if(Number(t.version.split(".")[0])>=2)t.mixin({beforeCreate:n});else{var e=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[n].concat(t.init):n,e.call(this,t)}}function n(){var t=this.$options;t.store?this.$store="function"==typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}(p=t)}f.state.get=function(){return this._vm._data.$$state},f.state.set=function(t){0},u.prototype.commit=function(t,e,n){var i=this,o=w(t,e,n),r=o.type,s=o.payload,a=(o.options,{type:r,payload:s}),l=this._mutations[r];l&&(this._withCommit((function(){l.forEach((function(t){t(s)}))})),this._subscribers.slice().forEach((function(t){return t(a,i.state)})))},u.prototype.dispatch=function(t,e){var n=this,i=w(t,e),o=i.type,r=i.payload,s={type:o,payload:r},a=this._actions[o];if(a){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(s,n.state)}))}catch(t){0}var l=a.length>1?Promise.all(a.map((function(t){return t(r)}))):a[0](r);return new Promise((function(t,e){l.then((function(e){try{n._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(s,n.state)}))}catch(t){0}t(e)}),(function(t){try{n._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(s,n.state,t)}))}catch(t){0}e(t)}))}))}},u.prototype.subscribe=function(t,e){return d(t,this._subscribers,e)},u.prototype.subscribeAction=function(t,e){return d("function"==typeof t?{before:t}:t,this._actionSubscribers,e)},u.prototype.watch=function(t,e,n){var i=this;return this._watcherVM.$watch((function(){return t(i.state,i.getters)}),e,n)},u.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._vm._data.$$state=t}))},u.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),v(this,this.state,t,this._modules.get(t),n.preserveState),g(this,this.state)},u.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var n=y(e.state,t.slice(0,-1));p.delete(n,t[t.length-1])})),m(this)},u.prototype.hasModule=function(t){return"string"==typeof t&&(t=[t]),this._modules.isRegistered(t)},u.prototype.hotUpdate=function(t){this._modules.update(t),m(this,!0)},u.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(u.prototype,f);var k=S((function(t,e){var n={};return M(e).forEach((function(e){var i=e.key,o=e.val;n[i]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var i=N(this.$store,"mapState",t);if(!i)return;e=i.context.state,n=i.context.getters}return"function"==typeof o?o.call(this,e,n):e[o]},n[i].vuex=!0})),n})),C=S((function(t,e){var n={};return M(e).forEach((function(e){var i=e.key,o=e.val;n[i]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var i=this.$store.commit;if(t){var r=N(this.$store,"mapMutations",t);if(!r)return;i=r.context.commit}return"function"==typeof o?o.apply(this,[i].concat(e)):i.apply(this.$store,[o].concat(e))}})),n})),_=S((function(t,e){var n={};return M(e).forEach((function(e){var i=e.key,o=e.val;o=t+o,n[i]=function(){if(!t||N(this.$store,"mapGetters",t))return this.$store.getters[o]},n[i].vuex=!0})),n})),x=S((function(t,e){var n={};return M(e).forEach((function(e){var i=e.key,o=e.val;n[i]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var i=this.$store.dispatch;if(t){var r=N(this.$store,"mapActions",t);if(!r)return;i=r.context.dispatch}return"function"==typeof o?o.apply(this,[i].concat(e)):i.apply(this.$store,[o].concat(e))}})),n}));function M(t){return function(t){return Array.isArray(t)||s(t)}(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function S(t){return function(e,n){return"string"!=typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function N(t,e,n){return t._modulesNamespaceMap[n]}function E(t,e,n){var i=n?t.groupCollapsed:t.group;try{i.call(t,e)}catch(n){t.log(e)}}function A(t){try{t.groupEnd()}catch(e){t.log("—— log end ——")}}function O(){var t=new Date;return" @ "+T(t.getHours(),2)+":"+T(t.getMinutes(),2)+":"+T(t.getSeconds(),2)+"."+T(t.getMilliseconds(),3)}function T(t,e){return n="0",i=e-t.toString().length,new Array(i+1).join(n)+t;var n,i}const F={Store:u,install:b,version:"3.6.2",mapState:k,mapMutations:C,mapGetters:_,mapActions:x,createNamespacedHelpers:function(t){return{mapState:k.bind(null,t),mapGetters:_.bind(null,t),mapMutations:C.bind(null,t),mapActions:x.bind(null,t)}},createLogger:function(t){void 0===t&&(t={});var e=t.collapsed;void 0===e&&(e=!0);var n=t.filter;void 0===n&&(n=function(t,e,n){return!0});var i=t.transformer;void 0===i&&(i=function(t){return t});var r=t.mutationTransformer;void 0===r&&(r=function(t){return t});var s=t.actionFilter;void 0===s&&(s=function(t,e){return!0});var a=t.actionTransformer;void 0===a&&(a=function(t){return t});var l=t.logMutations;void 0===l&&(l=!0);var c=t.logActions;void 0===c&&(c=!0);var h=t.logger;return void 0===h&&(h=console),function(t){var p=o(t.state);void 0!==h&&(l&&t.subscribe((function(t,s){var a=o(s);if(n(t,p,a)){var l=O(),c=r(t),u="mutation "+t.type+l;E(h,u,e),h.log("%c prev state","color: #9E9E9E; font-weight: bold",i(p)),h.log("%c mutation","color: #03A9F4; font-weight: bold",c),h.log("%c next state","color: #4CAF50; font-weight: bold",i(a)),A(h)}p=a})),c&&t.subscribeAction((function(t,n){if(s(t,n)){var i=O(),o=a(t),r="action "+t.type+i;E(h,r,e),h.log("%c action","color: #03A9F4; font-weight: bold",o),A(h)}})))}}}},85168:(t,e,n)=>{"use strict";n.d(e,{Qg:()=>r.l,Te:()=>r.i,a1:()=>m,bh:()=>p});var i=n(41421),o=n(85471),r=n(93414),s=n(94219),a=n(80910);const l=(t,e,n=()=>{})=>{const i=document.createElement("div");(document.querySelector(null==e?void 0:e.container)||document.body).appendChild(i);const r=new o.default({el:i,name:"VueDialogHelper",render:i=>i(t,{props:e,on:{close:(...t)=>{n(...t.map((t=>(0,o.toRaw)(t)))),r.$destroy()}}})});return r};var c=Object.defineProperty,h=(t,e,n)=>((t,e,n)=>e in t?c(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n)(t,"symbol"!=typeof e?e+"":e,n),p=(t=>(t[t.Choose=1]="Choose",t[t.Move=2]="Move",t[t.Copy=3]="Copy",t[t.CopyMove=4]="CopyMove",t[t.Custom=5]="Custom",t))(p||{});class u extends Error{}class f{constructor(t,e,n,i,o,r,s,a,l=!1){h(this,"title"),h(this,"multiSelect"),h(this,"mimeTypeFilter"),h(this,"directoriesAllowed"),h(this,"buttons"),h(this,"path"),h(this,"filter"),h(this,"container"),h(this,"disabledNavigation"),this.title=t,this.multiSelect=e,this.mimeTypeFilter=n,this.directoriesAllowed=i,this.path=r,this.filter=s,this.buttons=o,this.container=a,this.disabledNavigation=l}async pick(){const{FilePickerVue:t}=await n.e("node_modules_nextcloud_dialogs_dist_chunks_index-C1azEbgd_mjs").then(n.bind(n,94473));return new Promise(((e,n)=>{l(t,{allowPickDirectory:this.directoriesAllowed,buttons:this.buttons,container:this.container,name:this.title,path:this.path,mimetypeFilter:this.mimeTypeFilter,multiselect:this.multiSelect,filterFn:this.filter,disabledNavigation:this.disabledNavigation},((...t)=>{var i;const[o]=t;Array.isArray(o)&&0!==o.length?this.multiSelect?e(o.map((t=>t.path))):e((null==(i=o[0])?void 0:i.path)||"/"):n(new u("FilePicker: No nodes selected"))}))}))}}class d{constructor(t){h(this,"title"),h(this,"multiSelect",!1),h(this,"mimeTypeFilter",[]),h(this,"directoriesAllowed",!1),h(this,"path"),h(this,"filter"),h(this,"buttons",[]),h(this,"container"),h(this,"disabledNavigation",!1),this.title=t}setContainer(t){return this.container=t,this}setMultiSelect(t){return this.multiSelect=t,this}addMimeTypeFilter(t){return this.mimeTypeFilter.push(t),this}setMimeTypeFilter(t){return this.mimeTypeFilter=t,this}addButton(t){return"function"==typeof this.buttons&&(console.warn("FilePicker buttons were set to factory, now overwritten with button object."),this.buttons=[]),this.buttons.push(t),this}setButtonFactory(t){return this.buttons=t,this}setType(t){return this.buttons=(e,n)=>{var o,s,a;const l=[],c=(null==(s=null==(o=null==e?void 0:e[0])?void 0:o.attributes)?void 0:s.displayName)||(null==(a=null==e?void 0:e[0])?void 0:a.basename),h=c||(0,i.basename)(n);if(1===t){let t=(0,r.t)("Choose");1===e.length?t=(0,r.t)("Choose {file}",{file:c}):this.multiSelect&&(t=(0,r.n)("Choose %n file","Choose %n files",e.length)),l.push({callback:()=>{},type:"primary",label:t})}return 4!==t&&3!==t||l.push({callback:()=>{},label:h?(0,r.t)("Copy to {target}",{target:h}):(0,r.t)("Copy"),type:"primary",icon:'<svg xmlns="http://www.w3.org/2000/svg" id="mdi-folder-multiple" viewBox="0 0 24 24"><path d="M22,4H14L12,2H6A2,2 0 0,0 4,4V16A2,2 0 0,0 6,18H22A2,2 0 0,0 24,16V6A2,2 0 0,0 22,4M2,6H0V11H0V20A2,2 0 0,0 2,22H20V20H2V6Z" /></svg>'}),2!==t&&4!==t||l.push({callback:()=>{},label:h?(0,r.t)("Move to {target}",{target:h}):(0,r.t)("Move"),type:2===t?"primary":"secondary",icon:'<svg xmlns="http://www.w3.org/2000/svg" id="mdi-folder-move" viewBox="0 0 24 24"><path d="M14,18V15H10V11H14V8L19,13M20,6H12L10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6Z" /></svg>'}),l},this}allowDirectories(t=!0){return this.directoriesAllowed=t,this}startAt(t){return this.path=t,this}setFilter(t){return this.filter=t,this}disableNavigation(){return this.disabledNavigation=!0,this}build(){return new f(this.title,this.multiSelect,this.mimeTypeFilter,this.directoriesAllowed,this.buttons,this.path,this.filter,this.container,this.disabledNavigation)}}function m(t){return new d(t)}const g=(0,o.defineComponent)({__name:"GenericDialog",props:{name:null,text:null,html:null,buttons:null,severity:null},setup(t){const e=t,n=()=>"".concat(e.name,": ").concat(e.text);return(0,o.onMounted)((()=>window.addEventListener("unload",n))),(0,o.onUnmounted)((()=>window.removeEventListener("unload",n))),{__sfc:!0,props:e,handleUnload:n,NcDialog:s.A,NcNoteCard:a.A}}});var v=function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e(n.NcDialog,{attrs:{"dialog-classes":"nc-generic-dialog",buttons:t.buttons,name:t.name,message:t.text},on:{"update:open":function(e){return t.$emit("close")}}},[t.severity?e(n.NcNoteCard,{attrs:{type:t.severity}},[e("p",{domProps:{textContent:t._s(t.text)}})]):t._e(),t.html?e("div",{domProps:{innerHTML:t._s(t.html)}}):t._e()],1)},y=[];(0,r.a)(g,v,y,!1,null,null,null,null).exports},32981:(t,e,n)=>{"use strict";function i(t,e,n){const i=document.querySelector(`#initial-state-${t}-${e}`);if(null===i){if(void 0!==n)return n;throw new Error(`Could not find initial state ${e} of ${t}`)}try{return JSON.parse(atob(i.value))}catch(n){throw new Error(`Could not parse initial state ${e} of ${t}`)}}n.d(e,{C:()=>i})},63814:(t,e,n)=>{"use strict";n.d(e,{$_:()=>c,Jv:()=>s,KT:()=>o,aU:()=>h,d0:()=>a,dC:()=>i});const i=(t,e)=>{var n;return(null!=(n=null==e?void 0:e.baseURL)?n:c())+(t=>"/remote.php/"+t)(t)},o=(t,e,n)=>{var i;const o=1===Object.assign({ocsVersion:2},n||{}).ocsVersion?1:2;return(null!=(i=null==n?void 0:n.baseURL)?i:c())+"/ocs/v"+o+".php"+r(t,e,n)},r=(t,e,n)=>{const i=Object.assign({escape:!0},n||{});return"/"!==t.charAt(0)&&(t="/"+t),o=(o=e||{})||{},t.replace(/{([^{}]*)}/g,(function(t,e){const n=o[e];return i.escape?encodeURIComponent("string"==typeof n||"number"==typeof n?n.toString():t):"string"==typeof n||"number"==typeof n?n.toString():t}));var o},s=(t,e,n)=>{var i,o,s;const a=Object.assign({noRewrite:!1},n||{}),l=null!=(i=null==n?void 0:n.baseURL)?i:h();return!0!==(null==(s=null==(o=null==window?void 0:window.OC)?void 0:o.config)?void 0:s.modRewriteWorking)||a.noRewrite?l+"/index.php"+r(t,e,n):l+r(t,e,n)},a=(t,e)=>e.includes(".")?l(t,"img",e):l(t,"img","".concat(e,".svg")),l=(t,e,n)=>{var i,o,r;const s=null!=(r=null==(o=null==(i=null==window?void 0:window.OC)?void 0:i.coreApps)?void 0:o.includes(t))&&r,a="php"===n.slice(-3);let l=h();return a&&!s?(l+="/index.php/apps/".concat(t),e&&(l+="/".concat(encodeURI(e))),"index.php"!==n&&(l+="/".concat(n))):a||s?(("settings"===t||"core"===t||"search"===t)&&"ajax"===e&&(l+="/index.php"),t&&(l+="/".concat(t)),e&&(l+="/".concat(e)),l+="/".concat(n)):(l=function(t){var e,n;return null!=(n=(null!=(e=window._oc_appswebroots)?e:{})[t])?n:""}(t),e&&(l+="/".concat(e,"/")),"/"!==l.at(-1)&&(l+="/"),l+=n),l},c=()=>window.location.protocol+"//"+window.location.host+h();function h(){let t=window._oc_webroot;if(typeof t>"u"){t=location.pathname;const e=t.indexOf("/index.php/");if(-1!==e)t=t.slice(0,e);else{const e=t.indexOf("/",1);t=t.slice(0,e>0?e:void 0)}}return t}},9050:(t,e,n)=>{"use strict";n.d(e,{a:()=>c,e:()=>l,g:()=>h,s:()=>p});var i=n(59097),o=n(43850),r=n(24715);const s=(0,i.getBuilder)("nextcloud-vue").persist(!0).build();let a;function l(t,e=10){a||(a=new o.EmojiIndex(r));const n=h();let i;return t?(i=a.search(":".concat(t),e),i.length<e&&(i=i.concat(a.search(t,e-i.length)))):i=o.frequently.get(e).map((t=>a.emoji(t)))||[],i.map((t=>t.getSkin(n)))}function c(t){o.frequently.add(t)}function h(){var t;const e=Number.parseInt(null!=(t=s.getItem("NcEmojiPicker::currentSkinTone"))?t:"1");return Math.min(Math.max(e,1),6)}function p(t){t=Math.min(Math.max(t,1),6),s.setItem("NcEmojiPicker::currentSkinTone",t.toString())}},38262:(t,e,n)=>{"use strict";n.d(e,{$L:()=>A,Ln:()=>v,N0:()=>N,Um:()=>E,Wg:()=>y,dL:()=>K,jP:()=>k,n9:()=>M,oM:()=>C,zy:()=>x});var i=n(58903);const o=Math.pow(2,16);function r(t){return 65535&t}class s{constructor(t,e,n){this.pos=t,this.delInfo=e,this.recover=n}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class a{constructor(t,e=!1){if(this.ranges=t,this.inverted=e,!t.length&&a.empty)return a.empty}recover(t){let e=0,n=r(t);if(!this.inverted)for(let t=0;t<n;t++)e+=this.ranges[3*t+2]-this.ranges[3*t+1];return this.ranges[3*n]+e+function(t){return(t-(65535&t))/o}(t)}mapResult(t,e=1){return this._map(t,e,!1)}map(t,e=1){return this._map(t,e,!0)}_map(t,e,n){let i=0,r=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?i:0);if(c>t)break;let h=this.ranges[l+r],p=this.ranges[l+a],u=c+h;if(t<=u){let r=c+i+((h?t==c?-1:t==u?1:e:e)<0?0:p);if(n)return r;let a=t==(e<0?c:u)?null:l/3+(t-c)*o,f=t==c?2:t==u?1:4;return(e<0?t!=c:t!=u)&&(f|=8),new s(r,f,a)}i+=p-h}return n?t+i:new s(t+i,0,null)}touches(t,e){let n=0,i=r(e),o=this.inverted?2:1,s=this.inverted?1:2;for(let e=0;e<this.ranges.length;e+=3){let r=this.ranges[e]-(this.inverted?n:0);if(r>t)break;let a=this.ranges[e+o];if(t<=r+a&&e==3*i)return!0;n+=this.ranges[e+s]-a}return!1}forEach(t){let e=this.inverted?2:1,n=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let r=this.ranges[i],s=r-(this.inverted?o:0),a=r+(this.inverted?0:o),l=this.ranges[i+e],c=this.ranges[i+n];t(s,s+l,a,a+c),o+=c-l}}invert(){return new a(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return 0==t?a.empty:new a(t<0?[0,-t,0]:[0,0,t])}}a.empty=new a([]);class l{constructor(t=[],e,n=0,i=t.length){this.maps=t,this.mirror=e,this.from=n,this.to=i}slice(t=0,e=this.maps.length){return new l(this.maps,this.mirror,t,e)}copy(){return new l(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)}appendMapping(t){for(let e=0,n=this.maps.length;e<t.maps.length;e++){let i=t.getMirror(e);this.appendMap(t.maps[e],null!=i&&i<e?n+i:void 0)}}getMirror(t){if(this.mirror)for(let e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]}setMirror(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)}appendMappingInverted(t){for(let e=t.maps.length-1,n=this.maps.length+t.maps.length;e>=0;e--){let i=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=i&&i>e?n-i-1:void 0)}}invert(){let t=new l;return t.appendMappingInverted(this),t}map(t,e=1){if(this.mirror)return this._map(t,e,!0);for(let n=this.from;n<this.to;n++)t=this.maps[n].map(t,e);return t}mapResult(t,e=1){return this._map(t,e,!1)}_map(t,e,n){let i=0;for(let n=this.from;n<this.to;n++){let o=this.maps[n].mapResult(t,e);if(null!=o.recover){let e=this.getMirror(n);if(null!=e&&e>n&&e<this.to){n=e,t=this.maps[e].recover(o.recover);continue}}i|=o.delInfo,t=o.pos}return n?t:new s(t,i,null)}}const c=Object.create(null);class h{getMap(){return a.empty}merge(t){return null}static fromJSON(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=c[e.stepType];if(!n)throw new RangeError(`No step type ${e.stepType} defined`);return n.fromJSON(t,e)}static jsonID(t,e){if(t in c)throw new RangeError("Duplicate use of step JSON ID "+t);return c[t]=e,e.prototype.jsonID=t,e}}class p{constructor(t,e){this.doc=t,this.failed=e}static ok(t){return new p(t,null)}static fail(t){return new p(null,t)}static fromReplace(t,e,n,o){try{return p.ok(t.replace(e,n,o))}catch(t){if(t instanceof i.vI)return p.fail(t.message);throw t}}}function u(t,e,n){let o=[];for(let i=0;i<t.childCount;i++){let r=t.child(i);r.content.size&&(r=r.copy(u(r.content,e,r))),r.isInline&&(r=e(r,n,i)),o.push(r)}return i.FK.fromArray(o)}class f extends h{constructor(t,e,n){super(),this.from=t,this.to=e,this.mark=n}apply(t){let e=t.slice(this.from,this.to),n=t.resolve(this.from),o=n.node(n.sharedDepth(this.to)),r=new i.Ji(u(e.content,((t,e)=>t.isAtom&&e.type.allowsMarkType(this.mark.type)?t.mark(this.mark.addToSet(t.marks)):t),o),e.openStart,e.openEnd);return p.fromReplace(t,this.from,this.to,r)}invert(){return new d(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deleted&&n.deleted||e.pos>=n.pos?null:new f(e.pos,n.pos,this.mark)}merge(t){return t instanceof f&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new f(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new f(e.from,e.to,t.markFromJSON(e.mark))}}h.jsonID("addMark",f);class d extends h{constructor(t,e,n){super(),this.from=t,this.to=e,this.mark=n}apply(t){let e=t.slice(this.from,this.to),n=new i.Ji(u(e.content,(t=>t.mark(this.mark.removeFromSet(t.marks))),t),e.openStart,e.openEnd);return p.fromReplace(t,this.from,this.to,n)}invert(){return new f(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deleted&&n.deleted||e.pos>=n.pos?null:new d(e.pos,n.pos,this.mark)}merge(t){return t instanceof d&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new d(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new d(e.from,e.to,t.markFromJSON(e.mark))}}h.jsonID("removeMark",d);class m extends h{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return p.fail("No node at mark step's position");let n=e.type.create(e.attrs,null,this.mark.addToSet(e.marks));return p.fromReplace(t,this.pos,this.pos+1,new i.Ji(i.FK.from(n),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);if(e){let t=this.mark.addToSet(e.marks);if(t.length==e.marks.length){for(let n=0;n<e.marks.length;n++)if(!e.marks[n].isInSet(t))return new m(this.pos,e.marks[n]);return new m(this.pos,this.mark)}}return new g(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new m(e.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new m(e.pos,t.markFromJSON(e.mark))}}h.jsonID("addNodeMark",m);class g extends h{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return p.fail("No node at mark step's position");let n=e.type.create(e.attrs,null,this.mark.removeFromSet(e.marks));return p.fromReplace(t,this.pos,this.pos+1,new i.Ji(i.FK.from(n),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);return e&&this.mark.isInSet(e.marks)?new m(this.pos,this.mark):this}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new g(e.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new g(e.pos,t.markFromJSON(e.mark))}}h.jsonID("removeNodeMark",g);class v extends h{constructor(t,e,n,i=!1){super(),this.from=t,this.to=e,this.slice=n,this.structure=i}apply(t){return this.structure&&w(t,this.from,this.to)?p.fail("Structure replace would overwrite content"):p.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new a([this.from,this.to-this.from,this.slice.size])}invert(t){return new v(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deletedAcross&&n.deletedAcross?null:new v(e.pos,Math.max(e.pos,n.pos),this.slice)}merge(t){if(!(t instanceof v)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;{let e=this.slice.size+t.slice.size==0?i.Ji.empty:new i.Ji(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new v(t.from,this.to,e,this.structure)}}{let e=this.slice.size+t.slice.size==0?i.Ji.empty:new i.Ji(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new v(this.from,this.to+(t.to-t.from),e,this.structure)}}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new v(e.from,e.to,i.Ji.fromJSON(t,e.slice),!!e.structure)}}h.jsonID("replace",v);class y extends h{constructor(t,e,n,i,o,r,s=!1){super(),this.from=t,this.to=e,this.gapFrom=n,this.gapTo=i,this.slice=o,this.insert=r,this.structure=s}apply(t){if(this.structure&&(w(t,this.from,this.gapFrom)||w(t,this.gapTo,this.to)))return p.fail("Structure gap-replace would overwrite content");let e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return p.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,e.content);return n?p.fromReplace(t,this.from,this.to,n):p.fail("Content does not fit in gap")}getMap(){return new a([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let e=this.gapTo-this.gapFrom;return new y(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1),i=t.map(this.gapFrom,-1),o=t.map(this.gapTo,1);return e.deletedAcross&&n.deletedAcross||i<e.pos||o>n.pos?null:new y(e.pos,n.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to||"number"!=typeof e.gapFrom||"number"!=typeof e.gapTo||"number"!=typeof e.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new y(e.from,e.to,e.gapFrom,e.gapTo,i.Ji.fromJSON(t,e.slice),e.insert,!!e.structure)}}function w(t,e,n){let i=t.resolve(e),o=n-e,r=i.depth;for(;o>0&&r>0&&i.indexAfter(r)==i.node(r).childCount;)r--,o--;if(o>0){let t=i.node(r).maybeChild(i.indexAfter(r));for(;o>0;){if(!t||t.isLeaf)return!0;t=t.firstChild,o--}}return!1}function b(t,e,n){return(0==e||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function k(t){let e=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth;;--n){let i=t.$from.node(n),o=t.$from.index(n),r=t.$to.indexAfter(n);if(n<t.depth&&i.canReplace(o,r,e))return n;if(0==n||i.type.spec.isolating||!b(i,o,r))break}return null}function C(t,e,n=null,i=t){let o=function(t,e){let{parent:n,startIndex:i,endIndex:o}=t,r=n.contentMatchAt(i).findWrapping(e);if(!r)return null;let s=r.length?r[0]:e;return n.canReplaceWith(i,o,s)?r:null}(t,e),r=o&&function(t,e){let{parent:n,startIndex:i,endIndex:o}=t,r=n.child(i),s=e.contentMatch.findWrapping(r.type);if(!s)return null;let a=(s.length?s[s.length-1]:e).contentMatch;for(let t=i;a&&t<o;t++)a=a.matchType(n.child(t).type);return a&&a.validEnd?s:null}(i,e);return r?o.map(_).concat({type:e,attrs:n}).concat(r.map(_)):null}function _(t){return{type:t,attrs:null}}function x(t,e,n=1,i){let o=t.resolve(e),r=o.depth-n,s=i&&i[i.length-1]||o.parent;if(r<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let t=o.depth-1,e=n-2;t>r;t--,e--){let n=o.node(t),r=o.index(t);if(n.type.spec.isolating)return!1;let s=n.content.cutByIndex(r,n.childCount),a=i&&i[e+1];a&&(s=s.replaceChild(0,a.type.create(a.attrs)));let l=i&&i[e]||n;if(!n.canReplace(r+1,n.childCount)||!l.type.validContent(s))return!1}let a=o.indexAfter(r),l=i&&i[0];return o.node(r).canReplaceWith(a,a,l?l.type:o.node(r+1).type)}function M(t,e){let n=t.resolve(e),i=n.index();return S(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(i,i+1)}function S(t,e){return!(!t||!e||t.isLeaf||!t.canAppend(e))}function N(t,e,n=-1){let i=t.resolve(e);for(let t=i.depth;;t--){let o,r,s=i.index(t);if(t==i.depth?(o=i.nodeBefore,r=i.nodeAfter):n>0?(o=i.node(t+1),s++,r=i.node(t).maybeChild(s)):(o=i.node(t).maybeChild(s-1),r=i.node(t+1)),o&&!o.isTextblock&&S(o,r)&&i.node(t).canReplace(s,s+1))return e;if(0==t)break;e=n<0?i.before(t):i.after(t)}}function E(t,e,n){let i=t.resolve(e);if(!n.content.size)return e;let o=n.content;for(let t=0;t<n.openStart;t++)o=o.firstChild.content;for(let t=1;t<=(0==n.openStart&&n.size?2:1);t++)for(let e=i.depth;e>=0;e--){let n=e==i.depth?0:i.pos<=(i.start(e+1)+i.end(e+1))/2?-1:1,r=i.index(e)+(n>0?1:0),s=i.node(e),a=!1;if(1==t)a=s.canReplace(r,r,o);else{let t=s.contentMatchAt(r).findWrapping(o.firstChild.type);a=t&&s.canReplaceWith(r,r,t[0])}if(a)return 0==n?i.pos:n<0?i.before(e+1):i.after(e+1)}return null}function A(t,e,n=e,o=i.Ji.empty){if(e==n&&!o.size)return null;let r=t.resolve(e),s=t.resolve(n);return O(r,s,o)?new v(e,n,o):new T(r,s,o).fit()}function O(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}h.jsonID("replaceAround",y);class T{constructor(t,e,n){this.$from=t,this.$to=e,this.unplaced=n,this.frontier=[],this.placed=i.FK.empty;for(let e=0;e<=t.depth;e++){let n=t.node(e);this.frontier.push({type:n.type,match:n.contentMatchAt(t.indexAfter(e))})}for(let e=t.depth;e>0;e--)this.placed=i.FK.from(t.node(e).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),e=this.placed.size-this.depth-this.$from.depth,n=this.$from,o=this.close(t<0?this.$to:n.doc.resolve(t));if(!o)return null;let r=this.placed,s=n.depth,a=o.depth;for(;s&&a&&1==r.childCount;)r=r.firstChild.content,s--,a--;let l=new i.Ji(r,s,a);return t>-1?new y(n.pos,t,this.$to.pos,this.$to.end(),l,e):l.size||n.pos!=this.$to.pos?new v(n.pos,o.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let e=this.unplaced.content,n=0,i=this.unplaced.openEnd;n<t;n++){let o=e.firstChild;if(e.childCount>1&&(i=0),o.type.spec.isolating&&i<=n){t=n;break}e=o.content}for(let e=1;e<=2;e++)for(let n=1==e?t:this.unplaced.openStart;n>=0;n--){let t,o=null;n?(o=J(this.unplaced.content,n-1).firstChild,t=o.content):t=this.unplaced.content;let r=t.firstChild;for(let t=this.depth;t>=0;t--){let s,{type:a,match:l}=this.frontier[t],c=null;if(1==e&&(r?l.matchType(r.type)||(c=l.fillBefore(i.FK.from(r),!1)):o&&a.compatibleContent(o.type)))return{sliceDepth:n,frontierDepth:t,parent:o,inject:c};if(2==e&&r&&(s=l.findWrapping(r.type)))return{sliceDepth:n,frontierDepth:t,parent:o,wrap:s};if(o&&l.matchType(o.type))break}}}openMore(){let{content:t,openStart:e,openEnd:n}=this.unplaced,o=J(t,e);return!(!o.childCount||o.firstChild.isLeaf)&&(this.unplaced=new i.Ji(t,e+1,Math.max(n,o.size+e>=t.size-n?e+1:0)),!0)}dropNode(){let{content:t,openStart:e,openEnd:n}=this.unplaced,o=J(t,e);if(o.childCount<=1&&e>0){let r=t.size-e<=e+o.size;this.unplaced=new i.Ji(F(t,e-1,1),e-1,r?e-1:n)}else this.unplaced=new i.Ji(F(t,e,1),e,n)}placeNodes({sliceDepth:t,frontierDepth:e,parent:n,inject:o,wrap:r}){for(;this.depth>e;)this.closeFrontierNode();if(r)for(let t=0;t<r.length;t++)this.openFrontierNode(r[t]);let s=this.unplaced,a=n?n.content:s.content,l=s.openStart-t,c=0,h=[],{match:p,type:u}=this.frontier[e];if(o){for(let t=0;t<o.childCount;t++)h.push(o.child(t));p=p.matchFragment(o)}let f=a.size+t-(s.content.size-s.openEnd);for(;c<a.childCount;){let t=a.child(c),e=p.matchType(t.type);if(!e)break;c++,(c>1||0==l||t.content.size)&&(p=e,h.push(I(t.mark(u.allowedMarks(t.marks)),1==c?l:0,c==a.childCount?f:-1)))}let d=c==a.childCount;d||(f=-1),this.placed=R(this.placed,e,i.FK.from(h)),this.frontier[e].match=p,d&&f<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let t=0,e=a;t<f;t++){let t=e.lastChild;this.frontier.push({type:t.type,match:t.contentMatchAt(t.childCount)}),e=t.content}this.unplaced=d?0==t?i.Ji.empty:new i.Ji(F(s.content,t-1,1),t-1,f<0?s.openEnd:t-1):new i.Ji(F(s.content,t,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t,e=this.frontier[this.depth];if(!e.type.isTextblock||!j(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:n}=this.$to,i=this.$to.after(n);for(;n>1&&i==this.$to.end(--n);)++i;return i}findCloseLevel(t){t:for(let e=Math.min(this.depth,t.depth);e>=0;e--){let{match:n,type:i}=this.frontier[e],o=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),r=j(t,e,i,n,o);if(r){for(let n=e-1;n>=0;n--){let{match:e,type:i}=this.frontier[n],o=j(t,n,i,e,!0);if(!o||o.childCount)continue t}return{depth:e,fit:r,move:o?t.doc.resolve(t.after(e+1)):t}}}}close(t){let e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=R(this.placed,e.depth,e.fit)),t=e.move;for(let n=e.depth+1;n<=t.depth;n++){let e=t.node(n),i=e.type.contentMatch.fillBefore(e.content,!0,t.index(n));this.openFrontierNode(e.type,e.attrs,i)}return t}openFrontierNode(t,e=null,n){let o=this.frontier[this.depth];o.match=o.match.matchType(t),this.placed=R(this.placed,this.depth,i.FK.from(t.create(e,n))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(i.FK.empty,!0);t.childCount&&(this.placed=R(this.placed,this.frontier.length,t))}}function F(t,e,n){return 0==e?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(F(t.firstChild.content,e-1,n)))}function R(t,e,n){return 0==e?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(R(t.lastChild.content,e-1,n)))}function J(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function I(t,e,n){if(e<=0)return t;let o=t.content;return e>1&&(o=o.replaceChild(0,I(o.firstChild,e-1,1==o.childCount?n-1:0))),e>0&&(o=t.type.contentMatch.fillBefore(o).append(o),n<=0&&(o=o.append(t.type.contentMatch.matchFragment(o).fillBefore(i.FK.empty,!0)))),t.copy(o)}function j(t,e,n,i,o){let r=t.node(e),s=o?t.indexAfter(e):t.index(e);if(s==r.childCount&&!n.compatibleContent(r.type))return null;let a=i.fillBefore(r.content,!0,s);return a&&!function(t,e,n){for(let i=n;i<e.childCount;i++)if(!t.allowsMarks(e.child(i).marks))return!0;return!1}(n,r.content,s)?a:null}function $(t,e,n,o,r){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy($(i.content,e+1,n,o,i)))}if(e>o){let e=r.contentMatchAt(0),n=e.fillBefore(t).append(t);t=n.append(e.matchFragment(n).fillBefore(i.FK.empty,!0))}return t}function L(t,e){let n=[];for(let i=Math.min(t.depth,e.depth);i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}class z extends h{constructor(t,e,n){super(),this.pos=t,this.attr=e,this.value=n}apply(t){let e=t.nodeAt(this.pos);if(!e)return p.fail("No node at attribute step's position");let n=Object.create(null);for(let t in e.attrs)n[t]=e.attrs[t];n[this.attr]=this.value;let o=e.type.create(n,null,e.marks);return p.fromReplace(t,this.pos,this.pos+1,new i.Ji(i.FK.from(o),0,e.isLeaf?0:1))}getMap(){return a.empty}invert(t){return new z(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new z(e.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,e){if("number"!=typeof e.pos||"string"!=typeof e.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new z(e.pos,e.attr,e.value)}}h.jsonID("attr",z);class D extends h{constructor(t,e){super(),this.attr=t,this.value=e}apply(t){let e=Object.create(null);for(let n in t.attrs)e[n]=t.attrs[n];e[this.attr]=this.value;let n=t.type.create(e,t.content,t.marks);return p.ok(n)}getMap(){return a.empty}invert(t){return new D(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,e){if("string"!=typeof e.attr)throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new D(e.attr,e.value)}}h.jsonID("docAttr",D);let B=class extends Error{};B=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n},(B.prototype=Object.create(Error.prototype)).constructor=B,B.prototype.name="TransformError";class K{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new l}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let e=this.maybeStep(t);if(e.failed)throw new B(e.failed);return this}maybeStep(t){let e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e}get docChanged(){return this.steps.length>0}addStep(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e}replace(t,e=t,n=i.Ji.empty){let o=A(this.doc,t,e,n);return o&&this.step(o),this}replaceWith(t,e,n){return this.replace(t,e,new i.Ji(i.FK.from(n),0,0))}delete(t,e){return this.replace(t,e,i.Ji.empty)}insert(t,e){return this.replaceWith(t,t,e)}replaceRange(t,e,n){return function(t,e,n,o){if(!o.size)return t.deleteRange(e,n);let r=t.doc.resolve(e),s=t.doc.resolve(n);if(O(r,s,o))return t.step(new v(e,n,o));let a=L(r,t.doc.resolve(n));0==a[a.length-1]&&a.pop();let l=-(r.depth+1);a.unshift(l);for(let t=r.depth,e=r.pos-1;t>0;t--,e--){let n=r.node(t).type.spec;if(n.defining||n.definingAsContext||n.isolating)break;a.indexOf(t)>-1?l=t:r.before(t)==e&&a.splice(1,0,-t)}let c=a.indexOf(l),h=[],p=o.openStart;for(let t=o.content,e=0;;e++){let n=t.firstChild;if(h.push(n),e==o.openStart)break;t=n.content}for(let t=p-1;t>=0;t--){let e=h[t],n=(u=e.type).spec.defining||u.spec.definingForContent;if(n&&!e.sameMarkup(r.node(Math.abs(l)-1)))p=t;else if(n||!e.type.isTextblock)break}var u;for(let e=o.openStart;e>=0;e--){let l=(e+p+1)%(o.openStart+1),u=h[l];if(u)for(let e=0;e<a.length;e++){let h=a[(e+c)%a.length],p=!0;h<0&&(p=!1,h=-h);let f=r.node(h-1),d=r.index(h-1);if(f.canReplaceWith(d,d,u.type,u.marks))return t.replace(r.before(h),p?s.after(h):n,new i.Ji($(o.content,0,o.openStart,l),l,o.openEnd))}}let f=t.steps.length;for(let i=a.length-1;i>=0&&(t.replace(e,n,o),!(t.steps.length>f));i--){let t=a[i];t<0||(e=r.before(t),n=s.after(t))}}(this,t,e,n),this}replaceRangeWith(t,e,n){return function(t,e,n,o){if(!o.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=function(t,e,n){let i=t.resolve(e);if(i.parent.canReplaceWith(i.index(),i.index(),n))return e;if(0==i.parentOffset)for(let t=i.depth-1;t>=0;t--){let e=i.index(t);if(i.node(t).canReplaceWith(e,e,n))return i.before(t+1);if(e>0)return null}if(i.parentOffset==i.parent.content.size)for(let t=i.depth-1;t>=0;t--){let e=i.indexAfter(t);if(i.node(t).canReplaceWith(e,e,n))return i.after(t+1);if(e<i.node(t).childCount)return null}return null}(t.doc,e,o.type);null!=i&&(e=n=i)}t.replaceRange(e,n,new i.Ji(i.FK.from(o),0,0))}(this,t,e,n),this}deleteRange(t,e){return function(t,e,n){let i=t.doc.resolve(e),o=t.doc.resolve(n),r=L(i,o);for(let e=0;e<r.length;e++){let n=r[e],s=e==r.length-1;if(s&&0==n||i.node(n).type.contentMatch.validEnd)return t.delete(i.start(n),o.end(n));if(n>0&&(s||i.node(n-1).canReplace(i.index(n-1),o.indexAfter(n-1))))return t.delete(i.before(n),o.after(n))}for(let r=1;r<=i.depth&&r<=o.depth;r++)if(e-i.start(r)==i.depth-r&&n>i.end(r)&&o.end(r)-n!=o.depth-r)return t.delete(i.before(r),n);t.delete(e,n)}(this,t,e),this}lift(t,e){return function(t,e,n){let{$from:o,$to:r,depth:s}=e,a=o.before(s+1),l=r.after(s+1),c=a,h=l,p=i.FK.empty,u=0;for(let t=s,e=!1;t>n;t--)e||o.index(t)>0?(e=!0,p=i.FK.from(o.node(t).copy(p)),u++):c--;let f=i.FK.empty,d=0;for(let t=s,e=!1;t>n;t--)e||r.after(t+1)<r.end(t)?(e=!0,f=i.FK.from(r.node(t).copy(f)),d++):h++;t.step(new y(c,h,a,l,new i.Ji(p.append(f),u,d),p.size-u,!0))}(this,t,e),this}join(t,e=1){return function(t,e,n){let o=new v(e-n,e+n,i.Ji.empty,!0);t.step(o)}(this,t,e),this}wrap(t,e){return function(t,e,n){let o=i.FK.empty;for(let t=n.length-1;t>=0;t--){if(o.size){let e=n[t].type.contentMatch.matchFragment(o);if(!e||!e.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}o=i.FK.from(n[t].type.create(n[t].attrs,o))}let r=e.start,s=e.end;t.step(new y(r,s,r,s,new i.Ji(o,0,0),n.length,!0))}(this,t,e),this}setBlockType(t,e=t,n,o=null){return function(t,e,n,o,r){if(!o.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,((e,n)=>{if(e.isTextblock&&!e.hasMarkup(o,r)&&function(t,e,n){let i=t.resolve(e),o=i.index();return i.parent.canReplaceWith(o,o+1,n)}(t.doc,t.mapping.slice(s).map(n),o)){t.clearIncompatible(t.mapping.slice(s).map(n,1),o);let a=t.mapping.slice(s),l=a.map(n,1),c=a.map(n+e.nodeSize,1);return t.step(new y(l,c,l+1,c-1,new i.Ji(i.FK.from(o.create(r,null,e.marks)),0,0),1,!0)),!1}}))}(this,t,e,n,o),this}setNodeMarkup(t,e,n=null,o){return function(t,e,n,o,r){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let a=n.create(o,null,r||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,a);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new y(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new i.Ji(i.FK.from(a),0,0),1,!0))}(this,t,e,n,o),this}setNodeAttribute(t,e,n){return this.step(new z(t,e,n)),this}setDocAttribute(t,e){return this.step(new D(t,e)),this}addNodeMark(t,e){return this.step(new m(t,e)),this}removeNodeMark(t,e){if(!(e instanceof i.CU)){let n=this.doc.nodeAt(t);if(!n)throw new RangeError("No node at position "+t);if(!(e=e.isInSet(n.marks)))return this}return this.step(new g(t,e)),this}split(t,e=1,n){return function(t,e,n=1,o){let r=t.doc.resolve(e),s=i.FK.empty,a=i.FK.empty;for(let t=r.depth,e=r.depth-n,l=n-1;t>e;t--,l--){s=i.FK.from(r.node(t).copy(s));let e=o&&o[l];a=i.FK.from(e?e.type.create(e.attrs,a):r.node(t).copy(a))}t.step(new v(e,e,new i.Ji(s.append(a),n,n),!0))}(this,t,e,n),this}addMark(t,e,n){return function(t,e,n,i){let o,r,s=[],a=[];t.doc.nodesBetween(e,n,((t,l,c)=>{if(!t.isInline)return;let h=t.marks;if(!i.isInSet(h)&&c.type.allowsMarkType(i.type)){let c=Math.max(l,e),p=Math.min(l+t.nodeSize,n),u=i.addToSet(h);for(let t=0;t<h.length;t++)h[t].isInSet(u)||(o&&o.to==c&&o.mark.eq(h[t])?o.to=p:s.push(o=new d(c,p,h[t])));r&&r.to==c?r.to=p:a.push(r=new f(c,p,i))}})),s.forEach((e=>t.step(e))),a.forEach((e=>t.step(e)))}(this,t,e,n),this}removeMark(t,e,n){return function(t,e,n,o){let r=[],s=0;t.doc.nodesBetween(e,n,((t,a)=>{if(!t.isInline)return;s++;let l=null;if(o instanceof i.sX){let e,n=t.marks;for(;e=o.isInSet(n);)(l||(l=[])).push(e),n=e.removeFromSet(n)}else o?o.isInSet(t.marks)&&(l=[o]):l=t.marks;if(l&&l.length){let i=Math.min(a+t.nodeSize,n);for(let t=0;t<l.length;t++){let n,o=l[t];for(let t=0;t<r.length;t++){let e=r[t];e.step==s-1&&o.eq(r[t].style)&&(n=e)}n?(n.to=i,n.step=s):r.push({style:o,from:Math.max(a,e),to:i,step:s})}}})),r.forEach((e=>t.step(new d(e.from,e.to,e.style))))}(this,t,e,n),this}clearIncompatible(t,e,n){return function(t,e,n,o=n.contentMatch){let r=t.doc.nodeAt(e),s=[],a=e+1;for(let e=0;e<r.childCount;e++){let l=r.child(e),c=a+l.nodeSize,h=o.matchType(l.type);if(h){o=h;for(let e=0;e<l.marks.length;e++)n.allowsMarkType(l.marks[e].type)||t.step(new d(a,c,l.marks[e]));if(l.isText&&!n.spec.code){let t,e,o=/\r?\n|\r/g;for(;t=o.exec(l.text);)e||(e=new i.Ji(i.FK.from(n.schema.text(" ",n.allowedMarks(l.marks))),0,0)),s.push(new v(a+t.index,a+t.index+t[0].length,e))}}else s.push(new v(a,c,i.Ji.empty));a=c}if(!o.validEnd){let e=o.fillBefore(i.FK.empty,!0);t.replace(a,a,new i.Ji(e,0,0))}for(let e=s.length-1;e>=0;e--)t.step(s[e])}(this,t,e,n),this}}}}]);
//# sourceMappingURL=vendors-node_modules_debounce_index_js-node_modules_toastify-js_src_toastify_js-node_modules_-1b3dfb.js.map?v=b9f16f9bec57a1125156