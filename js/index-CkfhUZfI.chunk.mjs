var Le=Object.defineProperty;var Re=(r,t,s)=>t in r?Le(r,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[t]=s;var I=(r,t,s)=>Re(r,typeof t!="symbol"?t+"":t,s);import{g as ne}from"./emoji-picker-DJyM6asK.chunk.mjs";function fe(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var se={exports:{}},u=se.exports={},L,R;function x(){throw new Error("setTimeout has not been defined")}function V(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?L=setTimeout:L=x}catch(r){L=x}try{typeof clearTimeout=="function"?R=clearTimeout:R=V}catch(r){R=V}})();function ie(r){if(L===setTimeout)return setTimeout(r,0);if((L===x||!L)&&setTimeout)return L=setTimeout,setTimeout(r,0);try{return L(r,0)}catch(t){try{return L.call(null,r,0)}catch(s){return L.call(this,r,0)}}}function Ne(r){if(R===clearTimeout)return clearTimeout(r);if((R===V||!R)&&clearTimeout)return R=clearTimeout,clearTimeout(r);try{return R(r)}catch(t){try{return R.call(null,r)}catch(s){return R.call(this,r)}}}var d=[],S=!1,m,P=-1;function de(){!S||!m||(S=!1,m.length?d=m.concat(d):P=-1,d.length&&oe())}function oe(){if(!S){var r=ie(de);S=!0;for(var t=d.length;t;){for(m=d,d=[];++P<t;)m&&m[P].run();P=-1,t=d.length}m=null,S=!1,Ne(r)}}u.nextTick=function(r){var t=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)t[s-1]=arguments[s];d.push(new Ee(r,t)),d.length===1&&!S&&ie(oe)};function Ee(r,t){this.fun=r,this.array=t}Ee.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={};function N(){}u.on=N,u.addListener=N,u.once=N,u.off=N,u.removeListener=N,u.removeAllListeners=N,u.emit=N,u.prependListener=N,u.prependOnceListener=N,u.listeners=function(r){return[]},u.binding=function(r){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(r){throw new Error("process.chdir is not supported")},u.umask=function(){return 0};var Oe=se.exports;const me=fe(Oe);var D,z;function ae(){if(z)return D;z=1;var r={};return D=typeof me=="object"&&r&&r.NODE_DEBUG&&/\bsemver\b/i.test(r.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{},D}var G,K;function ce(){if(K)return G;K=1;const r="2.0.0",t=256,s=Number.MAX_SAFE_INTEGER||9007199254740991,a=16,l=t-6;return G={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:a,MAX_SAFE_BUILD_LENGTH:l,MAX_SAFE_INTEGER:s,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:r,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},G}var y={exports:{}},W;function $e(){return W||(W=1,function(r,t){const{MAX_SAFE_COMPONENT_LENGTH:s,MAX_SAFE_BUILD_LENGTH:a,MAX_LENGTH:l}=ce(),p=ae();t=r.exports={};const _=t.re=[],O=t.safeRe=[],n=t.src=[],Ie=t.safeSrc=[],e=t.t={};let o=0;const E="[a-zA-Z0-9-]",c=[["\\s",1],["\\d",l],[E,a]],h=$=>{for(const[f,v]of c)$=$.split("".concat(f,"*")).join("".concat(f,"{0,").concat(v,"}")).split("".concat(f,"+")).join("".concat(f,"{1,").concat(v,"}"));return $},i=($,f,v)=>{const H=h(f),A=o++;p($,A,f),e[$]=A,n[A]=f,Ie[A]=H,_[A]=new RegExp(f,v?"g":void 0),O[A]=new RegExp(H,v?"g":void 0)};i("NUMERICIDENTIFIER","0|[1-9]\\d*"),i("NUMERICIDENTIFIERLOOSE","\\d+"),i("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-]".concat(E,"*")),i("MAINVERSION","(".concat(n[e.NUMERICIDENTIFIER],")\\.(").concat(n[e.NUMERICIDENTIFIER],")\\.(").concat(n[e.NUMERICIDENTIFIER],")")),i("MAINVERSIONLOOSE","(".concat(n[e.NUMERICIDENTIFIERLOOSE],")\\.(").concat(n[e.NUMERICIDENTIFIERLOOSE],")\\.(").concat(n[e.NUMERICIDENTIFIERLOOSE],")")),i("PRERELEASEIDENTIFIER","(?:".concat(n[e.NUMERICIDENTIFIER],"|").concat(n[e.NONNUMERICIDENTIFIER],")")),i("PRERELEASEIDENTIFIERLOOSE","(?:".concat(n[e.NUMERICIDENTIFIERLOOSE],"|").concat(n[e.NONNUMERICIDENTIFIER],")")),i("PRERELEASE","(?:-(".concat(n[e.PRERELEASEIDENTIFIER],"(?:\\.").concat(n[e.PRERELEASEIDENTIFIER],")*))")),i("PRERELEASELOOSE","(?:-?(".concat(n[e.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(n[e.PRERELEASEIDENTIFIERLOOSE],")*))")),i("BUILDIDENTIFIER","".concat(E,"+")),i("BUILD","(?:\\+(".concat(n[e.BUILDIDENTIFIER],"(?:\\.").concat(n[e.BUILDIDENTIFIER],")*))")),i("FULLPLAIN","v?".concat(n[e.MAINVERSION]).concat(n[e.PRERELEASE],"?").concat(n[e.BUILD],"?")),i("FULL","^".concat(n[e.FULLPLAIN],"$")),i("LOOSEPLAIN","[v=\\s]*".concat(n[e.MAINVERSIONLOOSE]).concat(n[e.PRERELEASELOOSE],"?").concat(n[e.BUILD],"?")),i("LOOSE","^".concat(n[e.LOOSEPLAIN],"$")),i("GTLT","((?:<|>)?=?)"),i("XRANGEIDENTIFIERLOOSE","".concat(n[e.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),i("XRANGEIDENTIFIER","".concat(n[e.NUMERICIDENTIFIER],"|x|X|\\*")),i("XRANGEPLAIN","[v=\\s]*(".concat(n[e.XRANGEIDENTIFIER],")(?:\\.(").concat(n[e.XRANGEIDENTIFIER],")(?:\\.(").concat(n[e.XRANGEIDENTIFIER],")(?:").concat(n[e.PRERELEASE],")?").concat(n[e.BUILD],"?)?)?")),i("XRANGEPLAINLOOSE","[v=\\s]*(".concat(n[e.XRANGEIDENTIFIERLOOSE],")(?:\\.(").concat(n[e.XRANGEIDENTIFIERLOOSE],")(?:\\.(").concat(n[e.XRANGEIDENTIFIERLOOSE],")(?:").concat(n[e.PRERELEASELOOSE],")?").concat(n[e.BUILD],"?)?)?")),i("XRANGE","^".concat(n[e.GTLT],"\\s*").concat(n[e.XRANGEPLAIN],"$")),i("XRANGELOOSE","^".concat(n[e.GTLT],"\\s*").concat(n[e.XRANGEPLAINLOOSE],"$")),i("COERCEPLAIN","(^|[^\\d])(\\d{1,".concat(s,"})(?:\\.(\\d{1,").concat(s,"}))?(?:\\.(\\d{1,").concat(s,"}))?")),i("COERCE","".concat(n[e.COERCEPLAIN],"(?:$|[^\\d])")),i("COERCEFULL",n[e.COERCEPLAIN]+"(?:".concat(n[e.PRERELEASE],")?(?:").concat(n[e.BUILD],")?(?:$|[^\\d])")),i("COERCERTL",n[e.COERCE],!0),i("COERCERTLFULL",n[e.COERCEFULL],!0),i("LONETILDE","(?:~>?)"),i("TILDETRIM","(\\s*)".concat(n[e.LONETILDE],"\\s+"),!0),t.tildeTrimReplace="$1~",i("TILDE","^".concat(n[e.LONETILDE]).concat(n[e.XRANGEPLAIN],"$")),i("TILDELOOSE","^".concat(n[e.LONETILDE]).concat(n[e.XRANGEPLAINLOOSE],"$")),i("LONECARET","(?:\\^)"),i("CARETTRIM","(\\s*)".concat(n[e.LONECARET],"\\s+"),!0),t.caretTrimReplace="$1^",i("CARET","^".concat(n[e.LONECARET]).concat(n[e.XRANGEPLAIN],"$")),i("CARETLOOSE","^".concat(n[e.LONECARET]).concat(n[e.XRANGEPLAINLOOSE],"$")),i("COMPARATORLOOSE","^".concat(n[e.GTLT],"\\s*(").concat(n[e.LOOSEPLAIN],")$|^$")),i("COMPARATOR","^".concat(n[e.GTLT],"\\s*(").concat(n[e.FULLPLAIN],")$|^$")),i("COMPARATORTRIM","(\\s*)".concat(n[e.GTLT],"\\s*(").concat(n[e.LOOSEPLAIN],"|").concat(n[e.XRANGEPLAIN],")"),!0),t.comparatorTrimReplace="$1$2$3",i("HYPHENRANGE","^\\s*(".concat(n[e.XRANGEPLAIN],")\\s+-\\s+(").concat(n[e.XRANGEPLAIN],")\\s*$")),i("HYPHENRANGELOOSE","^\\s*(".concat(n[e.XRANGEPLAINLOOSE],")\\s+-\\s+(").concat(n[e.XRANGEPLAINLOOSE],")\\s*$")),i("STAR","(<|>)?=?\\s*\\*"),i("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),i("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(y,y.exports)),y.exports}var F,Y;function Ae(){if(Y)return F;Y=1;const r=Object.freeze({loose:!0}),t=Object.freeze({});return F=s=>s?typeof s!="object"?r:s:t,F}var M,Z;function Te(){if(Z)return M;Z=1;const r=/^[0-9]+$/,t=(s,a)=>{const l=r.test(s),p=r.test(a);return l&&p&&(s=+s,a=+a),s===a?0:l&&!p?-1:p&&!l?1:s<a?-1:1};return M={compareIdentifiers:t,rcompareIdentifiers:(s,a)=>t(a,s)},M}var U,q;function ue(){if(q)return U;q=1;const r=ae(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:s}=ce(),{safeRe:a,safeSrc:l,t:p}=$e(),_=Ae(),{compareIdentifiers:O}=Te();class n{constructor(e,o){if(o=_(o),e instanceof n){if(e.loose===!!o.loose&&e.includePrerelease===!!o.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError('Invalid version. Must be a string. Got type "'.concat(typeof e,'".'));if(e.length>t)throw new TypeError("version is longer than ".concat(t," characters"));r("SemVer",e,o),this.options=o,this.loose=!!o.loose,this.includePrerelease=!!o.includePrerelease;const E=e.trim().match(o.loose?a[p.LOOSE]:a[p.FULL]);if(!E)throw new TypeError("Invalid Version: ".concat(e));if(this.raw=e,this.major=+E[1],this.minor=+E[2],this.patch=+E[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");E[4]?this.prerelease=E[4].split(".").map(c=>{if(/^[0-9]+$/.test(c)){const h=+c;if(h>=0&&h<s)return h}return c}):this.prerelease=[],this.build=E[5]?E[5].split("."):[],this.format()}format(){return this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch),this.prerelease.length&&(this.version+="-".concat(this.prerelease.join("."))),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof n)){if(typeof e=="string"&&e===this.version)return 0;e=new n(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof n||(e=new n(e,this.options)),O(this.major,e.major)||O(this.minor,e.minor)||O(this.patch,e.patch)}comparePre(e){if(e instanceof n||(e=new n(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let o=0;do{const E=this.prerelease[o],c=e.prerelease[o];if(r("prerelease compare",o,E,c),E===void 0&&c===void 0)return 0;if(c===void 0)return 1;if(E===void 0)return-1;if(E!==c)return O(E,c)}while(++o)}compareBuild(e){e instanceof n||(e=new n(e,this.options));let o=0;do{const E=this.build[o],c=e.build[o];if(r("build compare",o,E,c),E===void 0&&c===void 0)return 0;if(c===void 0)return 1;if(E===void 0)return-1;if(E!==c)return O(E,c)}while(++o)}inc(e,o,E){if(e.startsWith("pre")){if(!o&&E===!1)throw new Error("invalid increment argument: identifier is empty");if(o){const c=new RegExp("^".concat(this.options.loose?l[p.PRERELEASELOOSE]:l[p.PRERELEASE],"$")),h="-".concat(o).match(c);if(!h||h[1]!==o)throw new Error("invalid identifier: ".concat(o))}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",o,E);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",o,E);break;case"prepatch":this.prerelease.length=0,this.inc("patch",o,E),this.inc("pre",o,E);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",o,E),this.inc("pre",o,E);break;case"release":if(this.prerelease.length===0)throw new Error("version ".concat(this.raw," is not a prerelease"));this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const c=Number(E)?1:0;if(this.prerelease.length===0)this.prerelease=[c];else{let h=this.prerelease.length;for(;--h>=0;)typeof this.prerelease[h]=="number"&&(this.prerelease[h]++,h=-2);if(h===-1){if(o===this.prerelease.join(".")&&E===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(c)}}if(o){let h=[o,c];E===!1&&(h=[o]),O(this.prerelease[0],o)===0?isNaN(this.prerelease[1])&&(this.prerelease=h):this.prerelease=h}break}default:throw new Error("invalid increment argument: ".concat(e))}return this.raw=this.format(),this.build.length&&(this.raw+="+".concat(this.build.join("."))),this}}return U=n,U}var X,J;function we(){if(J)return X;J=1;const r=ue();return X=(t,s,a=!1)=>{if(t instanceof r)return t;try{return new r(t,s)}catch(l){if(!a)return null;throw l}},X}var j,Q;function Se(){if(Q)return j;Q=1;const r=we();return j=(t,s)=>{const a=r(t,s);return a?a.version:null},j}var ve=Se();const ge=ne(ve);var B,ee;function be(){if(ee)return B;ee=1;const r=ue();return B=(t,s)=>new r(t,s).major,B}var Pe=be();const te=ne(Pe);class Ce{constructor(t){I(this,"bus");typeof t.getVersion!="function"||!ge(t.getVersion())?console.warn("Proxying an event bus with an unknown or invalid version"):te(t.getVersion())!==te(this.getVersion())&&console.warn("Proxying an event bus of version "+t.getVersion()+" with "+this.getVersion()),this.bus=t}getVersion(){return"3.3.2"}subscribe(t,s){this.bus.subscribe(t,s)}unsubscribe(t,s){this.bus.unsubscribe(t,s)}emit(t,...s){this.bus.emit(t,...s)}}class _e{constructor(){I(this,"handlers",new Map)}getVersion(){return"3.3.2"}subscribe(t,s){this.handlers.set(t,(this.handlers.get(t)||[]).concat(s))}unsubscribe(t,s){this.handlers.set(t,(this.handlers.get(t)||[]).filter(a=>a!==s))}emit(t,...s){(this.handlers.get(t)||[]).forEach(a=>{try{a(s[0])}catch(l){console.error("could not invoke event listener",l)}})}}let g=null;function k(){var r;return g!==null?g:typeof window>"u"?new Proxy({},{get:()=>()=>console.error("Window not available, EventBus can not be established!")}):((r=window.OC)!=null&&r._eventBus&&typeof window._nc_event_bus>"u"&&(console.warn("found old event bus instance at OC._eventBus. Update your version!"),window._nc_event_bus=window.OC._eventBus),typeof(window==null?void 0:window._nc_event_bus)<"u"?g=new Ce(window._nc_event_bus):g=window._nc_event_bus=new _e,g)}function De(r,t){k().subscribe(r,t)}function Xe(r,t){k().unsubscribe(r,t)}function je(r,...t){k().emit(r,...t)}const w=class w{constructor(t,s,a){I(this,"scope");I(this,"wrapped");this.scope="".concat(a?w.GLOBAL_SCOPE_PERSISTENT:w.GLOBAL_SCOPE_VOLATILE,"_").concat(btoa(t),"_"),this.wrapped=s}scopeKey(t){return"".concat(this.scope).concat(t)}setItem(t,s){this.wrapped.setItem(this.scopeKey(t),s)}getItem(t){return this.wrapped.getItem(this.scopeKey(t))}removeItem(t){this.wrapped.removeItem(this.scopeKey(t))}clear(){Object.keys(this.wrapped).filter(t=>t.startsWith(this.scope)).map(this.wrapped.removeItem.bind(this.wrapped))}};I(w,"GLOBAL_SCOPE_VOLATILE","nextcloud_vol"),I(w,"GLOBAL_SCOPE_PERSISTENT","nextcloud_per");let C=w;class Ge{constructor(t){I(this,"appId");I(this,"persisted",!1);I(this,"clearedOnLogout",!1);this.appId=t}persist(t=!0){return this.persisted=t,this}clearOnLogout(t=!0){return this.clearedOnLogout=t,this}build(){return new C(this.appId,this.persisted?window.localStorage:window.sessionStorage,!this.clearedOnLogout)}}function he(r){return new Ge(r)}function le(r,t){Object.keys(r).filter(s=>t?t(s):!0).map(r.removeItem.bind(r))}function ye(){[window.sessionStorage,window.localStorage].map(r=>le(r))}function Fe(){[window.sessionStorage,window.localStorage].map(r=>le(r,t=>!t.startsWith(C.GLOBAL_SCOPE_PERSISTENT)))}const Be=Object.freeze(Object.defineProperty({__proto__:null,clearAll:ye,clearNonPersistent:Fe,getBuilder:he},Symbol.toStringTag,{value:"Module"}));let b;const pe=[];function xe(){var r;return b===void 0&&(b=(r=document.head.dataset.requesttoken)!=null?r:null),b}function Ve(r){pe.push(r)}De("csrf-token-update",r=>{b=r.token,pe.forEach(t=>{try{t(b)}catch(s){console.error("Error updating CSRF token observer",s)}})});he("public").persist().build();let T;function re(r,t){return r?r.getAttribute(t):null}function ke(){if(T!==void 0)return T;const r=document==null?void 0:document.getElementsByTagName("head")[0];if(!r)return null;const t=re(r,"data-user");return t===null?(T=null,T):(T={uid:t,displayName:re(r,"data-user-displayname"),isAdmin:!!window._oc_isadmin},T)}export{xe as a,be as b,Be as d,je as e,ke as g,Ve as o,me as p,Se as r,De as s,Xe as u};
//# sourceMappingURL=index-CkfhUZfI.chunk.mjs.map
