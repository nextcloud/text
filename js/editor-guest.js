"use strict";(self.webpackChunk_nextcloud_text=self.webpackChunk_nextcloud_text||[]).push([["editor-guest"],{21525:(e,t,s)=>{s.d(t,{A:()=>o});var a=s(71354),i=s.n(a),n=s(76314),r=s.n(n)()(i());r.push([e.id,".avatar[data-v-1bf0295d],.avatar-wrapper[data-v-1bf0295d]{border-radius:50%;width:var(--size);height:var(--size);text-align:center;color:#fff;line-height:var(--size);font-size:var(--font-size);font-weight:normal;display:flex;justify-content:center;align-items:center}","",{version:3,sources:["webpack://./src/components/Editor/AvatarWrapper.vue"],names:[],mappings:"AAEA,0DACC,iBAAA,CACA,iBAAA,CACA,kBAAA,CACA,iBAAA,CACA,UAAA,CACA,uBAAA,CACA,0BAAA,CACA,kBAAA,CACA,YAAA,CACA,sBAAA,CACA,kBAAA",sourceRoot:""}]);const o=r},49062:(e,t,s)=>{s.d(t,{A:()=>o});var a=s(71354),i=s.n(a),n=s(76314),r=s.n(n)()(i());r.push([e.id,"form.guest-name-dialog[data-v-26413ba0]{display:flex;align-items:center;padding:6px}form.guest-name-dialog[data-v-26413ba0] img{margin:0 !important}form.guest-name-dialog input[type=text][data-v-26413ba0]{flex-grow:1}form.guest-name-dialog label[data-v-26413ba0]{padding-right:3px;height:32px}","",{version:3,sources:["webpack://./src/components/Editor/GuestNameDialog.vue"],names:[],mappings:"AACA,wCACC,YAAA,CACA,kBAAA,CACA,WAAA,CAEA,4CACC,mBAAA,CAGD,yDACC,WAAA,CAED,8CACC,iBAAA,CACA,WAAA",sourceRoot:""}]);const o=r},85556:(e,t,s)=>{s.d(t,{A:()=>h});const a={name:"AvatarWrapper",components:{NcAvatar:s(98857).Bx},props:{session:{type:Object,required:!0},size:{type:Number,default:()=>32}},computed:{sessionAvatarStyle(){return{...this.sessionBackgroundStyle,"border-color":this.session.color,"border-width":"2px","border-style":"solid","--size":this.size+"px","--font-size":this.size/2+"px"}},sessionBackgroundStyle(){return{"background-color":this.session.userId?this.session.color+" !important":"#b9b9b9"}},guestInitial(){return""===this.session.guestName?"?":this.session.guestName.slice(0,1).toUpperCase()}}};var i=s(85072),n=s.n(i),r=s(97825),o=s.n(r),A=s(77659),u=s.n(A),l=s(55056),d=s.n(l),c=s(10540),m=s.n(c),p=s(41113),g=s.n(p),v=s(21525),C={};C.styleTagTransform=g(),C.setAttributes=d(),C.insert=u().bind(null,"head"),C.domAPI=o(),C.insertStyleElement=m();n()(v.A,C);v.A&&v.A.locals&&v.A.locals;const h=(0,s(14486).A)(a,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"avatar-wrapper",style:e.sessionAvatarStyle},[e.session.userId?t("NcAvatar",{attrs:{user:e.session.userId?e.session.userId:e.session.guestName,"is-guest":null===e.session.userId,"disable-menu":!0,"show-user-status":!1,"disable-tooltip":!0,size:e.size}}):t("div",{staticClass:"avatar",style:e.sessionBackgroundStyle},[e._v("\n\t\t"+e._s(e.guestInitial)+"\n\t")])],1)}),[],!1,null,"1bf0295d",null).exports},22919:(e,t,s)=>{s.r(t),s.d(t,{default:()=>N});var a=s(99498),i=s(85556),n=s(73590);const r={name:"GuestNameDialog",components:{AvatarWrapper:i.A},mixins:[n.l5],props:{session:{type:Object,required:!0}},data:()=>({guestName:"",guestNameBuffered:""}),computed:{avatarUrl(){const e=(0,a.Jv)("/avatar/guest/{user}/{size}",{user:this.guestNameBuffered,size:32});return window.location.protocol+"//"+window.location.host+e}},beforeMount(){this.guestName=this.$syncService.guestName,this.updateBufferedGuestName()},methods:{setGuestName(){const e=this.$syncService.guestName;this.$syncService.updateSession(this.guestName).then((()=>{localStorage.setItem("nick",this.guestName),this.updateBufferedGuestName()})).catch((t=>{this.guestName=e}))},updateBufferedGuestName(){this.guestNameBuffered=this.guestName}}};var o=s(85072),A=s.n(o),u=s(97825),l=s.n(u),d=s(77659),c=s.n(d),m=s(55056),p=s.n(m),g=s(10540),v=s.n(g),C=s(41113),h=s.n(C),f=s(49062),b={};b.styleTagTransform=h(),b.setAttributes=p(),b.insert=c().bind(null,"head"),b.domAPI=l(),b.insertStyleElement=v();A()(f.A,b);f.A&&f.A.locals&&f.A.locals;const N=(0,s(14486).A)(r,(function(){var e=this,t=e._self._c;return t("form",{staticClass:"guest-name-dialog",attrs:{title:e.t("text","Enter your name so other people can see who is editing")},on:{submit:function(t){return t.preventDefault(),e.setGuestName()}}},[t("label",[t("AvatarWrapper",{attrs:{session:e.session,size:32}})],1),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.guestName,expression:"guestName"}],attrs:{type:"text","aria-label":e.t("text","Edit guest name"),placeholder:e.t("text","Guest")},domProps:{value:e.guestName},on:{input:function(t){t.target.composing||(e.guestName=t.target.value)}}}),e._v(" "),t("input",{staticClass:"icon-confirm",attrs:{type:"submit","aria-label":e.t("text","Save guest name"),value:""}})])}),[],!1,null,"26413ba0",null).exports}}]);
//# sourceMappingURL=editor-guest.js.map?v=c9fce578ec999b7c6f0f