const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=[window.OC.filePath('text', '', 'js/MarkdownContentEditor-DSwjd0bg.chunk.mjs'),window.OC.filePath('text', '', 'js/Wrapper-CpOkGjyC.chunk.mjs'),window.OC.filePath('text', '', 'js/vue.runtime.esm-DaLNuXGQ.chunk.mjs'),window.OC.filePath('text', '', 'js/RichText-CgE7EDKv.chunk.mjs'),window.OC.filePath('text', '', 'js/_plugin-vue2_normalizer-BqiiIIgu.chunk.mjs'),window.OC.filePath('text', '', 'js/NcNoteCard-CImn6F9p-ChK0-hvc.chunk.mjs'),window.OC.filePath('text', '', 'js/emoji-picker-SoWZqoso.chunk.mjs'),window.OC.filePath('text', '', 'css/NcNoteCard-CImn6F9p-B6WZzrWi.chunk.css'),window.OC.filePath('text', '', 'js/index-GC0jKWMY.chunk.mjs'),window.OC.filePath('text', '', 'js/modulepreload-polyfill-DMTabKmO.chunk.mjs'),window.OC.filePath('text', '', 'js/index-Ubm2itxG.chunk.mjs'),window.OC.filePath('text', '', 'js/index-DkzhscpN.chunk.mjs'),window.OC.filePath('text', '', 'css/_plugin-vue2_normalizer--tuJJ_aO.chunk.css'),window.OC.filePath('text', '', 'js/index-qvrmZkdT.chunk.mjs'),window.OC.filePath('text', '', 'js/MediaHandler.provider-DDtlCUKJ.chunk.mjs'),window.OC.filePath('text', '', 'js/logger-B4T8Bva5.chunk.mjs'),window.OC.filePath('text', '', 'js/_plugin-vue2_normalizer-CQ6iBklL-DXMPP5W0.chunk.mjs'),window.OC.filePath('text', '', 'css/RichText-B_Ckz91D.chunk.css'),window.OC.filePath('text', '', 'css/Wrapper-B_yljjF_.chunk.css'),window.OC.filePath('text', '', 'css/MarkdownContentEditor-lQsXX8SY.chunk.css'),window.OC.filePath('text', '', 'js/Editor-mI8xTQie.chunk.mjs'),window.OC.filePath('text', '', 'css/Editor-DDgOIH0H.chunk.css')])))=>i.map(i=>d[i]);
/*! third party licenses: js/vendor.LICENSE.txt */
var C=o=>{throw TypeError(o)};var v=(o,t,e)=>t.has(o)||C("Cannot "+e);var n=(o,t,e)=>(v(o,t,"read from private field"),e?e.call(o):t.get(o)),y=(o,t,e)=>t.has(o)?C("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(o):t.set(o,e),f=(o,t,e,i)=>(v(o,t,"write to private field"),i?i.call(o,e):t.set(o,e),e),d=(o,t,e)=>(v(o,t,"access private method"),e);import{_ as T,s as V}from"./modulepreload-polyfill-DMTabKmO.chunk.mjs";import{V as m}from"./vue.runtime.esm-DaLNuXGQ.chunk.mjs";import{s as H}from"./index-qvrmZkdT.chunk.mjs";import{A as U,E as D,H as N,a as Q,b as F}from"./MediaHandler.provider-DDtlCUKJ.chunk.mjs";import"./emoji-picker-SoWZqoso.chunk.mjs";import"./index-GC0jKWMY.chunk.mjs";import"./logger-B4T8Bva5.chunk.mjs";import"./index-DkzhscpN.chunk.mjs";const j="1.2";m.prototype.t=window.t,m.prototype.n=window.n,m.prototype.OCA=window.OCA,window.OCA.Text={...window.OCA.Text};var r,h,s,u,_;class q{constructor(t,e){y(this,s);y(this,r);y(this,h);return f(this,r,t),f(this,h,e),d(this,s,_).call(this),this}onCreate(t=()=>{}){return n(this,r).$on("create:content",e=>{t(e)}),this}onLoaded(t=()=>{}){return n(this,r).$on("ready",()=>{t()}),this}onUpdate(t=()=>{}){return n(this,r).$on("update:content",e=>{t(e)}),this}onOutlineToggle(t=()=>{}){return n(this,r).$on("outline-toggled",e=>{t(e)}),this}onSearch(t=()=>{}){return V("text:editor:search-results",t),this}render(t){t.innerHTML="";const e=document.createElement("div");return t.appendChild(e),n(this,r).$mount(e),this}destroy(){n(this,r).$destroy(),n(this,r).$el.innerHTML=""}setContent(t){var e,i;return n(this,r).$set(n(this,h),"content",t),(i=(e=d(this,s,u).call(this))==null?void 0:e.setContent)==null||i.call(e,t),this}setSearchQuery(t,e){var i;((i=d(this,s,u).call(this))==null?void 0:i.$editor).commands.setSearchQuery(t,e)}searchNext(){var t;((t=d(this,s,u).call(this))==null?void 0:t.$editor).commands.nextMatch()}searchPrevious(){var t;((t=d(this,s,u).call(this))==null?void 0:t.$editor).commands.previousMatch()}async save(){var t,e;return(e=(t=d(this,s,u).call(this)).save)==null?void 0:e.call(t)}setShowOutline(t){return n(this,r).$set(n(this,h),"showOutlineOutside",t),this}setReadOnly(t){return n(this,r).$set(n(this,h),"readOnly",t),this}updateReadonlyBarProps(t){return n(this,r).$set(n(this,h),"readonlyBarProps",t),this}insertAtCursor(t){d(this,s,u).call(this).$editor.chain().insertContent(t).focus().run()}focus(){d(this,s,u).call(this).$editor.commands.focus()}}r=new WeakMap,h=new WeakMap,s=new WeakSet,u=function(){return n(this,r).$children[0]},_=function(){var t;window!=null&&window._oc_debug&&(this.vm=n(this,r),window.OCA.Text._debug=[...(t=window.OCA.Text._debug)!=null?t:[],this])};window.OCA.Text.apiVersion=j,window.OCA.Text.createEditor=async function({el:o,fileId:t=void 0,useSession:e=!0,filePath:i=void 0,shareToken:$=null,content:g="",readOnly:x=!1,autofocus:A=!0,readonlyBar:c={component:null,props:null},onCreate:P=({markdown:w})=>{},onLoaded:S=()=>{},onUpdate:b=({markdown:w})=>{},onOutlineToggle:I=w=>{},onFileInsert:E=void 0,onMentionSearch:L=void 0,onMentionInsert:M=void 0,onSearch:k=void 0}){const{default:w}=await T(async()=>{const{default:a}=await import("./MarkdownContentEditor-DSwjd0bg.chunk.mjs");return{default:a}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]),import.meta.url),{default:B}=await T(async()=>{const{default:a}=await import("./Editor-mI8xTQie.chunk.mjs").then(p=>p.b);return{default:a}},__vite__mapDeps([20,9,6,2,10,16,5,7,3,4,8,11,12,13,14,15,17,1,18,21]),import.meta.url),l=m.observable({showOutlineOutside:!1,readonlyBarProps:c.props,readOnly:x,content:g}),O=t&&e,R=new m({provide(){return{[U]:E,[D]:!!O,[N]:O?!0:L,[Q]:O?!0:M,[F]:{resolve(a,p){return[{type:"image",url:a}]}}}},data(){return l},render:a=>{const p=c!=null&&c.component?{readonlyBar:()=>a(c.component,{props:l.readonlyBarProps})}:{};return O?a(B,{props:{fileId:t,relativePath:i,shareToken:$,mime:"text/markdown",active:!0,autofocus:A,showOutlineOutside:l.showOutlineOutside},scopedSlots:p}):a(w,{props:{fileId:t,content:l.content,relativePath:i,shareToken:$,readOnly:l.readOnly,showOutlineOutside:l.showOutlineOutside},scopedSlots:p})},store:H});return new q(R,l).onCreate(P).onLoaded(S).onUpdate(b).onOutlineToggle(I).onSearch(k).render(o)};
