const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=[window.OC.filePath('text', '', 'js/MarkdownContentEditor-BQQzWfHX.chunk.mjs'),window.OC.filePath('text', '', 'js/Wrapper-B3ehENtb.chunk.mjs'),window.OC.filePath('text', '', 'js/NcColorPicker-CoXyKmwX.chunk.mjs'),window.OC.filePath('text', '', 'js/public-DZjpO8Tq.chunk.mjs'),window.OC.filePath('text', '', 'js/modulepreload-polyfill-Pz2ckkzf.chunk.mjs'),window.OC.filePath('text', '', 'js/emoji-picker-DlAAdvrL.chunk.mjs'),window.OC.filePath('text', '', 'js/NcLoadingIcon-BFPuXP3q.chunk.mjs'),window.OC.filePath('text', '', 'css/NcLoadingIcon-CFe6qyTF.chunk.css'),window.OC.filePath('text', '', 'js/vue.runtime.esm-BSiu2UOd.chunk.mjs'),window.OC.filePath('text', '', 'js/index-DfiDB3im.chunk.mjs'),window.OC.filePath('text', '', 'css/public-DY8mPymx.chunk.css'),window.OC.filePath('text', '', 'js/index-BOsVt1qJ.chunk.mjs'),window.OC.filePath('text', '', 'js/index-C0-nO3LG.chunk.mjs'),window.OC.filePath('text', '', 'js/MediaHandler.provider-BE50DDzt.chunk.mjs'),window.OC.filePath('text', '', 'js/logger-Bvti-6nU.chunk.mjs'),window.OC.filePath('text', '', 'js/index-DJ2hczD-.chunk.mjs'),window.OC.filePath('text', '', 'js/_plugin-vue2_normalizer-wd1ZAbRr.chunk.mjs'),window.OC.filePath('text', '', 'js/NcCheckboxRadioSwitch-ip_mRd2T-DHC_vlea.chunk.mjs'),window.OC.filePath('text', '', 'css/NcCheckboxRadioSwitch-ip_mRd2T-Bebqso8K.chunk.css'),window.OC.filePath('text', '', 'css/NcColorPicker-kNGLaPXu.chunk.css'),window.OC.filePath('text', '', 'css/Wrapper-BXi-C4QZ.chunk.css'),window.OC.filePath('text', '', 'js/MenuBar-DNIoqKeR.chunk.mjs'),window.OC.filePath('text', '', 'js/index-BqoyqHyb.chunk.mjs'),window.OC.filePath('text', '', 'css/MenuBar-5E2XOajh.chunk.css'),window.OC.filePath('text', '', 'js/index-l3LcNnjA.chunk.mjs'),window.OC.filePath('text', '', 'css/MarkdownContentEditor-Dx-iZgJp.chunk.css'),window.OC.filePath('text', '', 'js/Editor-HKd8LANp.chunk.mjs'),window.OC.filePath('text', '', 'js/index-s7cEOwE1.chunk.mjs'),window.OC.filePath('text', '', 'js/_commonjs-dynamic-modules-Cdb4quZm.chunk.mjs'),window.OC.filePath('text', '', 'css/Editor-2GyFOngl.chunk.css'),window.OC.filePath('text', '', 'js/PlainTableContentEditor-cCp0wD6m.chunk.mjs'),window.OC.filePath('text', '', 'css/PlainTableContentEditor-tn0RQdqM.chunk.css')])))=>i.map(i=>d[i]);
import{_ as y,s as L}from"./modulepreload-polyfill-Pz2ckkzf.chunk.mjs";import{V as s}from"./vue.runtime.esm-BSiu2UOd.chunk.mjs";import{s as k}from"./index-BOsVt1qJ.chunk.mjs";import{A as I,E as P,H as S,a as E,O as M,o as j,b as B}from"./MediaHandler.provider-BE50DDzt.chunk.mjs";import"./emoji-picker-DlAAdvrL.chunk.mjs";import"./index-C0-nO3LG.chunk.mjs";import"./index-DfiDB3im.chunk.mjs";import"./logger-Bvti-6nU.chunk.mjs";import"./index-DJ2hczD-.chunk.mjs";const R="1.2";s.prototype.t=window.t,s.prototype.n=window.n,s.prototype.OCA=window.OCA,window.OCA.Text={...window.OCA.Text};class f{#t;#n;constructor(t,e){return this.#t=t,this.#n=e,this.#o(),this}#e(){return this.#t.$children[0]}onCreate(t=()=>{}){return this.#t.$on("create:content",e=>{t(e)}),this}onLoaded(t=()=>{}){return this.#t.$on("ready",()=>{t()}),this}onUpdate(t=()=>{}){return this.#t.$on("update:content",e=>{t(e)}),this}onOutlineToggle(t=()=>{}){return this.#t.$on("outline-toggled",e=>{t(e)}),this}onSearch(t=()=>{}){return L("text:editor:search-results",t),this}render(t){t.innerHTML="";const e=document.createElement("div");return t.appendChild(e),this.#t.$mount(e),this}destroy(){this.#t.$destroy(),this.#t.$el.innerHTML=""}setContent(t){return this.#t.$set(this.#n,"content",t),this.#e()?.setContent?.(t),this}setSearchQuery(t,e){(this.#e()?.$editor).commands.setSearchQuery(t,e)}searchNext(){(this.#e()?.$editor).commands.nextMatch()}searchPrevious(){(this.#e()?.$editor).commands.previousMatch()}async save(){return this.#e().save?.()}setShowOutline(t){return this.#t.$set(this.#n,"showOutlineOutside",t),this}setReadOnly(t){return this.#t.$set(this.#n,"readOnly",t),this}updateReadonlyBarProps(t){return this.#t.$set(this.#n,"readonlyBarProps",t),this}insertAtCursor(t){this.#e().$editor.chain().insertContent(t).focus().run()}focus(){this.#e().$editor.commands.focus()}debugYjs(){const t=this.#e().debugYjsData();console.warn(JSON.stringify(t,null," ")),console.warn(`%c%s
%c%s
%s`,"font-weight: bold;",'Editor Yjs debug data. Copy the object below that starts with "clientId".',"font-weight: normal; font-style: italic;",'- In Chrome, select "Copy" at the end of the line.','- In Firefox, right-click on the object and select "Copy object".')}#o(){window?._oc_debug&&(this.vm=this.#t,window.OCA.Text._debug=[...window.OCA.Text._debug??[],this])}}window.OCA.Text.apiVersion=R,window.OCA.Text.createEditor=async function({el:l,fileId:t=void 0,useSession:e=!0,filePath:c=void 0,shareToken:i=null,content:h="",readOnly:p=!1,autofocus:a=!0,readonlyBar:o={component:null,props:null},onCreate:O=({markdown:w})=>{},onLoaded:d=()=>{},onUpdate:v=({markdown:w})=>{},onOutlineToggle:C=w=>{},onFileInsert:g=void 0,onMentionSearch:_=void 0,onMentionInsert:T=void 0,openLinkHandler:b=void 0,onSearch:$=void 0}){const{default:w}=await y(async()=>{const{default:n}=await import("./MarkdownContentEditor-BQQzWfHX.chunk.mjs");return{default:n}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]),import.meta.url),{default:x}=await y(async()=>{const{default:n}=await import("./Editor-HKd8LANp.chunk.mjs").then(u=>u.b);return{default:n}},__vite__mapDeps([26,4,5,8,9,27,12,3,6,7,10,15,2,11,13,14,16,17,18,19,21,22,23,1,20,28,29]),import.meta.url),r=s.observable({showOutlineOutside:!1,readonlyBarProps:o.props,readOnly:p,content:h}),m=t&&e,A=new s({provide(){return{[I]:g,[P]:!!m,[S]:m?!0:_,[E]:m?!0:T,[M]:{openLink:b||j},[B]:{resolve(n,u){return[{type:"image",url:n}]}}}},data(){return r},render:n=>{const u=o?.component?{readonlyBar:()=>n(o.component,{props:r.readonlyBarProps})}:{};return m?n(x,{props:{fileId:t,relativePath:c,shareToken:i,mime:"text/markdown",active:!0,autofocus:a,showOutlineOutside:r.showOutlineOutside},scopedSlots:u}):n(w,{props:{fileId:t,content:r.content,relativePath:c,shareToken:i,readOnly:r.readOnly,showOutlineOutside:r.showOutlineOutside},scopedSlots:u})},store:k});return new f(A,r).onCreate(O).onLoaded(d).onUpdate(v).onOutlineToggle(C).onSearch($).render(l)},window.OCA.Text.createTable=async function({el:l,content:t="",readOnly:e=!1,autofocus:c=!0,onCreate:i=({markdown:a})=>{},onLoaded:h=()=>{},onUpdate:p=({markdown:a})=>{}}){const{default:a}=await y(async()=>{const{default:d}=await import("./PlainTableContentEditor-cCp0wD6m.chunk.mjs");return{default:d}},__vite__mapDeps([30,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,24,1,20,31]),import.meta.url),o=s.observable({readOnly:e,content:t}),O=new s({data(){return o},render:d=>d(a,{props:{content:o.content,readOnly:o.readOnly,showOutlineOutside:!1}})});return new f(O,o).onCreate(i).onLoaded(h).onUpdate(p).render(l)};
//# sourceMappingURL=text-editors.mjs.map
