const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=[window.OC.filePath('text', '', 'js/MarkdownContentEditor-1GDJCU3N.chunk.mjs'),window.OC.filePath('text', '', 'js/Wrapper-CCVx7x5D.chunk.mjs'),window.OC.filePath('text', '', 'js/vue.runtime.esm-fZsuJKoo.chunk.mjs'),window.OC.filePath('text', '', 'js/RichText-CHgnU_AZ.chunk.mjs'),window.OC.filePath('text', '', 'js/_plugin-vue2_normalizer-DE43HRmV.chunk.mjs'),window.OC.filePath('text', '', 'js/NcNoteCard-CImn6F9p-5Amat3yb.chunk.mjs'),window.OC.filePath('text', '', 'js/emoji-picker-SoWZqoso.chunk.mjs'),window.OC.filePath('text', '', 'css/NcNoteCard-CImn6F9p-BBud9Daj.chunk.css'),window.OC.filePath('text', '', 'js/index-DawwgdjB.chunk.mjs'),window.OC.filePath('text', '', 'js/modulepreload-polyfill-DMTabKmO.chunk.mjs'),window.OC.filePath('text', '', 'js/index-Ubm2itxG.chunk.mjs'),window.OC.filePath('text', '', 'js/index-DkzhscpN.chunk.mjs'),window.OC.filePath('text', '', 'css/_plugin-vue2_normalizer-B3zc_yip.chunk.css'),window.OC.filePath('text', '', 'js/index-DPHjx3Ha.chunk.mjs'),window.OC.filePath('text', '', 'js/MediaHandler.provider-CSBQhvYP.chunk.mjs'),window.OC.filePath('text', '', 'js/logger-B4T8Bva5.chunk.mjs'),window.OC.filePath('text', '', 'js/public-BZ_SeVlU.chunk.mjs'),window.OC.filePath('text', '', 'css/RichText-CZKyOX0v.chunk.css'),window.OC.filePath('text', '', 'js/index-B3zsA-GS.chunk.mjs'),window.OC.filePath('text', '', 'css/Wrapper-Bk4taS3b.chunk.css'),window.OC.filePath('text', '', 'css/MarkdownContentEditor-CP7To_z3.chunk.css'),window.OC.filePath('text', '', 'js/Editor-CtL4IqPl.chunk.mjs'),window.OC.filePath('text', '', 'js/_commonjs-dynamic-modules-CSduYUN4.chunk.mjs'),window.OC.filePath('text', '', 'css/Editor-CoXHNF-D.chunk.css')])))=>i.map(i=>d[i]);
/*! third party licenses: js/vendor.LICENSE.txt */
var C=o=>{throw TypeError(o)};var f=(o,t,e)=>t.has(o)||C("Cannot "+e);var n=(o,t,e)=>(f(o,t,"read from private field"),e?e.call(o):t.get(o)),y=(o,t,e)=>t.has(o)?C("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(o):t.set(o,e),v=(o,t,e,i)=>(f(o,t,"write to private field"),i?i.call(o,e):t.set(o,e),e),d=(o,t,e)=>(f(o,t,"access private method"),e);import{_ as T,s as R}from"./modulepreload-polyfill-DMTabKmO.chunk.mjs";import{V as m}from"./vue.runtime.esm-fZsuJKoo.chunk.mjs";import{s as U}from"./index-DPHjx3Ha.chunk.mjs";import{A as B,E as D,H as N,a as Q,b as F}from"./MediaHandler.provider-CSBQhvYP.chunk.mjs";import"./emoji-picker-SoWZqoso.chunk.mjs";import"./index-DawwgdjB.chunk.mjs";import"./logger-B4T8Bva5.chunk.mjs";import"./index-DkzhscpN.chunk.mjs";const j="1.1";m.prototype.t=window.t,m.prototype.n=window.n,m.prototype.OCA=window.OCA,window.OCA.Text={...window.OCA.Text};var r,h,s,u,_;class q{constructor(t,e){y(this,s);y(this,r);y(this,h);return v(this,r,t),v(this,h,e),d(this,s,_).call(this),this}onCreate(t=()=>{}){return n(this,r).$on("create:content",e=>{t(e)}),this}onLoaded(t=()=>{}){return n(this,r).$on("ready",()=>{t()}),this}onUpdate(t=()=>{}){return n(this,r).$on("update:content",e=>{t(e)}),this}onOutlineToggle(t=()=>{}){return n(this,r).$on("outline-toggled",e=>{t(e)}),this}onSearch(t=()=>{}){return R("text:editor:search-results",t),this}render(t){t.innerHTML="";const e=document.createElement("div");return t.appendChild(e),n(this,r).$mount(e),this}destroy(){n(this,r).$destroy(),n(this,r).$el.innerHTML=""}setContent(t){var e,i;return n(this,r).$set(n(this,h),"content",t),(i=(e=d(this,s,u).call(this))==null?void 0:e.setContent)==null||i.call(e,t),this}setSearchQuery(t,e){var i;((i=d(this,s,u).call(this))==null?void 0:i.$editor).commands.setSearchQuery(t,e)}searchNext(){var t;((t=d(this,s,u).call(this))==null?void 0:t.$editor).commands.nextMatch()}searchPrevious(){var t;((t=d(this,s,u).call(this))==null?void 0:t.$editor).commands.previousMatch()}async save(){var t,e;return(e=(t=d(this,s,u).call(this)).save)==null?void 0:e.call(t)}setShowOutline(t){return n(this,r).$set(n(this,h),"showOutlineOutside",t),this}setReadOnly(t){return n(this,r).$set(n(this,h),"readOnly",t),this}insertAtCursor(t){d(this,s,u).call(this).$editor.chain().insertContent(t).focus().run()}focus(){d(this,s,u).call(this).$editor.commands.focus()}}r=new WeakMap,h=new WeakMap,s=new WeakSet,u=function(){return n(this,r).$children[0]},_=function(){var t;window!=null&&window._oc_debug&&(this.vm=n(this,r),window.OCA.Text._debug=[...(t=window.OCA.Text._debug)!=null?t:[],this])};window.OCA.Text.apiVersion=j,window.OCA.Text.createEditor=async function({el:o,fileId:t=void 0,useSession:e=!0,filePath:i=void 0,shareToken:$=null,content:g="",readOnly:x=!1,autofocus:A=!0,readonlyBar:c={component:null,props:null},onCreate:S=({markdown:w})=>{},onLoaded:b=()=>{},onUpdate:I=({markdown:w})=>{},onOutlineToggle:L=w=>{},onFileInsert:E=void 0,onMentionSearch:M=void 0,onMentionInsert:k=void 0,onSearch:P=void 0}){const{default:w}=await T(async()=>{const{default:a}=await import("./MarkdownContentEditor-1GDJCU3N.chunk.mjs");return{default:a}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]),import.meta.url),{default:V}=await T(async()=>{const{default:a}=await import("./Editor-CtL4IqPl.chunk.mjs").then(p=>p.b);return{default:a}},__vite__mapDeps([21,9,6,2,10,3,4,5,7,8,11,12,13,14,15,16,17,1,18,19,22,23]),import.meta.url),l=m.observable({showOutlineOutside:!1,readOnly:x,content:g}),O=t&&e,H=new m({provide(){return{[B]:E,[D]:!!O,[N]:O?!0:M,[Q]:O?!0:k,[F]:{resolve(a,p){return[{type:"image",url:a}]}}}},data(){return l},render:a=>{const p=c!=null&&c.component?{readonlyBar:()=>a(c.component,{props:c.props})}:{};return O?a(V,{props:{fileId:t,relativePath:i,shareToken:$,mime:"text/markdown",active:!0,autofocus:A,showOutlineOutside:l.showOutlineOutside},scopedSlots:p}):a(w,{props:{fileId:t,content:l.content,relativePath:i,shareToken:$,readOnly:l.readOnly,showOutlineOutside:l.showOutlineOutside},scopedSlots:p})},store:U});return new q(H,l).onCreate(S).onLoaded(b).onUpdate(I).onOutlineToggle(L).onSearch(P).render(o)};
