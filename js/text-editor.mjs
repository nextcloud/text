const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=[window.OC.filePath('text', '', 'js/MarkdownContentEditor-BtTEcQpy.chunk.mjs'),window.OC.filePath('text', '', 'js/EditorOutline-C4Z6-9-r.chunk.mjs'),window.OC.filePath('text', '', 'js/NcLoadingIcon-pzx-bM2e.chunk.mjs'),window.OC.filePath('text', '', 'js/emoji-picker-DQhTjoLy.chunk.mjs'),window.OC.filePath('text', '', 'js/index-gMaV0V1e.chunk.mjs'),window.OC.filePath('text', '', 'js/vue.runtime.esm-UAI8SE-v.chunk.mjs'),window.OC.filePath('text', '', 'js/index-DUrHmx5a.chunk.mjs'),window.OC.filePath('text', '', 'css/NcLoadingIcon-CAC0K4sG.chunk.css'),window.OC.filePath('text', '', 'js/logger-DH1Ckv9w.chunk.mjs'),window.OC.filePath('text', '', 'js/index-B64e8dYD.chunk.mjs'),window.OC.filePath('text', '', 'js/NcNoteCard-Dz5-u2BY-DlVQ92TX.chunk.mjs'),window.OC.filePath('text', '', 'css/NcNoteCard-Dz5-u2BY-WJ_dH_TX.chunk.css'),window.OC.filePath('text', '', 'js/NcCheckboxRadioSwitch-CLnWsBwK-De_MbaV5.chunk.mjs'),window.OC.filePath('text', '', 'css/NcCheckboxRadioSwitch-CLnWsBwK-35V8jJy1.chunk.css'),window.OC.filePath('text', '', 'js/_plugin-vue2_normalizer-XSZyZ-Zg.chunk.mjs'),window.OC.filePath('text', '', 'js/MediaHandler.provider-B-6EH1Bu.chunk.mjs'),window.OC.filePath('text', '', 'css/EditorOutline-SPSLoLQ_.chunk.css'),window.OC.filePath('text', '', 'js/MenuBar-D9PZRYXo.chunk.mjs'),window.OC.filePath('text', '', 'css/MenuBar-tbtN4znO.chunk.css'),window.OC.filePath('text', '', 'css/MarkdownContentEditor-BXAvrv-W.chunk.css'),window.OC.filePath('text', '', 'js/Editor-DpAsvIX_.chunk.mjs'),window.OC.filePath('text', '', 'js/index-D0ZnU7fN.chunk.mjs'),window.OC.filePath('text', '', 'js/dav-CQDyL7M_-zte0U9Np.chunk.mjs'),window.OC.filePath('text', '', 'css/Editor-1H_np_9z.chunk.css')])))=>i.map(i=>d[i]);
var N=Object.defineProperty;var T=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var b=o=>{throw TypeError(o)};var _=(o,t,e)=>t in o?N(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,x=(o,t)=>{for(var e in t||(t={}))U.call(t,e)&&_(o,e,t[e]);if(T)for(var e of T(t))Y.call(t,e)&&_(o,e,t[e]);return o};var f=(o,t,e)=>t.has(o)||b("Cannot "+e);var n=(o,t,e)=>(f(o,t,"read from private field"),e?e.call(o):t.get(o)),y=(o,t,e)=>t.has(o)?b("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(o):t.set(o,e),v=(o,t,e,i)=>(f(o,t,"write to private field"),i?i.call(o,e):t.set(o,e),e),a=(o,t,e)=>(f(o,t,"access private method"),e);import{_ as $,s as F}from"./index-gMaV0V1e.chunk.mjs";import{V as S}from"./vue.runtime.esm-UAI8SE-v.chunk.mjs";import{o as Q,A as J,O as q,H as z,a as G,E as K,b as W}from"./MediaHandler.provider-B-6EH1Bu.chunk.mjs";import"./emoji-picker-DQhTjoLy.chunk.mjs";import"./index-B64e8dYD.chunk.mjs";import"./index-DUrHmx5a.chunk.mjs";import"./logger-DH1Ckv9w.chunk.mjs";const X="1.2";window.OCA.Text=x({},window.OCA.Text);var r,l,s,u,A;class Z{constructor(t,e){y(this,s);y(this,r);y(this,l);return v(this,r,t),v(this,l,e),a(this,s,A).call(this),this}onCreate(t=()=>{}){return n(this,r).$on("create:content",e=>{t(e)}),this}onLoaded(t=()=>{}){return n(this,r).$on("ready",()=>{t()}),this}onUpdate(t=()=>{}){return n(this,r).$on("update:content",e=>{t(e)}),this}onOutlineToggle(t=()=>{}){return n(this,r).$on("outline-toggled",e=>{t(e)}),this}onSearch(t=()=>{}){return F("text:editor:search-results",t),this}render(t){t.innerHTML="";const e=document.createElement("div");return t.appendChild(e),n(this,r).$mount(e),this}destroy(){n(this,r).$destroy(),n(this,r).$el.innerHTML=""}setContent(t){var e,i;return n(this,r).$set(n(this,l),"content",t),(i=(e=a(this,s,u).call(this))==null?void 0:e.setContent)==null||i.call(e,t),this}setSearchQuery(t,e){var i,c;(c=(i=a(this,s,u).call(this))==null?void 0:i.editor)==null||c.commands.setSearchQuery(t,e)}searchNext(){var t,e;(e=(t=a(this,s,u).call(this))==null?void 0:t.editor)==null||e.commands.nextMatch()}searchPrevious(){var t,e;(e=(t=a(this,s,u).call(this))==null?void 0:t.editor)==null||e.commands.previousMatch()}async save(){var t,e;return(e=(t=a(this,s,u).call(this)).save)==null?void 0:e.call(t)}setShowOutline(t){return n(this,r).$set(n(this,l),"showOutlineOutside",t),this}setReadOnly(t){return n(this,r).$set(n(this,l),"readOnly",t),this}updateReadonlyBarProps(t){return n(this,r).$set(n(this,l),"readonlyBarProps",t),this}insertAtCursor(t){var e;(e=a(this,s,u).call(this).editor)==null||e.chain().insertContent(t).focus().run()}focus(){var t;(t=a(this,s,u).call(this).editor)==null||t.commands.focus()}debugYjs(){const t=a(this,s,u).call(this).debugYjsData();console.warn(JSON.stringify(t,null," ")),console.warn("%c%s\n%c%s\n%s","font-weight: bold;",'Editor Yjs debug data. Copy the object below that starts with "clientId".',"font-weight: normal; font-style: italic;",'- In Chrome, select "Copy" at the end of the line.','- In Firefox, right-click on the object and select "Copy object".')}}r=new WeakMap,l=new WeakMap,s=new WeakSet,u=function(){return n(this,r).$children[0]},A=function(){var t;window!=null&&window._oc_debug&&(this.vm=n(this,r),window.OCA.Text._debug=[...(t=window.OCA.Text._debug)!=null?t:[],this])};window.OCA.Text.apiVersion=X,window.OCA.Text.createEditor=async function({el:o,fileId:t=void 0,useSession:e=!0,filePath:i=void 0,shareToken:c=null,content:g="",readOnly:C=!1,autofocus:I=!0,readonlyBar:p={component:null,props:null},onCreate:P=({markdown:w})=>{},onLoaded:L=()=>{},onUpdate:k=({markdown:w})=>{},onOutlineToggle:E=w=>{},onFileInsert:M=void 0,onMentionSearch:j=void 0,onMentionInsert:B=void 0,openLinkHandler:H=void 0,onSearch:R=void 0}){const{default:w}=await $(async()=>{const{default:d}=await import("./MarkdownContentEditor-BtTEcQpy.chunk.mjs");return{default:d}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]),import.meta.url),{default:V}=await $(async()=>{const{default:d}=await import("./Editor-DpAsvIX_.chunk.mjs").then(m=>m.a);return{default:d}},__vite__mapDeps([20,4,3,21,2,5,6,7,22,10,9,11,17,1,8,12,13,14,15,16,18,23]),import.meta.url),h=S.observable({showOutlineOutside:!1,readonlyBarProps:p.props,readOnly:C,content:g}),O=t&&e,D=new S({provide(){return{[W]:M,[K]:!!O,[G]:O?!0:j,[z]:O?!0:B,[q]:{openLink:H||Q},[J]:{resolve(d,m){return[{type:"image",url:d}]}}}},data(){return h},render:d=>{const m=p!=null&&p.component?{readonlyBar:()=>d(p.component,{props:h.readonlyBarProps})}:{};return O?d(V,{props:{fileId:t,relativePath:i,shareToken:c,mime:"text/markdown",active:!0,autofocus:I,showOutlineOutside:h.showOutlineOutside},scopedSlots:m}):d(w,{props:{fileId:t,content:h.content,relativePath:i,shareToken:c,readOnly:h.readOnly,showOutlineOutside:h.showOutlineOutside},scopedSlots:m})}});return new Z(D,h).onCreate(P).onLoaded(L).onUpdate(k).onOutlineToggle(E).onSearch(R).render(o)};
//# sourceMappingURL=text-editor.mjs.map
