const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=[window.OC.filePath('text', '', 'js/MarkdownContentEditor-DKJH2ZsH.chunk.mjs'),window.OC.filePath('text', '', 'js/EditorOutline-Nx6MhnrE.chunk.mjs'),window.OC.filePath('text', '', 'js/NcLoadingIcon-DAvEVuxu.chunk.mjs'),window.OC.filePath('text', '', 'js/emoji-picker-hi3Hwbeu.chunk.mjs'),window.OC.filePath('text', '', 'js/index-CdM8BgQf.chunk.mjs'),window.OC.filePath('text', '', 'js/vue.runtime.esm-CmyF5LTP.chunk.mjs'),window.OC.filePath('text', '', 'js/index-DCzdQJ7L.chunk.mjs'),window.OC.filePath('text', '', 'css/NcLoadingIcon-CAC0K4sG.chunk.css'),window.OC.filePath('text', '', 'js/logger-DS8A9d_w.chunk.mjs'),window.OC.filePath('text', '', 'js/index-Bnw2WuIx.chunk.mjs'),window.OC.filePath('text', '', 'js/index-D3wiQe9-.chunk.mjs'),window.OC.filePath('text', '', 'js/NcNoteCard-CwNXZ4vV-wGY_yume.chunk.mjs'),window.OC.filePath('text', '', 'css/NcNoteCard-CwNXZ4vV-GaPUWc2b.chunk.css'),window.OC.filePath('text', '', 'js/preload-helper-BorfeO-5.chunk.mjs'),window.OC.filePath('text', '', 'js/NcCheckboxRadioSwitch-CX3HXCEk-qnG5ZcLO.chunk.mjs'),window.OC.filePath('text', '', 'css/NcCheckboxRadioSwitch-CX3HXCEk-35V8jJy1.chunk.css'),window.OC.filePath('text', '', 'js/MediaHandler.provider-bE4nrOxZ.chunk.mjs'),window.OC.filePath('text', '', 'css/EditorOutline-wFchWuaf.chunk.css'),window.OC.filePath('text', '', 'js/MenuBar-BJi0mizY.chunk.mjs'),window.OC.filePath('text', '', 'js/Wrapper-tvOPcU_n.chunk.mjs'),window.OC.filePath('text', '', 'css/Wrapper-C7MTiFzQ.chunk.css'),window.OC.filePath('text', '', 'css/MenuBar-BUf2-Lfp.chunk.css'),window.OC.filePath('text', '', 'css/MarkdownContentEditor-eQN8dqo8.chunk.css'),window.OC.filePath('text', '', 'js/Editor-CxXtk-Z1.chunk.mjs'),window.OC.filePath('text', '', 'js/index-4Tap3y-Q.chunk.mjs'),window.OC.filePath('text', '', 'js/dav-CQDyL7M_-B46GNprO.chunk.mjs'),window.OC.filePath('text', '', 'css/Editor-Hy96F42U.chunk.css'),window.OC.filePath('text', '', 'js/PlainTableContentEditor-kPt9S2RD.chunk.mjs')])))=>i.map(i=>d[i]);
import{_ as y}from"./preload-helper-BorfeO-5.chunk.mjs";import{s as $}from"./index-CdM8BgQf.chunk.mjs";import{V as w}from"./vue.runtime.esm-CmyF5LTP.chunk.mjs";import{o as k,A as I,O as P,H as S,a as E,E as M,b as j}from"./MediaHandler.provider-bE4nrOxZ.chunk.mjs";import"./emoji-picker-hi3Hwbeu.chunk.mjs";import"./index-D3wiQe9-.chunk.mjs";import"./index-DCzdQJ7L.chunk.mjs";import"./logger-DS8A9d_w.chunk.mjs";import"./index-Bnw2WuIx.chunk.mjs";const B="1.2";window.OCA.Text={...window.OCA.Text};class f{#e;#n;constructor(e,t){return this.#e=e,this.#n=t,this.#o(),this}#t(){return this.#e.$children[0]}onCreate(e=()=>{}){return this.#e.$on("create:content",t=>{e(t)}),this}onLoaded(e=()=>{}){return this.#e.$on("ready",()=>{e()}),this}onUpdate(e=()=>{}){return this.#e.$on("update:content",t=>{e(t)}),this}onOutlineToggle(e=()=>{}){return this.#e.$on("outline-toggled",t=>{e(t)}),this}onSearch(e=()=>{}){return $("text:editor:search-results",e),this}render(e){e.innerHTML="";const t=document.createElement("div");return e.appendChild(t),this.#e.$mount(t),this}destroy(){this.#e.$destroy(),this.#e.$el.innerHTML=""}setContent(e){return this.#e.$set(this.#n,"content",e),this.#t()?.setContent?.(e),this}setSearchQuery(e,t){this.#t()?.editor?.commands.setSearchQuery(e,t)}searchNext(){this.#t()?.editor?.commands.nextMatch()}searchPrevious(){this.#t()?.editor?.commands.previousMatch()}async save(){return this.#t().save?.()}setShowOutline(e){return this.#e.$set(this.#n,"showOutlineOutside",e),this}setReadOnly(e){return this.#e.$set(this.#n,"readOnly",e),this}updateReadonlyBarProps(e){return this.#e.$set(this.#n,"readonlyBarProps",e),this}insertAtCursor(e){this.#t().editor?.chain().insertContent(e).focus().run()}focus(){this.#t().editor?.commands.focus()}debugYjs(){const e=this.#t().debugYjsData();console.warn(JSON.stringify(e,null," ")),console.warn(`%c%s
%c%s
%s`,"font-weight: bold;",'Editor Yjs debug data. Copy the object below that starts with "clientId".',"font-weight: normal; font-style: italic;",'- In Chrome, select "Copy" at the end of the line.','- In Firefox, right-click on the object and select "Copy object".')}#o(){window?._oc_debug&&(this.vm=this.#e,window.OCA.Text._debug=[...window.OCA.Text._debug??[],this])}}window.OCA.Text.apiVersion=B,window.OCA.Text.createEditor=async function({el:u,fileId:e=void 0,useSession:t=!0,filePath:l=void 0,shareToken:s=null,content:c="",readOnly:h=!1,autofocus:i=!0,readonlyBar:o={component:null,props:null},onCreate:O=({markdown:p})=>{},onLoaded:a=()=>{},onUpdate:v=({markdown:p})=>{},onOutlineToggle:C=p=>{},onFileInsert:_=void 0,onMentionSearch:g=void 0,onMentionInsert:T=void 0,openLinkHandler:b=void 0,onSearch:x=void 0}){const{default:p}=await y(async()=>{const{default:n}=await import("./MarkdownContentEditor-DKJH2ZsH.chunk.mjs");return{default:n}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]),import.meta.url),{default:A}=await y(async()=>{const{default:n}=await import("./Editor-CxXtk-Z1.chunk.mjs").then(d=>d.a);return{default:n}},__vite__mapDeps([23,13,4,3,24,2,5,6,7,25,11,10,9,12,19,1,8,14,15,16,17,20,18,21,26]),import.meta.url),r=w.observable({showOutlineOutside:!1,readonlyBarProps:o.props,readOnly:h,content:c}),m=e&&t,L=new w({provide(){return{[j]:_,[M]:!!m,[E]:m?!0:g,[S]:m?!0:T,[P]:{openLink:b||k},[I]:{resolve(n,d){return[{type:"image",url:n}]}}}},data(){return r},render:n=>{const d=o?.component?{readonlyBar:()=>n(o.component,{props:r.readonlyBarProps})}:{};return m?n(A,{props:{fileId:e,relativePath:l,shareToken:s,mime:"text/markdown",active:!0,autofocus:i,showOutlineOutside:r.showOutlineOutside},scopedSlots:d}):n(p,{props:{fileId:e,content:r.content,relativePath:l,shareToken:s,readOnly:r.readOnly,showOutlineOutside:r.showOutlineOutside},scopedSlots:d})}});return new f(L,r).onCreate(O).onLoaded(a).onUpdate(v).onOutlineToggle(C).onSearch(x).render(u)},window.OCA.Text.createTable=async function({el:u,content:e="",readOnly:t=!1,autofocus:l=!0,onCreate:s=({markdown:i})=>{},onLoaded:c=()=>{},onUpdate:h=({markdown:i})=>{}}){const{default:i}=await y(async()=>{const{default:a}=await import("./PlainTableContentEditor-kPt9S2RD.chunk.mjs");return{default:a}},__vite__mapDeps([27,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,19,20,22]),import.meta.url),o=w.observable({readOnly:t,content:e}),O=new w({data(){return o},render:a=>a(i,{props:{content:o.content,readOnly:o.readOnly,showOutlineOutside:!1}})});return new f(O,o).onCreate(s).onLoaded(c).onUpdate(h).render(u)};
//# sourceMappingURL=text-editor.mjs.map
