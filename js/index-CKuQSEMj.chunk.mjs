import{p as Ct,g as _e,o as ur,a as cr}from"./modulepreload-polyfill-wXdbfrnd.chunk.mjs";import{U as lr,d as hr,B as Jt}from"./index-BjDx1Y0B.chunk.mjs";import{i as Ae,g as pr,p as bt}from"./NcNoteCard-ChweF_5Q-D7Def5Jw.chunk.mjs";import{g as Ft}from"./vue.runtime.esm-C7aVrvtW.chunk.mjs";import{g as fr}from"./index-D29f11qk.chunk.mjs";import{a as dr}from"./emoji-picker-DlAAdvrL.chunk.mjs";import{g as gr,d as Cn}from"./NcLoadingIcon-CHw5fok5.chunk.mjs";function yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ze(e,t,n){mr(e,t),t.set(e,n)}function mr(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Q(e,t){var n=Rn(e,t,"get");return Er(e,n)}function Er(e,t){return t.get?t.get.call(e):t.value}function He(e,t,n){var r=Rn(e,t,"set");return yr(e,r,n),n}function Rn(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function yr(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}var wr=typeof Symbol<"u"?Symbol.toStringTag:"@@toStringTag",tt=new WeakMap,xt=new WeakMap;class Ht{constructor(t){var{executor:n=()=>{},internals:r=Se(),promise:i=new Promise((a,u)=>n(a,u,l=>{r.onCancelList.push(l)}))}=t;ze(this,tt,{writable:!0,value:void 0}),ze(this,xt,{writable:!0,value:void 0}),yt(this,wr,"CancelablePromise"),this.cancel=this.cancel.bind(this),He(this,tt,r),He(this,xt,i||new Promise((a,u)=>n(a,u,l=>{r.onCancelList.push(l)})))}then(t,n){return kt(Q(this,xt).then(jt(t,Q(this,tt)),jt(n,Q(this,tt))),Q(this,tt))}catch(t){return kt(Q(this,xt).catch(jt(t,Q(this,tt))),Q(this,tt))}finally(t,n){return n&&Q(this,tt).onCancelList.push(t),kt(Q(this,xt).finally(jt(()=>{if(t)return n&&(Q(this,tt).onCancelList=Q(this,tt).onCancelList.filter(r=>r!==t)),t()},Q(this,tt))),Q(this,tt))}cancel(){Q(this,tt).isCanceled=!0;var t=Q(this,tt).onCancelList;Q(this,tt).onCancelList=[];for(var n of t)if(typeof n=="function")try{n()}catch(r){console.error(r)}}isCanceled(){return Q(this,tt).isCanceled===!0}}class dt extends Ht{constructor(t){super({executor:t})}}yt(dt,"all",function(e){return Ut(e,Promise.all(e))}),yt(dt,"allSettled",function(e){return Ut(e,Promise.allSettled(e))}),yt(dt,"any",function(e){return Ut(e,Promise.any(e))}),yt(dt,"race",function(e){return Ut(e,Promise.race(e))}),yt(dt,"resolve",function(e){return Ye(Promise.resolve(e))}),yt(dt,"reject",function(e){return Ye(Promise.reject(e))}),yt(dt,"isCancelable",Pe);function Ye(e){return kt(e,Se())}function Pe(e){return e instanceof dt||e instanceof Ht}function jt(e,t){if(e)return n=>{if(!t.isCanceled){var r=e(n);return Pe(r)&&t.onCancelList.push(r.cancel),r}return n}}function kt(e,t){return new Ht({internals:t,promise:e})}function Ut(e,t){var n=Se();return n.onCancelList.push(()=>{for(var r of e)Pe(r)&&r.cancel()}),new Ht({internals:n,promise:t})}function Se(){return{isCanceled:!1,onCancelList:[]}}var te={},br={2:e=>{function t(i,a,u){i instanceof RegExp&&(i=n(i,u)),a instanceof RegExp&&(a=n(a,u));var l=r(i,a,u);return l&&{start:l[0],end:l[1],pre:u.slice(0,l[0]),body:u.slice(l[0]+i.length,l[1]),post:u.slice(l[1]+a.length)}}function n(i,a){var u=a.match(i);return u?u[0]:null}function r(i,a,u){var l,p,o,s,h,c=u.indexOf(i),m=u.indexOf(a,c+1),d=c;if(c>=0&&m>0){for(l=[],o=u.length;d>=0&&!h;)d==c?(l.push(d),c=u.indexOf(i,d+1)):l.length==1?h=[l.pop(),m]:((p=l.pop())<o&&(o=p,s=m),m=u.indexOf(a,d+1)),d=c<m&&c>=0?c:m;l.length&&(h=[o,s])}return h}e.exports=t,t.range=r},101:function(e,t,n){var r;e=n.nmd(e),function(i){var a=(e&&e.exports,typeof Ft=="object"&&Ft);a.global!==a&&a.window;var u=function(h){this.message=h};(u.prototype=new Error).name="InvalidCharacterError";var l=function(h){throw new u(h)},p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=/[\t\n\f\r ]/g,s={encode:function(h){h=String(h),/[^\0-\xFF]/.test(h)&&l("The string to be encoded contains characters outside of the Latin1 range.");for(var c,m,d,E,w=h.length%3,x="",g=-1,T=h.length-w;++g<T;)c=h.charCodeAt(g)<<16,m=h.charCodeAt(++g)<<8,d=h.charCodeAt(++g),x+=p.charAt((E=c+m+d)>>18&63)+p.charAt(E>>12&63)+p.charAt(E>>6&63)+p.charAt(63&E);return w==2?(c=h.charCodeAt(g)<<8,m=h.charCodeAt(++g),x+=p.charAt((E=c+m)>>10)+p.charAt(E>>4&63)+p.charAt(E<<2&63)+"="):w==1&&(E=h.charCodeAt(g),x+=p.charAt(E>>2)+p.charAt(E<<4&63)+"=="),x},decode:function(h){var c=(h=String(h).replace(o,"")).length;c%4==0&&(c=(h=h.replace(/==?$/,"")).length),(c%4==1||/[^+a-zA-Z0-9/]/.test(h))&&l("Invalid character: the string to be decoded is not correctly encoded.");for(var m,d,E=0,w="",x=-1;++x<c;)d=p.indexOf(h.charAt(x)),m=E%4?64*m+d:d,E++%4&&(w+=String.fromCharCode(255&m>>(-2*E&6)));return w},version:"1.0.0"};(r=function(){return s}.call(t,n,t,e))===void 0||(e.exports=r)}()},172:(e,t)=>{t.d=function(n){if(!n)return 0;for(var r=(n=n.toString()).length,i=n.length;i--;){var a=n.charCodeAt(i);56320<=a&&a<=57343&&i--,127<a&&a<=2047?r++:2047<a&&a<=65535&&(r+=2)}return r}},526:e=>{var t={utf8:{stringToBytes:function(n){return t.bin.stringToBytes(unescape(encodeURIComponent(n)))},bytesToString:function(n){return decodeURIComponent(escape(t.bin.bytesToString(n)))}},bin:{stringToBytes:function(n){for(var r=[],i=0;i<n.length;i++)r.push(255&n.charCodeAt(i));return r},bytesToString:function(n){for(var r=[],i=0;i<n.length;i++)r.push(String.fromCharCode(n[i]));return r.join("")}}};e.exports=t},298:e=>{var t,n;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(r,i){return r<<i|r>>>32-i},rotr:function(r,i){return r<<32-i|r>>>i},endian:function(r){if(r.constructor==Number)return 16711935&n.rotl(r,8)|4278255360&n.rotl(r,24);for(var i=0;i<r.length;i++)r[i]=n.endian(r[i]);return r},randomBytes:function(r){for(var i=[];r>0;r--)i.push(Math.floor(256*Math.random()));return i},bytesToWords:function(r){for(var i=[],a=0,u=0;a<r.length;a++,u+=8)i[u>>>5]|=r[a]<<24-u%32;return i},wordsToBytes:function(r){for(var i=[],a=0;a<32*r.length;a+=8)i.push(r[a>>>5]>>>24-a%32&255);return i},bytesToHex:function(r){for(var i=[],a=0;a<r.length;a++)i.push((r[a]>>>4).toString(16)),i.push((15&r[a]).toString(16));return i.join("")},hexToBytes:function(r){for(var i=[],a=0;a<r.length;a+=2)i.push(parseInt(r.substr(a,2),16));return i},bytesToBase64:function(r){for(var i=[],a=0;a<r.length;a+=3)for(var u=r[a]<<16|r[a+1]<<8|r[a+2],l=0;l<4;l++)8*a+6*l<=8*r.length?i.push(t.charAt(u>>>6*(3-l)&63)):i.push("=");return i.join("")},base64ToBytes:function(r){r=r.replace(/[^A-Z0-9+\/]/gi,"");for(var i=[],a=0,u=0;a<r.length;u=++a%4)u!=0&&i.push((t.indexOf(r.charAt(a-1))&Math.pow(2,-2*u+8)-1)<<2*u|t.indexOf(r.charAt(a))>>>6-2*u);return i}},e.exports=n},635:(e,t,n)=>{const r=n(31),i=n(338),a=n(221);e.exports={XMLParser:i,XMLValidator:r,XMLBuilder:a}},118:e=>{e.exports=function(t){return typeof t=="function"?t:Array.isArray(t)?n=>{for(const r of t)if(typeof r=="string"&&n===r||r instanceof RegExp&&r.test(n))return!0}:()=>!1}},705:(e,t)=>{const n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r="["+n+"]["+n+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",i=new RegExp("^"+r+"$");t.isExist=function(a){return a!==void 0},t.isEmptyObject=function(a){return Object.keys(a).length===0},t.merge=function(a,u,l){if(u){const p=Object.keys(u),o=p.length;for(let s=0;s<o;s++)a[p[s]]=l==="strict"?[u[p[s]]]:u[p[s]]}},t.getValue=function(a){return t.isExist(a)?a:""},t.isName=function(a){return i.exec(a)!=null},t.getAllMatches=function(a,u){const l=[];let p=u.exec(a);for(;p;){const o=[];o.startIndex=u.lastIndex-p[0].length;const s=p.length;for(let h=0;h<s;h++)o.push(p[h]);l.push(o),p=u.exec(a)}return l},t.nameRegexp=r},31:(e,t,n)=>{const r=n(705),i={allowBooleanAttributes:!1,unpairedTags:[]};function a(g){return g===" "||g==="	"||g===`
`||g==="\r"}function u(g,T){const N=T;for(;T<g.length;T++)if(!(g[T]!="?"&&g[T]!=" ")){const _=g.substr(N,T-N);if(T>5&&_==="xml")return d("InvalidXml","XML declaration allowed only at the start of the document.",w(g,T));if(g[T]=="?"&&g[T+1]==">"){T++;break}}return T}function l(g,T){if(g.length>T+5&&g[T+1]==="-"&&g[T+2]==="-"){for(T+=3;T<g.length;T++)if(g[T]==="-"&&g[T+1]==="-"&&g[T+2]===">"){T+=2;break}}else if(g.length>T+8&&g[T+1]==="D"&&g[T+2]==="O"&&g[T+3]==="C"&&g[T+4]==="T"&&g[T+5]==="Y"&&g[T+6]==="P"&&g[T+7]==="E"){let N=1;for(T+=8;T<g.length;T++)if(g[T]==="<")N++;else if(g[T]===">"&&(N--,N===0))break}else if(g.length>T+9&&g[T+1]==="["&&g[T+2]==="C"&&g[T+3]==="D"&&g[T+4]==="A"&&g[T+5]==="T"&&g[T+6]==="A"&&g[T+7]==="["){for(T+=8;T<g.length;T++)if(g[T]==="]"&&g[T+1]==="]"&&g[T+2]===">"){T+=2;break}}return T}t.validate=function(g,T){T=Object.assign({},i,T);const N=[];let _=!1,v=!1;g[0]==="\uFEFF"&&(g=g.substr(1));for(let I=0;I<g.length;I++)if(g[I]==="<"&&g[I+1]==="?"){if(I+=2,I=u(g,I),I.err)return I}else{if(g[I]!=="<"){if(a(g[I]))continue;return d("InvalidChar","char '"+g[I]+"' is not expected.",w(g,I))}{let b=I;if(I++,g[I]==="!"){I=l(g,I);continue}{let C=!1;g[I]==="/"&&(C=!0,I++);let R="";for(;I<g.length&&g[I]!==">"&&g[I]!==" "&&g[I]!=="	"&&g[I]!==`
`&&g[I]!=="\r";I++)R+=g[I];if(R=R.trim(),R[R.length-1]==="/"&&(R=R.substring(0,R.length-1),I--),P=R,!r.isName(P)){let $;return $=R.trim().length===0?"Invalid space after '<'.":"Tag '"+R+"' is an invalid name.",d("InvalidTag",$,w(g,I))}const L=s(g,I);if(L===!1)return d("InvalidAttr","Attributes for '"+R+"' have open quote.",w(g,I));let A=L.value;if(I=L.index,A[A.length-1]==="/"){const $=I-A.length;A=A.substring(0,A.length-1);const D=c(A,T);if(D!==!0)return d(D.err.code,D.err.msg,w(g,$+D.err.line));_=!0}else if(C){if(!L.tagClosed)return d("InvalidTag","Closing tag '"+R+"' doesn't have proper closing.",w(g,I));if(A.trim().length>0)return d("InvalidTag","Closing tag '"+R+"' can't have attributes or invalid starting.",w(g,b));if(N.length===0)return d("InvalidTag","Closing tag '"+R+"' has not been opened.",w(g,b));{const $=N.pop();if(R!==$.tagName){let D=w(g,$.tagStartPos);return d("InvalidTag","Expected closing tag '"+$.tagName+"' (opened in line "+D.line+", col "+D.col+") instead of closing tag '"+R+"'.",w(g,b))}N.length==0&&(v=!0)}}else{const $=c(A,T);if($!==!0)return d($.err.code,$.err.msg,w(g,I-A.length+$.err.line));if(v===!0)return d("InvalidXml","Multiple possible root nodes found.",w(g,I));T.unpairedTags.indexOf(R)!==-1||N.push({tagName:R,tagStartPos:b}),_=!0}for(I++;I<g.length;I++)if(g[I]==="<"){if(g[I+1]==="!"){I++,I=l(g,I);continue}if(g[I+1]!=="?")break;if(I=u(g,++I),I.err)return I}else if(g[I]==="&"){const $=m(g,I);if($==-1)return d("InvalidChar","char '&' is not expected.",w(g,I));I=$}else if(v===!0&&!a(g[I]))return d("InvalidXml","Extra text at the end",w(g,I));g[I]==="<"&&I--}}}var P;return _?N.length==1?d("InvalidTag","Unclosed tag '"+N[0].tagName+"'.",w(g,N[0].tagStartPos)):!(N.length>0)||d("InvalidXml","Invalid '"+JSON.stringify(N.map(I=>I.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):d("InvalidXml","Start tag expected.",1)};const p='"',o="'";function s(g,T){let N="",_="",v=!1;for(;T<g.length;T++){if(g[T]===p||g[T]===o)_===""?_=g[T]:_!==g[T]||(_="");else if(g[T]===">"&&_===""){v=!0;break}N+=g[T]}return _===""&&{value:N,index:T,tagClosed:v}}const h=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function c(g,T){const N=r.getAllMatches(g,h),_={};for(let v=0;v<N.length;v++){if(N[v][1].length===0)return d("InvalidAttr","Attribute '"+N[v][2]+"' has no space in starting.",x(N[v]));if(N[v][3]!==void 0&&N[v][4]===void 0)return d("InvalidAttr","Attribute '"+N[v][2]+"' is without value.",x(N[v]));if(N[v][3]===void 0&&!T.allowBooleanAttributes)return d("InvalidAttr","boolean attribute '"+N[v][2]+"' is not allowed.",x(N[v]));const P=N[v][2];if(!E(P))return d("InvalidAttr","Attribute '"+P+"' is an invalid name.",x(N[v]));if(_.hasOwnProperty(P))return d("InvalidAttr","Attribute '"+P+"' is repeated.",x(N[v]));_[P]=1}return!0}function m(g,T){if(g[++T]===";")return-1;if(g[T]==="#")return function(_,v){let P=/\d/;for(_[v]==="x"&&(v++,P=/[\da-fA-F]/);v<_.length;v++){if(_[v]===";")return v;if(!_[v].match(P))break}return-1}(g,++T);let N=0;for(;T<g.length;T++,N++)if(!(g[T].match(/\w/)&&N<20)){if(g[T]===";")break;return-1}return T}function d(g,T,N){return{err:{code:g,msg:T,line:N.line||N,col:N.col}}}function E(g){return r.isName(g)}function w(g,T){const N=g.substring(0,T).split(/\r?\n/);return{line:N.length,col:N[N.length-1].length+1}}function x(g){return g.startIndex+g[1].length}},221:(e,t,n)=>{const r=n(87),i=n(118),a={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(s,h){return h},attributeValueProcessor:function(s,h){return h},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function u(s){this.options=Object.assign({},a,s),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=i(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=o),this.processTextOrObjNode=l,this.options.format?(this.indentate=p,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function l(s,h,c,m){const d=this.j2x(s,c+1,m.concat(h));return s[this.options.textNodeName]!==void 0&&Object.keys(s).length===1?this.buildTextValNode(s[this.options.textNodeName],h,d.attrStr,c):this.buildObjectNode(d.val,h,d.attrStr,c)}function p(s){return this.options.indentBy.repeat(s)}function o(s){return!(!s.startsWith(this.options.attributeNamePrefix)||s===this.options.textNodeName)&&s.substr(this.attrPrefixLen)}u.prototype.build=function(s){return this.options.preserveOrder?r(s,this.options):(Array.isArray(s)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(s={[this.options.arrayNodeName]:s}),this.j2x(s,0,[]).val)},u.prototype.j2x=function(s,h,c){let m="",d="";const E=c.join(".");for(let w in s)if(Object.prototype.hasOwnProperty.call(s,w))if(s[w]===void 0)this.isAttribute(w)&&(d+="");else if(s[w]===null)this.isAttribute(w)?d+="":w[0]==="?"?d+=this.indentate(h)+"<"+w+"?"+this.tagEndChar:d+=this.indentate(h)+"<"+w+"/"+this.tagEndChar;else if(s[w]instanceof Date)d+=this.buildTextValNode(s[w],w,"",h);else if(typeof s[w]!="object"){const x=this.isAttribute(w);if(x&&!this.ignoreAttributesFn(x,E))m+=this.buildAttrPairStr(x,""+s[w]);else if(!x)if(w===this.options.textNodeName){let g=this.options.tagValueProcessor(w,""+s[w]);d+=this.replaceEntitiesValue(g)}else d+=this.buildTextValNode(s[w],w,"",h)}else if(Array.isArray(s[w])){const x=s[w].length;let g="",T="";for(let N=0;N<x;N++){const _=s[w][N];if(_!==void 0)if(_===null)w[0]==="?"?d+=this.indentate(h)+"<"+w+"?"+this.tagEndChar:d+=this.indentate(h)+"<"+w+"/"+this.tagEndChar;else if(typeof _=="object")if(this.options.oneListGroup){const v=this.j2x(_,h+1,c.concat(w));g+=v.val,this.options.attributesGroupName&&_.hasOwnProperty(this.options.attributesGroupName)&&(T+=v.attrStr)}else g+=this.processTextOrObjNode(_,w,h,c);else if(this.options.oneListGroup){let v=this.options.tagValueProcessor(w,_);v=this.replaceEntitiesValue(v),g+=v}else g+=this.buildTextValNode(_,w,"",h)}this.options.oneListGroup&&(g=this.buildObjectNode(g,w,T,h)),d+=g}else if(this.options.attributesGroupName&&w===this.options.attributesGroupName){const x=Object.keys(s[w]),g=x.length;for(let T=0;T<g;T++)m+=this.buildAttrPairStr(x[T],""+s[w][x[T]])}else d+=this.processTextOrObjNode(s[w],w,h,c);return{attrStr:m,val:d}},u.prototype.buildAttrPairStr=function(s,h){return h=this.options.attributeValueProcessor(s,""+h),h=this.replaceEntitiesValue(h),this.options.suppressBooleanAttributes&&h==="true"?" "+s:" "+s+'="'+h+'"'},u.prototype.buildObjectNode=function(s,h,c,m){if(s==="")return h[0]==="?"?this.indentate(m)+"<"+h+c+"?"+this.tagEndChar:this.indentate(m)+"<"+h+c+this.closeTag(h)+this.tagEndChar;{let d="</"+h+this.tagEndChar,E="";return h[0]==="?"&&(E="?",d=""),!c&&c!==""||s.indexOf("<")!==-1?this.options.commentPropName!==!1&&h===this.options.commentPropName&&E.length===0?this.indentate(m)+`<!--${s}-->`+this.newLine:this.indentate(m)+"<"+h+c+E+this.tagEndChar+s+this.indentate(m)+d:this.indentate(m)+"<"+h+c+E+">"+s+d}},u.prototype.closeTag=function(s){let h="";return this.options.unpairedTags.indexOf(s)!==-1?this.options.suppressUnpairedNode||(h="/"):h=this.options.suppressEmptyNode?"/":`></${s}`,h},u.prototype.buildTextValNode=function(s,h,c,m){if(this.options.cdataPropName!==!1&&h===this.options.cdataPropName)return this.indentate(m)+`<![CDATA[${s}]]>`+this.newLine;if(this.options.commentPropName!==!1&&h===this.options.commentPropName)return this.indentate(m)+`<!--${s}-->`+this.newLine;if(h[0]==="?")return this.indentate(m)+"<"+h+c+"?"+this.tagEndChar;{let d=this.options.tagValueProcessor(h,s);return d=this.replaceEntitiesValue(d),d===""?this.indentate(m)+"<"+h+c+this.closeTag(h)+this.tagEndChar:this.indentate(m)+"<"+h+c+">"+d+"</"+h+this.tagEndChar}},u.prototype.replaceEntitiesValue=function(s){if(s&&s.length>0&&this.options.processEntities)for(let h=0;h<this.options.entities.length;h++){const c=this.options.entities[h];s=s.replace(c.regex,c.val)}return s},e.exports=u},87:e=>{function t(u,l,p,o){let s="",h=!1;for(let c=0;c<u.length;c++){const m=u[c],d=n(m);if(d===void 0)continue;let E="";if(E=p.length===0?d:`${p}.${d}`,d===l.textNodeName){let T=m[d];i(E,l)||(T=l.tagValueProcessor(d,T),T=a(T,l)),h&&(s+=o),s+=T,h=!1;continue}if(d===l.cdataPropName){h&&(s+=o),s+=`<![CDATA[${m[d][0][l.textNodeName]}]]>`,h=!1;continue}if(d===l.commentPropName){s+=o+`<!--${m[d][0][l.textNodeName]}-->`,h=!0;continue}if(d[0]==="?"){const T=r(m[":@"],l),N=d==="?xml"?"":o;let _=m[d][0][l.textNodeName];_=_.length!==0?" "+_:"",s+=N+`<${d}${_}${T}?>`,h=!0;continue}let w=o;w!==""&&(w+=l.indentBy);const x=o+`<${d}${r(m[":@"],l)}`,g=t(m[d],l,E,w);l.unpairedTags.indexOf(d)!==-1?l.suppressUnpairedNode?s+=x+">":s+=x+"/>":g&&g.length!==0||!l.suppressEmptyNode?g&&g.endsWith(">")?s+=x+`>${g}${o}</${d}>`:(s+=x+">",g&&o!==""&&(g.includes("/>")||g.includes("</"))?s+=o+l.indentBy+g+o:s+=g,s+=`</${d}>`):s+=x+"/>",h=!0}return s}function n(u){const l=Object.keys(u);for(let p=0;p<l.length;p++){const o=l[p];if(u.hasOwnProperty(o)&&o!==":@")return o}}function r(u,l){let p="";if(u&&!l.ignoreAttributes)for(let o in u){if(!u.hasOwnProperty(o))continue;let s=l.attributeValueProcessor(o,u[o]);s=a(s,l),s===!0&&l.suppressBooleanAttributes?p+=` ${o.substr(l.attributeNamePrefix.length)}`:p+=` ${o.substr(l.attributeNamePrefix.length)}="${s}"`}return p}function i(u,l){let p=(u=u.substr(0,u.length-l.textNodeName.length-1)).substr(u.lastIndexOf(".")+1);for(let o in l.stopNodes)if(l.stopNodes[o]===u||l.stopNodes[o]==="*."+p)return!0;return!1}function a(u,l){if(u&&u.length>0&&l.processEntities)for(let p=0;p<l.entities.length;p++){const o=l.entities[p];u=u.replace(o.regex,o.val)}return u}e.exports=function(u,l){let p="";return l.format&&l.indentBy.length>0&&(p=`
`),t(u,l,"",p)}},193:(e,t,n)=>{const r=n(705);function i(h,c){let m="";for(;c<h.length&&h[c]!=="'"&&h[c]!=='"';c++)m+=h[c];if(m=m.trim(),m.indexOf(" ")!==-1)throw new Error("External entites are not supported");const d=h[c++];let E="";for(;c<h.length&&h[c]!==d;c++)E+=h[c];return[m,E,c]}function a(h,c){return h[c+1]==="!"&&h[c+2]==="-"&&h[c+3]==="-"}function u(h,c){return h[c+1]==="!"&&h[c+2]==="E"&&h[c+3]==="N"&&h[c+4]==="T"&&h[c+5]==="I"&&h[c+6]==="T"&&h[c+7]==="Y"}function l(h,c){return h[c+1]==="!"&&h[c+2]==="E"&&h[c+3]==="L"&&h[c+4]==="E"&&h[c+5]==="M"&&h[c+6]==="E"&&h[c+7]==="N"&&h[c+8]==="T"}function p(h,c){return h[c+1]==="!"&&h[c+2]==="A"&&h[c+3]==="T"&&h[c+4]==="T"&&h[c+5]==="L"&&h[c+6]==="I"&&h[c+7]==="S"&&h[c+8]==="T"}function o(h,c){return h[c+1]==="!"&&h[c+2]==="N"&&h[c+3]==="O"&&h[c+4]==="T"&&h[c+5]==="A"&&h[c+6]==="T"&&h[c+7]==="I"&&h[c+8]==="O"&&h[c+9]==="N"}function s(h){if(r.isName(h))return h;throw new Error(`Invalid entity name ${h}`)}e.exports=function(h,c){const m={};if(h[c+3]!=="O"||h[c+4]!=="C"||h[c+5]!=="T"||h[c+6]!=="Y"||h[c+7]!=="P"||h[c+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{c+=9;let d=1,E=!1,w=!1,x="";for(;c<h.length;c++)if(h[c]!=="<"||w)if(h[c]===">"){if(w?h[c-1]==="-"&&h[c-2]==="-"&&(w=!1,d--):d--,d===0)break}else h[c]==="["?E=!0:x+=h[c];else{if(E&&u(h,c)){let g,T;c+=7,[g,T,c]=i(h,c+1),T.indexOf("&")===-1&&(m[s(g)]={regx:RegExp(`&${g};`,"g"),val:T})}else if(E&&l(h,c))c+=8;else if(E&&p(h,c))c+=8;else if(E&&o(h,c))c+=9;else{if(!a)throw new Error("Invalid DOCTYPE");w=!0}d++,x=""}if(d!==0)throw new Error("Unclosed DOCTYPE")}return{entities:m,i:c}}},63:(e,t)=>{const n={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(r,i){return i},attributeValueProcessor:function(r,i){return i},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(r,i,a){return r}};t.buildOptions=function(r){return Object.assign({},n,r)},t.defaultOptions=n},299:(e,t,n)=>{const r=n(705),i=n(365),a=n(193),u=n(494),l=n(118);function p(v){const P=Object.keys(v);for(let I=0;I<P.length;I++){const b=P[I];this.lastEntities[b]={regex:new RegExp("&"+b+";","g"),val:v[b]}}}function o(v,P,I,b,C,R,L){if(v!==void 0&&(this.options.trimValues&&!b&&(v=v.trim()),v.length>0)){L||(v=this.replaceEntitiesValue(v));const A=this.options.tagValueProcessor(P,v,I,C,R);return A==null?v:typeof A!=typeof v||A!==v?A:this.options.trimValues||v.trim()===v?_(v,this.options.parseTagValue,this.options.numberParseOptions):v}}function s(v){if(this.options.removeNSPrefix){const P=v.split(":"),I=v.charAt(0)==="/"?"/":"";if(P[0]==="xmlns")return"";P.length===2&&(v=I+P[1])}return v}const h=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function c(v,P,I){if(this.options.ignoreAttributes!==!0&&typeof v=="string"){const b=r.getAllMatches(v,h),C=b.length,R={};for(let L=0;L<C;L++){const A=this.resolveNameSpace(b[L][1]);if(this.ignoreAttributesFn(A,P))continue;let $=b[L][4],D=this.options.attributeNamePrefix+A;if(A.length)if(this.options.transformAttributeName&&(D=this.options.transformAttributeName(D)),D==="__proto__"&&(D="#__proto__"),$!==void 0){this.options.trimValues&&($=$.trim()),$=this.replaceEntitiesValue($);const j=this.options.attributeValueProcessor(A,$,P);R[D]=j==null?$:typeof j!=typeof $||j!==$?j:_($,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(R[D]=!0)}if(!Object.keys(R).length)return;if(this.options.attributesGroupName){const L={};return L[this.options.attributesGroupName]=R,L}return R}}const m=function(v){v=v.replace(/\r\n?/g,`
`);const P=new i("!xml");let I=P,b="",C="";for(let R=0;R<v.length;R++)if(v[R]==="<")if(v[R+1]==="/"){const L=g(v,">",R,"Closing Tag is not closed.");let A=v.substring(R+2,L).trim();if(this.options.removeNSPrefix){const j=A.indexOf(":");j!==-1&&(A=A.substr(j+1))}this.options.transformTagName&&(A=this.options.transformTagName(A)),I&&(b=this.saveTextToParentTag(b,I,C));const $=C.substring(C.lastIndexOf(".")+1);if(A&&this.options.unpairedTags.indexOf(A)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${A}>`);let D=0;$&&this.options.unpairedTags.indexOf($)!==-1?(D=C.lastIndexOf(".",C.lastIndexOf(".")-1),this.tagsNodeStack.pop()):D=C.lastIndexOf("."),C=C.substring(0,D),I=this.tagsNodeStack.pop(),b="",R=L}else if(v[R+1]==="?"){let L=T(v,R,!1,"?>");if(!L)throw new Error("Pi Tag is not closed.");if(b=this.saveTextToParentTag(b,I,C),!(this.options.ignoreDeclaration&&L.tagName==="?xml"||this.options.ignorePiTags)){const A=new i(L.tagName);A.add(this.options.textNodeName,""),L.tagName!==L.tagExp&&L.attrExpPresent&&(A[":@"]=this.buildAttributesMap(L.tagExp,C,L.tagName)),this.addChild(I,A,C)}R=L.closeIndex+1}else if(v.substr(R+1,3)==="!--"){const L=g(v,"-->",R+4,"Comment is not closed.");if(this.options.commentPropName){const A=v.substring(R+4,L-2);b=this.saveTextToParentTag(b,I,C),I.add(this.options.commentPropName,[{[this.options.textNodeName]:A}])}R=L}else if(v.substr(R+1,2)==="!D"){const L=a(v,R);this.docTypeEntities=L.entities,R=L.i}else if(v.substr(R+1,2)==="!["){const L=g(v,"]]>",R,"CDATA is not closed.")-2,A=v.substring(R+9,L);b=this.saveTextToParentTag(b,I,C);let $=this.parseTextData(A,I.tagname,C,!0,!1,!0,!0);$==null&&($=""),this.options.cdataPropName?I.add(this.options.cdataPropName,[{[this.options.textNodeName]:A}]):I.add(this.options.textNodeName,$),R=L+2}else{let L=T(v,R,this.options.removeNSPrefix),A=L.tagName;const $=L.rawTagName;let D=L.tagExp,j=L.attrExpPresent,F=L.closeIndex;this.options.transformTagName&&(A=this.options.transformTagName(A)),I&&b&&I.tagname!=="!xml"&&(b=this.saveTextToParentTag(b,I,C,!1));const X=I;if(X&&this.options.unpairedTags.indexOf(X.tagname)!==-1&&(I=this.tagsNodeStack.pop(),C=C.substring(0,C.lastIndexOf("."))),A!==P.tagname&&(C+=C?"."+A:A),this.isItStopNode(this.options.stopNodes,C,A)){let B="";if(D.length>0&&D.lastIndexOf("/")===D.length-1)A[A.length-1]==="/"?(A=A.substr(0,A.length-1),C=C.substr(0,C.length-1),D=A):D=D.substr(0,D.length-1),R=L.closeIndex;else if(this.options.unpairedTags.indexOf(A)!==-1)R=L.closeIndex;else{const M=this.readStopNodeData(v,$,F+1);if(!M)throw new Error(`Unexpected end of ${$}`);R=M.i,B=M.tagContent}const J=new i(A);A!==D&&j&&(J[":@"]=this.buildAttributesMap(D,C,A)),B&&(B=this.parseTextData(B,A,C,!0,j,!0,!0)),C=C.substr(0,C.lastIndexOf(".")),J.add(this.options.textNodeName,B),this.addChild(I,J,C)}else{if(D.length>0&&D.lastIndexOf("/")===D.length-1){A[A.length-1]==="/"?(A=A.substr(0,A.length-1),C=C.substr(0,C.length-1),D=A):D=D.substr(0,D.length-1),this.options.transformTagName&&(A=this.options.transformTagName(A));const B=new i(A);A!==D&&j&&(B[":@"]=this.buildAttributesMap(D,C,A)),this.addChild(I,B,C),C=C.substr(0,C.lastIndexOf("."))}else{const B=new i(A);this.tagsNodeStack.push(I),A!==D&&j&&(B[":@"]=this.buildAttributesMap(D,C,A)),this.addChild(I,B,C),I=B}b="",R=F}}else b+=v[R];return P.child};function d(v,P,I){const b=this.options.updateTag(P.tagname,I,P[":@"]);b===!1||(typeof b=="string"&&(P.tagname=b),v.addChild(P))}const E=function(v){if(this.options.processEntities){for(let P in this.docTypeEntities){const I=this.docTypeEntities[P];v=v.replace(I.regx,I.val)}for(let P in this.lastEntities){const I=this.lastEntities[P];v=v.replace(I.regex,I.val)}if(this.options.htmlEntities)for(let P in this.htmlEntities){const I=this.htmlEntities[P];v=v.replace(I.regex,I.val)}v=v.replace(this.ampEntity.regex,this.ampEntity.val)}return v};function w(v,P,I,b){return v&&(b===void 0&&(b=Object.keys(P.child).length===0),(v=this.parseTextData(v,P.tagname,I,!1,!!P[":@"]&&Object.keys(P[":@"]).length!==0,b))!==void 0&&v!==""&&P.add(this.options.textNodeName,v),v=""),v}function x(v,P,I){const b="*."+I;for(const C in v){const R=v[C];if(b===R||P===R)return!0}return!1}function g(v,P,I,b){const C=v.indexOf(P,I);if(C===-1)throw new Error(b);return C+P.length-1}function T(v,P,I){const b=function(j,F){let X,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:">",J="";for(let M=F;M<j.length;M++){let W=j[M];if(X)W===X&&(X="");else if(W==='"'||W==="'")X=W;else if(W===B[0]){if(!B[1])return{data:J,index:M};if(j[M+1]===B[1])return{data:J,index:M}}else W==="	"&&(W=" ");J+=W}}(v,P+1,arguments.length>3&&arguments[3]!==void 0?arguments[3]:">");if(!b)return;let C=b.data;const R=b.index,L=C.search(/\s/);let A=C,$=!0;L!==-1&&(A=C.substring(0,L),C=C.substring(L+1).trimStart());const D=A;if(I){const j=A.indexOf(":");j!==-1&&(A=A.substr(j+1),$=A!==b.data.substr(j+1))}return{tagName:A,tagExp:C,closeIndex:R,attrExpPresent:$,rawTagName:D}}function N(v,P,I){const b=I;let C=1;for(;I<v.length;I++)if(v[I]==="<")if(v[I+1]==="/"){const R=g(v,">",I,`${P} is not closed`);if(v.substring(I+2,R).trim()===P&&(C--,C===0))return{tagContent:v.substring(b,I),i:R};I=R}else if(v[I+1]==="?")I=g(v,"?>",I+1,"StopNode is not closed.");else if(v.substr(I+1,3)==="!--")I=g(v,"-->",I+3,"StopNode is not closed.");else if(v.substr(I+1,2)==="![")I=g(v,"]]>",I,"StopNode is not closed.")-2;else{const R=T(v,I,">");R&&((R&&R.tagName)===P&&R.tagExp[R.tagExp.length-1]!=="/"&&C++,I=R.closeIndex)}}function _(v,P,I){if(P&&typeof v=="string"){const b=v.trim();return b==="true"||b!=="false"&&u(v,I)}return r.isExist(v)?v:""}e.exports=class{constructor(v){this.options=v,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(P,I)=>String.fromCharCode(Number.parseInt(I,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(P,I)=>String.fromCharCode(Number.parseInt(I,16))}},this.addExternalEntities=p,this.parseXml=m,this.parseTextData=o,this.resolveNameSpace=s,this.buildAttributesMap=c,this.isItStopNode=x,this.replaceEntitiesValue=E,this.readStopNodeData=N,this.saveTextToParentTag=w,this.addChild=d,this.ignoreAttributesFn=l(this.options.ignoreAttributes)}}},338:(e,t,n)=>{const{buildOptions:r}=n(63),i=n(299),{prettify:a}=n(728),u=n(31);e.exports=class{constructor(l){this.externalEntities={},this.options=r(l)}parse(l,p){if(typeof l!="string"){if(!l.toString)throw new Error("XML data is accepted in String or Bytes[] form.");l=l.toString()}if(p){p===!0&&(p={});const h=u.validate(l,p);if(h!==!0)throw Error(`${h.err.msg}:${h.err.line}:${h.err.col}`)}const o=new i(this.options);o.addExternalEntities(this.externalEntities);const s=o.parseXml(l);return this.options.preserveOrder||s===void 0?s:a(s,this.options)}addEntity(l,p){if(p.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(l.indexOf("&")!==-1||l.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(p==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[l]=p}}},728:(e,t)=>{function n(u,l,p){let o;const s={};for(let h=0;h<u.length;h++){const c=u[h],m=r(c);let d="";if(d=p===void 0?m:p+"."+m,m===l.textNodeName)o===void 0?o=c[m]:o+=""+c[m];else{if(m===void 0)continue;if(c[m]){let E=n(c[m],l,d);const w=a(E,l);c[":@"]?i(E,c[":@"],d,l):Object.keys(E).length!==1||E[l.textNodeName]===void 0||l.alwaysCreateTextNode?Object.keys(E).length===0&&(l.alwaysCreateTextNode?E[l.textNodeName]="":E=""):E=E[l.textNodeName],s[m]!==void 0&&s.hasOwnProperty(m)?(Array.isArray(s[m])||(s[m]=[s[m]]),s[m].push(E)):l.isArray(m,d,w)?s[m]=[E]:s[m]=E}}}return typeof o=="string"?o.length>0&&(s[l.textNodeName]=o):o!==void 0&&(s[l.textNodeName]=o),s}function r(u){const l=Object.keys(u);for(let p=0;p<l.length;p++){const o=l[p];if(o!==":@")return o}}function i(u,l,p,o){if(l){const s=Object.keys(l),h=s.length;for(let c=0;c<h;c++){const m=s[c];o.isArray(m,p+"."+m,!0,!0)?u[m]=[l[m]]:u[m]=l[m]}}}function a(u,l){const{textNodeName:p}=l,o=Object.keys(u).length;return o===0||!(o!==1||!u[p]&&typeof u[p]!="boolean"&&u[p]!==0)}t.prettify=function(u,l){return n(u,l)}},365:e=>{e.exports=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,n){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:n})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}}},135:e=>{function t(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}e.exports=function(n){return n!=null&&(t(n)||function(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&t(r.slice(0,0))}(n)||!!n._isBuffer)}},542:(e,t,n)=>{(function(){var r=n(298),i=n(526).utf8,a=n(135),u=n(526).bin,l=function(p,o){p.constructor==String?p=o&&o.encoding==="binary"?u.stringToBytes(p):i.stringToBytes(p):a(p)?p=Array.prototype.slice.call(p,0):Array.isArray(p)||p.constructor===Uint8Array||(p=p.toString());for(var s=r.bytesToWords(p),h=8*p.length,c=1732584193,m=-271733879,d=-1732584194,E=271733878,w=0;w<s.length;w++)s[w]=16711935&(s[w]<<8|s[w]>>>24)|4278255360&(s[w]<<24|s[w]>>>8);s[h>>>5]|=128<<h%32,s[14+(h+64>>>9<<4)]=h;var x=l._ff,g=l._gg,T=l._hh,N=l._ii;for(w=0;w<s.length;w+=16){var _=c,v=m,P=d,I=E;c=x(c,m,d,E,s[w+0],7,-680876936),E=x(E,c,m,d,s[w+1],12,-389564586),d=x(d,E,c,m,s[w+2],17,606105819),m=x(m,d,E,c,s[w+3],22,-1044525330),c=x(c,m,d,E,s[w+4],7,-176418897),E=x(E,c,m,d,s[w+5],12,1200080426),d=x(d,E,c,m,s[w+6],17,-1473231341),m=x(m,d,E,c,s[w+7],22,-45705983),c=x(c,m,d,E,s[w+8],7,1770035416),E=x(E,c,m,d,s[w+9],12,-1958414417),d=x(d,E,c,m,s[w+10],17,-42063),m=x(m,d,E,c,s[w+11],22,-1990404162),c=x(c,m,d,E,s[w+12],7,1804603682),E=x(E,c,m,d,s[w+13],12,-40341101),d=x(d,E,c,m,s[w+14],17,-1502002290),c=g(c,m=x(m,d,E,c,s[w+15],22,1236535329),d,E,s[w+1],5,-165796510),E=g(E,c,m,d,s[w+6],9,-1069501632),d=g(d,E,c,m,s[w+11],14,643717713),m=g(m,d,E,c,s[w+0],20,-373897302),c=g(c,m,d,E,s[w+5],5,-701558691),E=g(E,c,m,d,s[w+10],9,38016083),d=g(d,E,c,m,s[w+15],14,-660478335),m=g(m,d,E,c,s[w+4],20,-405537848),c=g(c,m,d,E,s[w+9],5,568446438),E=g(E,c,m,d,s[w+14],9,-1019803690),d=g(d,E,c,m,s[w+3],14,-187363961),m=g(m,d,E,c,s[w+8],20,1163531501),c=g(c,m,d,E,s[w+13],5,-1444681467),E=g(E,c,m,d,s[w+2],9,-51403784),d=g(d,E,c,m,s[w+7],14,1735328473),c=T(c,m=g(m,d,E,c,s[w+12],20,-1926607734),d,E,s[w+5],4,-378558),E=T(E,c,m,d,s[w+8],11,-2022574463),d=T(d,E,c,m,s[w+11],16,1839030562),m=T(m,d,E,c,s[w+14],23,-35309556),c=T(c,m,d,E,s[w+1],4,-1530992060),E=T(E,c,m,d,s[w+4],11,1272893353),d=T(d,E,c,m,s[w+7],16,-155497632),m=T(m,d,E,c,s[w+10],23,-1094730640),c=T(c,m,d,E,s[w+13],4,681279174),E=T(E,c,m,d,s[w+0],11,-358537222),d=T(d,E,c,m,s[w+3],16,-722521979),m=T(m,d,E,c,s[w+6],23,76029189),c=T(c,m,d,E,s[w+9],4,-640364487),E=T(E,c,m,d,s[w+12],11,-421815835),d=T(d,E,c,m,s[w+15],16,530742520),c=N(c,m=T(m,d,E,c,s[w+2],23,-995338651),d,E,s[w+0],6,-198630844),E=N(E,c,m,d,s[w+7],10,1126891415),d=N(d,E,c,m,s[w+14],15,-1416354905),m=N(m,d,E,c,s[w+5],21,-57434055),c=N(c,m,d,E,s[w+12],6,1700485571),E=N(E,c,m,d,s[w+3],10,-1894986606),d=N(d,E,c,m,s[w+10],15,-1051523),m=N(m,d,E,c,s[w+1],21,-2054922799),c=N(c,m,d,E,s[w+8],6,1873313359),E=N(E,c,m,d,s[w+15],10,-30611744),d=N(d,E,c,m,s[w+6],15,-1560198380),m=N(m,d,E,c,s[w+13],21,1309151649),c=N(c,m,d,E,s[w+4],6,-145523070),E=N(E,c,m,d,s[w+11],10,-1120210379),d=N(d,E,c,m,s[w+2],15,718787259),m=N(m,d,E,c,s[w+9],21,-343485551),c=c+_>>>0,m=m+v>>>0,d=d+P>>>0,E=E+I>>>0}return r.endian([c,m,d,E])};l._ff=function(p,o,s,h,c,m,d){var E=p+(o&s|~o&h)+(c>>>0)+d;return(E<<m|E>>>32-m)+o},l._gg=function(p,o,s,h,c,m,d){var E=p+(o&h|s&~h)+(c>>>0)+d;return(E<<m|E>>>32-m)+o},l._hh=function(p,o,s,h,c,m,d){var E=p+(o^s^h)+(c>>>0)+d;return(E<<m|E>>>32-m)+o},l._ii=function(p,o,s,h,c,m,d){var E=p+(s^(o|~h))+(c>>>0)+d;return(E<<m|E>>>32-m)+o},l._blocksize=16,l._digestsize=16,e.exports=function(p,o){if(p==null)throw new Error("Illegal argument "+p);var s=r.wordsToBytes(l(p,o));return o&&o.asBytes?s:o&&o.asString?u.bytesToString(s):r.bytesToHex(s)}})()},285:(e,t,n)=>{var r=n(2);e.exports=function(x){return x?(x.substr(0,2)==="{}"&&(x="\\{\\}"+x.substr(2)),w(function(g){return g.split("\\\\").join(i).split("\\{").join(a).split("\\}").join(u).split("\\,").join(l).split("\\.").join(p)}(x),!0).map(s)):[]};var i="\0SLASH"+Math.random()+"\0",a="\0OPEN"+Math.random()+"\0",u="\0CLOSE"+Math.random()+"\0",l="\0COMMA"+Math.random()+"\0",p="\0PERIOD"+Math.random()+"\0";function o(x){return parseInt(x,10)==x?parseInt(x,10):x.charCodeAt(0)}function s(x){return x.split(i).join("\\").split(a).join("{").split(u).join("}").split(l).join(",").split(p).join(".")}function h(x){if(!x)return[""];var g=[],T=r("{","}",x);if(!T)return x.split(",");var N=T.pre,_=T.body,v=T.post,P=N.split(",");P[P.length-1]+="{"+_+"}";var I=h(v);return v.length&&(P[P.length-1]+=I.shift(),P.push.apply(P,I)),g.push.apply(g,P),g}function c(x){return"{"+x+"}"}function m(x){return/^-?0\d/.test(x)}function d(x,g){return x<=g}function E(x,g){return x>=g}function w(x,g){var T=[],N=r("{","}",x);if(!N)return[x];var _=N.pre,v=N.post.length?w(N.post,!1):[""];if(/\$$/.test(N.pre))for(var P=0;P<v.length;P++){var I=_+"{"+N.body+"}"+v[P];T.push(I)}else{var b,C,R=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(N.body),L=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(N.body),A=R||L,$=N.body.indexOf(",")>=0;if(!A&&!$)return N.post.match(/,.*\}/)?w(x=N.pre+"{"+N.body+u+N.post):[x];if(A)b=N.body.split(/\.\./);else if((b=h(N.body)).length===1&&(b=w(b[0],!1).map(c)).length===1)return v.map(function(Kt){return N.pre+b[0]+Kt});if(A){var D=o(b[0]),j=o(b[1]),F=Math.max(b[0].length,b[1].length),X=b.length==3?Math.abs(o(b[2])):1,B=d;j<D&&(X*=-1,B=E);var J=b.some(m);C=[];for(var M=D;B(M,j);M+=X){var W;if(L)(W=String.fromCharCode(M))==="\\"&&(W="");else if(W=String(M),J){var $t=F-W.length;if($t>0){var Ot=new Array($t+1).join("0");W=M<0?"-"+Ot+W.slice(1):Ot+W}}C.push(W)}}else{C=[];for(var pt=0;pt<b.length;pt++)C.push.apply(C,w(b[pt],!1))}for(pt=0;pt<C.length;pt++)for(P=0;P<v.length;P++)I=_+C[pt]+v[P],(!g||A||I)&&T.push(I)}return T}},829:e=>{function t(o){return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},t(o)}function n(o){var s=typeof Map=="function"?new Map:void 0;return n=function(h){if(h===null||(c=h,Function.toString.call(c).indexOf("[native code]")===-1))return h;var c;if(typeof h!="function")throw new TypeError("Super expression must either be null or a function");if(s!==void 0){if(s.has(h))return s.get(h);s.set(h,m)}function m(){return r(h,arguments,a(this).constructor)}return m.prototype=Object.create(h.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),i(m,h)},n(o)}function r(o,s,h){return r=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(c,m,d){var E=[null];E.push.apply(E,m);var w=new(Function.bind.apply(c,E));return d&&i(w,d.prototype),w},r.apply(null,arguments)}function i(o,s){return i=Object.setPrototypeOf||function(h,c){return h.__proto__=c,h},i(o,s)}function a(o){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},a(o)}var u=function(o){function s(h){var c;return function(m,d){if(!(m instanceof d))throw new TypeError("Cannot call a class as a function")}(this,s),(c=function(m,d){return!d||t(d)!=="object"&&typeof d!="function"?function(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}(m):d}(this,a(s).call(this,h))).name="ObjectPrototypeMutationError",c}return function(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(c&&c.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),c&&i(h,c)}(s,o),s}(n(Error));function l(o,s){for(var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},c=s.split("."),m=c.length,d=function(x){var g=c[x];if(!o)return{v:void 0};if(g==="+"){if(Array.isArray(o))return{v:o.map(function(N,_){var v=c.slice(x+1);return v.length>0?l(N,v.join("."),h):h(o,_,c,x)})};var T=c.slice(0,x).join(".");throw new Error("Object at wildcard (".concat(T,") is not an array"))}o=h(o,g,c,x)},E=0;E<m;E++){var w=d(E);if(t(w)==="object")return w.v}return o}function p(o,s){return o.length===s+1}e.exports={set:function(o,s,h){if(t(o)!="object"||o===null||s===void 0)return o;if(typeof s=="number")return o[s]=h,o[s];try{return l(o,s,function(c,m,d,E){if(c===Reflect.getPrototypeOf({}))throw new u("Attempting to mutate Object.prototype");if(!c[m]){var w=Number.isInteger(Number(d[E+1])),x=d[E+1]==="+";c[m]=w||x?[]:{}}return p(d,E)&&(c[m]=h),c[m]})}catch(c){if(c instanceof u)throw c;return o}},get:function(o,s){if(t(o)!="object"||o===null||s===void 0)return o;if(typeof s=="number")return o[s];try{return l(o,s,function(h,c){return h[c]})}catch{return o}},has:function(o,s){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(t(o)!="object"||o===null||s===void 0)return!1;if(typeof s=="number")return s in o;try{var c=!1;return l(o,s,function(m,d,E,w){if(!p(E,w))return m&&m[d];c=h.own?m.hasOwnProperty(d):d in m}),c}catch{return!1}},hasOwn:function(o,s,h){return this.has(o,s,h||{own:!0})},isIn:function(o,s,h){var c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t(o)!="object"||o===null||s===void 0)return!1;try{var m=!1,d=!1;return l(o,s,function(E,w,x,g){return m=m||E===h||!!E&&E[w]===h,d=p(x,g)&&t(E)==="object"&&w in E,E&&E[w]}),c.validPath?m&&d:m}catch{return!1}},ObjectPrototypeMutationError:u}},47:(e,t,n)=>{var r=n(410),i=function(o){return typeof o=="string"};function a(o,s){for(var h=[],c=0;c<o.length;c++){var m=o[c];m&&m!=="."&&(m===".."?h.length&&h[h.length-1]!==".."?h.pop():s&&h.push(".."):h.push(m))}return h}var u=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,l={};function p(o){return u.exec(o).slice(1)}l.resolve=function(){for(var o="",s=!1,h=arguments.length-1;h>=-1&&!s;h--){var c=h>=0?arguments[h]:Ct.cwd();if(!i(c))throw new TypeError("Arguments to path.resolve must be strings");c&&(o=c+"/"+o,s=c.charAt(0)==="/")}return(s?"/":"")+(o=a(o.split("/"),!s).join("/"))||"."},l.normalize=function(o){var s=l.isAbsolute(o),h=o.substr(-1)==="/";return(o=a(o.split("/"),!s).join("/"))||s||(o="."),o&&h&&(o+="/"),(s?"/":"")+o},l.isAbsolute=function(o){return o.charAt(0)==="/"},l.join=function(){for(var o="",s=0;s<arguments.length;s++){var h=arguments[s];if(!i(h))throw new TypeError("Arguments to path.join must be strings");h&&(o+=o?"/"+h:h)}return l.normalize(o)},l.relative=function(o,s){function h(g){for(var T=0;T<g.length&&g[T]==="";T++);for(var N=g.length-1;N>=0&&g[N]==="";N--);return T>N?[]:g.slice(T,N+1)}o=l.resolve(o).substr(1),s=l.resolve(s).substr(1);for(var c=h(o.split("/")),m=h(s.split("/")),d=Math.min(c.length,m.length),E=d,w=0;w<d;w++)if(c[w]!==m[w]){E=w;break}var x=[];for(w=E;w<c.length;w++)x.push("..");return(x=x.concat(m.slice(E))).join("/")},l._makeLong=function(o){return o},l.dirname=function(o){var s=p(o),h=s[0],c=s[1];return h||c?(c&&(c=c.substr(0,c.length-1)),h+c):"."},l.basename=function(o,s){var h=p(o)[2];return s&&h.substr(-1*s.length)===s&&(h=h.substr(0,h.length-s.length)),h},l.extname=function(o){return p(o)[3]},l.format=function(o){if(!r.isObject(o))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof o);var s=o.root||"";if(!i(s))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof o.root);return(o.dir?o.dir+l.sep:"")+(o.base||"")},l.parse=function(o){if(!i(o))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof o);var s=p(o);if(!s||s.length!==4)throw new TypeError("Invalid path '"+o+"'");return s[1]=s[1]||"",s[2]=s[2]||"",s[3]=s[3]||"",{root:s[0],dir:s[0]+s[1].slice(0,s[1].length-1),base:s[2],ext:s[3],name:s[2].slice(0,s[2].length-s[3].length)}},l.sep="/",l.delimiter=":",e.exports=l},647:(e,t)=>{var n=Object.prototype.hasOwnProperty;function r(a){try{return decodeURIComponent(a.replace(/\+/g," "))}catch{return null}}function i(a){try{return encodeURIComponent(a)}catch{return null}}t.stringify=function(a,u){u=u||"";var l,p,o=[];for(p in typeof u!="string"&&(u="?"),a)if(n.call(a,p)){if((l=a[p])||l!=null&&!isNaN(l)||(l=""),p=i(p),l=i(l),p===null||l===null)continue;o.push(p+"="+l)}return o.length?u+o.join("&"):""},t.parse=function(a){for(var u,l=/([^=?#&]+)=?([^&]*)/g,p={};u=l.exec(a);){var o=r(u[1]),s=r(u[2]);o===null||s===null||o in p||(p[o]=s)}return p}},670:e=>{e.exports=function(t,n){if(n=n.split(":")[0],!(t=+t))return!1;switch(n){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0}},494:e=>{const t=/^[-+]?0x[a-fA-F0-9]+$/,n=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const r={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};e.exports=function(i){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(a=Object.assign({},r,a),!i||typeof i!="string")return i;let u=i.trim();if(a.skipLike!==void 0&&a.skipLike.test(u))return i;if(a.hex&&t.test(u))return Number.parseInt(u,16);{const p=n.exec(u);if(p){const o=p[1],s=p[2];let h=((l=p[3])&&l.indexOf(".")!==-1&&((l=l.replace(/0+$/,""))==="."?l="0":l[0]==="."?l="0"+l:l[l.length-1]==="."&&(l=l.substr(0,l.length-1))),l);const c=p[4]||p[6];if(!a.leadingZeros&&s.length>0&&o&&u[2]!=="."||!a.leadingZeros&&s.length>0&&!o&&u[1]!==".")return i;{const m=Number(u),d=""+m;return d.search(/[eE]/)!==-1||c?a.eNotation?m:i:u.indexOf(".")!==-1?d==="0"&&h===""||d===h||o&&d==="-"+h?m:i:s?h===d||o+h===d?m:i:u===d||u===o+d?m:i}}return i}var l}},737:(e,t,n)=>{var r=n(670),i=n(647),a=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,u=/[\n\r\t]/g,l=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,p=/:\d+$/,o=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,s=/^[a-zA-Z]:/;function h(g){return(g||"").toString().replace(a,"")}var c=[["#","hash"],["?","query"],function(g,T){return E(T.protocol)?g.replace(/\\/g,"/"):g},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],m={hash:1,query:1};function d(g){var T,N=(typeof window<"u"?window:typeof Ft<"u"?Ft:typeof self<"u"?self:{}).location||{},_={},v=typeof(g=g||N);if(g.protocol==="blob:")_=new x(unescape(g.pathname),{});else if(v==="string")for(T in _=new x(g,{}),m)delete _[T];else if(v==="object"){for(T in g)T in m||(_[T]=g[T]);_.slashes===void 0&&(_.slashes=l.test(g.href))}return _}function E(g){return g==="file:"||g==="ftp:"||g==="http:"||g==="https:"||g==="ws:"||g==="wss:"}function w(g,T){g=(g=h(g)).replace(u,""),T=T||{};var N,_=o.exec(g),v=_[1]?_[1].toLowerCase():"",P=!!_[2],I=!!_[3],b=0;return P?I?(N=_[2]+_[3]+_[4],b=_[2].length+_[3].length):(N=_[2]+_[4],b=_[2].length):I?(N=_[3]+_[4],b=_[3].length):N=_[4],v==="file:"?b>=2&&(N=N.slice(2)):E(v)?N=_[4]:v?P&&(N=N.slice(2)):b>=2&&E(T.protocol)&&(N=_[4]),{protocol:v,slashes:P||E(v),slashesCount:b,rest:N}}function x(g,T,N){if(g=(g=h(g)).replace(u,""),!(this instanceof x))return new x(g,T,N);var _,v,P,I,b,C,R=c.slice(),L=typeof T,A=this,$=0;for(L!=="object"&&L!=="string"&&(N=T,T=null),N&&typeof N!="function"&&(N=i.parse),_=!(v=w(g||"",T=d(T))).protocol&&!v.slashes,A.slashes=v.slashes||_&&T.slashes,A.protocol=v.protocol||T.protocol||"",g=v.rest,(v.protocol==="file:"&&(v.slashesCount!==2||s.test(g))||!v.slashes&&(v.protocol||v.slashesCount<2||!E(A.protocol)))&&(R[3]=[/(.*)/,"pathname"]);$<R.length;$++)typeof(I=R[$])!="function"?(P=I[0],C=I[1],P!=P?A[C]=g:typeof P=="string"?~(b=P==="@"?g.lastIndexOf(P):g.indexOf(P))&&(typeof I[2]=="number"?(A[C]=g.slice(0,b),g=g.slice(b+I[2])):(A[C]=g.slice(b),g=g.slice(0,b))):(b=P.exec(g))&&(A[C]=b[1],g=g.slice(0,b.index)),A[C]=A[C]||_&&I[3]&&T[C]||"",I[4]&&(A[C]=A[C].toLowerCase())):g=I(g,A);N&&(A.query=N(A.query)),_&&T.slashes&&A.pathname.charAt(0)!=="/"&&(A.pathname!==""||T.pathname!=="")&&(A.pathname=function(D,j){if(D==="")return j;for(var F=(j||"/").split("/").slice(0,-1).concat(D.split("/")),X=F.length,B=F[X-1],J=!1,M=0;X--;)F[X]==="."?F.splice(X,1):F[X]===".."?(F.splice(X,1),M++):M&&(X===0&&(J=!0),F.splice(X,1),M--);return J&&F.unshift(""),B!=="."&&B!==".."||F.push(""),F.join("/")}(A.pathname,T.pathname)),A.pathname.charAt(0)!=="/"&&E(A.protocol)&&(A.pathname="/"+A.pathname),r(A.port,A.protocol)||(A.host=A.hostname,A.port=""),A.username=A.password="",A.auth&&(~(b=A.auth.indexOf(":"))?(A.username=A.auth.slice(0,b),A.username=encodeURIComponent(decodeURIComponent(A.username)),A.password=A.auth.slice(b+1),A.password=encodeURIComponent(decodeURIComponent(A.password))):A.username=encodeURIComponent(decodeURIComponent(A.auth)),A.auth=A.password?A.username+":"+A.password:A.username),A.origin=A.protocol!=="file:"&&E(A.protocol)&&A.host?A.protocol+"//"+A.host:"null",A.href=A.toString()}x.prototype={set:function(g,T,N){var _=this;switch(g){case"query":typeof T=="string"&&T.length&&(T=(N||i.parse)(T)),_[g]=T;break;case"port":_[g]=T,r(T,_.protocol)?T&&(_.host=_.hostname+":"+T):(_.host=_.hostname,_[g]="");break;case"hostname":_[g]=T,_.port&&(T+=":"+_.port),_.host=T;break;case"host":_[g]=T,p.test(T)?(T=T.split(":"),_.port=T.pop(),_.hostname=T.join(":")):(_.hostname=T,_.port="");break;case"protocol":_.protocol=T.toLowerCase(),_.slashes=!N;break;case"pathname":case"hash":if(T){var v=g==="pathname"?"/":"#";_[g]=T.charAt(0)!==v?v+T:T}else _[g]=T;break;case"username":case"password":_[g]=encodeURIComponent(T);break;case"auth":var P=T.indexOf(":");~P?(_.username=T.slice(0,P),_.username=encodeURIComponent(decodeURIComponent(_.username)),_.password=T.slice(P+1),_.password=encodeURIComponent(decodeURIComponent(_.password))):_.username=encodeURIComponent(decodeURIComponent(T))}for(var I=0;I<c.length;I++){var b=c[I];b[4]&&(_[b[1]]=_[b[1]].toLowerCase())}return _.auth=_.password?_.username+":"+_.password:_.username,_.origin=_.protocol!=="file:"&&E(_.protocol)&&_.host?_.protocol+"//"+_.host:"null",_.href=_.toString(),_},toString:function(g){g&&typeof g=="function"||(g=i.stringify);var T,N=this,_=N.host,v=N.protocol;v&&v.charAt(v.length-1)!==":"&&(v+=":");var P=v+(N.protocol&&N.slashes||E(N.protocol)?"//":"");return N.username?(P+=N.username,N.password&&(P+=":"+N.password),P+="@"):N.password?(P+=":"+N.password,P+="@"):N.protocol!=="file:"&&E(N.protocol)&&!_&&N.pathname!=="/"&&(P+="@"),(_[_.length-1]===":"||p.test(N.hostname)&&!N.port)&&(_+=":"),P+=_+N.pathname,(T=typeof N.query=="object"?g(N.query):N.query)&&(P+=T.charAt(0)!=="?"?"?"+T:T),N.hash&&(P+=N.hash),P}},x.extractProtocol=w,x.location=d,x.trimLeft=h,x.qs=i,e.exports=x},410:()=>{},388:()=>{},805:()=>{},345:()=>{},800:()=>{}},Ze={};function k(e){var t=Ze[e];if(t!==void 0)return t.exports;var n=Ze[e]={id:e,loaded:!1,exports:{}};return br[e].call(n.exports,n,n.exports,k),n.loaded=!0,n.exports}k.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return k.d(t,{a:t}),t},k.d=(e,t)=>{for(var n in t)k.o(t,n)&&!k.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},k.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),k.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var lt={};k.d(lt,{hT:()=>rt,O4:()=>mt,Kd:()=>Pr,YK:()=>Sr,UU:()=>Fi,Gu:()=>Fn,ky:()=>Wn,h4:()=>Dt,ch:()=>Yt,hq:()=>Tt,i5:()=>qn});var Tr=k(737),vr=k.n(Tr);function ee(e){if(!Te(e))throw new Error("Parameter was not an error")}function Te(e){return!!e&&typeof e=="object"&&(t=e,Object.prototype.toString.call(t)==="[object Error]")||e instanceof Error;var t}class st extends Error{constructor(t,n){const r=[...arguments],{options:i,shortMessage:a}=function(l){let p,o="";if(l.length===0)p={};else if(Te(l[0]))p={cause:l[0]},o=l.slice(1).join(" ")||"";else if(l[0]&&typeof l[0]=="object")p=Object.assign({},l[0]),o=l.slice(1).join(" ")||"";else{if(typeof l[0]!="string")throw new Error("Invalid arguments passed to Layerr");p={},o=o=l.join(" ")||""}return{options:p,shortMessage:o}}(r);let u=a;if(i.cause&&(u=`${u}: ${i.cause.message}`),super(u),this.message=u,i.name&&typeof i.name=="string"?this.name=i.name:this.name="Layerr",i.cause&&Object.defineProperty(this,"_cause",{value:i.cause}),Object.defineProperty(this,"_info",{value:{}}),i.info&&typeof i.info=="object"&&Object.assign(this._info,i.info),Error.captureStackTrace){const l=i.constructorOpt||this.constructor;Error.captureStackTrace(this,l)}}static cause(t){return ee(t),t._cause&&Te(t._cause)?t._cause:null}static fullStack(t){ee(t);const n=st.cause(t);return n?`${t.stack}
caused by: ${st.fullStack(n)}`:t.stack??""}static info(t){ee(t);const n={},r=st.cause(t);return r&&Object.assign(n,st.info(r)),t._info&&Object.assign(n,t._info),n}toString(){let t=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(t=`${t}: ${this.message}`),t}}var Nr=k(47),Bt=k.n(Nr);const Ke="__PATH_SEPARATOR_POSIX__",Qe="__PATH_SEPARATOR_WINDOWS__";function G(e){try{const t=e.replace(/\//g,Ke).replace(/\\\\/g,Qe);return encodeURIComponent(t).split(Qe).join("\\\\").split(Ke).join("/")}catch(t){throw new st(t,"Failed encoding path")}}function Je(e){return e.startsWith("/")?e:"/"+e}function Lt(e){let t=e;return t[0]!=="/"&&(t="/"+t),/^.+\/$/.test(t)&&(t=t.substr(0,t.length-1)),t}function Ir(e){let t=new(vr())(e).pathname;return t.length<=0&&(t="/"),Lt(t)}function V(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){return function(r){var i=[];if(r.length===0)return"";if(typeof r[0]!="string")throw new TypeError("Url must be a string. Received "+r[0]);if(r[0].match(/^[^/:]+:\/*$/)&&r.length>1){var a=r.shift();r[0]=a+r[0]}r[0].match(/^file:\/\/\//)?r[0]=r[0].replace(/^([^/:]+):\/*/,"$1:///"):r[0]=r[0].replace(/^([^/:]+):\/*/,"$1://");for(var u=0;u<r.length;u++){var l=r[u];if(typeof l!="string")throw new TypeError("Url must be a string. Received "+l);l!==""&&(u>0&&(l=l.replace(/^[\/]+/,"")),l=u<r.length-1?l.replace(/[\/]+$/,""):l.replace(/[\/]+$/,"/"),i.push(l))}var p=i.join("/"),o=(p=p.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return o.shift()+(o.length>0?"?":"")+o.join("&")}(typeof arguments[0]=="object"?arguments[0]:[].slice.call(arguments))}(t.reduce((r,i,a)=>((a===0||i!=="/"||i==="/"&&r[r.length-1]!=="/")&&r.push(i),r),[]))}var Or=k(542),_t=k.n(Or);const xr="abcdef0123456789";function tn(e,t){const n=e.url.replace("//",""),r=n.indexOf("/")==-1?"/":n.slice(n.indexOf("/")),i=e.method?e.method.toUpperCase():"GET",a=!!/(^|,)\s*auth\s*($|,)/.test(t.qop)&&"auth",u=`00000000${t.nc}`.slice(-8),l=function(c,m,d,E,w,x,g){const T=g||_t()(`${m}:${d}:${E}`);return c&&c.toLowerCase()==="md5-sess"?_t()(`${T}:${w}:${x}`):T}(t.algorithm,t.username,t.realm,t.password,t.nonce,t.cnonce,t.ha1),p=_t()(`${i}:${r}`),o=a?_t()(`${l}:${t.nonce}:${u}:${t.cnonce}:${a}:${p}`):_t()(`${l}:${t.nonce}:${p}`),s={username:t.username,realm:t.realm,nonce:t.nonce,uri:r,qop:a,response:o,nc:u,cnonce:t.cnonce,algorithm:t.algorithm,opaque:t.opaque},h=[];for(const c in s)s[c]&&(c==="qop"||c==="nc"||c==="algorithm"?h.push(`${c}=${s[c]}`):h.push(`${c}="${s[c]}"`));return`Digest ${h.join(", ")}`}function Ln(e){return(e.headers&&e.headers.get("www-authenticate")||"").split(/\s/)[0].toLowerCase()==="digest"}var _r=k(101),Dn=k.n(_r);function en(e){return Dn().decode(e)}function nn(e,t){var n;return`Basic ${n=`${e}:${t}`,Dn().encode(n)}`}const Gt=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:typeof window<"u"?window:globalThis,Ar=Gt.fetch.bind(Gt),Pr=Gt.Request,Sr=Gt.Response;let rt=function(e){return e.Auto="auto",e.Digest="digest",e.None="none",e.Password="password",e.Token="token",e}({}),mt=function(e){return e.DataTypeNoLength="data-type-no-length",e.InvalidAuthType="invalid-auth-type",e.InvalidOutputFormat="invalid-output-format",e.LinkUnsupportedAuthType="link-unsupported-auth",e.InvalidUpdateRange="invalid-update-range",e.NotSupported="not-supported",e}({});function $n(e,t,n,r,i){switch(e.authType){case rt.Auto:t&&n&&(e.headers.Authorization=nn(t,n));break;case rt.Digest:e.digest=function(u,l,p){return{username:u,password:l,ha1:p,nc:0,algorithm:"md5",hasDigestAuth:!1}}(t,n,i);break;case rt.None:break;case rt.Password:e.headers.Authorization=nn(t,n);break;case rt.Token:e.headers.Authorization=`${(a=r).token_type} ${a.access_token}`;break;default:throw new st({info:{code:mt.InvalidAuthType}},`Invalid auth type: ${e.authType}`)}var a}k(345),k(800);const rn="@@HOTPATCHER",Cr=()=>{};function ne(e){return{original:e,methods:[e],final:!1}}class Rr{constructor(){this._configuration={registry:{},getEmptyAction:"null"},this.__type__=rn}get configuration(){return this._configuration}get getEmptyAction(){return this.configuration.getEmptyAction}set getEmptyAction(t){this.configuration.getEmptyAction=t}control(t){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!t||t.__type__!==rn)throw new Error("Failed taking control of target HotPatcher instance: Invalid type or object");return Object.keys(t.configuration.registry).forEach(r=>{this.configuration.registry.hasOwnProperty(r)?n&&(this.configuration.registry[r]=Object.assign({},t.configuration.registry[r])):this.configuration.registry[r]=Object.assign({},t.configuration.registry[r])}),t._configuration=this.configuration,this}execute(t){const n=this.get(t)||Cr;for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return n(...i)}get(t){const n=this.configuration.registry[t];if(!n)switch(this.getEmptyAction){case"null":return null;case"throw":throw new Error(`Failed handling method request: No method provided for override: ${t}`);default:throw new Error(`Failed handling request which resulted in an empty method: Invalid empty-action specified: ${this.getEmptyAction}`)}return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];if(i.length===0)throw new Error("Failed creating sequence: No functions provided");return function(){for(var u=arguments.length,l=new Array(u),p=0;p<u;p++)l[p]=arguments[p];let o=l;const s=this;for(;i.length>0;)o=[i.shift().apply(s,o)];return o[0]}}(...n.methods)}isPatched(t){return!!this.configuration.registry[t]}patch(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{chain:i=!1}=r;if(this.configuration.registry[t]&&this.configuration.registry[t].final)throw new Error(`Failed patching '${t}': Method marked as being final`);if(typeof n!="function")throw new Error(`Failed patching '${t}': Provided method is not a function`);if(i)this.configuration.registry[t]?this.configuration.registry[t].methods.push(n):this.configuration.registry[t]=ne(n);else if(this.isPatched(t)){const{original:a}=this.configuration.registry[t];this.configuration.registry[t]=Object.assign(ne(n),{original:a})}else this.configuration.registry[t]=ne(n);return this}patchInline(t,n){this.isPatched(t)||this.patch(t,n);for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];return this.execute(t,...i)}plugin(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach(a=>{this.patch(t,a,{chain:!0})}),this}restore(t){if(!this.isPatched(t))throw new Error(`Failed restoring method: No method present for key: ${t}`);if(typeof this.configuration.registry[t].original!="function")throw new Error(`Failed restoring method: Original method not found or of invalid type for key: ${t}`);return this.configuration.registry[t].methods=[this.configuration.registry[t].original],this}setFinal(t){if(!this.configuration.registry.hasOwnProperty(t))throw new Error(`Failed marking '${t}' as final: No method found for key`);return this.configuration.registry[t].final=!0,this}}let re=null;function Fn(){return re||(re=new Rr),re}function Vt(e){return function(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let n=t;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n}(e)?Object.assign({},e):Object.setPrototypeOf(Object.assign({},e),Object.getPrototypeOf(e))}function sn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=null,i=[...t];for(;i.length>0;){const a=i.shift();r=r?jn(r,a):Vt(a)}return r}function jn(e,t){const n=Vt(e);return Object.keys(t).forEach(r=>{n.hasOwnProperty(r)?Array.isArray(t[r])?n[r]=Array.isArray(n[r])?[...n[r],...t[r]]:[...t[r]]:typeof t[r]=="object"&&t[r]?n[r]=typeof n[r]=="object"&&n[r]?jn(n[r],t[r]):Vt(t[r]):n[r]=t[r]:n[r]=t[r]}),n}function Lr(e){const t={};for(const n of e.keys())t[n]=e.get(n);return t}function ve(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length===0)return{};const r={};return t.reduce((i,a)=>(Object.keys(a).forEach(u=>{const l=u.toLowerCase();r.hasOwnProperty(l)?i[r[l]]=a[u]:(r[l]=u,i[u]=a[u])}),i),{})}k(805);const Dr=typeof ArrayBuffer=="function",{toString:$r}=Object.prototype;function Un(e){return Dr&&(e instanceof ArrayBuffer||$r.call(e)==="[object ArrayBuffer]")}function Mn(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function Ce(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}function Ne(e,t,n){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const kn=Ce(function(e){const t=e._digest;return delete e._digest,t.hasDigestAuth&&(e=sn(e,{headers:{Authorization:tn(e,t)}})),Ne(Xt(e),function(n){let r=!1;return i=function(u){return r?u:n},(a=function(){if(n.status==401)return t.hasDigestAuth=function(u,l){if(!Ln(u))return!1;const p=/([a-z0-9_-]+)=(?:"([^"]+)"|([a-z0-9_-]+))/gi;for(;;){const o=u.headers&&u.headers.get("www-authenticate")||"",s=p.exec(o);if(!s)break;l[s[1]]=s[2]||s[3]}return l.nc+=1,l.cnonce=function(){let o="";for(let s=0;s<32;++s)o=`${o}${xr[Math.floor(16*Math.random())]}`;return o}(),!0}(n,t),function(){if(t.hasDigestAuth)return Ne(Xt(e=sn(e,{headers:{Authorization:tn(e,t)}})),function(u){return u.status==401?t.hasDigestAuth=!1:t.nc++,r=!0,u})}();t.nc++}())&&a.then?a.then(i):i(a);var i,a})}),Fr=Ce(function(e,t){return Ne(Xt(e),function(n){return n.ok?(t.authType=rt.Password,n):n.status==401&&Ln(n)?(t.authType=rt.Digest,$n(t,t.username,t.password,void 0,void 0),e._digest=t.digest,kn(e)):n})}),H=Ce(function(e,t){return t.authType===rt.Auto?Fr(e,t):e._digest?kn(e):Xt(e)});function Y(e,t,n){const r=Vt(e);return r.headers=ve(t.headers,r.headers||{},n.headers||{}),n.data!==void 0&&(r.data=n.data),n.signal&&(r.signal=n.signal),t.httpAgent&&(r.httpAgent=t.httpAgent),t.httpsAgent&&(r.httpsAgent=t.httpsAgent),t.digest&&(r._digest=t.digest),typeof t.withCredentials=="boolean"&&(r.withCredentials=t.withCredentials),r}function Xt(e){const t=Fn();return t.patchInline("request",n=>t.patchInline("fetch",Ar,n.url,function(r){let i={};const a={method:r.method};if(r.headers&&(i=ve(i,r.headers)),r.data!==void 0){const[u,l]=function(p){if(typeof p=="string")return[p,{}];if(Mn(p))return[p,{}];if(Un(p))return[p,{}];if(p&&typeof p=="object")return[JSON.stringify(p),{"content-type":"application/json"}];throw new Error("Unable to convert request body: Unexpected body type: "+typeof p)}(r.data);a.body=u,i=ve(i,l)}return r.signal&&(a.signal=r.signal),r.withCredentials&&(a.credentials="include"),a.headers=i,a}(n)),e)}var jr=k(285);const Wt=e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},Ur={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},At=e=>e.replace(/[[\]\\-]/g,"\\$&"),on=e=>e.join(""),Mr=(e,t)=>{const n=t;if(e.charAt(n)!=="[")throw new Error("not in a brace expression");const r=[],i=[];let a=n+1,u=!1,l=!1,p=!1,o=!1,s=n,h="";t:for(;a<e.length;){const E=e.charAt(a);if(E!=="!"&&E!=="^"||a!==n+1){if(E==="]"&&u&&!p){s=a+1;break}if(u=!0,E!=="\\"||p){if(E==="["&&!p){for(const[w,[x,g,T]]of Object.entries(Ur))if(e.startsWith(w,a)){if(h)return["$.",!1,e.length-n,!0];a+=w.length,T?i.push(x):r.push(x),l=l||g;continue t}}p=!1,h?(E>h?r.push(At(h)+"-"+At(E)):E===h&&r.push(At(E)),h="",a++):e.startsWith("-]",a+1)?(r.push(At(E+"-")),a+=2):e.startsWith("-",a+1)?(h=E,a+=2):(r.push(At(E)),a++)}else p=!0,a++}else o=!0,a++}if(s<a)return["",!1,0,!1];if(!r.length&&!i.length)return["$.",!1,e.length-n,!0];if(i.length===0&&r.length===1&&/^\\?.$/.test(r[0])&&!o)return[(c=r[0].length===2?r[0].slice(-1):r[0],c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,s-n,!1];var c;const m="["+(o?"^":"")+on(r)+"]",d="["+(o?"":"^")+on(i)+"]";return[r.length&&i.length?"("+m+"|"+d+")":r.length?m:d,l,s-n,!0]},Pt=function(e){let{windowsPathsNoEscape:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1")},kr=new Set(["!","?","+","*","@"]),an=e=>kr.has(e),ie="(?!\\.)",Br=new Set(["[","."]),Gr=new Set(["..","."]),Vr=new Set("().*{}+?[]^$\\!"),Re="[^/]",un=Re+"*?",cn=Re+"+?";class nt{type;#n;#r;#s=!1;#t=[];#e;#o;#u;#a=!1;#i;#c;#h=!1;constructor(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.type=t,t&&(this.#r=!0),this.#e=n,this.#n=this.#e?this.#e.#n:this,this.#i=this.#n===this?r:this.#n.#i,this.#u=this.#n===this?[]:this.#n.#u,t!=="!"||this.#n.#a||this.#u.push(this),this.#o=this.#e?this.#e.#t.length:0}get hasMagic(){if(this.#r!==void 0)return this.#r;for(const t of this.#t)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#r=!0;return this.#r}toString(){return this.#c!==void 0?this.#c:this.type?this.#c=this.type+"("+this.#t.map(t=>String(t)).join("|")+")":this.#c=this.#t.map(t=>String(t)).join("")}#f(){if(this!==this.#n)throw new Error("should only call on root");if(this.#a)return this;let t;for(this.toString(),this.#a=!0;t=this.#u.pop();){if(t.type!=="!")continue;let n=t,r=n.#e;for(;r;){for(let i=n.#o+1;!r.type&&i<r.#t.length;i++)for(const a of t.#t){if(typeof a=="string")throw new Error("string part in extglob AST??");a.copyIn(r.#t[i])}n=r,r=n.#e}}return this}push(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)if(i!==""){if(typeof i!="string"&&!(i instanceof nt&&i.#e===this))throw new Error("invalid part: "+i);this.#t.push(i)}}toJSON(){const t=this.type===null?this.#t.slice().map(n=>typeof n=="string"?n:n.toJSON()):[this.type,...this.#t.map(n=>n.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#n||this.#n.#a&&this.#e?.type==="!")&&t.push({}),t}isStart(){if(this.#n===this)return!0;if(!this.#e?.isStart())return!1;if(this.#o===0)return!0;const t=this.#e;for(let n=0;n<this.#o;n++){const r=t.#t[n];if(!(r instanceof nt&&r.type==="!"))return!1}return!0}isEnd(){if(this.#n===this||this.#e?.type==="!")return!0;if(!this.#e?.isEnd())return!1;if(!this.type)return this.#e?.isEnd();const t=this.#e?this.#e.#t.length:0;return this.#o===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){const n=new nt(this.type,t);for(const r of this.#t)n.copyIn(r);return n}static#l(t,n,r,i){let a=!1,u=!1,l=-1,p=!1;if(n.type===null){let m=r,d="";for(;m<t.length;){const E=t.charAt(m++);if(a||E==="\\")a=!a,d+=E;else if(u)m===l+1?E!=="^"&&E!=="!"||(p=!0):E!=="]"||m===l+2&&p||(u=!1),d+=E;else if(E!=="[")if(i.noext||!an(E)||t.charAt(m)!=="(")d+=E;else{n.push(d),d="";const w=new nt(E,n);m=nt.#l(t,w,m,i),n.push(w)}else u=!0,l=m,p=!1,d+=E}return n.push(d),m}let o=r+1,s=new nt(null,n);const h=[];let c="";for(;o<t.length;){const m=t.charAt(o++);if(a||m==="\\")a=!a,c+=m;else if(u)o===l+1?m!=="^"&&m!=="!"||(p=!0):m!=="]"||o===l+2&&p||(u=!1),c+=m;else if(m!=="[")if(an(m)&&t.charAt(o)==="("){s.push(c),c="";const d=new nt(m,s);s.push(d),o=nt.#l(t,d,o,i)}else if(m!=="|"){if(m===")")return c===""&&n.#t.length===0&&(n.#h=!0),s.push(c),c="",n.push(...h,s),o;c+=m}else s.push(c),c="",h.push(s),s=new nt(null,n);else u=!0,l=o,p=!1,c+=m}return n.type=null,n.#r=void 0,n.#t=[t.substring(r-1)],o}static fromGlob(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=new nt(null,void 0,n);return nt.#l(t,r,0,n),r}toMMPattern(){if(this!==this.#n)return this.#n.toMMPattern();const t=this.toString(),[n,r,i,a]=this.toRegExpSource();if(!(i||this.#r||this.#i.nocase&&!this.#i.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return r;const u=(this.#i.nocase?"i":"")+(a?"u":"");return Object.assign(new RegExp(`^${n}$`,u),{_src:n,_glob:t})}get options(){return this.#i}toRegExpSource(t){const n=t??!!this.#i.dot;if(this.#n===this&&this.#f(),!this.type){const p=this.isStart()&&this.isEnd(),o=this.#t.map(c=>{const[m,d,E,w]=typeof c=="string"?nt.#d(c,this.#r,p):c.toRegExpSource(t);return this.#r=this.#r||E,this.#s=this.#s||w,m}).join("");let s="";if(this.isStart()&&typeof this.#t[0]=="string"&&(this.#t.length!==1||!Gr.has(this.#t[0]))){const c=Br,m=n&&c.has(o.charAt(0))||o.startsWith("\\.")&&c.has(o.charAt(2))||o.startsWith("\\.\\.")&&c.has(o.charAt(4)),d=!n&&!t&&c.has(o.charAt(0));s=m?"(?!(?:^|/)\\.\\.?(?:$|/))":d?ie:""}let h="";return this.isEnd()&&this.#n.#a&&this.#e?.type==="!"&&(h="(?:$|\\/)"),[s+o+h,Pt(o),this.#r=!!this.#r,this.#s]}const r=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:";let a=this.#p(n);if(this.isStart()&&this.isEnd()&&!a&&this.type!=="!"){const p=this.toString();return this.#t=[p],this.type=null,this.#r=void 0,[p,Pt(this.toString()),!1,!1]}let u=!r||t||n?"":this.#p(!0);u===a&&(u=""),u&&(a=`(?:${a})(?:${u})*?`);let l="";return l=this.type==="!"&&this.#h?(this.isStart()&&!n?ie:"")+cn:i+a+(this.type==="!"?"))"+(!this.isStart()||n||t?"":ie)+un+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&u?")":this.type==="*"&&u?")?":`)${this.type}`),[l,Pt(a),this.#r=!!this.#r,this.#s]}#p(t){return this.#t.map(n=>{if(typeof n=="string")throw new Error("string type in extglob ast??");const[r,i,a,u]=n.toRegExpSource(t);return this.#s=this.#s||u,r}).filter(n=>!(this.isStart()&&this.isEnd()&&!n)).join("|")}static#d(t,n){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=!1,a="",u=!1;for(let l=0;l<t.length;l++){const p=t.charAt(l);if(i)i=!1,a+=(Vr.has(p)?"\\":"")+p;else if(p!=="\\"){if(p==="["){const[o,s,h,c]=Mr(t,l);if(h){a+=o,u=u||s,l+=h-1,n=n||c;continue}}p!=="*"?p!=="?"?a+=p.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):(a+=Re,n=!0):(a+=r&&t==="*"?cn:un,n=!0)}else l===t.length-1?a+="\\\\":i=!0}return[a,Pt(t),!!n,u]}}const et=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Wt(t),!(!n.nocomment&&t.charAt(0)==="#")&&new qt(t,n).match(e)},Xr=/^\*+([^+@!?\*\[\(]*)$/,Wr=e=>t=>!t.startsWith(".")&&t.endsWith(e),qr=e=>t=>t.endsWith(e),zr=e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),Hr=e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),Yr=/^\*+\.\*+$/,Zr=e=>!e.startsWith(".")&&e.includes("."),Kr=e=>e!=="."&&e!==".."&&e.includes("."),Qr=/^\.\*+$/,Jr=e=>e!=="."&&e!==".."&&e.startsWith("."),ti=/^\*+$/,ei=e=>e.length!==0&&!e.startsWith("."),ni=e=>e.length!==0&&e!=="."&&e!=="..",ri=/^\?+([^+@!?\*\[\(]*)?$/,ii=e=>{let[t,n=""]=e;const r=Bn([t]);return n?(n=n.toLowerCase(),i=>r(i)&&i.toLowerCase().endsWith(n)):r},si=e=>{let[t,n=""]=e;const r=Gn([t]);return n?(n=n.toLowerCase(),i=>r(i)&&i.toLowerCase().endsWith(n)):r},oi=e=>{let[t,n=""]=e;const r=Gn([t]);return n?i=>r(i)&&i.endsWith(n):r},ai=e=>{let[t,n=""]=e;const r=Bn([t]);return n?i=>r(i)&&i.endsWith(n):r},Bn=e=>{let[t]=e;const n=t.length;return r=>r.length===n&&!r.startsWith(".")},Gn=e=>{let[t]=e;const n=t.length;return r=>r.length===n&&r!=="."&&r!==".."},Vn=typeof Ct=="object"&&Ct?typeof te=="object"&&te&&te.__MINIMATCH_TESTING_PLATFORM__||Ct.platform:"posix";et.sep=Vn==="win32"?"\\":"/";const ct=Symbol("globstar **");et.GLOBSTAR=ct,et.filter=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return n=>et(n,e,t)};const ut=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.assign({},e,t)};et.defaults=e=>{if(!e||typeof e!="object"||!Object.keys(e).length)return et;const t=et;return Object.assign(function(n,r){return t(n,r,ut(e,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))},{Minimatch:class extends t.Minimatch{constructor(n){super(n,ut(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}))}static defaults(n){return t.defaults(ut(e,n)).Minimatch}},AST:class extends t.AST{constructor(n,r){super(n,r,ut(e,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))}static fromGlob(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.AST.fromGlob(n,ut(e,r))}},unescape:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.unescape(n,ut(e,r))},escape:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.escape(n,ut(e,r))},filter:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.filter(n,ut(e,r))},defaults:n=>t.defaults(ut(e,n)),makeRe:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.makeRe(n,ut(e,r))},braceExpand:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.braceExpand(n,ut(e,r))},match:function(n,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t.match(n,r,ut(e,i))},sep:t.sep,GLOBSTAR:ct})};const Xn=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Wt(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:jr(e)};et.braceExpand=Xn,et.makeRe=function(e){return new qt(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).makeRe()},et.match=function(e,t){const n=new qt(t,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{});return e=e.filter(r=>n.match(r)),n.options.nonull&&!e.length&&e.push(t),e};const ln=/[?*]|[+@!]\(.*?\)|\[|\]/;class qt{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Wt(t),n=n||{},this.options=n,this.pattern=t,this.platform=n.platform||Vn,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!n.windowsPathsNoEscape||n.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!n.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!n.nonegate,this.comment=!1,this.empty=!1,this.partial=!!n.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=n.windowsNoMagicRoot!==void 0?n.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const t of this.set)for(const n of t)if(typeof n!="string")return!0;return!1}debug(){}make(){const t=this.pattern,n=this.options;if(!n.nocomment&&t.charAt(0)==="#")return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],n.debug&&(this.debug=function(){return console.error(...arguments)}),this.debug(this.pattern,this.globSet);const r=this.globSet.map(a=>this.slashSplit(a));this.globParts=this.preprocess(r),this.debug(this.pattern,this.globParts);let i=this.globParts.map((a,u,l)=>{if(this.isWindows&&this.windowsNoMagicRoot){const p=!(a[0]!==""||a[1]!==""||a[2]!=="?"&&ln.test(a[2])||ln.test(a[3])),o=/^[a-z]:/i.test(a[0]);if(p)return[...a.slice(0,4),...a.slice(4).map(s=>this.parse(s))];if(o)return[a[0],...a.slice(1).map(s=>this.parse(s))]}return a.map(p=>this.parse(p))});if(this.debug(this.pattern,i),this.set=i.filter(a=>a.indexOf(!1)===-1),this.isWindows)for(let a=0;a<this.set.length;a++){const u=this.set[a];u[0]===""&&u[1]===""&&this.globParts[a][2]==="?"&&typeof u[3]=="string"&&/^[a-z]:$/i.test(u[3])&&(u[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let r=0;r<t.length;r++)for(let i=0;i<t[r].length;i++)t[r][i]==="**"&&(t[r][i]="*");const{optimizationLevel:n=1}=this.options;return n>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):t=n>=1?this.levelOneOptimize(t):this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(n=>{let r=-1;for(;(r=n.indexOf("**",r+1))!==-1;){let i=r;for(;n[i+1]==="**";)i++;i!==r&&n.splice(r,i-r)}return n})}levelOneOptimize(t){return t.map(n=>(n=n.reduce((r,i)=>{const a=r[r.length-1];return i==="**"&&a==="**"?r:i===".."&&a&&a!==".."&&a!=="."&&a!=="**"?(r.pop(),r):(r.push(i),r)},[])).length===0?[""]:n)}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let n=!1;do{if(n=!1,!this.preserveMultipleSlashes){for(let i=1;i<t.length-1;i++){const a=t[i];i===1&&a===""&&t[0]===""||a!=="."&&a!==""||(n=!0,t.splice(i,1),i--)}t[0]!=="."||t.length!==2||t[1]!=="."&&t[1]!==""||(n=!0,t.pop())}let r=0;for(;(r=t.indexOf("..",r+1))!==-1;){const i=t[r-1];i&&i!=="."&&i!==".."&&i!=="**"&&(n=!0,t.splice(r-1,2),r-=2)}}while(n);return t.length===0?[""]:t}firstPhasePreProcess(t){let n=!1;do{n=!1;for(let r of t){let i=-1;for(;(i=r.indexOf("**",i+1))!==-1;){let u=i;for(;r[u+1]==="**";)u++;u>i&&r.splice(i+1,u-i);let l=r[i+1];const p=r[i+2],o=r[i+3];if(l!==".."||!p||p==="."||p===".."||!o||o==="."||o==="..")continue;n=!0,r.splice(i,1);const s=r.slice(0);s[i]="**",t.push(s),i--}if(!this.preserveMultipleSlashes){for(let u=1;u<r.length-1;u++){const l=r[u];u===1&&l===""&&r[0]===""||l!=="."&&l!==""||(n=!0,r.splice(u,1),u--)}r[0]!=="."||r.length!==2||r[1]!=="."&&r[1]!==""||(n=!0,r.pop())}let a=0;for(;(a=r.indexOf("..",a+1))!==-1;){const u=r[a-1];if(u&&u!=="."&&u!==".."&&u!=="**"){n=!0;const l=a===1&&r[a+1]==="**"?["."]:[];r.splice(a-1,2,...l),r.length===0&&r.push(""),a-=2}}}}while(n);return t}secondPhasePreProcess(t){for(let n=0;n<t.length-1;n++)for(let r=n+1;r<t.length;r++){const i=this.partsMatch(t[n],t[r],!this.preserveMultipleSlashes);if(i){t[n]=[],t[r]=i;break}}return t.filter(n=>n.length)}partsMatch(t,n){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=0,a=0,u=[],l="";for(;i<t.length&&a<n.length;)if(t[i]===n[a])u.push(l==="b"?n[a]:t[i]),i++,a++;else if(r&&t[i]==="**"&&n[a]===t[i+1])u.push(t[i]),i++;else if(r&&n[a]==="**"&&t[i]===n[a+1])u.push(n[a]),a++;else if(t[i]!=="*"||!n[a]||!this.options.dot&&n[a].startsWith(".")||n[a]==="**"){if(n[a]!=="*"||!t[i]||!this.options.dot&&t[i].startsWith(".")||t[i]==="**"||l==="a")return!1;l="b",u.push(n[a]),i++,a++}else{if(l==="b")return!1;l="a",u.push(t[i]),i++,a++}return t.length===n.length&&u}parseNegate(){if(this.nonegate)return;const t=this.pattern;let n=!1,r=0;for(let i=0;i<t.length&&t.charAt(i)==="!";i++)n=!n,r++;r&&(this.pattern=t.slice(r)),this.negate=n}matchOne(t,n){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const i=this.options;if(this.isWindows){const E=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),w=!E&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),x=typeof n[0]=="string"&&/^[a-z]:$/i.test(n[0]),g=w?3:E?0:void 0,T=!x&&n[0]===""&&n[1]===""&&n[2]==="?"&&typeof n[3]=="string"&&/^[a-z]:$/i.test(n[3])?3:x?0:void 0;if(typeof g=="number"&&typeof T=="number"){const[N,_]=[t[g],n[T]];N.toLowerCase()===_.toLowerCase()&&(n[T]=N,T>g?n=n.slice(T):g>T&&(t=t.slice(g)))}}const{optimizationLevel:a=1}=this.options;a>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:n}),this.debug("matchOne",t.length,n.length);for(var u=0,l=0,p=t.length,o=n.length;u<p&&l<o;u++,l++){this.debug("matchOne loop");var s=n[l],h=t[u];if(this.debug(n,s,h),s===!1)return!1;if(s===ct){this.debug("GLOBSTAR",[n,s,h]);var c=u,m=l+1;if(m===o){for(this.debug("** at the end");u<p;u++)if(t[u]==="."||t[u]===".."||!i.dot&&t[u].charAt(0)===".")return!1;return!0}for(;c<p;){var d=t[c];if(this.debug(`
globstar while`,t,c,n,m,d),this.matchOne(t.slice(c),n.slice(m),r))return this.debug("globstar found match!",c,p,d),!0;if(d==="."||d===".."||!i.dot&&d.charAt(0)==="."){this.debug("dot detected!",t,c,n,m);break}this.debug("globstar swallow a segment, and continue"),c++}return!(!r||(this.debug(`
>>> no match, partial?`,t,c,n,m),c!==p))}let E;if(typeof s=="string"?(E=h===s,this.debug("string match",s,h,E)):(E=s.test(h),this.debug("pattern match",s,h,E)),!E)return!1}if(u===p&&l===o)return!0;if(u===p)return r;if(l===o)return u===p-1&&t[u]==="";throw new Error("wtf?")}braceExpand(){return Xn(this.pattern,this.options)}parse(t){Wt(t);const n=this.options;if(t==="**")return ct;if(t==="")return"";let r,i=null;(r=t.match(ti))?i=n.dot?ni:ei:(r=t.match(Xr))?i=(n.nocase?n.dot?Hr:zr:n.dot?qr:Wr)(r[1]):(r=t.match(ri))?i=(n.nocase?n.dot?si:ii:n.dot?oi:ai)(r):(r=t.match(Yr))?i=n.dot?Kr:Zr:(r=t.match(Qr))&&(i=Jr);const a=nt.fromGlob(t,this.options).toMMPattern();return i&&typeof a=="object"&&Reflect.defineProperty(a,"test",{value:i}),a}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const n=this.options,r=n.noglobstar?"[^/]*?":n.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",i=new Set(n.nocase?["i"]:[]);let a=t.map(p=>{const o=p.map(s=>{if(s instanceof RegExp)for(const h of s.flags.split(""))i.add(h);return typeof s=="string"?s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):s===ct?ct:s._src});return o.forEach((s,h)=>{const c=o[h+1],m=o[h-1];s===ct&&m!==ct&&(m===void 0?c!==void 0&&c!==ct?o[h+1]="(?:\\/|"+r+"\\/)?"+c:o[h]=r:c===void 0?o[h-1]=m+"(?:\\/|"+r+")?":c!==ct&&(o[h-1]=m+"(?:\\/|\\/"+r+"\\/)"+c,o[h+1]=ct))}),o.filter(s=>s!==ct).join("/")}).join("|");const[u,l]=t.length>1?["(?:",")"]:["",""];a="^"+u+a+l+"$",this.negate&&(a="^(?!"+a+").+$");try{this.regexp=new RegExp(a,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.partial;if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&n)return!0;const r=this.options;this.isWindows&&(t=t.split("\\").join("/"));const i=this.slashSplit(t);this.debug(this.pattern,"split",i);const a=this.set;this.debug(this.pattern,"set",a);let u=i[i.length-1];if(!u)for(let l=i.length-2;!u&&l>=0;l--)u=i[l];for(let l=0;l<a.length;l++){const p=a[l];let o=i;if(r.matchBase&&p.length===1&&(o=[u]),this.matchOne(o,p,n))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate}static defaults(t){return et.defaults(t).Minimatch}}function Le(e){const t=new Error(`${arguments.length>1&&arguments[1]!==void 0?arguments[1]:""}Invalid response: ${e.status} ${e.statusText}`);return t.status=e.status,t.response=e,t}function Z(e,t){const{status:n}=t;if(n===401&&e.digest)return t;if(n>=400)throw Le(t);return t}function Tt(e,t){return arguments.length>2&&arguments[2]!==void 0&&arguments[2]?{data:t,headers:e.headers?Lr(e.headers):{},status:e.status,statusText:e.statusText}:t}et.AST=nt,et.Minimatch=qt,et.escape=function(e){let{windowsPathsNoEscape:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&")},et.unescape=Pt;const ui=(hn=function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=Y({url:V(e.remoteURL,G(t)),method:"COPY",headers:{Destination:V(e.remoteURL,G(n)),Overwrite:r.overwrite===!1?"F":"T",Depth:r.shallow?"0":"infinity"}},e,r);return u=function(l){Z(e,l)},(a=H(i,e))&&a.then||(a=Promise.resolve(a)),u?a.then(u):a;var a,u},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(hn.apply(this,e))}catch(n){return Promise.reject(n)}});var hn,De=k(635),ci=k(829),gt=k.n(ci),Nt=function(e){return e.Array="array",e.Object="object",e.Original="original",e}(Nt||{});function Mt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Nt.Original;const r=gt().get(e,t);return n==="array"&&Array.isArray(r)===!1?[r]:n==="object"&&Array.isArray(r)?r[0]:r}function Dt(e){return new Promise(t=>{t(function(n){const{multistatus:r}=n;if(r==="")return{multistatus:{response:[]}};if(!r)throw new Error("Invalid response: No root multistatus found");const i={multistatus:Array.isArray(r)?r[0]:r};return gt().set(i,"multistatus.response",Mt(i,"multistatus.response",Nt.Array)),gt().set(i,"multistatus.response",gt().get(i,"multistatus.response").map(a=>function(u){const l=Object.assign({},u);return l.status?gt().set(l,"status",Mt(l,"status",Nt.Object)):(gt().set(l,"propstat",Mt(l,"propstat",Nt.Object)),gt().set(l,"propstat.prop",Mt(l,"propstat.prop",Nt.Object))),l}(a))),i}(new De.XMLParser({allowBooleanAttributes:!0,attributeNamePrefix:"",textNodeName:"text",ignoreAttributes:!1,removeNSPrefix:!0,numberParseOptions:{hex:!0,leadingZeros:!1},attributeValueProcessor:(n,r,i)=>r==="true"||r==="false"?r==="true":r,tagValueProcessor(n,r,i){if(!i.endsWith("propstat.prop.displayname"))return r}}).parse(e)))})}function Yt(e,t){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const{getlastmodified:r=null,getcontentlength:i="0",resourcetype:a=null,getcontenttype:u=null,getetag:l=null}=e,p=a&&typeof a=="object"&&a.collection!==void 0?"directory":"file",o={filename:t,basename:Bt().basename(t),lastmod:r,size:parseInt(i,10),type:p,etag:typeof l=="string"?l.replace(/"/g,""):null};return p==="file"&&(o.mime=u&&typeof u=="string"?u.split(";")[0]:""),n&&(e.displayname!==void 0&&(e.displayname=String(e.displayname)),o.props=e),o}function Wn(e,t){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=null;try{e.multistatus.response[0].propstat&&(r=e.multistatus.response[0])}catch{}if(!r)throw new Error("Failed getting item stat: bad response");const{propstat:{prop:i,status:a}}=r,[u,l,p]=a.split(" ",3),o=parseInt(l,10);if(o>=400){const s=new Error(`Invalid response: ${o} ${p}`);throw s.status=o,s}return Yt(i,Lt(t),n)}function qn(e){switch(String(e)){case"-3":return"unlimited";case"-2":case"-1":return"unknown";default:return parseInt(String(e),10)}}function se(e,t,n){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const $e=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:r=!1}=n,i=Y({url:V(e.remoteURL,G(t)),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},e,n);return se(H(i,e),function(a){return Z(e,a),se(a.text(),function(u){return se(Dt(u),function(l){const p=Wn(l,t,r);return Tt(a,p,r)})})})});function zn(e,t,n){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const li=Hn(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=function(a){if(!a||a==="/")return[];let u=a;const l=[];do l.push(u),u=Bt().dirname(u);while(u&&u!=="/");return l}(Lt(t));r.sort((a,u)=>a.length>u.length?1:u.length>a.length?-1:0);let i=!1;return function(a,u,l){if(typeof a[fn]=="function"){let E=function(w){try{for(;!(p=h.next()).done;)if((w=u(p.value))&&w.then){if(!dn(w))return void w.then(E,s||(s=it.bind(null,o=new It,2)));w=w.v}o?it(o,1,w):o=w}catch(x){it(o||(o=new It),2,x)}};var p,o,s,h=a[fn]();if(E(),h.return){var c=function(w){try{p.done||h.return()}catch{}return w};if(o&&o.then)return o.then(c,function(w){throw c(w)});c()}return o}if(!("length"in a))throw new TypeError("Object is not iterable");for(var m=[],d=0;d<a.length;d++)m.push(a[d]);return function(E,w,x){var g,T,N=-1;return function _(v){try{for(;++N<E.length&&(!x||!x());)if((v=w(N))&&v.then){if(!dn(v))return void v.then(_,T||(T=it.bind(null,g=new It,2)));v=v.v}g?it(g,1,v):g=v}catch(P){it(g||(g=new It),2,P)}}(),g}(m,function(E){return u(m[E])},l)}(r,function(a){return u=function(){return function(p,o){try{var s=zn($e(e,a),function(h){if(h.type!=="directory")throw new Error(`Path includes a file: ${t}`)})}catch(h){return o(h)}return s&&s.then?s.then(void 0,o):s}(0,function(p){const o=p;return function(){if(o.status===404)return i=!0,pn(Ie(e,a,{...n,recursive:!1}));throw p}()})},(l=function(){if(i)return pn(Ie(e,a,{...n,recursive:!1}))}())&&l.then?l.then(u):u();var u,l},function(){return!1})});function Hn(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}function hi(){}function pn(e,t){return e&&e.then?e.then(hi):Promise.resolve()}const fn=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function it(e,t,n){if(!e.s){if(n instanceof It){if(!n.s)return void(n.o=it.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(it.bind(null,e,t),it.bind(null,e,2));e.s=t,e.v=n;const r=e.o;r&&r(e)}}const It=function(){function e(){}return e.prototype.then=function(t,n){const r=new e,i=this.s;if(i){const a=1&i?t:n;if(a){try{it(r,1,a(this.v))}catch(u){it(r,2,u)}return r}return this}return this.o=function(a){try{const u=a.v;1&a.s?it(r,1,t?t(u):u):n?it(r,1,n(u)):it(r,2,u)}catch(u){it(r,2,u)}},r},e}();function dn(e){return e instanceof It&&1&e.s}const Ie=Hn(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n.recursive===!0)return li(e,t,n);const r=Y({url:V(e.remoteURL,(i=G(t),i.endsWith("/")?i:i+"/")),method:"MKCOL"},e,n);var i;return zn(H(r,e),function(a){Z(e,a)})});var pi=k(388),gn=k.n(pi);const fi=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r={};if(typeof n.range=="object"&&typeof n.range.start=="number"){let l=`bytes=${n.range.start}-`;typeof n.range.end=="number"&&(l=`${l}${n.range.end}`),r.Range=l}const i=Y({url:V(e.remoteURL,G(t)),method:"GET",headers:r},e,n);return u=function(l){if(Z(e,l),r.Range&&l.status!==206){const p=new Error(`Invalid response code for partial request: ${l.status}`);throw p.status=l.status,p}return n.callback&&setTimeout(()=>{n.callback(l)},0),l.body},(a=H(i,e))&&a.then||(a=Promise.resolve(a)),u?a.then(u):a;var a,u}),di=()=>{},gi=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t,n){n.url||(n.url=V(e.remoteURL,G(t)));const r=Y(n,e,{});return a=function(u){return Z(e,u),u},(i=H(r,e))&&i.then||(i=Promise.resolve(i)),a?i.then(a):i;var i,a}),mi=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Y({url:V(e.remoteURL,G(t)),method:"DELETE"},e,n);return a=function(u){Z(e,u)},(i=H(r,e))&&i.then||(i=Promise.resolve(i)),a?i.then(a):i;var i,a}),Ei=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function(r,i){try{var a=(u=$e(e,t,n),l=function(){return!0},p?l?l(u):u:(u&&u.then||(u=Promise.resolve(u)),l?u.then(l):u))}catch(o){return i(o)}var u,l,p;return a&&a.then?a.then(void 0,i):a}(0,function(r){if(r.status===404)return!1;throw r})});function oe(e,t,n){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const yi=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Y({url:V(e.remoteURL,G(t),"/"),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:n.deep?"infinity":"1"}},e,n);return oe(H(r,e),function(i){return Z(e,i),oe(i.text(),function(a){if(!a)throw new Error("Failed parsing directory contents: Empty response");return oe(Dt(a),function(u){const l=Je(t);let p=function(o,s,h){let c=arguments.length>3&&arguments[3]!==void 0&&arguments[3],m=arguments.length>4&&arguments[4]!==void 0&&arguments[4];const d=Bt().join(s,"/"),{multistatus:{response:E}}=o,w=E.map(x=>{const g=function(N){try{return N.replace(/^https?:\/\/[^\/]+/,"")}catch(_){throw new st(_,"Failed normalising HREF")}}(x.href),{propstat:{prop:T}}=x;return Yt(T,d==="/"?decodeURIComponent(Lt(g)):Lt(Bt().relative(decodeURIComponent(d),decodeURIComponent(g))),c)});return m?w:w.filter(x=>x.basename&&(x.type==="file"||x.filename!==h.replace(/\/$/,"")))}(u,Je(e.remoteBasePath||e.remotePath),l,n.details,n.includeSelf);return n.glob&&(p=function(o,s){return o.filter(h=>et(h.filename,s,{matchBase:!0}))}(p,n.glob)),Tt(i,p,n.details)})})})});function Fe(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}const wi=Fe(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Y({url:V(e.remoteURL,G(t)),method:"GET",headers:{Accept:"text/plain"},transformResponse:[vi]},e,n);return zt(H(r,e),function(i){return Z(e,i),zt(i.text(),function(a){return Tt(i,a,n.details)})})});function zt(e,t,n){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const bi=Fe(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Y({url:V(e.remoteURL,G(t)),method:"GET"},e,n);return zt(H(r,e),function(i){let a;return Z(e,i),function(u,l){var p=u();return p&&p.then?p.then(l):l()}(function(){return zt(i.arrayBuffer(),function(u){a=u})},function(){return Tt(i,a,n.details)})})}),Ti=Fe(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{format:r="binary"}=n;if(r!=="binary"&&r!=="text")throw new st({info:{code:mt.InvalidOutputFormat}},`Invalid output format: ${r}`);return r==="text"?wi(e,t,n):bi(e,t,n)}),vi=e=>e;function Ni(e){return new De.XMLBuilder({attributeNamePrefix:"@_",format:!0,ignoreAttributes:!1,suppressEmptyNode:!0}).build(Yn({lockinfo:{"@_xmlns:d":"DAV:",lockscope:{exclusive:{}},locktype:{write:{}},owner:{href:e}}},"d"))}function Yn(e,t){const n={...e};for(const r in n)n.hasOwnProperty(r)&&(n[r]&&typeof n[r]=="object"&&r.indexOf(":")===-1?(n[`${t}:${r}`]=Yn(n[r],t),delete n[r]):/^@_/.test(r)===!1&&(n[`${t}:${r}`]=n[r],delete n[r]));return n}function Oe(e,t,n){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}function Zn(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}const Ii=Zn(function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=Y({url:V(e.remoteURL,G(t)),method:"UNLOCK",headers:{"Lock-Token":n}},e,r);return Oe(H(i,e),function(a){if(Z(e,a),a.status!==204&&a.status!==200)throw Le(a)})}),Oi=Zn(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{refreshToken:r,timeout:i=xi}=n,a={Accept:"text/plain,application/xml",Timeout:i};r&&(a.If=r);const u=Y({url:V(e.remoteURL,G(t)),method:"LOCK",headers:a,data:Ni(e.contactHref)},e,n);return Oe(H(u,e),function(l){return Z(e,l),Oe(l.text(),function(p){const o=(c=p,new De.XMLParser({removeNSPrefix:!0,parseAttributeValue:!0,parseTagValue:!0}).parse(c)),s=gt().get(o,"prop.lockdiscovery.activelock.locktoken.href"),h=gt().get(o,"prop.lockdiscovery.activelock.timeout");var c;if(!s)throw Le(l,"No lock token received: ");return{token:s,serverTimeout:h}})})}),xi="Infinite, Second-4100000000";function ae(e,t,n){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const _i=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=t.path||"/",r=Y({url:V(e.remoteURL,n),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},e,t);return ae(H(r,e),function(i){return Z(e,i),ae(i.text(),function(a){return ae(Dt(a),function(u){const l=function(p){try{const[o]=p.multistatus.response,{propstat:{prop:{"quota-used-bytes":s,"quota-available-bytes":h}}}=o;return s!==void 0&&h!==void 0?{used:parseInt(String(s),10),available:qn(h)}:null}catch{}return null}(u);return Tt(i,l,t.details)})})})});function ue(e,t,n){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const Ai=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:r=!1}=n,i=Y({url:V(e.remoteURL,G(t)),method:"SEARCH",headers:{Accept:"text/plain,application/xml","Content-Type":e.headers["Content-Type"]||"application/xml; charset=utf-8"}},e,n);return ue(H(i,e),function(a){return Z(e,a),ue(a.text(),function(u){return ue(Dt(u),function(l){const p=function(o,s,h){const c={truncated:!1,results:[]};return c.truncated=o.multistatus.response.some(m=>(m.status||m.propstat?.status).split(" ",3)?.[1]==="507"&&m.href.replace(/\/$/,"").endsWith(G(s).replace(/\/$/,""))),o.multistatus.response.forEach(m=>{if(m.propstat===void 0)return;const d=m.href.split("/").map(decodeURIComponent).join("/");c.results.push(Yt(m.propstat.prop,d,h))}),c}(l,t,r);return Tt(a,p,r)})})})}),Pi=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=Y({url:V(e.remoteURL,G(t)),method:"MOVE",headers:{Destination:V(e.remoteURL,G(n)),Overwrite:r.overwrite===!1?"F":"T"}},e,r);return u=function(l){Z(e,l)},(a=H(i,e))&&a.then||(a=Promise.resolve(a)),u?a.then(u):a;var a,u});var Si=k(172);const Ci=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const{contentLength:i=!0,overwrite:a=!0}=r,u={"Content-Type":"application/octet-stream"};i===!1||(u["Content-Length"]=typeof i=="number"?`${i}`:`${function(s){if(Un(s))return s.byteLength;if(Mn(s))return s.length;if(typeof s=="string")return(0,Si.d)(s);throw new st({info:{code:mt.DataTypeNoLength}},"Cannot calculate data length: Invalid type")}(n)}`),a||(u["If-None-Match"]="*");const l=Y({url:V(e.remoteURL,G(t)),method:"PUT",headers:u,data:n},e,r);return o=function(s){try{Z(e,s)}catch(h){const c=h;if(c.status!==412||a)throw c;return!1}return!0},(p=H(l,e))&&p.then||(p=Promise.resolve(p)),o?p.then(o):p;var p,o}),Kn=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Y({url:V(e.remoteURL,G(t)),method:"OPTIONS"},e,n);return a=function(u){try{Z(e,u)}catch(l){throw l}return{compliance:(u.headers.get("DAV")??"").split(",").map(l=>l.trim()),server:u.headers.get("Server")??""}},(i=H(r,e))&&i.then||(i=Promise.resolve(i)),a?i.then(a):i;var i,a});function Rt(e,t,n){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const Ri=je(function(e,t,n,r,i){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(n>r||n<0)throw new st({info:{code:mt.InvalidUpdateRange}},`Invalid update range ${n} for partial update`);const u={"Content-Type":"application/octet-stream","Content-Length":""+(r-n+1),"Content-Range":`bytes ${n}-${r}/*`},l=Y({url:V(e.remoteURL,G(t)),method:"PUT",headers:u,data:i},e,a);return Rt(H(l,e),function(p){Z(e,p)})});function mn(e,t){var n=e();return n&&n.then?n.then(t):t(n)}const Li=je(function(e,t,n,r,i){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(n>r||n<0)throw new st({info:{code:mt.InvalidUpdateRange}},`Invalid update range ${n} for partial update`);const u={"Content-Type":"application/x-sabredav-partialupdate","Content-Length":""+(r-n+1),"X-Update-Range":`bytes=${n}-${r}`},l=Y({url:V(e.remoteURL,G(t)),method:"PATCH",headers:u,data:i},e,a);return Rt(H(l,e),function(p){Z(e,p)})});function je(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}const Di=je(function(e,t,n,r,i){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};return Rt(Kn(e,t,a),function(u){let l=!1;return mn(function(){if(u.compliance.includes("sabredav-partialupdate"))return Rt(Li(e,t,n,r,i,a),function(p){return l=!0,p})},function(p){let o=!1;return l?p:mn(function(){if(u.server.includes("Apache")&&u.compliance.includes("<http://apache.org/dav/propset/fs/1>"))return Rt(Ri(e,t,n,r,i,a),function(s){return o=!0,s})},function(s){if(o)return s;throw new st({info:{code:mt.NotSupported}},"Not supported")})})})}),$i="https://github.com/perry-mitchell/webdav-client/blob/master/LOCK_CONTACT.md";function Fi(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{authType:n=null,remoteBasePath:r,contactHref:i=$i,ha1:a,headers:u={},httpAgent:l,httpsAgent:p,password:o,token:s,username:h,withCredentials:c}=t;let m=n;m||(m=h||o?rt.Password:rt.None);const d={authType:m,remoteBasePath:r,contactHref:i,ha1:a,headers:Object.assign({},u),httpAgent:l,httpsAgent:p,password:o,remotePath:Ir(e),remoteURL:e,token:s,username:h,withCredentials:c};return $n(d,h,o,s,a),{copyFile:(E,w,x)=>ui(d,E,w,x),createDirectory:(E,w)=>Ie(d,E,w),createReadStream:(E,w)=>function(x,g){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const N=new(gn()).PassThrough;return fi(x,g,T).then(_=>{_.pipe(N)}).catch(_=>{N.emit("error",_)}),N}(d,E,w),createWriteStream:(E,w,x)=>function(g,T){let N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:di;const v=new(gn()).PassThrough,P={};N.overwrite===!1&&(P["If-None-Match"]="*");const I=Y({url:V(g.remoteURL,G(T)),method:"PUT",headers:P,data:v,maxRedirects:0},g,N);return H(I,g).then(b=>Z(g,b)).then(b=>{setTimeout(()=>{_(b)},0)}).catch(b=>{v.emit("error",b)}),v}(d,E,w,x),customRequest:(E,w)=>gi(d,E,w),deleteFile:(E,w)=>mi(d,E,w),exists:(E,w)=>Ei(d,E,w),getDirectoryContents:(E,w)=>yi(d,E,w),getFileContents:(E,w)=>Ti(d,E,w),getFileDownloadLink:E=>function(w,x){let g=V(w.remoteURL,G(x));const T=/^https:/i.test(g)?"https":"http";switch(w.authType){case rt.None:break;case rt.Password:{const N=en(w.headers.Authorization.replace(/^Basic /i,"").trim());g=g.replace(/^https?:\/\//,`${T}://${N}@`);break}default:throw new st({info:{code:mt.LinkUnsupportedAuthType}},`Unsupported auth type for file link: ${w.authType}`)}return g}(d,E),getFileUploadLink:E=>function(w,x){let g=`${V(w.remoteURL,G(x))}?Content-Type=application/octet-stream`;const T=/^https:/i.test(g)?"https":"http";switch(w.authType){case rt.None:break;case rt.Password:{const N=en(w.headers.Authorization.replace(/^Basic /i,"").trim());g=g.replace(/^https?:\/\//,`${T}://${N}@`);break}default:throw new st({info:{code:mt.LinkUnsupportedAuthType}},`Unsupported auth type for file link: ${w.authType}`)}return g}(d,E),getHeaders:()=>Object.assign({},d.headers),getQuota:E=>_i(d,E),lock:(E,w)=>Oi(d,E,w),moveFile:(E,w,x)=>Pi(d,E,w,x),putFileContents:(E,w,x)=>Ci(d,E,w,x),partialUpdateFileContents:(E,w,x,g,T)=>Di(d,E,w,x,g,T),getDAVCompliance:E=>Kn(d,E),search:(E,w)=>Ai(d,E,w),setHeaders:E=>{d.headers=Object.assign({},E)},stat:(E,w)=>$e(d,E,w),unlock:(E,w,x)=>Ii(d,E,w,x)}}lt.hT,lt.O4,lt.Kd,lt.YK;var ji=lt.UU,Ui=lt.Gu;lt.ky,lt.h4,lt.ch,lt.hq,lt.i5;function Mi(e){return e&&e.split("/").map(encodeURIComponent).join("/")}const wt=fr().setApp("@nextcloud/files").detectUser().build();var Ue=(e=>(e.Folder="folder",e.File="file",e))(Ue||{}),ht=(e=>(e[e.NONE=0]="NONE",e[e.CREATE=4]="CREATE",e[e.READ=1]="READ",e[e.UPDATE=2]="UPDATE",e[e.DELETE=8]="DELETE",e[e.SHARE=16]="SHARE",e[e.ALL=31]="ALL",e))(ht||{});const Qn=function(e,t){return e.match(t)!==null},Et=(e,t)=>{if(e.id&&typeof e.id!="number")throw new Error("Invalid id type of value");if(!e.source)throw new Error("Missing mandatory source");try{new URL(e.source)}catch{throw new Error("Invalid source format, source must be a valid URL")}if(!e.source.startsWith("http"))throw new Error("Invalid source format, only http(s) is supported");if(e.displayname&&typeof e.displayname!="string")throw new Error("Invalid displayname type");if(e.mtime&&!(e.mtime instanceof Date))throw new Error("Invalid mtime type");if(e.crtime&&!(e.crtime instanceof Date))throw new Error("Invalid crtime type");if(!e.mime||typeof e.mime!="string"||!e.mime.match(/^[-\w.]+\/[-+\w.]+$/gi))throw new Error("Missing or invalid mandatory mime");if("size"in e&&typeof e.size!="number"&&e.size!==void 0)throw new Error("Invalid size type");if("permissions"in e&&e.permissions!==void 0&&!(typeof e.permissions=="number"&&e.permissions>=ht.NONE&&e.permissions<=ht.ALL))throw new Error("Invalid permissions");if(e.owner&&e.owner!==null&&typeof e.owner!="string")throw new Error("Invalid owner type");if(e.attributes&&typeof e.attributes!="object")throw new Error("Invalid attributes type");if(e.root&&typeof e.root!="string")throw new Error("Invalid root type");if(e.root&&!e.root.startsWith("/"))throw new Error("Root must start with a leading slash");if(e.root&&!e.source.includes(e.root))throw new Error("Root must be part of the source");if(e.root&&Qn(e.source,t)){const n=e.source.match(t)[0];if(!e.source.includes(bt.join(n,e.root)))throw new Error("The root must be relative to the service. e.g /files/emma")}if(e.status&&!Object.values(Me).includes(e.status))throw new Error("Status must be a valid NodeStatus")};var Me=(e=>(e.NEW="new",e.FAILED="failed",e.LOADING="loading",e.LOCKED="locked",e))(Me||{});class Zt{_data;_attributes;_knownDavService=/(remote|public)\.php\/(web)?dav/i;readonlyAttributes=Object.entries(Object.getOwnPropertyDescriptors(Zt.prototype)).filter(t=>typeof t[1].get=="function"&&t[0]!=="__proto__").map(t=>t[0]);handler={set:(t,n,r)=>this.readonlyAttributes.includes(n)?!1:Reflect.set(t,n,r),deleteProperty:(t,n)=>this.readonlyAttributes.includes(n)?!1:Reflect.deleteProperty(t,n),get:(t,n,r)=>this.readonlyAttributes.includes(n)?(wt.warn(`Accessing "Node.attributes.${n}" is deprecated, access it directly on the Node instance.`),Reflect.get(this,n)):Reflect.get(t,n,r)};constructor(t,n){t.mime||(t.mime="application/octet-stream"),Et(t,n||this._knownDavService),this._data={displayname:t.attributes?.displayname,...t,attributes:{}},this._attributes=new Proxy(this._data.attributes,this.handler),this.update(t.attributes??{}),n&&(this._knownDavService=n)}get source(){return this._data.source.replace(/\/$/i,"")}get encodedSource(){const{origin:t}=new URL(this.source);return t+Mi(this.source.slice(t.length))}get basename(){return bt.basename(this.source)}get displayname(){return this._data.displayname||this.basename}set displayname(t){Et({...this._data,displayname:t},this._knownDavService),this._data.displayname=t}get extension(){return bt.extname(this.source)}get dirname(){if(this.root){let n=this.source;this.isDavResource&&(n=n.split(this._knownDavService).pop());const r=n.indexOf(this.root),i=this.root.replace(/\/$/,"");return bt.dirname(n.slice(r+i.length)||"/")}const t=new URL(this.source);return bt.dirname(t.pathname)}get mime(){return this._data.mime||"application/octet-stream"}set mime(t){t??="application/octet-stream",Et({...this._data,mime:t},this._knownDavService),this._data.mime=t}get mtime(){return this._data.mtime}set mtime(t){Et({...this._data,mtime:t},this._knownDavService),this._data.mtime=t}get crtime(){return this._data.crtime}get size(){return this._data.size}set size(t){Et({...this._data,size:t},this._knownDavService),this.updateMtime(),this._data.size=t}get attributes(){return this._attributes}get permissions(){return this.owner===null&&!this.isDavResource?ht.READ:this._data.permissions!==void 0?this._data.permissions:ht.NONE}set permissions(t){Et({...this._data,permissions:t},this._knownDavService),this.updateMtime(),this._data.permissions=t}get owner(){return this.isDavResource?this._data.owner:null}get isDavResource(){return Qn(this.source,this._knownDavService)}get isDavRessource(){return this.isDavResource}get root(){return this._data.root?this._data.root.replace(/^(.+)\/$/,"$1"):this.isDavResource&&bt.dirname(this.source).split(this._knownDavService).pop()||null}get path(){if(this.root){let t=this.source;this.isDavResource&&(t=t.split(this._knownDavService).pop());const n=t.indexOf(this.root),r=this.root.replace(/\/$/,"");return t.slice(n+r.length)||"/"}return(this.dirname+"/"+this.basename).replace(/\/\//g,"/")}get fileid(){return this._data?.id}get status(){return this._data?.status}set status(t){Et({...this._data,status:t},this._knownDavService),this._data.status=t}get data(){return structuredClone(this._data)}move(t){Et({...this._data,source:t},this._knownDavService);const n=this.basename;this._data.source=t,this.displayname===n&&this.basename!==n&&(this.displayname=this.basename)}rename(t){if(t.includes("/"))throw new Error("Invalid basename");this.move(bt.dirname(this.source)+"/"+t)}updateMtime(){this._data.mtime&&(this._data.mtime=new Date)}update(t){for(const[n,r]of Object.entries(t))try{r===void 0?delete this.attributes[n]:this.attributes[n]=r}catch(i){if(i instanceof TypeError)continue;throw i}}}class ke extends Zt{get type(){return Ue.File}clone(){return new ke(this.data)}}class Be extends Zt{constructor(t){super({...t,mime:"httpd/unix-directory"})}get type(){return Ue.Folder}get extension(){return null}get mime(){return"httpd/unix-directory"}clone(){return new Be(this.data)}}const ki=function(e=""){let t=ht.NONE;return e&&((e.includes("C")||e.includes("K"))&&(t|=ht.CREATE),e.includes("G")&&(t|=ht.READ),(e.includes("W")||e.includes("N")||e.includes("V"))&&(t|=ht.UPDATE),e.includes("D")&&(t|=ht.DELETE),e.includes("R")&&(t|=ht.SHARE)),t},Jn=["d:getcontentlength","d:getcontenttype","d:getetag","d:getlastmodified","d:creationdate","d:displayname","d:quota-available-bytes","d:resourcetype","nc:has-preview","nc:is-encrypted","nc:mount-type","oc:comments-unread","oc:favorite","oc:fileid","oc:owner-display-name","oc:owner-id","oc:permissions","oc:size"],tr={d:"DAV:",nc:"http://nextcloud.org/ns",oc:"http://owncloud.org/ns",ocs:"http://open-collaboration-services.org/ns"},Is=function(e,t={nc:"http://nextcloud.org/ns"}){typeof window._nc_dav_properties>"u"&&(window._nc_dav_properties=[...Jn],window._nc_dav_namespaces={...tr});const n={...window._nc_dav_namespaces,...t};if(window._nc_dav_properties.find(i=>i===e))return wt.warn(`${e} already registered`,{prop:e}),!1;if(e.startsWith("<")||e.split(":").length!==2)return wt.error(`${e} is not valid. See example: 'oc:fileid'`,{prop:e}),!1;const r=e.split(":")[0];return n[r]?(window._nc_dav_properties.push(e),window._nc_dav_namespaces=n,!0):(wt.error(`${e} namespace unknown`,{prop:e,namespaces:n}),!1)},Ge=function(){return typeof window._nc_dav_properties>"u"&&(window._nc_dav_properties=[...Jn]),window._nc_dav_properties.map(e=>`<${e} />`).join(" ")},Ve=function(){return typeof window._nc_dav_namespaces>"u"&&(window._nc_dav_namespaces={...tr}),Object.keys(window._nc_dav_namespaces).map(e=>`xmlns:${e}="${window._nc_dav_namespaces?.[e]}"`).join(" ")},Os=function(){return`<?xml version="1.0"?>
		<d:propfind ${Ve()}>
			<d:prop>
				${Ge()}
			</d:prop>
		</d:propfind>`},Bi=function(){return`<?xml version="1.0"?>
		<oc:filter-files ${Ve()}>
			<d:prop>
				${Ge()}
			</d:prop>
			<oc:filter-rules>
				<oc:favorite>1</oc:favorite>
			</oc:filter-rules>
		</oc:filter-files>`},xs=function(e){return`<?xml version="1.0" encoding="UTF-8"?>
<d:searchrequest ${Ve()}
	xmlns:ns="https://github.com/icewind1991/SearchDAV/ns">
	<d:basicsearch>
		<d:select>
			<d:prop>
				${Ge()}
			</d:prop>
		</d:select>
		<d:from>
			<d:scope>
				<d:href>/files/${_e()?.uid}/</d:href>
				<d:depth>infinity</d:depth>
			</d:scope>
		</d:from>
		<d:where>
			<d:and>
				<d:or>
					<d:not>
						<d:eq>
							<d:prop>
								<d:getcontenttype/>
							</d:prop>
							<d:literal>httpd/unix-directory</d:literal>
						</d:eq>
					</d:not>
					<d:eq>
						<d:prop>
							<oc:size/>
						</d:prop>
						<d:literal>0</d:literal>
					</d:eq>
				</d:or>
				<d:gt>
					<d:prop>
						<d:getlastmodified/>
					</d:prop>
					<d:literal>${e}</d:literal>
				</d:gt>
			</d:and>
		</d:where>
		<d:orderby>
			<d:order>
				<d:prop>
					<d:getlastmodified/>
				</d:prop>
				<d:descending/>
			</d:order>
		</d:orderby>
		<d:limit>
			<d:nresults>100</d:nresults>
			<ns:firstresult>0</ns:firstresult>
		</d:limit>
	</d:basicsearch>
</d:searchrequest>`};function Gi(){return Ae()?`/files/${pr()}`:`/files/${_e()?.uid}`}const er=Gi();function Vi(){const e=lr("dav");return Ae()?e.replace("remote.php","public.php"):e}const nr=Vi(),_s=function(e=nr,t={}){const n=ji(e,{headers:t});function r(i){n.setHeaders({...t,"X-Requested-With":"XMLHttpRequest",requesttoken:i??""})}return ur(r),r(cr()),Ui().patch("fetch",(i,a)=>{const u=a.headers;return u?.method&&(a.method=u.method,delete u.method),fetch(i,a)}),n},As=(e,t="/",n=er)=>{const r=new AbortController;return new dt(async(i,a,u)=>{u(()=>r.abort());try{const l=(await e.getDirectoryContents(`${n}${t}`,{signal:r.signal,details:!0,data:Bi(),headers:{method:"REPORT"},includeSelf:!0})).data.filter(p=>p.filename!==t).map(p=>Xi(p,n));i(l)}catch(l){a(l)}})},Xi=function(e,t=er,n=nr){let r=_e()?.uid;if(Ae())r=r??"anonymous";else if(!r)throw new Error("No user id found");const i=e.props,a=ki(i?.permissions),u=String(i?.["owner-id"]||r),l=i.fileid||0,p=new Date(Date.parse(e.lastmod)),o=new Date(Date.parse(i.creationdate)),s={id:l,source:`${n}${e.filename}`,mtime:!isNaN(p.getTime())&&p.getTime()!==0?p:void 0,crtime:!isNaN(o.getTime())&&o.getTime()!==0?o:void 0,mime:e.mime||"application/octet-stream",displayname:i.displayname!==void 0?String(i.displayname):void 0,size:i?.size||Number.parseInt(i.getcontentlength||"0"),status:l<0?Me.FAILED:void 0,permissions:a,owner:u,root:t,attributes:{...e,...i,hasPreview:i?.["has-preview"]}};return delete s.attributes?.props,e.type==="file"?new ke(s):new Be(s)};var rr={},xe={exports:{}};const Wi=dr(hr);(function(e,t){var n=Wi,r=n.Buffer;function i(u,l){for(var p in u)l[p]=u[p]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=a);function a(u,l,p){return r(u,l,p)}a.prototype=Object.create(r.prototype),i(r,a),a.from=function(u,l,p){if(typeof u=="number")throw new TypeError("Argument must not be a number");return r(u,l,p)},a.alloc=function(u,l,p){if(typeof u!="number")throw new TypeError("Argument must be a number");var o=r(u);return l!==void 0?typeof p=="string"?o.fill(l,p):o.fill(l):o.fill(0),o},a.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return r(u)},a.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(u)}})(xe,xe.exports);var qi=xe.exports,Xe=qi.Buffer,En=Xe.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function zi(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function Hi(e){var t=zi(e);if(typeof t!="string"&&(Xe.isEncoding===En||!En(e)))throw new Error("Unknown encoding: "+e);return t||e}rr.StringDecoder=St;function St(e){this.encoding=Hi(e);var t;switch(this.encoding){case"utf16le":this.text=ts,this.end=es,t=4;break;case"utf8":this.fillLast=Ki,t=4;break;case"base64":this.text=ns,this.end=rs,t=3;break;default:this.write=is,this.end=ss;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Xe.allocUnsafe(t)}St.prototype.write=function(e){if(e.length===0)return"";var t,n;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},St.prototype.end=Ji,St.prototype.text=Qi,St.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function ce(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function Yi(e,t,n){var r=t.length-1;if(r<n)return 0;var i=ce(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||i===-2?0:(i=ce(t[r]),i>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||i===-2?0:(i=ce(t[r]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function Zi(e,t,n){if((t[0]&192)!==128)return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"�"}}function Ki(e){var t=this.lastTotal-this.lastNeed,n=Zi(this,e);if(n!==void 0)return n;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function Qi(e,t){var n=Yi(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)}function Ji(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t}function ts(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function es(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function ns(e,t){var n=(e.length-t)%3;return n===0?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,n===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function rs(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function is(e){return e.toString(this.encoding)}function ss(e){return e&&e.length?this.write(e):""}var le={},yn,wn;function ir(){return wn||(wn=1,yn=typeof Ct=="object"&&le&&le.NODE_DEBUG&&/\bsemver\b/i.test(le.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{}),yn}var he,bn;function sr(){if(bn)return he;bn=1;const e="2.0.0",t=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,r=16,i=t-6;return he={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:i,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},he}var pe={exports:{}},Tn;function os(){return Tn||(Tn=1,function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=sr(),a=ir();t=e.exports={};const u=t.re=[],l=t.safeRe=[],p=t.src=[],o=t.t={};let s=0;const h="[a-zA-Z0-9-]",c=[["\\s",1],["\\d",i],[h,r]],m=E=>{for(const[w,x]of c)E=E.split(`${w}*`).join(`${w}{0,${x}}`).split(`${w}+`).join(`${w}{1,${x}}`);return E},d=(E,w,x)=>{const g=m(w),T=s++;a(E,T,w),o[E]=T,p[T]=w,u[T]=new RegExp(w,x?"g":void 0),l[T]=new RegExp(g,x?"g":void 0)};d("NUMERICIDENTIFIER","0|[1-9]\\d*"),d("NUMERICIDENTIFIERLOOSE","\\d+"),d("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),d("MAINVERSION",`(${p[o.NUMERICIDENTIFIER]})\\.(${p[o.NUMERICIDENTIFIER]})\\.(${p[o.NUMERICIDENTIFIER]})`),d("MAINVERSIONLOOSE",`(${p[o.NUMERICIDENTIFIERLOOSE]})\\.(${p[o.NUMERICIDENTIFIERLOOSE]})\\.(${p[o.NUMERICIDENTIFIERLOOSE]})`),d("PRERELEASEIDENTIFIER",`(?:${p[o.NUMERICIDENTIFIER]}|${p[o.NONNUMERICIDENTIFIER]})`),d("PRERELEASEIDENTIFIERLOOSE",`(?:${p[o.NUMERICIDENTIFIERLOOSE]}|${p[o.NONNUMERICIDENTIFIER]})`),d("PRERELEASE",`(?:-(${p[o.PRERELEASEIDENTIFIER]}(?:\\.${p[o.PRERELEASEIDENTIFIER]})*))`),d("PRERELEASELOOSE",`(?:-?(${p[o.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${p[o.PRERELEASEIDENTIFIERLOOSE]})*))`),d("BUILDIDENTIFIER",`${h}+`),d("BUILD",`(?:\\+(${p[o.BUILDIDENTIFIER]}(?:\\.${p[o.BUILDIDENTIFIER]})*))`),d("FULLPLAIN",`v?${p[o.MAINVERSION]}${p[o.PRERELEASE]}?${p[o.BUILD]}?`),d("FULL",`^${p[o.FULLPLAIN]}$`),d("LOOSEPLAIN",`[v=\\s]*${p[o.MAINVERSIONLOOSE]}${p[o.PRERELEASELOOSE]}?${p[o.BUILD]}?`),d("LOOSE",`^${p[o.LOOSEPLAIN]}$`),d("GTLT","((?:<|>)?=?)"),d("XRANGEIDENTIFIERLOOSE",`${p[o.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),d("XRANGEIDENTIFIER",`${p[o.NUMERICIDENTIFIER]}|x|X|\\*`),d("XRANGEPLAIN",`[v=\\s]*(${p[o.XRANGEIDENTIFIER]})(?:\\.(${p[o.XRANGEIDENTIFIER]})(?:\\.(${p[o.XRANGEIDENTIFIER]})(?:${p[o.PRERELEASE]})?${p[o.BUILD]}?)?)?`),d("XRANGEPLAINLOOSE",`[v=\\s]*(${p[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${p[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${p[o.XRANGEIDENTIFIERLOOSE]})(?:${p[o.PRERELEASELOOSE]})?${p[o.BUILD]}?)?)?`),d("XRANGE",`^${p[o.GTLT]}\\s*${p[o.XRANGEPLAIN]}$`),d("XRANGELOOSE",`^${p[o.GTLT]}\\s*${p[o.XRANGEPLAINLOOSE]}$`),d("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),d("COERCE",`${p[o.COERCEPLAIN]}(?:$|[^\\d])`),d("COERCEFULL",p[o.COERCEPLAIN]+`(?:${p[o.PRERELEASE]})?(?:${p[o.BUILD]})?(?:$|[^\\d])`),d("COERCERTL",p[o.COERCE],!0),d("COERCERTLFULL",p[o.COERCEFULL],!0),d("LONETILDE","(?:~>?)"),d("TILDETRIM",`(\\s*)${p[o.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",d("TILDE",`^${p[o.LONETILDE]}${p[o.XRANGEPLAIN]}$`),d("TILDELOOSE",`^${p[o.LONETILDE]}${p[o.XRANGEPLAINLOOSE]}$`),d("LONECARET","(?:\\^)"),d("CARETTRIM",`(\\s*)${p[o.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",d("CARET",`^${p[o.LONECARET]}${p[o.XRANGEPLAIN]}$`),d("CARETLOOSE",`^${p[o.LONECARET]}${p[o.XRANGEPLAINLOOSE]}$`),d("COMPARATORLOOSE",`^${p[o.GTLT]}\\s*(${p[o.LOOSEPLAIN]})$|^$`),d("COMPARATOR",`^${p[o.GTLT]}\\s*(${p[o.FULLPLAIN]})$|^$`),d("COMPARATORTRIM",`(\\s*)${p[o.GTLT]}\\s*(${p[o.LOOSEPLAIN]}|${p[o.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",d("HYPHENRANGE",`^\\s*(${p[o.XRANGEPLAIN]})\\s+-\\s+(${p[o.XRANGEPLAIN]})\\s*$`),d("HYPHENRANGELOOSE",`^\\s*(${p[o.XRANGEPLAINLOOSE]})\\s+-\\s+(${p[o.XRANGEPLAINLOOSE]})\\s*$`),d("STAR","(<|>)?=?\\s*\\*"),d("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),d("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(pe,pe.exports)),pe.exports}var fe,vn;function as(){if(vn)return fe;vn=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return fe=n=>n?typeof n!="object"?e:n:t,fe}var de,Nn;function us(){if(Nn)return de;Nn=1;const e=/^[0-9]+$/,t=(n,r)=>{const i=e.test(n),a=e.test(r);return i&&a&&(n=+n,r=+r),n===r?0:i&&!a?-1:a&&!i?1:n<r?-1:1};return de={compareIdentifiers:t,rcompareIdentifiers:(n,r)=>t(r,n)},de}var ge,In;function or(){if(In)return ge;In=1;const e=ir(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:n}=sr(),{safeRe:r,t:i}=os(),a=as(),{compareIdentifiers:u}=us();class l{constructor(o,s){if(s=a(s),o instanceof l){if(o.loose===!!s.loose&&o.includePrerelease===!!s.includePrerelease)return o;o=o.version}else if(typeof o!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof o}".`);if(o.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",o,s),this.options=s,this.loose=!!s.loose,this.includePrerelease=!!s.includePrerelease;const h=o.trim().match(s.loose?r[i.LOOSE]:r[i.FULL]);if(!h)throw new TypeError(`Invalid Version: ${o}`);if(this.raw=o,this.major=+h[1],this.minor=+h[2],this.patch=+h[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");h[4]?this.prerelease=h[4].split(".").map(c=>{if(/^[0-9]+$/.test(c)){const m=+c;if(m>=0&&m<n)return m}return c}):this.prerelease=[],this.build=h[5]?h[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(o){if(e("SemVer.compare",this.version,this.options,o),!(o instanceof l)){if(typeof o=="string"&&o===this.version)return 0;o=new l(o,this.options)}return o.version===this.version?0:this.compareMain(o)||this.comparePre(o)}compareMain(o){return o instanceof l||(o=new l(o,this.options)),u(this.major,o.major)||u(this.minor,o.minor)||u(this.patch,o.patch)}comparePre(o){if(o instanceof l||(o=new l(o,this.options)),this.prerelease.length&&!o.prerelease.length)return-1;if(!this.prerelease.length&&o.prerelease.length)return 1;if(!this.prerelease.length&&!o.prerelease.length)return 0;let s=0;do{const h=this.prerelease[s],c=o.prerelease[s];if(e("prerelease compare",s,h,c),h===void 0&&c===void 0)return 0;if(c===void 0)return 1;if(h===void 0)return-1;if(h!==c)return u(h,c)}while(++s)}compareBuild(o){o instanceof l||(o=new l(o,this.options));let s=0;do{const h=this.build[s],c=o.build[s];if(e("build compare",s,h,c),h===void 0&&c===void 0)return 0;if(c===void 0)return 1;if(h===void 0)return-1;if(h!==c)return u(h,c)}while(++s)}inc(o,s,h){switch(o){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",s,h);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",s,h);break;case"prepatch":this.prerelease.length=0,this.inc("patch",s,h),this.inc("pre",s,h);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",s,h),this.inc("pre",s,h);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const c=Number(h)?1:0;if(!s&&h===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[c];else{let m=this.prerelease.length;for(;--m>=0;)typeof this.prerelease[m]=="number"&&(this.prerelease[m]++,m=-2);if(m===-1){if(s===this.prerelease.join(".")&&h===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(c)}}if(s){let m=[s,c];h===!1&&(m=[s]),u(this.prerelease[0],s)===0?isNaN(this.prerelease[1])&&(this.prerelease=m):this.prerelease=m}break}default:throw new Error(`invalid increment argument: ${o}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return ge=l,ge}var me,On;function cs(){if(On)return me;On=1;const e=or();return me=(t,n,r=!1)=>{if(t instanceof e)return t;try{return new e(t,n)}catch(i){if(!r)return null;throw i}},me}var Ee,xn;function ls(){if(xn)return Ee;xn=1;const e=cs();return Ee=(t,n)=>{const r=e(t,n);return r?r.version:null},Ee}ls();var ye,_n;function hs(){if(_n)return ye;_n=1;const e=or();return ye=(t,n)=>new e(t,n).major,ye}hs();class Ps{_header;constructor(t){this.validateHeader(t),this._header=t}get id(){return this._header.id}get order(){return this._header.order}get enabled(){return this._header.enabled}get render(){return this._header.render}get updated(){return this._header.updated}validateHeader(t){if(!t.id||!t.render||!t.updated)throw new Error("Invalid header: id, render and updated are required");if(typeof t.id!="string")throw new Error("Invalid id property");if(t.enabled!==void 0&&typeof t.enabled!="function")throw new Error("Invalid enabled property");if(t.render&&typeof t.render!="function")throw new Error("Invalid render property");if(t.updated&&typeof t.updated!="function")throw new Error("Invalid updated property")}}const Ss=function(e){if(typeof window._nc_filelistheader>"u"&&(window._nc_filelistheader=[],wt.debug("FileListHeaders initialized")),window._nc_filelistheader.find(t=>t.id===e.id)){wt.error(`Header ${e.id} already registered`,{header:e});return}window._nc_filelistheader.push(e)};var An={},Pn;function ps(){return Pn||(Pn=1,function(e){(function(t){t.parser=function(y,f){return new r(y,f)},t.SAXParser=r,t.SAXStream=s,t.createStream=o,t.MAX_BUFFER_LENGTH=64*1024;var n=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function r(y,f){if(!(this instanceof r))return new r(y,f);var S=this;a(S),S.q=S.c="",S.bufferCheckPosition=t.MAX_BUFFER_LENGTH,S.opt=f||{},S.opt.lowercase=S.opt.lowercase||S.opt.lowercasetags,S.looseCase=S.opt.lowercase?"toLowerCase":"toUpperCase",S.tags=[],S.closed=S.closedRoot=S.sawRoot=!1,S.tag=S.error=null,S.strict=!!y,S.noscript=!!(y||S.opt.noscript),S.state=b.BEGIN,S.strictEntities=S.opt.strictEntities,S.ENTITIES=S.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),S.attribList=[],S.opt.xmlns&&(S.ns=Object.create(E)),S.opt.unquotedAttributeValues===void 0&&(S.opt.unquotedAttributeValues=!y),S.trackPosition=S.opt.position!==!1,S.trackPosition&&(S.position=S.line=S.column=0),R(S,"onready")}Object.create||(Object.create=function(y){function f(){}f.prototype=y;var S=new f;return S}),Object.keys||(Object.keys=function(y){var f=[];for(var S in y)y.hasOwnProperty(S)&&f.push(S);return f});function i(y){for(var f=Math.max(t.MAX_BUFFER_LENGTH,10),S=0,O=0,U=n.length;O<U;O++){var q=y[n[O]].length;if(q>f)switch(n[O]){case"textNode":A(y);break;case"cdata":L(y,"oncdata",y.cdata),y.cdata="";break;case"script":L(y,"onscript",y.script),y.script="";break;default:D(y,"Max buffer length exceeded: "+n[O])}S=Math.max(S,q)}var z=t.MAX_BUFFER_LENGTH-S;y.bufferCheckPosition=z+y.position}function a(y){for(var f=0,S=n.length;f<S;f++)y[n[f]]=""}function u(y){A(y),y.cdata!==""&&(L(y,"oncdata",y.cdata),y.cdata=""),y.script!==""&&(L(y,"onscript",y.script),y.script="")}r.prototype={end:function(){j(this)},write:Kt,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){u(this)}};var l;try{l=require("stream").Stream}catch{l=function(){}}l||(l=function(){});var p=t.EVENTS.filter(function(y){return y!=="error"&&y!=="end"});function o(y,f){return new s(y,f)}function s(y,f){if(!(this instanceof s))return new s(y,f);l.apply(this),this._parser=new r(y,f),this.writable=!0,this.readable=!0;var S=this;this._parser.onend=function(){S.emit("end")},this._parser.onerror=function(O){S.emit("error",O),S._parser.error=null},this._decoder=null,p.forEach(function(O){Object.defineProperty(S,"on"+O,{get:function(){return S._parser["on"+O]},set:function(U){if(!U)return S.removeAllListeners(O),S._parser["on"+O]=U,U;S.on(O,U)},enumerable:!0,configurable:!1})})}s.prototype=Object.create(l.prototype,{constructor:{value:s}}),s.prototype.write=function(y){if(typeof Jt=="function"&&typeof Jt.isBuffer=="function"&&Jt.isBuffer(y)){if(!this._decoder){var f=rr.StringDecoder;this._decoder=new f("utf8")}y=this._decoder.write(y)}return this._parser.write(y.toString()),this.emit("data",y),!0},s.prototype.end=function(y){return y&&y.length&&this.write(y),this._parser.end(),!0},s.prototype.on=function(y,f){var S=this;return!S._parser["on"+y]&&p.indexOf(y)!==-1&&(S._parser["on"+y]=function(){var O=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);O.splice(0,0,y),S.emit.apply(S,O)}),l.prototype.on.call(S,y,f)};var h="[CDATA[",c="DOCTYPE",m="http://www.w3.org/XML/1998/namespace",d="http://www.w3.org/2000/xmlns/",E={xml:m,xmlns:d},w=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,x=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,g=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,T=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function N(y){return y===" "||y===`
`||y==="\r"||y==="	"}function _(y){return y==='"'||y==="'"}function v(y){return y===">"||N(y)}function P(y,f){return y.test(f)}function I(y,f){return!P(y,f)}var b=0;t.STATE={BEGIN:b++,BEGIN_WHITESPACE:b++,TEXT:b++,TEXT_ENTITY:b++,OPEN_WAKA:b++,SGML_DECL:b++,SGML_DECL_QUOTED:b++,DOCTYPE:b++,DOCTYPE_QUOTED:b++,DOCTYPE_DTD:b++,DOCTYPE_DTD_QUOTED:b++,COMMENT_STARTING:b++,COMMENT:b++,COMMENT_ENDING:b++,COMMENT_ENDED:b++,CDATA:b++,CDATA_ENDING:b++,CDATA_ENDING_2:b++,PROC_INST:b++,PROC_INST_BODY:b++,PROC_INST_ENDING:b++,OPEN_TAG:b++,OPEN_TAG_SLASH:b++,ATTRIB:b++,ATTRIB_NAME:b++,ATTRIB_NAME_SAW_WHITE:b++,ATTRIB_VALUE:b++,ATTRIB_VALUE_QUOTED:b++,ATTRIB_VALUE_CLOSED:b++,ATTRIB_VALUE_UNQUOTED:b++,ATTRIB_VALUE_ENTITY_Q:b++,ATTRIB_VALUE_ENTITY_U:b++,CLOSE_TAG:b++,CLOSE_TAG_SAW_WHITE:b++,SCRIPT:b++,SCRIPT_ENDING:b++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(y){var f=t.ENTITIES[y],S=typeof f=="number"?String.fromCharCode(f):f;t.ENTITIES[y]=S});for(var C in t.STATE)t.STATE[t.STATE[C]]=C;b=t.STATE;function R(y,f,S){y[f]&&y[f](S)}function L(y,f,S){y.textNode&&A(y),R(y,f,S)}function A(y){y.textNode=$(y.opt,y.textNode),y.textNode&&R(y,"ontext",y.textNode),y.textNode=""}function $(y,f){return y.trim&&(f=f.trim()),y.normalize&&(f=f.replace(/\s+/g," ")),f}function D(y,f){return A(y),y.trackPosition&&(f+=`
Line: `+y.line+`
Column: `+y.column+`
Char: `+y.c),f=new Error(f),y.error=f,R(y,"onerror",f),y}function j(y){return y.sawRoot&&!y.closedRoot&&F(y,"Unclosed root tag"),y.state!==b.BEGIN&&y.state!==b.BEGIN_WHITESPACE&&y.state!==b.TEXT&&D(y,"Unexpected end"),A(y),y.c="",y.closed=!0,R(y,"onend"),r.call(y,y.strict,y.opt),y}function F(y,f){if(typeof y!="object"||!(y instanceof r))throw new Error("bad call to strictFail");y.strict&&D(y,f)}function X(y){y.strict||(y.tagName=y.tagName[y.looseCase]());var f=y.tags[y.tags.length-1]||y,S=y.tag={name:y.tagName,attributes:{}};y.opt.xmlns&&(S.ns=f.ns),y.attribList.length=0,L(y,"onopentagstart",S)}function B(y,f){var S=y.indexOf(":"),O=S<0?["",y]:y.split(":"),U=O[0],q=O[1];return f&&y==="xmlns"&&(U="xmlns",q=""),{prefix:U,local:q}}function J(y){if(y.strict||(y.attribName=y.attribName[y.looseCase]()),y.attribList.indexOf(y.attribName)!==-1||y.tag.attributes.hasOwnProperty(y.attribName)){y.attribName=y.attribValue="";return}if(y.opt.xmlns){var f=B(y.attribName,!0),S=f.prefix,O=f.local;if(S==="xmlns")if(O==="xml"&&y.attribValue!==m)F(y,"xml: prefix must be bound to "+m+`
Actual: `+y.attribValue);else if(O==="xmlns"&&y.attribValue!==d)F(y,"xmlns: prefix must be bound to "+d+`
Actual: `+y.attribValue);else{var U=y.tag,q=y.tags[y.tags.length-1]||y;U.ns===q.ns&&(U.ns=Object.create(q.ns)),U.ns[O]=y.attribValue}y.attribList.push([y.attribName,y.attribValue])}else y.tag.attributes[y.attribName]=y.attribValue,L(y,"onattribute",{name:y.attribName,value:y.attribValue});y.attribName=y.attribValue=""}function M(y,f){if(y.opt.xmlns){var S=y.tag,O=B(y.tagName);S.prefix=O.prefix,S.local=O.local,S.uri=S.ns[O.prefix]||"",S.prefix&&!S.uri&&(F(y,"Unbound namespace prefix: "+JSON.stringify(y.tagName)),S.uri=O.prefix);var U=y.tags[y.tags.length-1]||y;S.ns&&U.ns!==S.ns&&Object.keys(S.ns).forEach(function(qe){L(y,"onopennamespace",{prefix:qe,uri:S.ns[qe]})});for(var q=0,z=y.attribList.length;q<z;q++){var ot=y.attribList[q],at=ot[0],vt=ot[1],K=B(at,!0),ft=K.prefix,ar=K.local,We=ft===""?"":S.ns[ft]||"",Qt={name:at,value:vt,prefix:ft,local:ar,uri:We};ft&&ft!=="xmlns"&&!We&&(F(y,"Unbound namespace prefix: "+JSON.stringify(ft)),Qt.uri=ft),y.tag.attributes[at]=Qt,L(y,"onattribute",Qt)}y.attribList.length=0}y.tag.isSelfClosing=!!f,y.sawRoot=!0,y.tags.push(y.tag),L(y,"onopentag",y.tag),f||(!y.noscript&&y.tagName.toLowerCase()==="script"?y.state=b.SCRIPT:y.state=b.TEXT,y.tag=null,y.tagName=""),y.attribName=y.attribValue="",y.attribList.length=0}function W(y){if(!y.tagName){F(y,"Weird empty close tag."),y.textNode+="</>",y.state=b.TEXT;return}if(y.script){if(y.tagName!=="script"){y.script+="</"+y.tagName+">",y.tagName="",y.state=b.SCRIPT;return}L(y,"onscript",y.script),y.script=""}var f=y.tags.length,S=y.tagName;y.strict||(S=S[y.looseCase]());for(var O=S;f--;){var U=y.tags[f];if(U.name!==O)F(y,"Unexpected close tag");else break}if(f<0){F(y,"Unmatched closing tag: "+y.tagName),y.textNode+="</"+y.tagName+">",y.state=b.TEXT;return}y.tagName=S;for(var q=y.tags.length;q-- >f;){var z=y.tag=y.tags.pop();y.tagName=y.tag.name,L(y,"onclosetag",y.tagName);var ot={};for(var at in z.ns)ot[at]=z.ns[at];var vt=y.tags[y.tags.length-1]||y;y.opt.xmlns&&z.ns!==vt.ns&&Object.keys(z.ns).forEach(function(K){var ft=z.ns[K];L(y,"onclosenamespace",{prefix:K,uri:ft})})}f===0&&(y.closedRoot=!0),y.tagName=y.attribValue=y.attribName="",y.attribList.length=0,y.state=b.TEXT}function $t(y){var f=y.entity,S=f.toLowerCase(),O,U="";return y.ENTITIES[f]?y.ENTITIES[f]:y.ENTITIES[S]?y.ENTITIES[S]:(f=S,f.charAt(0)==="#"&&(f.charAt(1)==="x"?(f=f.slice(2),O=parseInt(f,16),U=O.toString(16)):(f=f.slice(1),O=parseInt(f,10),U=O.toString(10))),f=f.replace(/^0+/,""),isNaN(O)||U.toLowerCase()!==f?(F(y,"Invalid character entity"),"&"+y.entity+";"):String.fromCodePoint(O))}function Ot(y,f){f==="<"?(y.state=b.OPEN_WAKA,y.startTagPosition=y.position):N(f)||(F(y,"Non-whitespace before first tag."),y.textNode=f,y.state=b.TEXT)}function pt(y,f){var S="";return f<y.length&&(S=y.charAt(f)),S}function Kt(y){var f=this;if(this.error)throw this.error;if(f.closed)return D(f,"Cannot write after close. Assign an onready handler.");if(y===null)return j(f);typeof y=="object"&&(y=y.toString());for(var S=0,O="";O=pt(y,S++),f.c=O,!!O;)switch(f.trackPosition&&(f.position++,O===`
`?(f.line++,f.column=0):f.column++),f.state){case b.BEGIN:if(f.state=b.BEGIN_WHITESPACE,O==="\uFEFF")continue;Ot(f,O);continue;case b.BEGIN_WHITESPACE:Ot(f,O);continue;case b.TEXT:if(f.sawRoot&&!f.closedRoot){for(var U=S-1;O&&O!=="<"&&O!=="&";)O=pt(y,S++),O&&f.trackPosition&&(f.position++,O===`
`?(f.line++,f.column=0):f.column++);f.textNode+=y.substring(U,S-1)}O==="<"&&!(f.sawRoot&&f.closedRoot&&!f.strict)?(f.state=b.OPEN_WAKA,f.startTagPosition=f.position):(!N(O)&&(!f.sawRoot||f.closedRoot)&&F(f,"Text data outside of root node."),O==="&"?f.state=b.TEXT_ENTITY:f.textNode+=O);continue;case b.SCRIPT:O==="<"?f.state=b.SCRIPT_ENDING:f.script+=O;continue;case b.SCRIPT_ENDING:O==="/"?f.state=b.CLOSE_TAG:(f.script+="<"+O,f.state=b.SCRIPT);continue;case b.OPEN_WAKA:if(O==="!")f.state=b.SGML_DECL,f.sgmlDecl="";else if(!N(O))if(P(w,O))f.state=b.OPEN_TAG,f.tagName=O;else if(O==="/")f.state=b.CLOSE_TAG,f.tagName="";else if(O==="?")f.state=b.PROC_INST,f.procInstName=f.procInstBody="";else{if(F(f,"Unencoded <"),f.startTagPosition+1<f.position){var q=f.position-f.startTagPosition;O=new Array(q).join(" ")+O}f.textNode+="<"+O,f.state=b.TEXT}continue;case b.SGML_DECL:if(f.sgmlDecl+O==="--"){f.state=b.COMMENT,f.comment="",f.sgmlDecl="";continue}f.doctype&&f.doctype!==!0&&f.sgmlDecl?(f.state=b.DOCTYPE_DTD,f.doctype+="<!"+f.sgmlDecl+O,f.sgmlDecl=""):(f.sgmlDecl+O).toUpperCase()===h?(L(f,"onopencdata"),f.state=b.CDATA,f.sgmlDecl="",f.cdata=""):(f.sgmlDecl+O).toUpperCase()===c?(f.state=b.DOCTYPE,(f.doctype||f.sawRoot)&&F(f,"Inappropriately located doctype declaration"),f.doctype="",f.sgmlDecl=""):O===">"?(L(f,"onsgmldeclaration",f.sgmlDecl),f.sgmlDecl="",f.state=b.TEXT):(_(O)&&(f.state=b.SGML_DECL_QUOTED),f.sgmlDecl+=O);continue;case b.SGML_DECL_QUOTED:O===f.q&&(f.state=b.SGML_DECL,f.q=""),f.sgmlDecl+=O;continue;case b.DOCTYPE:O===">"?(f.state=b.TEXT,L(f,"ondoctype",f.doctype),f.doctype=!0):(f.doctype+=O,O==="["?f.state=b.DOCTYPE_DTD:_(O)&&(f.state=b.DOCTYPE_QUOTED,f.q=O));continue;case b.DOCTYPE_QUOTED:f.doctype+=O,O===f.q&&(f.q="",f.state=b.DOCTYPE);continue;case b.DOCTYPE_DTD:O==="]"?(f.doctype+=O,f.state=b.DOCTYPE):O==="<"?(f.state=b.OPEN_WAKA,f.startTagPosition=f.position):_(O)?(f.doctype+=O,f.state=b.DOCTYPE_DTD_QUOTED,f.q=O):f.doctype+=O;continue;case b.DOCTYPE_DTD_QUOTED:f.doctype+=O,O===f.q&&(f.state=b.DOCTYPE_DTD,f.q="");continue;case b.COMMENT:O==="-"?f.state=b.COMMENT_ENDING:f.comment+=O;continue;case b.COMMENT_ENDING:O==="-"?(f.state=b.COMMENT_ENDED,f.comment=$(f.opt,f.comment),f.comment&&L(f,"oncomment",f.comment),f.comment=""):(f.comment+="-"+O,f.state=b.COMMENT);continue;case b.COMMENT_ENDED:O!==">"?(F(f,"Malformed comment"),f.comment+="--"+O,f.state=b.COMMENT):f.doctype&&f.doctype!==!0?f.state=b.DOCTYPE_DTD:f.state=b.TEXT;continue;case b.CDATA:O==="]"?f.state=b.CDATA_ENDING:f.cdata+=O;continue;case b.CDATA_ENDING:O==="]"?f.state=b.CDATA_ENDING_2:(f.cdata+="]"+O,f.state=b.CDATA);continue;case b.CDATA_ENDING_2:O===">"?(f.cdata&&L(f,"oncdata",f.cdata),L(f,"onclosecdata"),f.cdata="",f.state=b.TEXT):O==="]"?f.cdata+="]":(f.cdata+="]]"+O,f.state=b.CDATA);continue;case b.PROC_INST:O==="?"?f.state=b.PROC_INST_ENDING:N(O)?f.state=b.PROC_INST_BODY:f.procInstName+=O;continue;case b.PROC_INST_BODY:if(!f.procInstBody&&N(O))continue;O==="?"?f.state=b.PROC_INST_ENDING:f.procInstBody+=O;continue;case b.PROC_INST_ENDING:O===">"?(L(f,"onprocessinginstruction",{name:f.procInstName,body:f.procInstBody}),f.procInstName=f.procInstBody="",f.state=b.TEXT):(f.procInstBody+="?"+O,f.state=b.PROC_INST_BODY);continue;case b.OPEN_TAG:P(x,O)?f.tagName+=O:(X(f),O===">"?M(f):O==="/"?f.state=b.OPEN_TAG_SLASH:(N(O)||F(f,"Invalid character in tag name"),f.state=b.ATTRIB));continue;case b.OPEN_TAG_SLASH:O===">"?(M(f,!0),W(f)):(F(f,"Forward-slash in opening tag not followed by >"),f.state=b.ATTRIB);continue;case b.ATTRIB:if(N(O))continue;O===">"?M(f):O==="/"?f.state=b.OPEN_TAG_SLASH:P(w,O)?(f.attribName=O,f.attribValue="",f.state=b.ATTRIB_NAME):F(f,"Invalid attribute name");continue;case b.ATTRIB_NAME:O==="="?f.state=b.ATTRIB_VALUE:O===">"?(F(f,"Attribute without value"),f.attribValue=f.attribName,J(f),M(f)):N(O)?f.state=b.ATTRIB_NAME_SAW_WHITE:P(x,O)?f.attribName+=O:F(f,"Invalid attribute name");continue;case b.ATTRIB_NAME_SAW_WHITE:if(O==="=")f.state=b.ATTRIB_VALUE;else{if(N(O))continue;F(f,"Attribute without value"),f.tag.attributes[f.attribName]="",f.attribValue="",L(f,"onattribute",{name:f.attribName,value:""}),f.attribName="",O===">"?M(f):P(w,O)?(f.attribName=O,f.state=b.ATTRIB_NAME):(F(f,"Invalid attribute name"),f.state=b.ATTRIB)}continue;case b.ATTRIB_VALUE:if(N(O))continue;_(O)?(f.q=O,f.state=b.ATTRIB_VALUE_QUOTED):(f.opt.unquotedAttributeValues||D(f,"Unquoted attribute value"),f.state=b.ATTRIB_VALUE_UNQUOTED,f.attribValue=O);continue;case b.ATTRIB_VALUE_QUOTED:if(O!==f.q){O==="&"?f.state=b.ATTRIB_VALUE_ENTITY_Q:f.attribValue+=O;continue}J(f),f.q="",f.state=b.ATTRIB_VALUE_CLOSED;continue;case b.ATTRIB_VALUE_CLOSED:N(O)?f.state=b.ATTRIB:O===">"?M(f):O==="/"?f.state=b.OPEN_TAG_SLASH:P(w,O)?(F(f,"No whitespace between attributes"),f.attribName=O,f.attribValue="",f.state=b.ATTRIB_NAME):F(f,"Invalid attribute name");continue;case b.ATTRIB_VALUE_UNQUOTED:if(!v(O)){O==="&"?f.state=b.ATTRIB_VALUE_ENTITY_U:f.attribValue+=O;continue}J(f),O===">"?M(f):f.state=b.ATTRIB;continue;case b.CLOSE_TAG:if(f.tagName)O===">"?W(f):P(x,O)?f.tagName+=O:f.script?(f.script+="</"+f.tagName,f.tagName="",f.state=b.SCRIPT):(N(O)||F(f,"Invalid tagname in closing tag"),f.state=b.CLOSE_TAG_SAW_WHITE);else{if(N(O))continue;I(w,O)?f.script?(f.script+="</"+O,f.state=b.SCRIPT):F(f,"Invalid tagname in closing tag."):f.tagName=O}continue;case b.CLOSE_TAG_SAW_WHITE:if(N(O))continue;O===">"?W(f):F(f,"Invalid characters in closing tag");continue;case b.TEXT_ENTITY:case b.ATTRIB_VALUE_ENTITY_Q:case b.ATTRIB_VALUE_ENTITY_U:var z,ot;switch(f.state){case b.TEXT_ENTITY:z=b.TEXT,ot="textNode";break;case b.ATTRIB_VALUE_ENTITY_Q:z=b.ATTRIB_VALUE_QUOTED,ot="attribValue";break;case b.ATTRIB_VALUE_ENTITY_U:z=b.ATTRIB_VALUE_UNQUOTED,ot="attribValue";break}if(O===";"){var at=$t(f);f.opt.unparsedEntities&&!Object.values(t.XML_ENTITIES).includes(at)?(f.entity="",f.state=z,f.write(at)):(f[ot]+=at,f.entity="",f.state=z)}else P(f.entity.length?T:g,O)?f.entity+=O:(F(f,"Invalid character in entity name"),f[ot]+="&"+f.entity+O,f.entity="",f.state=z);continue;default:throw new Error(f,"Unknown state: "+f.state)}return f.position>=f.bufferCheckPosition&&i(f),f}String.fromCodePoint||function(){var y=String.fromCharCode,f=Math.floor,S=function(){var O=16384,U=[],q,z,ot=-1,at=arguments.length;if(!at)return"";for(var vt="";++ot<at;){var K=Number(arguments[ot]);if(!isFinite(K)||K<0||K>1114111||f(K)!==K)throw RangeError("Invalid code point: "+K);K<=65535?U.push(K):(K-=65536,q=(K>>10)+55296,z=K%1024+56320,U.push(q,z)),(ot+1===at||U.length>O)&&(vt+=y.apply(null,U),U.length=0)}return vt};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:S,configurable:!0,writable:!0}):String.fromCodePoint=S}()})(e)}(An)),An}ps();var fs=(e=>(e[e.UploadFromDevice=0]="UploadFromDevice",e[e.CreateNew=1]="CreateNew",e[e.Other=2]="Other",e))(fs||{});class ds{_entries=[];registerEntry(t){this.validateEntry(t),t.category=t.category??1,this._entries.push(t)}unregisterEntry(t){const n=typeof t=="string"?this.getEntryIndex(t):this.getEntryIndex(t.id);if(n===-1){wt.warn("Entry not found, nothing removed",{entry:t,entries:this.getEntries()});return}this._entries.splice(n,1)}getEntries(t){return t?this._entries.filter(n=>typeof n.enabled=="function"?n.enabled(t):!0):this._entries}getEntryIndex(t){return this._entries.findIndex(n=>n.id===t)}validateEntry(t){if(!t.id||!t.displayName||!(t.iconSvgInline||t.iconClass)||!t.handler)throw new Error("Invalid entry");if(typeof t.id!="string"||typeof t.displayName!="string")throw new Error("Invalid id or displayName property");if(t.iconClass&&typeof t.iconClass!="string"||t.iconSvgInline&&typeof t.iconSvgInline!="string")throw new Error("Invalid icon provided");if(t.enabled!==void 0&&typeof t.enabled!="function")throw new Error("Invalid enabled property");if(typeof t.handler!="function")throw new Error("Invalid handler property");if("order"in t&&typeof t.order!="number")throw new Error("Invalid order property");if(this.getEntryIndex(t.id)!==-1)throw new Error("Duplicate entry")}}function gs(){return typeof window._nc_newfilemenu>"u"&&(window._nc_newfilemenu=new ds,wt.debug("NewFileMenu initialized")),window._nc_newfilemenu}function Cs(e){return gs().registerEntry(e)}const we=["B","KB","MB","GB","TB","PB"],be=["B","KiB","MiB","GiB","TiB","PiB"];function Rs(e,t=!1,n=!1,r=!1){n=n&&!r,typeof e=="string"&&(e=Number(e));let i=e>0?Math.floor(Math.log(e)/Math.log(r?1e3:1024)):0;i=Math.min((n?be.length:we.length)-1,i);const a=n?be[i]:we[i];let u=(e/Math.pow(r?1e3:1024,i)).toFixed(1);return t===!0&&i===0?(u!=="0.0"?"< 1 ":"0 ")+(n?be[1]:we[1]):(i<2?u=parseFloat(u).toFixed(0):u=parseFloat(u).toLocaleString(Cn()),u+" "+a)}function Sn(e){return e instanceof Date?e.toISOString():String(e)}function ms(e,t,n){t=t??[a=>a],n=n??[];const r=t.map((a,u)=>(n[u]??"asc")==="asc"?1:-1),i=Intl.Collator([gr(),Cn()],{numeric:!0,usage:"sort"});return[...e].sort((a,u)=>{for(const[l,p]of t.entries()){const o=i.compare(Sn(p(a)),Sn(p(u)));if(o!==0)return o*r[l]}return 0})}function Ls(e,t={}){const n={sortingMode:"basename",sortingOrder:"asc",...t},r=u=>u.lastIndexOf(".")>0?u.slice(0,u.lastIndexOf(".")):u,i=[...n.sortFavoritesFirst?[u=>u.attributes?.favorite!==1]:[],...n.sortFoldersFirst?[u=>u.type!=="folder"]:[],...n.sortingMode!=="basename"?[u=>u[n.sortingMode]??u.attributes[n.sortingMode]]:[],u=>r(u.displayname||u.attributes?.displayname||u.basename||""),u=>u.basename],a=[...n.sortFavoritesFirst?["asc"]:[],...n.sortFoldersFirst?["asc"]:[],...n.sortingMode==="mtime"?[n.sortingOrder==="asc"?"desc":"asc"]:[],...n.sortingMode!=="mtime"&&n.sortingMode!=="basename"?[n.sortingOrder]:[],n.sortingOrder,n.sortingOrder];return ms(e,i,a)}export{dt as C,ke as F,Ps as H,fs as N,ht as P,Ss as a,Cs as b,As as c,er as d,Ue as e,xs as f,_s as g,Xi as h,Os as i,Rs as j,Is as r,Ls as s};
//# sourceMappingURL=index-CKuQSEMj.chunk.mjs.map
