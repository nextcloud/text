import{g as te}from"./emoji-picker-hi3Hwbeu.chunk.mjs";function pe(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var re={exports:{}},h=re.exports={},I,f;function j(){throw new Error("setTimeout has not been defined")}function B(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?I=setTimeout:I=j}catch{I=j}try{typeof clearTimeout=="function"?f=clearTimeout:f=B}catch{f=B}})();function se(r){if(I===setTimeout)return setTimeout(r,0);if((I===j||!I)&&setTimeout)return I=setTimeout,setTimeout(r,0);try{return I(r,0)}catch{try{return I.call(null,r,0)}catch{return I.call(this,r,0)}}}function Ie(r){if(f===clearTimeout)return clearTimeout(r);if((f===B||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(r);try{return f(r)}catch{try{return f.call(null,r)}catch{return f.call(this,r)}}}var N=[],T=!1,O,P=-1;function fe(){!T||!O||(T=!1,O.length?N=O.concat(N):P=-1,N.length&&ie())}function ie(){if(!T){var r=se(fe);T=!0;for(var t=N.length;t;){for(O=N,N=[];++P<t;)O&&O[P].run();P=-1,t=N.length}O=null,T=!1,Ie(r)}}h.nextTick=function(r){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];N.push(new ne(r,t)),N.length===1&&!T&&se(ie)};function ne(r,t){this.fun=r,this.array=t}ne.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={};function R(){}h.on=R,h.addListener=R,h.once=R,h.off=R,h.removeListener=R,h.removeAllListeners=R,h.emit=R,h.prependListener=R,h.prependOnceListener=R,h.listeners=function(r){return[]},h.binding=function(r){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(r){throw new Error("process.chdir is not supported")},h.umask=function(){return 0};var Le=re.exports;const Re=pe(Le);var _,k;function oe(){if(k)return _;k=1;var r={};return _=typeof Re=="object"&&r&&r.NODE_DEBUG&&/\bsemver\b/i.test(r.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{},_}var C,H;function Ee(){if(H)return C;H=1;const r="2.0.0",t=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,a=16,u=t-6;return C={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:a,MAX_SAFE_BUILD_LENGTH:u,MAX_SAFE_INTEGER:i,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:r,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},C}var D={exports:{}},z;function Ne(){return z||(z=1,(function(r,t){const{MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_BUILD_LENGTH:a,MAX_LENGTH:u}=Ee(),d=oe();t=r.exports={};const w=t.re=[],p=t.safeRe=[],s=t.src=[],n=t.safeSrc=[],e=t.t={};let E=0;const c="[a-zA-Z0-9-]",l=[["\\s",1],["\\d",u],[c,a]],le=m=>{for(const[L,S]of l)m=m.split(`${L}*`).join(`${L}{0,${S}}`).split(`${L}+`).join(`${L}{1,${S}}`);return m},o=(m,L,S)=>{const V=le(L),A=E++;d(m,A,L),e[m]=A,s[A]=L,n[A]=V,w[A]=new RegExp(L,S?"g":void 0),p[A]=new RegExp(V,S?"g":void 0)};o("NUMERICIDENTIFIER","0|[1-9]\\d*"),o("NUMERICIDENTIFIERLOOSE","\\d+"),o("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${c}*`),o("MAINVERSION",`(${s[e.NUMERICIDENTIFIER]})\\.(${s[e.NUMERICIDENTIFIER]})\\.(${s[e.NUMERICIDENTIFIER]})`),o("MAINVERSIONLOOSE",`(${s[e.NUMERICIDENTIFIERLOOSE]})\\.(${s[e.NUMERICIDENTIFIERLOOSE]})\\.(${s[e.NUMERICIDENTIFIERLOOSE]})`),o("PRERELEASEIDENTIFIER",`(?:${s[e.NONNUMERICIDENTIFIER]}|${s[e.NUMERICIDENTIFIER]})`),o("PRERELEASEIDENTIFIERLOOSE",`(?:${s[e.NONNUMERICIDENTIFIER]}|${s[e.NUMERICIDENTIFIERLOOSE]})`),o("PRERELEASE",`(?:-(${s[e.PRERELEASEIDENTIFIER]}(?:\\.${s[e.PRERELEASEIDENTIFIER]})*))`),o("PRERELEASELOOSE",`(?:-?(${s[e.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[e.PRERELEASEIDENTIFIERLOOSE]})*))`),o("BUILDIDENTIFIER",`${c}+`),o("BUILD",`(?:\\+(${s[e.BUILDIDENTIFIER]}(?:\\.${s[e.BUILDIDENTIFIER]})*))`),o("FULLPLAIN",`v?${s[e.MAINVERSION]}${s[e.PRERELEASE]}?${s[e.BUILD]}?`),o("FULL",`^${s[e.FULLPLAIN]}$`),o("LOOSEPLAIN",`[v=\\s]*${s[e.MAINVERSIONLOOSE]}${s[e.PRERELEASELOOSE]}?${s[e.BUILD]}?`),o("LOOSE",`^${s[e.LOOSEPLAIN]}$`),o("GTLT","((?:<|>)?=?)"),o("XRANGEIDENTIFIERLOOSE",`${s[e.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),o("XRANGEIDENTIFIER",`${s[e.NUMERICIDENTIFIER]}|x|X|\\*`),o("XRANGEPLAIN",`[v=\\s]*(${s[e.XRANGEIDENTIFIER]})(?:\\.(${s[e.XRANGEIDENTIFIER]})(?:\\.(${s[e.XRANGEIDENTIFIER]})(?:${s[e.PRERELEASE]})?${s[e.BUILD]}?)?)?`),o("XRANGEPLAINLOOSE",`[v=\\s]*(${s[e.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[e.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[e.XRANGEIDENTIFIERLOOSE]})(?:${s[e.PRERELEASELOOSE]})?${s[e.BUILD]}?)?)?`),o("XRANGE",`^${s[e.GTLT]}\\s*${s[e.XRANGEPLAIN]}$`),o("XRANGELOOSE",`^${s[e.GTLT]}\\s*${s[e.XRANGEPLAINLOOSE]}$`),o("COERCEPLAIN",`(^|[^\\d])(\\d{1,${i}})(?:\\.(\\d{1,${i}}))?(?:\\.(\\d{1,${i}}))?`),o("COERCE",`${s[e.COERCEPLAIN]}(?:$|[^\\d])`),o("COERCEFULL",s[e.COERCEPLAIN]+`(?:${s[e.PRERELEASE]})?(?:${s[e.BUILD]})?(?:$|[^\\d])`),o("COERCERTL",s[e.COERCE],!0),o("COERCERTLFULL",s[e.COERCEFULL],!0),o("LONETILDE","(?:~>?)"),o("TILDETRIM",`(\\s*)${s[e.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",o("TILDE",`^${s[e.LONETILDE]}${s[e.XRANGEPLAIN]}$`),o("TILDELOOSE",`^${s[e.LONETILDE]}${s[e.XRANGEPLAINLOOSE]}$`),o("LONECARET","(?:\\^)"),o("CARETTRIM",`(\\s*)${s[e.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",o("CARET",`^${s[e.LONECARET]}${s[e.XRANGEPLAIN]}$`),o("CARETLOOSE",`^${s[e.LONECARET]}${s[e.XRANGEPLAINLOOSE]}$`),o("COMPARATORLOOSE",`^${s[e.GTLT]}\\s*(${s[e.LOOSEPLAIN]})$|^$`),o("COMPARATOR",`^${s[e.GTLT]}\\s*(${s[e.FULLPLAIN]})$|^$`),o("COMPARATORTRIM",`(\\s*)${s[e.GTLT]}\\s*(${s[e.LOOSEPLAIN]}|${s[e.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",o("HYPHENRANGE",`^\\s*(${s[e.XRANGEPLAIN]})\\s+-\\s+(${s[e.XRANGEPLAIN]})\\s*$`),o("HYPHENRANGELOOSE",`^\\s*(${s[e.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[e.XRANGEPLAINLOOSE]})\\s*$`),o("STAR","(<|>)?=?\\s*\\*"),o("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),o("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(D,D.exports)),D.exports}var y,K;function de(){if(K)return y;K=1;const r=Object.freeze({loose:!0}),t=Object.freeze({});return y=i=>i?typeof i!="object"?r:i:t,y}var G,W;function Oe(){if(W)return G;W=1;const r=/^[0-9]+$/,t=(i,a)=>{if(typeof i=="number"&&typeof a=="number")return i===a?0:i<a?-1:1;const u=r.test(i),d=r.test(a);return u&&d&&(i=+i,a=+a),i===a?0:u&&!d?-1:d&&!u?1:i<a?-1:1};return G={compareIdentifiers:t,rcompareIdentifiers:(i,a)=>t(a,i)},G}var F,Y;function ae(){if(Y)return F;Y=1;const r=oe(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:i}=Ee(),{safeRe:a,t:u}=Ne(),d=de(),{compareIdentifiers:w}=Oe();class p{constructor(n,e){if(e=d(e),n instanceof p){if(n.loose===!!e.loose&&n.includePrerelease===!!e.includePrerelease)return n;n=n.version}else if(typeof n!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof n}".`);if(n.length>t)throw new TypeError(`version is longer than ${t} characters`);r("SemVer",n,e),this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease;const E=n.trim().match(e.loose?a[u.LOOSE]:a[u.FULL]);if(!E)throw new TypeError(`Invalid Version: ${n}`);if(this.raw=n,this.major=+E[1],this.minor=+E[2],this.patch=+E[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");E[4]?this.prerelease=E[4].split(".").map(c=>{if(/^[0-9]+$/.test(c)){const l=+c;if(l>=0&&l<i)return l}return c}):this.prerelease=[],this.build=E[5]?E[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(n){if(r("SemVer.compare",this.version,this.options,n),!(n instanceof p)){if(typeof n=="string"&&n===this.version)return 0;n=new p(n,this.options)}return n.version===this.version?0:this.compareMain(n)||this.comparePre(n)}compareMain(n){return n instanceof p||(n=new p(n,this.options)),this.major<n.major?-1:this.major>n.major?1:this.minor<n.minor?-1:this.minor>n.minor?1:this.patch<n.patch?-1:this.patch>n.patch?1:0}comparePre(n){if(n instanceof p||(n=new p(n,this.options)),this.prerelease.length&&!n.prerelease.length)return-1;if(!this.prerelease.length&&n.prerelease.length)return 1;if(!this.prerelease.length&&!n.prerelease.length)return 0;let e=0;do{const E=this.prerelease[e],c=n.prerelease[e];if(r("prerelease compare",e,E,c),E===void 0&&c===void 0)return 0;if(c===void 0)return 1;if(E===void 0)return-1;if(E!==c)return w(E,c)}while(++e)}compareBuild(n){n instanceof p||(n=new p(n,this.options));let e=0;do{const E=this.build[e],c=n.build[e];if(r("build compare",e,E,c),E===void 0&&c===void 0)return 0;if(c===void 0)return 1;if(E===void 0)return-1;if(E!==c)return w(E,c)}while(++e)}inc(n,e,E){if(n.startsWith("pre")){if(!e&&E===!1)throw new Error("invalid increment argument: identifier is empty");if(e){const c=`-${e}`.match(this.options.loose?a[u.PRERELEASELOOSE]:a[u.PRERELEASE]);if(!c||c[1]!==e)throw new Error(`invalid identifier: ${e}`)}}switch(n){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e,E);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e,E);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e,E),this.inc("pre",e,E);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",e,E),this.inc("pre",e,E);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const c=Number(E)?1:0;if(this.prerelease.length===0)this.prerelease=[c];else{let l=this.prerelease.length;for(;--l>=0;)typeof this.prerelease[l]=="number"&&(this.prerelease[l]++,l=-2);if(l===-1){if(e===this.prerelease.join(".")&&E===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(c)}}if(e){let l=[e,c];E===!1&&(l=[e]),w(this.prerelease[0],e)===0?isNaN(this.prerelease[1])&&(this.prerelease=l):this.prerelease=l}break}default:throw new Error(`invalid increment argument: ${n}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return F=p,F}var M,Z;function me(){if(Z)return M;Z=1;const r=ae();return M=(t,i)=>new r(t,i).major,M}var Ae=me();const q=te(Ae);var U,J;function $e(){if(J)return U;J=1;const r=ae();return U=(t,i,a=!1)=>{if(t instanceof r)return t;try{return new r(t,i)}catch(u){if(!a)return null;throw u}},U}var X,Q;function Te(){if(Q)return X;Q=1;const r=$e();return X=(t,i)=>{const a=r(t,i);return a?a.version:null},X}var we=Te();const Se=te(we);class ve{bus;constructor(t){typeof t.getVersion!="function"||!Se(t.getVersion())?console.warn("Proxying an event bus with an unknown or invalid version"):q(t.getVersion())!==q(this.getVersion())&&console.warn("Proxying an event bus of version "+t.getVersion()+" with "+this.getVersion()),this.bus=t}getVersion(){return"3.3.3"}subscribe(t,i){this.bus.subscribe(t,i)}unsubscribe(t,i){this.bus.unsubscribe(t,i)}emit(t,...i){this.bus.emit(t,...i)}}class ge{handlers=new Map;getVersion(){return"3.3.3"}subscribe(t,i){this.handlers.set(t,(this.handlers.get(t)||[]).concat(i))}unsubscribe(t,i){this.handlers.set(t,(this.handlers.get(t)||[]).filter(a=>a!==i))}emit(t,...i){(this.handlers.get(t)||[]).forEach(a=>{try{a(i[0])}catch(u){console.error("could not invoke event listener",u)}})}}let v=null;function x(){return v!==null?v:typeof window>"u"?new Proxy({},{get:()=>()=>console.error("Window not available, EventBus can not be established!")}):(window.OC?._eventBus&&typeof window._nc_event_bus>"u"&&(console.warn("found old event bus instance at OC._eventBus. Update your version!"),window._nc_event_bus=window.OC._eventBus),typeof window?._nc_event_bus<"u"?v=new ve(window._nc_event_bus):v=window._nc_event_bus=new ge,v)}function be(r,t){x().subscribe(r,t)}function ye(r,t){x().unsubscribe(r,t)}function Ge(r,...t){x().emit(r,...t)}class b{static GLOBAL_SCOPE_VOLATILE="nextcloud_vol";static GLOBAL_SCOPE_PERSISTENT="nextcloud_per";scope;wrapped;constructor(t,i,a){this.scope=`${a?b.GLOBAL_SCOPE_PERSISTENT:b.GLOBAL_SCOPE_VOLATILE}_${btoa(t)}_`,this.wrapped=i}scopeKey(t){return`${this.scope}${t}`}setItem(t,i){this.wrapped.setItem(this.scopeKey(t),i)}getItem(t){return this.wrapped.getItem(this.scopeKey(t))}removeItem(t){this.wrapped.removeItem(this.scopeKey(t))}clear(){Object.keys(this.wrapped).filter(t=>t.startsWith(this.scope)).map(this.wrapped.removeItem.bind(this.wrapped))}}class Pe{appId;persisted=!1;clearedOnLogout=!1;constructor(t){this.appId=t}persist(t=!0){return this.persisted=t,this}clearOnLogout(t=!0){return this.clearedOnLogout=t,this}build(){return new b(this.appId,this.persisted?window.localStorage:window.sessionStorage,!this.clearedOnLogout)}}function ce(r){return new Pe(r)}function he(r,t){Object.keys(r).filter(i=>t?t(i):!0).map(r.removeItem.bind(r))}function _e(){[window.sessionStorage,window.localStorage].map(r=>he(r))}function Ce(){[window.sessionStorage,window.localStorage].map(r=>he(r,t=>!t.startsWith(b.GLOBAL_SCOPE_PERSISTENT)))}const Fe=Object.freeze(Object.defineProperty({__proto__:null,clearAll:_e,clearNonPersistent:Ce,getBuilder:ce},Symbol.toStringTag,{value:"Module"}));let g;const ue=[];function Me(){return g===void 0&&(g=document.head.dataset.requesttoken??null),g}function Ue(r){ue.push(r)}be("csrf-token-update",r=>{g=r.token,ue.forEach(t=>{try{t(g)}catch(i){console.error("Error updating CSRF token observer",i)}})});ce("public").persist().build();let $;function ee(r,t){return r?r.getAttribute(t):null}function Xe(){if($!==void 0)return $;const r=document?.getElementsByTagName("head")[0];if(!r)return null;const t=ee(r,"data-user");return t===null?($=null,$):($={uid:t,displayName:ee(r,"data-user-displayname"),isAdmin:!!window._oc_isadmin},$)}export{Me as a,ce as b,Te as c,Fe as d,Ge as e,Xe as g,Ue as o,Re as p,me as r,be as s,ye as u};
//# sourceMappingURL=index-CdM8BgQf.chunk.mjs.map
