{"version":3,"file":"MenuBar-CduxWYdD.chunk.mjs","sources":["../node_modules/@tiptap/extension-collaboration/dist/index.js","../src/components/Menu/ActionListItem.vue","../src/components/Menu/ActionList.vue","../src/components/Menu/ActionSingle.vue","../src/components/Menu/ToolBarLogic.js","../src/components/Menu/ReadonlyBar.vue","../src/composables/useEditorWidth.ts","../node_modules/@nextcloud/vue/dist/chunks/NcActionCheckbox-D9aQuEYw.mjs","../node_modules/path-normalize/lib/index.js","../src/services/AttachmentResolver.js","../node_modules/@tiptap/extension-node-range/dist/index.js","../node_modules/@tiptap/extension-drag-handle/dist/index.js","../node_modules/@tiptap/extension-drag-handle-vue-2/dist/index.js","../node_modules/vue-material-design-icons/DragVertical.vue","../src/components/Editor/FloatingButtons.vue","../src/components/Editor/ContentContainer.vue","../src/apis/attach.ts","../src/components/Editor/MediaHandler.vue","../src/components/Editor/MainContainer.vue","../src/components/Editor/Wrapper.vue","../src/helpers/platform.js","../src/components/HelpModal.vue","../src/components/Menu/ActionFormattingHelp.vue","../src/components/Menu/CharacterCount.vue","../src/components/Menu/WidthToggle.vue","../src/components/Menu/MenuBar.vue"],"sourcesContent":["// src/collaboration.ts\nimport { Extension } from \"@tiptap/core\";\nimport { Plugin, PluginKey } from \"@tiptap/pm/state\";\nimport { redo, undo, ySyncPlugin, yUndoPlugin, yUndoPluginKey, yXmlFragmentToProsemirrorJSON } from \"@tiptap/y-tiptap\";\nvar Collaboration = Extension.create({\n  name: \"collaboration\",\n  priority: 1e3,\n  addOptions() {\n    return {\n      document: null,\n      field: \"default\",\n      fragment: null,\n      provider: null\n    };\n  },\n  addStorage() {\n    return {\n      isDisabled: false\n    };\n  },\n  onCreate() {\n    if (this.editor.extensionManager.extensions.find((extension) => extension.name === \"undoRedo\")) {\n      console.warn(\n        '[tiptap warn]: \"@tiptap/extension-collaboration\" comes with its own history support and is not compatible with \"@tiptap/extension-undo-redo\".'\n      );\n    }\n  },\n  addCommands() {\n    return {\n      undo: () => ({ tr, state, dispatch }) => {\n        tr.setMeta(\"preventDispatch\", true);\n        const undoManager = yUndoPluginKey.getState(state).undoManager;\n        if (undoManager.undoStack.length === 0) {\n          return false;\n        }\n        if (!dispatch) {\n          return true;\n        }\n        return undo(state);\n      },\n      redo: () => ({ tr, state, dispatch }) => {\n        tr.setMeta(\"preventDispatch\", true);\n        const undoManager = yUndoPluginKey.getState(state).undoManager;\n        if (undoManager.redoStack.length === 0) {\n          return false;\n        }\n        if (!dispatch) {\n          return true;\n        }\n        return redo(state);\n      }\n    };\n  },\n  addKeyboardShortcuts() {\n    return {\n      \"Mod-z\": () => this.editor.commands.undo(),\n      \"Mod-y\": () => this.editor.commands.redo(),\n      \"Shift-Mod-z\": () => this.editor.commands.redo()\n    };\n  },\n  addProseMirrorPlugins() {\n    var _a;\n    const fragment = this.options.fragment ? this.options.fragment : this.options.document.getXmlFragment(this.options.field);\n    const yUndoPluginInstance = yUndoPlugin(this.options.yUndoOptions);\n    const originalUndoPluginView = yUndoPluginInstance.spec.view;\n    yUndoPluginInstance.spec.view = (view) => {\n      const { undoManager } = yUndoPluginKey.getState(view.state);\n      if (undoManager.restore) {\n        undoManager.restore();\n        undoManager.restore = () => {\n        };\n      }\n      const viewRet = originalUndoPluginView ? originalUndoPluginView(view) : void 0;\n      return {\n        destroy: () => {\n          const hasUndoManSelf = undoManager.trackedOrigins.has(undoManager);\n          const observers = undoManager._observers;\n          undoManager.restore = () => {\n            if (hasUndoManSelf) {\n              undoManager.trackedOrigins.add(undoManager);\n            }\n            undoManager.doc.on(\"afterTransaction\", undoManager.afterTransactionHandler);\n            undoManager._observers = observers;\n          };\n          if (viewRet == null ? void 0 : viewRet.destroy) {\n            viewRet.destroy();\n          }\n        }\n      };\n    };\n    const ySyncPluginOptions = {\n      ...this.options.ySyncOptions,\n      onFirstRender: this.options.onFirstRender\n    };\n    const ySyncPluginInstance = ySyncPlugin(fragment, ySyncPluginOptions);\n    if (this.editor.options.enableContentCheck) {\n      (_a = fragment.doc) == null ? void 0 : _a.on(\"beforeTransaction\", () => {\n        try {\n          const jsonContent = yXmlFragmentToProsemirrorJSON(fragment);\n          if (jsonContent.content.length === 0) {\n            return;\n          }\n          this.editor.schema.nodeFromJSON(jsonContent).check();\n        } catch (error) {\n          this.editor.emit(\"contentError\", {\n            error,\n            editor: this.editor,\n            disableCollaboration: () => {\n              var _a2;\n              (_a2 = fragment.doc) == null ? void 0 : _a2.destroy();\n              this.storage.isDisabled = true;\n            }\n          });\n          return false;\n        }\n      });\n    }\n    return [\n      ySyncPluginInstance,\n      yUndoPluginInstance,\n      // Only add the filterInvalidContent plugin if content checking is enabled\n      this.editor.options.enableContentCheck && new Plugin({\n        key: new PluginKey(\"filterInvalidContent\"),\n        filterTransaction: () => {\n          var _a2;\n          if (this.storage.isDisabled !== false) {\n            (_a2 = fragment.doc) == null ? void 0 : _a2.destroy();\n            return true;\n          }\n          return true;\n        }\n      })\n    ].filter(Boolean);\n  }\n});\n\n// src/helpers/isChangeOrigin.ts\nimport { ySyncPluginKey } from \"@tiptap/y-tiptap\";\nfunction isChangeOrigin(transaction) {\n  return !!transaction.getMeta(ySyncPluginKey);\n}\n\n// src/index.ts\nvar index_default = Collaboration;\nexport {\n  Collaboration,\n  index_default as default,\n  isChangeOrigin\n};\n//# sourceMappingURL=index.js.map","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<NextcloudVueNcActionButton\n\t\tclass=\"entry-single-action entry-action entry-action-item\"\n\t\t:title=\"listItemTooltip || undefined\"\n\t\t:class=\"state.class\"\n\t\t:disabled=\"state.disabled\"\n\t\t:aria-keyshortcuts=\"keyshortcuts || undefined\"\n\t\t:data-text-action-entry=\"actionEntry.key\"\n\t\t:model-value=\"actionType !== 'button' ? state.active : undefined\"\n\t\tclose-after-click\n\t\tv-on=\"$listeners\"\n\t\t@click=\"runAction\">\n\t\t<template #icon>\n\t\t\t<component :is=\"icon\" />\n\t\t</template>\n\t\t{{ label }}\n\t</NextcloudVueNcActionButton>\n</template>\n\n<script>\nimport NextcloudVueNcActionButton from '@nextcloud/vue/components/NcActionButton'\nimport { BaseActionEntry } from './BaseActionEntry.js'\n\nexport default {\n\t// This component is used as a direct child of NcActions.\n\t// Even if it actually renders NcActionButton, NcActions cannot see it due to rendering limitations in Vue.\n\t// Though it works in general, NcActions doesn't handle it correctly. See NcActions docs for details.\n\t// Hotfix - rename the component to NcActionButton because it represents and renders it.\n\t// eslint-disable-next-line vue/match-component-file-name\n\tname: 'NcActionButton',\n\n\tcomponents: {\n\t\tNextcloudVueNcActionButton,\n\t},\n\n\textends: BaseActionEntry,\n\n\tmounted() {\n\t\tthis.editor?.on('transaction', () => this.updateState())\n\t},\n\n\tmethods: {\n\t\trunAction() {\n\t\t\tconst { actionEntry } = this\n\n\t\t\tif (actionEntry.click) {\n\t\t\t\tactionEntry.click(this)\n\t\t\t} else {\n\t\t\t\t// Some actions run themselves.\n\t\t\t\t// others still need to have .run() called upon them.\n\t\t\t\tactionEntry.action(this.editor?.chain().focus(), this.editor)?.run()\n\t\t\t}\n\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.$emit('trigged', { ...actionEntry })\n\t\t\t})\n\t\t},\n\t},\n}\n</script>\n","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<NcActions\n\t\t:title=\"tooltip\"\n\t\tclass=\"entry-list-action entry-action\"\n\t\tv-bind=\"state\"\n\t\t:container=\"menuIDSelector\"\n\t\t:aria-label=\"labelWithSelected\"\n\t\t:variant=\"state.active ? 'primary' : 'tertiary'\"\n\t\t:force-menu=\"true\"\n\t\t:data-text-action-entry=\"actionEntry.key\"\n\t\t:data-text-action-active=\"activeKey\"\n\t\t:disabled=\"!isEnabled\"\n\t\t@update:open=\"onOpenChange\">\n\t\t<template #icon>\n\t\t\t<component :is=\"icon\" :key=\"iconKey\" />\n\t\t</template>\n\t\t<template v-for=\"child in children\">\n\t\t\t<NcActionSeparator\n\t\t\t\tv-if=\"child.isSeparator\"\n\t\t\t\t:key=\"`child-${child.key}`\" />\n\t\t\t<ActionListItem\n\t\t\t\tv-else\n\t\t\t\t:key=\"`child-${child.key}`\"\n\t\t\t\t:active=\"currentChild?.key === child.key\"\n\t\t\t\tis-item\n\t\t\t\t:action-entry=\"child\"\n\t\t\t\tv-on=\"$listeners\"\n\t\t\t\t@trigged=\"onTrigger\" />\n\t\t</template>\n\t\t<slot v-bind=\"{ visible }\" name=\"lastAction\" />\n\t</NcActions>\n</template>\n\n<script>\nimport { t } from '@nextcloud/l10n'\nimport NcActions from '@nextcloud/vue/components/NcActions'\nimport NcActionSeparator from '@nextcloud/vue/components/NcActionSeparator'\nimport debounce from 'debounce'\nimport { useOutlineStateMixin } from '../Editor/Wrapper.provider.js'\nimport ActionListItem from './ActionListItem.vue'\nimport { BaseActionEntry } from './BaseActionEntry.js'\nimport { useMenuIDMixin } from './MenuBar.provider.js'\nimport { getActionState, getIsActive } from './utils.js'\n\nexport default {\n\tname: 'ActionList',\n\tcomponents: {\n\t\tNcActions,\n\t\tNcActionSeparator,\n\t\tActionListItem,\n\t},\n\textends: BaseActionEntry,\n\tmixins: [useOutlineStateMixin, useMenuIDMixin],\n\tprops: {\n\t\tforceEnabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata: () => ({\n\t\tvisible: false,\n\t\thasEnabledChild: true,\n\t}),\n\tcomputed: {\n\t\tcurrentChild() {\n\t\t\tconst {\n\t\t\t\tstate,\n\t\t\t\teditor,\n\t\t\t\tactionEntry: { children },\n\t\t\t} = this\n\n\t\t\tif (!state.active) {\n\t\t\t\treturn null\n\t\t\t}\n\n\t\t\treturn children.find((child) => {\n\t\t\t\treturn getIsActive(child, editor)\n\t\t\t})\n\t\t},\n\t\ticon() {\n\t\t\tif (this.currentChild) {\n\t\t\t\treturn this.currentChild.icon\n\t\t\t}\n\n\t\t\treturn this.actionEntry.icon\n\t\t},\n\t\ticonKey() {\n\t\t\treturn `${this.actionEntry.key}/${this.activeKey}`\n\t\t},\n\t\tactiveKey() {\n\t\t\treturn this.currentChild?.key\n\t\t},\n\t\tchildren() {\n\t\t\treturn this.actionEntry.children.filter(({ visible }) => {\n\t\t\t\tif (visible === undefined) {\n\t\t\t\t\treturn true\n\t\t\t\t}\n\n\t\t\t\treturn typeof visible === 'function' ? visible(this) : visible\n\t\t\t})\n\t\t},\n\t\tlabelWithSelected() {\n\t\t\tif (this.currentChild) {\n\t\t\t\t// TRANSLATORS: examples - Headings, \"Heading 1\" is selected - Blocks, \"Info callout\" is selected\n\t\t\t\treturn t(\n\t\t\t\t\t'text',\n\t\t\t\t\t'{menuItemName}, \"{selectedSubMenuItemName}\" is selected',\n\t\t\t\t\t{\n\t\t\t\t\t\tmenuItemName: this.actionEntry.label,\n\t\t\t\t\t\tselectedSubMenuItemName: this.currentChild.label,\n\t\t\t\t\t},\n\t\t\t\t)\n\t\t\t}\n\n\t\t\treturn this.actionEntry.label\n\t\t},\n\t\tisEnabled() {\n\t\t\treturn this.forceEnabled || this.hasEnabledChild\n\t\t},\n\t},\n\tmounted() {\n\t\tthis.$_updateState = debounce(this.checkStateOfChildren.bind(this), 50)\n\t\tthis.editor?.on('update', this.$_updateState)\n\t\tthis.editor?.on('selectionUpdate', this.$_updateState)\n\t},\n\tbeforeDestroy() {\n\t\tthis.editor?.off('update', this.$_updateState)\n\t\tthis.editor?.off('selectionUpdate', this.$_updateState)\n\t},\n\tmethods: {\n\t\tonOpenChange(val) {\n\t\t\tthis.visible = val\n\t\t},\n\t\trunAction() {\n\t\t\t// nothing todo\n\t\t},\n\t\tonTrigger(entry) {\n\t\t\tif (entry?.click) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.editor?.chain().focus().run()\n\t\t\tthis.$emit('trigged', entry)\n\t\t},\n\t\tcheckStateOfChildren() {\n\t\t\tthis.hasEnabledChild = this.children.some((child) =>\n\t\t\t\tthis.isChildEnabled(child),\n\t\t\t)\n\t\t},\n\t\tisChildEnabled(child) {\n\t\t\treturn !child.isSeparator && !getActionState(child, this.editor).disabled\n\t\t},\n\t},\n}\n</script>\n","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<NcButton\n\t\tclass=\"entry-single-action entry-action\"\n\t\t:class=\"state.class\"\n\t\t:disabled=\"state.disabled\"\n\t\t:aria-keyshortcuts=\"keyshortcuts || undefined\"\n\t\t:data-text-action-entry=\"actionEntry.key\"\n\t\t:aria-label=\"label\"\n\t\t:title=\"tooltip\"\n\t\tvariant=\"tertiary\"\n\t\t:pressed=\"actionType !== 'button' ? state.active : undefined\"\n\t\tv-on=\"$listeners\"\n\t\t@click=\"runAction\">\n\t\t<template #icon>\n\t\t\t<component :is=\"icon\" />\n\t\t</template>\n\n\t\t<template v-if=\"actionEntry.forceLabel\" #default>\n\t\t\t{{ label }}\n\t\t</template>\n\t</NcButton>\n</template>\n\n<script>\nimport NcButton from '@nextcloud/vue/components/NcButton'\nimport { BaseActionEntry } from './BaseActionEntry.js'\n\nexport default {\n\tname: 'ActionSingle',\n\n\tcomponents: {\n\t\tNcButton,\n\t},\n\n\textends: BaseActionEntry,\n\n\tprops: {\n\t\tisItem: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\n\tmounted() {\n\t\tthis.editor?.on('transaction', () => this.updateState())\n\t},\n\n\tmethods: {\n\t\trunAction() {\n\t\t\tconst { actionEntry } = this\n\n\t\t\tif (actionEntry.click) {\n\t\t\t\tactionEntry.click(this)\n\t\t\t} else {\n\t\t\t\t// Some actions run themselves.\n\t\t\t\t// others still need to have .run() called upon them.\n\t\t\t\tactionEntry.action(this.editor?.chain().focus(), this.editor)?.run()\n\t\t\t}\n\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.$emit('trigged', { ...actionEntry })\n\t\t\t})\n\t\t},\n\t},\n}\n</script>\n","/**\n * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport { defineComponent } from 'vue'\n\nexport default defineComponent({\n\tdata() {\n\t\treturn {\n\t\t\t/** Current menu entry that has focus */\n\t\t\tactiveMenuEntry: 0,\n\t\t\tentries: [],\n\t\t}\n\t},\n\tcomputed: {\n\t\tvisibleEntries() {\n\t\t\treturn this.entries\n\t\t},\n\t},\n\twatch: {\n\t\tvisibleEntries() {\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tif (\n\t\t\t\t\tthis.activeMenuEntry > this.visibleEntries.length\n\t\t\t\t\t|| this.visibleEntries[this.activeMenuEntry]?.disabled\n\t\t\t\t) {\n\t\t\t\t\tthis.setNextMenuEntry()\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t},\n\tmethods: {\n\t\t/**\n\t\t * Update the disabled state of an menu entry\n\t\t * @param {string} menuKey The key of the menu entry that changed\n\t\t * @param {boolean} state The new disabled state\n\t\t */\n\t\tdisableMenuEntry(menuKey, state) {\n\t\t\tconst index = this.visibleEntries.findIndex(({ key }) => key === menuKey)\n\t\t\tthis.visibleEntries[index].disabled = state\n\t\t\tif (state === false && this.activeMenuEntry === index) {\n\t\t\t\tthis.$nextTick(() => this.setNextMenuEntry())\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Set the active menu entry to the next one (or reset to first)\n\t\t */\n\t\tsetNextMenuEntry() {\n\t\t\t// refs is not reactive so we must check this every time\n\t\t\tconst modulo =\n\t\t\t\tthis.visibleEntries.length + (this.$refs.remainingEntries ? 1 : 0)\n\n\t\t\tdo {\n\t\t\t\tthis.activeMenuEntry = (this.activeMenuEntry + 1) % modulo\n\t\t\t} while (\n\t\t\t\tthis.activeMenuEntry < this.visibleEntries.length\n\t\t\t\t&& this.visibleEntries[this.activeMenuEntry].disabled\n\t\t\t)\n\t\t},\n\t\t/**\n\t\t * Set the active menu entry to the previous one (or reset to last entry (remaining actions))\n\t\t */\n\t\tsetPreviousMenuEntry() {\n\t\t\t// refs is not reactive so we must check this every time\n\t\t\tconst modulo =\n\t\t\t\tthis.visibleEntries.length + (this.$refs.remainingEntries ? 1 : 0)\n\n\t\t\tdo {\n\t\t\t\tconst index = this.activeMenuEntry - 1\n\t\t\t\tthis.activeMenuEntry = ((index % modulo) + modulo) % modulo // needed as JS does not work with negative modulos\n\t\t\t} while (\n\t\t\t\tthis.activeMenuEntry < this.visibleEntries.length\n\t\t\t\t&& this.visibleEntries[this.activeMenuEntry].disabled\n\t\t\t)\n\t\t},\n\n\t\t/**\n\t\t * Handle navigation in toolbar\n\t\t * @param {KeyboardEvent} event The keyup event\n\t\t */\n\t\thandleToolbarNavigation(event) {\n\t\t\tif (event.key === 'ArrowRight') {\n\t\t\t\tthis.setNextMenuEntry()\n\t\t\t} else if (event.key === 'ArrowLeft') {\n\t\t\t\tthis.setPreviousMenuEntry()\n\t\t\t}\n\n\t\t\tif (this.activeMenuEntry === this.visibleEntries.length) {\n\t\t\t\tthis.$refs.remainingEntries?.focusButton?.()\n\t\t\t} else {\n\t\t\t\t// The ref is in no order (ordered by the time they needed to mount), so we need to order them like they are shown on the menu\n\t\t\t\tconst entries = [...this.$refs.menuEntries].sort(\n\t\t\t\t\t(a, b) =>\n\t\t\t\t\t\tthis.visibleEntries.findIndex(\n\t\t\t\t\t\t\t({ key }) => key === a.$vnode.data.key,\n\t\t\t\t\t\t)\n\t\t\t\t\t\t- this.visibleEntries.findIndex(\n\t\t\t\t\t\t\t({ key }) => key === b.$vnode.data.key,\n\t\t\t\t\t\t),\n\t\t\t\t)\n\t\t\t\tentries[this.activeMenuEntry].focusButton()\n\t\t\t}\n\t\t},\n\t},\n})\n","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div\n\t\tdata-text-el=\"readonly-bar\"\n\t\tclass=\"text-readonly-bar\"\n\t\t:class=\"{\n\t\t\t'text-readonly-bar--ready': isReady,\n\t\t\t'text-readonly-bar--is-workspace': isRichWorkspace,\n\t\t\t'text-readonly-bar--hide': isHidden,\n\t\t\t'is-mobile': $isMobile,\n\t\t}\">\n\t\t<div\n\t\t\tref=\"menubar\"\n\t\t\trole=\"toolbar\"\n\t\t\tclass=\"text-readonly-bar__entries\"\n\t\t\t:aria-label=\"t('text', 'Editor actions')\">\n\t\t\t<component\n\t\t\t\t:is=\"\n\t\t\t\t\tactionEntry.component\n\t\t\t\t\t\t? actionEntry.component\n\t\t\t\t\t\t: actionEntry.children\n\t\t\t\t\t\t\t? 'ActionList'\n\t\t\t\t\t\t\t: 'ActionSingle'\n\t\t\t\t\"\n\t\t\t\tv-for=\"(actionEntry, index) in visibleEntries\"\n\t\t\t\tref=\"menuEntries\"\n\t\t\t\t:key=\"actionEntry.key\"\n\t\t\t\t:action-entry=\"actionEntry\"\n\t\t\t\t:can-be-focussed=\"activeMenuEntry === index\"\n\t\t\t\t@disabled=\"disableMenuEntry(actionEntry.key, $event)\" />\n\t\t</div>\n\t\t<div class=\"text-readonly-bar__slot\">\n\t\t\t<slot />\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { defineComponent } from 'vue'\nimport { OutlineEntries, ReadOnlyEditEntries } from './entries.js'\n\nimport { t } from '@nextcloud/l10n'\nimport { useEditorFlags } from '../../composables/useEditorFlags.ts'\nimport { useIsMobileMixin } from '../Editor.provider.ts'\nimport ActionList from './ActionList.vue'\nimport ActionSingle from './ActionSingle.vue'\nimport ToolBarLogic from './ToolBarLogic.js'\n\nexport default defineComponent({\n\tname: 'ReadonlyBar',\n\n\tcomponents: {\n\t\tActionList,\n\t\tActionSingle,\n\t},\n\n\textends: ToolBarLogic,\n\n\tmixins: [useIsMobileMixin],\n\n\tprops: {\n\t\tisHidden: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\topenReadOnly: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\n\temits: ['update:loaded'],\n\n\tsetup() {\n\t\tconst { isRichWorkspace } = useEditorFlags()\n\t\treturn {\n\t\t\tisRichWorkspace,\n\t\t}\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tentries: this.openReadOnly\n\t\t\t\t? [...ReadOnlyEditEntries, ...OutlineEntries]\n\t\t\t\t: [...OutlineEntries],\n\t\t\tisReady: false,\n\t\t}\n\t},\n\n\tmounted() {\n\t\tthis.$nextTick(() => {\n\t\t\tthis.isReady = true\n\t\t\tthis.$emit('update:loaded', true)\n\t\t})\n\t},\n\n\tmethods: {\n\t\tt,\n\t},\n})\n</script>\n\n<style scoped lang=\"scss\">\n.text-readonly-bar {\n\t--background-blur: blur(10px);\n\tposition: sticky;\n\ttop: 0;\n\tbottom: var(--default-grid-baseline);\n\twidth: 100%;\n\tz-index: 10021; // above modal-header so menubar is always on top\n\tbackground-color: var(--color-main-background-translucent);\n\tbackdrop-filter: var(--background-blur);\n\tmax-height: var(\n\t\t--default-clickable-area\n\t); // important for mobile so that the buttons are always inside the container\n\tborder-bottom: 1px solid var(--color-border);\n\tpadding-block: var(--default-grid-baseline);\n\n\tvisibility: hidden;\n\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\talign-items: center;\n\n\t&.is-mobile {\n\t\tborder-top: 1px solid var(--color-border);\n\t\tborder-bottom: unset;\n\t}\n\n\t&.text-readonly-bar--ready:not(.text-readonly-bar--hide) {\n\t\tvisibility: visible;\n\t\tanimation-name: fadeInDown;\n\t\tanimation-duration: 0.3s;\n\t}\n\n\t&.text-readonly-bar--hide {\n\t\topacity: 0;\n\t\ttransition:\n\t\t\tvisibility 0.2s 0.4s,\n\t\t\topacity 0.2s 0.4s;\n\t}\n\t.text-readonly-bar__entries {\n\t\tdisplay: flex;\n\t\tflex-grow: 1;\n\t\tmargin-left: max(0px, calc((100% - var(--text-editor-max-width)) / 2));\n\t}\n\n\t.text-readonly-bar__slot {\n\t\tjustify-content: flex-end;\n\t\tdisplay: flex;\n\t\tmin-width: max(0px, min(100px, (100% - var(--text-editor-max-width)) / 2));\n\t}\n\n\t&.text-readonly-bar--is-workspace {\n\t\t.text-readonly-bar__entries {\n\t\t\tmargin-left: 0;\n\t\t}\n\t}\n\n\t@media (max-width: 660px) {\n\t\t.text-readonly-bar__entries {\n\t\t\tmargin-left: 0;\n\t\t}\n\t}\n}\n</style>\n","/**\n * SPDX-FileCopyrightText: 2025 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\n/*\n * Handle the state of the full editor width toggle.\n *\n * If the css variable `--text-editor-max-width` is already set\n * for `document.body` it will be left as is and\n * no toggle will be shown in the text ui.\n * This way the collectives app handles it's per document width setting.\n *\n * Otherwise this composable handles the `is_full_width_editor` initial state.\n * It sets the css variable on the document accordingly.\n * The state is stored in a singleton to preserve and reuse it on the next mount.\n * It is persisted in the user settings across page reloads.\n *\n */\n\nimport axios from '@nextcloud/axios'\nimport { emit, subscribe } from '@nextcloud/event-bus'\nimport { loadState } from '@nextcloud/initial-state'\nimport { generateUrl } from '@nextcloud/router'\nimport {\n\tcomputed,\n\tinject,\n\tprovide,\n\treadonly,\n\tref,\n\twatch,\n\ttype InjectionKey,\n\ttype Ref,\n} from 'vue'\n\n// Keep the current value around when leaving the editor and reopening\nlet valueSingleton = loadState('text', 'is_full_width_editor', false)\n\n// This is either the reactive value of the editor width toggle\n// or null if the width has already been set outside of text.\nexport const editorWidthKey = Symbol('text:editor:width') as InjectionKey<\n\tReadonly<Ref<boolean> | null>\n>\n\n/**\n * Detect if other apps (such as collectives) already configured texts max width.\n *\n * Check if document.body has a css variable `--text-editor-max-width` (either set or inherited).\n * Get the value set by text in the documentElement style.\n * If both values are set and match we assume text is handling the width.\n */\nfunction maxWidthSetOutsideOfText() {\n\tconst alreadySet = getComputedStyle(document.body).getPropertyValue(\n\t\t'--text-editor-max-width',\n\t)\n\tconst setByText = document.documentElement.style.getPropertyValue(\n\t\t'--text-editor-max-width',\n\t)\n\treturn Boolean(alreadySet) && alreadySet !== setByText\n}\n\nexport const provideEditorWidth = () => {\n\t// keep style that is already set - for example by collectives\n\tif (maxWidthSetOutsideOfText()) {\n\t\tprovide(editorWidthKey, null)\n\t\treturn { applyEditorWidth: () => {} }\n\t}\n\tconst isFullWidth = ref(valueSingleton)\n\tprovide(editorWidthKey, readonly(isFullWidth))\n\tsubscribe('text:editor:full-width', ({ value }) => {\n\t\tvalueSingleton = value\n\t\tisFullWidth.value = value\n\t})\n\tconst width = computed(() => (isFullWidth.value ? '100%' : '80ch'))\n\tconst applyEditorWidth = () => {\n\t\tdocument.documentElement.style.setProperty(\n\t\t\t'--text-editor-max-width',\n\t\t\twidth.value,\n\t\t)\n\t}\n\twatch(width, applyEditorWidth)\n\treturn { applyEditorWidth }\n}\n\nexport const useEditorWidth = () => {\n\t// This will be null if the width is already configured outside of text.\n\tconst isFullWidth = inject(editorWidthKey)\n\tif (isFullWidth === null) {\n\t\treturn { canToggleWidth: false }\n\t}\n\tconst setFullWidth = (checked: boolean) => {\n\t\taxios.post(generateUrl('/apps/text/settings'), {\n\t\t\tkey: 'is_full_width_editor',\n\t\t\tvalue: checked ? '1' : '0',\n\t\t})\n\t\temit('text:editor:full-width', { value: checked })\n\t}\n\treturn { canToggleWidth: true, isFullWidth, setFullWidth }\n}\n","import '../assets/NcActionCheckbox-C8I_k6NA.css';\nimport { u as useModelMigration } from \"./useModelMigration-EhAWvqDD.mjs\";\nimport { A as ActionGlobalMixin } from \"./actionGlobal-DqVa7c7G.mjs\";\nimport { G as GenRandomId } from \"./GenRandomId-F5ebeBB_.mjs\";\nimport { n as normalizeComponent } from \"./_plugin-vue2_normalizer-DU4iP6Vu.mjs\";\nconst _sfc_main = {\n  name: \"NcActionCheckbox\",\n  mixins: [ActionGlobalMixin],\n  inject: {\n    isInSemanticMenu: {\n      from: \"NcActions:isSemanticMenu\",\n      default: false\n    }\n  },\n  model: {\n    prop: \"modelValue\",\n    event: \"update:modelValue\"\n  },\n  props: {\n    /**\n     * id attribute of the checkbox element\n     */\n    id: {\n      type: String,\n      default: () => \"action-\" + GenRandomId(),\n      validator: (id) => id.trim() !== \"\"\n    },\n    /**\n     * Removed in v9 - use `modelValue` (`v-model`) instead\n     *\n     * @deprecated\n     */\n    checked: {\n      type: Boolean,\n      // eslint-disable-next-line vue/no-boolean-default\n      default: void 0\n    },\n    /**\n     * checked state of the the checkbox element\n     */\n    modelValue: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * value of the checkbox input\n     */\n    value: {\n      type: [String, Number],\n      default: \"\"\n    },\n    /**\n     * disabled state of the checkbox element\n     */\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: [\n    \"change\",\n    \"check\",\n    \"uncheck\",\n    /**\n     * Removed in v9 - use `update:modelValue` (`v-model`) instead\n     *\n     * @deprecated\n     */\n    \"update:checked\",\n    /**\n     * Emitted when the checkbox state is changed\n     *\n     * @type {boolean}\n     */\n    \"update:modelValue\",\n    /** Same as update:modelValue for Vue 2 compatibility */\n    \"update:model-value\"\n  ],\n  setup() {\n    const model = useModelMigration(\"checked\", \"update:checked\");\n    return {\n      model\n    };\n  },\n  computed: {\n    /**\n     * determines if the action is focusable\n     *\n     * @return {boolean} is the action focusable ?\n     */\n    isFocusable() {\n      return !this.disabled;\n    },\n    /**\n     * aria-checked attribute for role=\"menuitemcheckbox\"\n     *\n     * @return {'true'|'false'|undefined} aria-checked value if needed\n     */\n    ariaChecked() {\n      if (this.isInSemanticMenu) {\n        return this.model ? \"true\" : \"false\";\n      }\n      return void 0;\n    }\n  },\n  methods: {\n    checkInput() {\n      this.$refs.label.click();\n    },\n    onChange(event) {\n      this.model = this.$refs.checkbox.checked;\n      this.$emit(\"change\", event);\n      if (this.$refs.checkbox.checked) {\n        this.$emit(\"check\");\n      } else {\n        this.$emit(\"uncheck\");\n      }\n    }\n  }\n};\nvar _sfc_render = function render() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"li\", { staticClass: \"action\", class: { \"action--disabled\": _vm.disabled }, attrs: { \"role\": _vm.isInSemanticMenu && \"presentation\" } }, [_c(\"span\", { staticClass: \"action-checkbox\", attrs: { \"role\": _vm.isInSemanticMenu && \"menuitemcheckbox\", \"aria-checked\": _vm.ariaChecked } }, [_c(\"input\", { ref: \"checkbox\", staticClass: \"checkbox action-checkbox__checkbox\", class: { focusable: _vm.isFocusable }, attrs: { \"id\": _vm.id, \"disabled\": _vm.disabled, \"type\": \"checkbox\" }, domProps: { \"checked\": _vm.model, \"value\": _vm.value }, on: { \"keydown\": function($event) {\n    if (!$event.type.indexOf(\"key\") && _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")) return null;\n    if ($event.ctrlKey || $event.shiftKey || $event.altKey || $event.metaKey) return null;\n    $event.preventDefault();\n    return _vm.checkInput.apply(null, arguments);\n  }, \"change\": _vm.onChange } }), _c(\"label\", { ref: \"label\", staticClass: \"action-checkbox__label\", attrs: { \"for\": _vm.id } }, [_vm._v(_vm._s(_vm.text))]), _vm._e()], 2)]);\n};\nvar _sfc_staticRenderFns = [];\nvar __component__ = /* @__PURE__ */ normalizeComponent(\n  _sfc_main,\n  _sfc_render,\n  _sfc_staticRenderFns,\n  false,\n  null,\n  \"73edcb0b\"\n);\nconst NcActionCheckbox = __component__.exports;\nexport {\n  NcActionCheckbox as N\n};\n//# sourceMappingURL=NcActionCheckbox-D9aQuEYw.mjs.map\n","\"use strict\";\n/* eslint-disable @typescript-eslint/no-magic-numbers */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.normalize = void 0;\nconst SLASH = 47;\nconst DOT = 46;\nconst assertPath = (path) => {\n    const t = typeof path;\n    if (t !== 'string') {\n        throw new TypeError(`Expected a string, got a ${t}`);\n    }\n};\n// this function is directly from node source\n// eslint-disable-next-line complexity\nconst posixNormalize = (path, allowAboveRoot) => {\n    let res = '';\n    let lastSegmentLength = 0;\n    let lastSlash = -1;\n    let dots = 0;\n    // eslint-disable-next-line @typescript-eslint/init-declarations\n    let code;\n    // eslint-disable-next-line no-plusplus\n    for (let i = 0; i <= path.length; ++i) {\n        if (i < path.length) {\n            code = path.charCodeAt(i);\n        }\n        else if (code === SLASH) {\n            break;\n        }\n        else {\n            code = SLASH;\n        }\n        if (code === SLASH) {\n            if (lastSlash === i - 1 || dots === 1) {\n                // NOOP\n            }\n            else if (lastSlash !== i - 1 && dots === 2) {\n                if (res.length < 2 ||\n                    lastSegmentLength !== 2 ||\n                    res.charCodeAt(res.length - 1) !== DOT ||\n                    res.charCodeAt(res.length - 2) !== DOT) {\n                    if (res.length > 2) {\n                        const lastSlashIndex = res.lastIndexOf('/');\n                        if (lastSlashIndex !== res.length - 1) {\n                            // eslint-disable-next-line max-depth\n                            if (lastSlashIndex === -1) {\n                                res = '';\n                                lastSegmentLength = 0;\n                            }\n                            else {\n                                res = res.slice(0, lastSlashIndex);\n                                lastSegmentLength = res.length - 1 - res.lastIndexOf('/');\n                            }\n                            lastSlash = i;\n                            dots = 0;\n                            continue;\n                        }\n                    }\n                    else if (res.length === 2 || res.length === 1) {\n                        res = '';\n                        lastSegmentLength = 0;\n                        lastSlash = i;\n                        dots = 0;\n                        continue;\n                    }\n                }\n                if (allowAboveRoot) {\n                    if (res.length > 0) {\n                        res += '/..';\n                    }\n                    else {\n                        res = '..';\n                    }\n                    lastSegmentLength = 2;\n                }\n            }\n            else {\n                if (res.length > 0) {\n                    res += '/' + path.slice(lastSlash + 1, i);\n                }\n                else {\n                    res = path.slice(lastSlash + 1, i);\n                }\n                lastSegmentLength = i - lastSlash - 1;\n            }\n            lastSlash = i;\n            dots = 0;\n        }\n        else if (code === DOT && dots !== -1) {\n            // eslint-disable-next-line no-plusplus\n            ++dots;\n        }\n        else {\n            dots = -1;\n        }\n    }\n    return res;\n};\nconst decode = (s) => {\n    try {\n        return decodeURIComponent(s);\n    }\n    catch {\n        return s;\n    }\n};\nconst normalize = (p) => {\n    assertPath(p);\n    let path = p;\n    if (path.length === 0) {\n        return '.';\n    }\n    const isAbsolute = path.charCodeAt(0) === SLASH;\n    const trailingSeparator = path.charCodeAt(path.length - 1) === SLASH;\n    path = decode(path);\n    path = posixNormalize(path, !isAbsolute);\n    if (path.length === 0 && !isAbsolute) {\n        path = '.';\n    }\n    if (path.length > 0 && trailingSeparator) {\n        path += '/';\n    }\n    if (isAbsolute) {\n        return '/' + path;\n    }\n    return path;\n};\nexports.normalize = normalize;\nexports.default = exports.normalize;\n","/**\n * SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport axios from '@nextcloud/axios'\nimport { generateRemoteUrl, generateUrl } from '@nextcloud/router'\nimport pathNormalize from 'path-normalize'\n\nexport default class AttachmentResolver {\n\t#session\n\t#user\n\t#shareToken\n\t#currentDirectory\n\t#documentId\n\t#initAttachmentListPromise\n\t#attachmentList = []\n\n\tconstructor({ session, user, shareToken, currentDirectory, fileId }) {\n\t\tthis.#session = session\n\t\tthis.#user = user\n\t\tthis.#shareToken = shareToken\n\t\tthis.#currentDirectory = currentDirectory\n\t\tthis.#documentId = fileId ?? session.documentId\n\t\tthis.#initAttachmentListPromise = this.#updateAttachmentList()\n\t}\n\n\tasync #updateAttachmentList() {\n\t\tconst response = await axios.post(generateUrl('/apps/text/attachments'), {\n\t\t\tdocumentId: this.#session?.documentId ?? this.#documentId,\n\t\t\tsessionId: this.#session?.id,\n\t\t\tsessionToken: this.#session?.token,\n\t\t\tshareToken: this.#shareToken,\n\t\t})\n\t\tthis.#attachmentList = response.data\n\t}\n\n\t#findAttachment(fileName) {\n\t\treturn this.#attachmentList.find((a) => a.name === fileName)\n\t}\n\n\t/*\n\t * Resolve a given image/attachment src.\n\t * @param { string } src - the original src in the node.\n\t * @param { bool } fallback - fetch again attachmentsList if not found | defaul = true\n\t */\n\tasync resolve(src, fallback = true) {\n\t\tlet attachment\n\n\t\t// Native attachment\n\t\tconst directoryRegexp = /^\\.attachments\\.\\d+\\//\n\t\tif (src.match(directoryRegexp)) {\n\t\t\tconst imageFileName = decodeURIComponent(\n\t\t\t\tsrc.replace(directoryRegexp, '').split('?')[0],\n\t\t\t)\n\n\t\t\t// Wait until attachment list got fetched (initialized by constructor)\n\t\t\tawait this.#initAttachmentListPromise\n\t\t\tattachment = this.#findAttachment(imageFileName)\n\n\t\t\tif (fallback && !attachment) {\n\t\t\t\t// Update attachments list. Needed if attachments gets added to the session\n\t\t\t\tawait this.#updateAttachmentList()\n\t\t\t\tattachment = this.#findAttachment(imageFileName)\n\t\t\t}\n\n\t\t\tif (attachment) {\n\t\t\t\treturn attachment\n\t\t\t}\n\t\t}\n\n\t\t// Direct URLs\n\t\tif (isDirectUrl(src)) {\n\t\t\treturn {\n\t\t\t\tisImage: true,\n\t\t\t\tname: this.#name(src),\n\t\t\t\tpreviewUrl: src,\n\t\t\t\tfullUrl: src,\n\t\t\t}\n\t\t}\n\n\t\t// Fallback: Return DAV url (e.g. for relative paths to images)\n\t\treturn {\n\t\t\tisImage: true,\n\t\t\tname: this.#name(src),\n\t\t\tpreviewUrl: this.#davUrl(src),\n\t\t\tfullUrl: this.#davUrl(src),\n\t\t}\n\t}\n\n\t#name(src) {\n\t\treturn src.split('/').pop()\n\t}\n\n\t#davUrl(src) {\n\t\tif (this.#user) {\n\t\t\tconst uid = this.#user.uid\n\t\t\tconst encoded = this.#filePath(src)\n\t\t\t\t.split('/')\n\t\t\t\t.map(encodeURIComponent)\n\t\t\t\t.join('/')\n\t\t\treturn generateRemoteUrl(`dav/files/${uid}${encoded}`)\n\t\t}\n\n\t\tconst path = this.#filePath(src).split('/')\n\t\tconst basename = path.pop()\n\t\tconst dirname = path.join('/')\n\n\t\treturn generateUrl('/s/{token}/download?path={dirname}&files={basename}', {\n\t\t\ttoken: this.#shareToken,\n\t\t\tbasename,\n\t\t\tdirname,\n\t\t})\n\t}\n\n\t/**\n\t * Return the relativePath to a file specified in the url\n\t *\n\t * @param {string} src - url to extract path from\n\t */\n\t#relativePath(src) {\n\t\treturn decodeURI(src.split('?')[0])\n\t}\n\n\t#filePath(src) {\n\t\tconst f = [this.#currentDirectory, this.#relativePath(src)].join('/')\n\n\t\treturn pathNormalize(f)\n\t}\n}\n\n/**\n * Check if src is a direct URL.\n * Full URLs only work for images on the same Nextcloud instance (due to CORS restrictions).\n *\n * @param {string} src - the url to check\n */\nfunction isDirectUrl(src) {\n\treturn (\n\t\tsrc.startsWith('http://')\n\t\t|| src.startsWith('https://')\n\t\t|| src.startsWith('data:')\n\t)\n}\n","// src/node-range.ts\nimport { Extension } from \"@tiptap/core\";\nimport { Plugin, PluginKey } from \"@tiptap/pm/state\";\n\n// src/helpers/getNodeRangeDecorations.ts\nimport { Decoration, DecorationSet } from \"@tiptap/pm/view\";\nfunction getNodeRangeDecorations(ranges) {\n  if (!ranges.length) {\n    return DecorationSet.empty;\n  }\n  const decorations = [];\n  const doc = ranges[0].$from.node(0);\n  ranges.forEach((range) => {\n    const pos = range.$from.pos;\n    const node = range.$from.nodeAfter;\n    if (!node) {\n      return;\n    }\n    decorations.push(\n      Decoration.node(pos, pos + node.nodeSize, {\n        class: \"ProseMirror-selectednoderange\"\n      })\n    );\n  });\n  return DecorationSet.create(doc, decorations);\n}\n\n// src/helpers/getSelectionRanges.ts\nimport { NodeRange } from \"@tiptap/pm/model\";\nimport { SelectionRange } from \"@tiptap/pm/state\";\nfunction getSelectionRanges($from, $to, depth) {\n  const ranges = [];\n  const doc = $from.node(0);\n  if (typeof depth === \"number\" && depth >= 0) {\n  } else if ($from.sameParent($to)) {\n    depth = Math.max(0, $from.sharedDepth($to.pos) - 1);\n  } else {\n    depth = $from.sharedDepth($to.pos);\n  }\n  const nodeRange = new NodeRange($from, $to, depth);\n  const offset = nodeRange.depth === 0 ? 0 : doc.resolve(nodeRange.start).posAtIndex(0);\n  nodeRange.parent.forEach((node, pos) => {\n    const from = offset + pos;\n    const to = from + node.nodeSize;\n    if (from < nodeRange.start || from >= nodeRange.end) {\n      return;\n    }\n    const selectionRange = new SelectionRange(doc.resolve(from), doc.resolve(to));\n    ranges.push(selectionRange);\n  });\n  return ranges;\n}\n\n// src/helpers/NodeRangeSelection.ts\nimport { Selection } from \"@tiptap/pm/state\";\n\n// src/helpers/NodeRangeBookmark.ts\nvar NodeRangeBookmark = class _NodeRangeBookmark {\n  constructor(anchor, head) {\n    this.anchor = anchor;\n    this.head = head;\n  }\n  map(mapping) {\n    return new _NodeRangeBookmark(mapping.map(this.anchor), mapping.map(this.head));\n  }\n  resolve(doc) {\n    const $anchor = doc.resolve(this.anchor);\n    const $head = doc.resolve(this.head);\n    return new NodeRangeSelection($anchor, $head);\n  }\n};\n\n// src/helpers/NodeRangeSelection.ts\nvar NodeRangeSelection = class _NodeRangeSelection extends Selection {\n  constructor($anchor, $head, depth, bias = 1) {\n    const { doc } = $anchor;\n    const isCursor = $anchor === $head;\n    const isCursorAtEnd = $anchor.pos === doc.content.size && $head.pos === doc.content.size;\n    const $correctedHead = isCursor && !isCursorAtEnd ? doc.resolve($head.pos + (bias > 0 ? 1 : -1)) : $head;\n    const $correctedAnchor = isCursor && isCursorAtEnd ? doc.resolve($anchor.pos - (bias > 0 ? 1 : -1)) : $anchor;\n    const ranges = getSelectionRanges($correctedAnchor.min($correctedHead), $correctedAnchor.max($correctedHead), depth);\n    const $rangeFrom = $correctedHead.pos >= $anchor.pos ? ranges[0].$from : ranges[ranges.length - 1].$to;\n    const $rangeTo = $correctedHead.pos >= $anchor.pos ? ranges[ranges.length - 1].$to : ranges[0].$from;\n    super($rangeFrom, $rangeTo, ranges);\n    this.depth = depth;\n  }\n  // we can safely ignore this TypeScript error: https://github.com/Microsoft/TypeScript/issues/338\n  // @ts-ignore\n  get $to() {\n    return this.ranges[this.ranges.length - 1].$to;\n  }\n  eq(other) {\n    return other instanceof _NodeRangeSelection && other.$from.pos === this.$from.pos && other.$to.pos === this.$to.pos;\n  }\n  map(doc, mapping) {\n    const $anchor = doc.resolve(mapping.map(this.anchor));\n    const $head = doc.resolve(mapping.map(this.head));\n    return new _NodeRangeSelection($anchor, $head);\n  }\n  toJSON() {\n    return {\n      type: \"nodeRange\",\n      anchor: this.anchor,\n      head: this.head\n    };\n  }\n  get isForwards() {\n    return this.head >= this.anchor;\n  }\n  get isBackwards() {\n    return !this.isForwards;\n  }\n  extendBackwards() {\n    const { doc } = this.$from;\n    if (this.isForwards && this.ranges.length > 1) {\n      const ranges = this.ranges.slice(0, -1);\n      const $from2 = ranges[0].$from;\n      const $to = ranges[ranges.length - 1].$to;\n      return new _NodeRangeSelection($from2, $to, this.depth);\n    }\n    const firstRange = this.ranges[0];\n    const $from = doc.resolve(Math.max(0, firstRange.$from.pos - 1));\n    return new _NodeRangeSelection(this.$anchor, $from, this.depth);\n  }\n  extendForwards() {\n    const { doc } = this.$from;\n    if (this.isBackwards && this.ranges.length > 1) {\n      const ranges = this.ranges.slice(1);\n      const $from = ranges[0].$from;\n      const $to2 = ranges[ranges.length - 1].$to;\n      return new _NodeRangeSelection($to2, $from, this.depth);\n    }\n    const lastRange = this.ranges[this.ranges.length - 1];\n    const $to = doc.resolve(Math.min(doc.content.size, lastRange.$to.pos + 1));\n    return new _NodeRangeSelection(this.$anchor, $to, this.depth);\n  }\n  static fromJSON(doc, json) {\n    return new _NodeRangeSelection(doc.resolve(json.anchor), doc.resolve(json.head));\n  }\n  static create(doc, anchor, head, depth, bias = 1) {\n    return new this(doc.resolve(anchor), doc.resolve(head), depth, bias);\n  }\n  getBookmark() {\n    return new NodeRangeBookmark(this.anchor, this.head);\n  }\n};\nNodeRangeSelection.prototype.visible = false;\n\n// src/helpers/isNodeRangeSelection.ts\nfunction isNodeRangeSelection(value) {\n  return value instanceof NodeRangeSelection;\n}\n\n// src/node-range.ts\nvar NodeRange2 = Extension.create({\n  name: \"nodeRange\",\n  addOptions() {\n    return {\n      depth: void 0,\n      key: \"Mod\"\n    };\n  },\n  addKeyboardShortcuts() {\n    return {\n      // extend NodeRangeSelection upwards\n      \"Shift-ArrowUp\": ({ editor }) => {\n        const { depth } = this.options;\n        const { view, state } = editor;\n        const { doc, selection, tr } = state;\n        const { anchor, head } = selection;\n        if (!isNodeRangeSelection(selection)) {\n          const nodeRangeSelection2 = NodeRangeSelection.create(doc, anchor, head, depth, -1);\n          tr.setSelection(nodeRangeSelection2);\n          view.dispatch(tr);\n          return true;\n        }\n        const nodeRangeSelection = selection.extendBackwards();\n        tr.setSelection(nodeRangeSelection);\n        view.dispatch(tr);\n        return true;\n      },\n      // extend NodeRangeSelection downwards\n      \"Shift-ArrowDown\": ({ editor }) => {\n        const { depth } = this.options;\n        const { view, state } = editor;\n        const { doc, selection, tr } = state;\n        const { anchor, head } = selection;\n        if (!isNodeRangeSelection(selection)) {\n          const nodeRangeSelection2 = NodeRangeSelection.create(doc, anchor, head, depth);\n          tr.setSelection(nodeRangeSelection2);\n          view.dispatch(tr);\n          return true;\n        }\n        const nodeRangeSelection = selection.extendForwards();\n        tr.setSelection(nodeRangeSelection);\n        view.dispatch(tr);\n        return true;\n      },\n      // add `NodeRangeSelection` to all nodes\n      \"Mod-a\": ({ editor }) => {\n        const { depth } = this.options;\n        const { view, state } = editor;\n        const { doc, tr } = state;\n        const nodeRangeSelection = NodeRangeSelection.create(doc, 0, doc.content.size, depth);\n        tr.setSelection(nodeRangeSelection);\n        view.dispatch(tr);\n        return true;\n      }\n    };\n  },\n  onSelectionUpdate() {\n    const { selection } = this.editor.state;\n    if (isNodeRangeSelection(selection)) {\n      this.editor.view.dom.classList.add(\"ProseMirror-noderangeselection\");\n    }\n  },\n  addProseMirrorPlugins() {\n    let hideTextSelection = false;\n    let activeMouseSelection = false;\n    return [\n      new Plugin({\n        key: new PluginKey(\"nodeRange\"),\n        props: {\n          attributes: () => {\n            if (hideTextSelection) {\n              return {\n                class: \"ProseMirror-noderangeselection\"\n              };\n            }\n            return { class: \"\" };\n          },\n          handleDOMEvents: {\n            mousedown: (view, event) => {\n              const { key } = this.options;\n              const isMac = /Mac/.test(navigator.platform);\n              const isShift = !!event.shiftKey;\n              const isControl = !!event.ctrlKey;\n              const isAlt = !!event.altKey;\n              const isMeta = !!event.metaKey;\n              const isMod = isMac ? isMeta : isControl;\n              if (key === null || key === void 0 || key === \"Shift\" && isShift || key === \"Control\" && isControl || key === \"Alt\" && isAlt || key === \"Meta\" && isMeta || key === \"Mod\" && isMod) {\n                activeMouseSelection = true;\n              }\n              if (!activeMouseSelection) {\n                return false;\n              }\n              document.addEventListener(\n                \"mouseup\",\n                () => {\n                  activeMouseSelection = false;\n                  const { state } = view;\n                  const { doc, selection, tr } = state;\n                  const { $anchor, $head } = selection;\n                  if ($anchor.sameParent($head)) {\n                    return;\n                  }\n                  const nodeRangeSelection = NodeRangeSelection.create(doc, $anchor.pos, $head.pos, this.options.depth);\n                  tr.setSelection(nodeRangeSelection);\n                  view.dispatch(tr);\n                },\n                { once: true }\n              );\n              return false;\n            }\n          },\n          // when selecting some text we want to render some decorations\n          // to preview a `NodeRangeSelection`\n          decorations: (state) => {\n            const { selection } = state;\n            const isNodeRange = isNodeRangeSelection(selection);\n            hideTextSelection = false;\n            if (!activeMouseSelection) {\n              if (!isNodeRange) {\n                return null;\n              }\n              hideTextSelection = true;\n              return getNodeRangeDecorations(selection.ranges);\n            }\n            const { $from, $to } = selection;\n            if (!isNodeRange && $from.sameParent($to)) {\n              return null;\n            }\n            const nodeRanges = getSelectionRanges($from, $to, this.options.depth);\n            if (!nodeRanges.length) {\n              return null;\n            }\n            hideTextSelection = true;\n            return getNodeRangeDecorations(nodeRanges);\n          }\n        }\n      })\n    ];\n  }\n});\n\n// src/index.ts\nvar index_default = NodeRange2;\nexport {\n  NodeRange2 as NodeRange,\n  NodeRangeSelection,\n  index_default as default,\n  getNodeRangeDecorations,\n  getSelectionRanges,\n  isNodeRangeSelection\n};\n//# sourceMappingURL=index.js.map","// src/drag-handle.ts\nimport { Extension } from \"@tiptap/core\";\n\n// src/drag-handle-plugin.ts\nimport { computePosition } from \"@floating-ui/dom\";\nimport { isChangeOrigin } from \"@tiptap/extension-collaboration\";\nimport { Plugin, PluginKey } from \"@tiptap/pm/state\";\nimport {\n  absolutePositionToRelativePosition,\n  relativePositionToAbsolutePosition,\n  ySyncPluginKey\n} from \"@tiptap/y-tiptap\";\n\n// src/helpers/dragHandler.ts\nimport { getSelectionRanges, NodeRangeSelection } from \"@tiptap/extension-node-range\";\n\n// src/helpers/cloneElement.ts\nfunction getCSSText(element) {\n  let value = \"\";\n  const style = getComputedStyle(element);\n  for (let i = 0; i < style.length; i += 1) {\n    value += `${style[i]}:${style.getPropertyValue(style[i])};`;\n  }\n  return value;\n}\nfunction cloneElement(node) {\n  const clonedNode = node.cloneNode(true);\n  const sourceElements = [node, ...Array.from(node.getElementsByTagName(\"*\"))];\n  const targetElements = [clonedNode, ...Array.from(clonedNode.getElementsByTagName(\"*\"))];\n  sourceElements.forEach((sourceElement, index) => {\n    targetElements[index].style.cssText = getCSSText(sourceElement);\n  });\n  return clonedNode;\n}\n\n// src/helpers/findNextElementFromCursor.ts\nfunction findClosestTopLevelBlock(element, view) {\n  let current = element;\n  while ((current == null ? void 0 : current.parentElement) && current.parentElement !== view.dom) {\n    current = current.parentElement;\n  }\n  return (current == null ? void 0 : current.parentElement) === view.dom ? current : void 0;\n}\nfunction clampToContent(view, x, y, inset = 5) {\n  const container = view.dom;\n  const firstBlock = container.firstElementChild;\n  const lastBlock = container.lastElementChild;\n  if (!firstBlock || !lastBlock) {\n    return { x, y };\n  }\n  const topRect = firstBlock.getBoundingClientRect();\n  const botRect = lastBlock.getBoundingClientRect();\n  const clampedY = Math.min(Math.max(topRect.top + inset, y), botRect.bottom - inset);\n  const epsilon = 0.5;\n  const sameLeft = Math.abs(topRect.left - botRect.left) < epsilon;\n  const sameRight = Math.abs(topRect.right - botRect.right) < epsilon;\n  let rowRect = topRect;\n  if (sameLeft && sameRight) {\n    rowRect = topRect;\n  } else {\n  }\n  const clampedX = Math.min(Math.max(rowRect.left + inset, x), rowRect.right - inset);\n  return { x: clampedX, y: clampedY };\n}\nvar findElementNextToCoords = (options) => {\n  const { x, y, editor } = options;\n  const { view, state } = editor;\n  const { x: clampedX, y: clampedY } = clampToContent(view, x, y, 5);\n  const elements = view.root.elementsFromPoint(clampedX, clampedY);\n  let block;\n  Array.prototype.some.call(elements, (el) => {\n    if (!view.dom.contains(el)) {\n      return false;\n    }\n    const candidate = findClosestTopLevelBlock(el, view);\n    if (candidate) {\n      block = candidate;\n      return true;\n    }\n    return false;\n  });\n  if (!block) {\n    return { resultElement: null, resultNode: null, pos: null };\n  }\n  let pos;\n  try {\n    pos = view.posAtDOM(block, 0);\n  } catch {\n    return { resultElement: null, resultNode: null, pos: null };\n  }\n  const node = state.doc.nodeAt(pos);\n  return {\n    resultElement: block,\n    resultNode: node,\n    pos\n  };\n};\n\n// src/helpers/getComputedStyle.ts\nfunction getComputedStyle2(node, property) {\n  const style = window.getComputedStyle(node);\n  return style[property];\n}\n\n// src/helpers/minMax.ts\nfunction minMax(value = 0, min = 0, max = 0) {\n  return Math.min(Math.max(value, min), max);\n}\n\n// src/helpers/getInnerCoords.ts\nfunction getInnerCoords(view, x, y) {\n  const paddingLeft = parseInt(getComputedStyle2(view.dom, \"paddingLeft\"), 10);\n  const paddingRight = parseInt(getComputedStyle2(view.dom, \"paddingRight\"), 10);\n  const borderLeft = parseInt(getComputedStyle2(view.dom, \"borderLeftWidth\"), 10);\n  const borderRight = parseInt(getComputedStyle2(view.dom, \"borderLeftWidth\"), 10);\n  const bounds = view.dom.getBoundingClientRect();\n  const coords = {\n    left: minMax(x, bounds.left + paddingLeft + borderLeft, bounds.right - paddingRight - borderRight),\n    top: y\n  };\n  return coords;\n}\n\n// src/helpers/removeNode.ts\nfunction removeNode(node) {\n  var _a;\n  (_a = node.parentNode) == null ? void 0 : _a.removeChild(node);\n}\n\n// src/helpers/dragHandler.ts\nfunction getDragHandleRanges(event, editor) {\n  const { doc } = editor.view.state;\n  const result = findElementNextToCoords({\n    editor,\n    x: event.clientX,\n    y: event.clientY,\n    direction: \"right\"\n  });\n  if (!result.resultNode || result.pos === null) {\n    return [];\n  }\n  const x = event.clientX;\n  const coords = getInnerCoords(editor.view, x, event.clientY);\n  const posAtCoords = editor.view.posAtCoords(coords);\n  if (!posAtCoords) {\n    return [];\n  }\n  const { pos } = posAtCoords;\n  const nodeAt = doc.resolve(pos).parent;\n  if (!nodeAt) {\n    return [];\n  }\n  const $from = doc.resolve(result.pos);\n  const $to = doc.resolve(result.pos + 1);\n  return getSelectionRanges($from, $to, 0);\n}\nfunction dragHandler(event, editor) {\n  const { view } = editor;\n  if (!event.dataTransfer) {\n    return;\n  }\n  const { empty, $from, $to } = view.state.selection;\n  const dragHandleRanges = getDragHandleRanges(event, editor);\n  const selectionRanges = getSelectionRanges($from, $to, 0);\n  const isDragHandleWithinSelection = selectionRanges.some((range) => {\n    return dragHandleRanges.find((dragHandleRange) => {\n      return dragHandleRange.$from === range.$from && dragHandleRange.$to === range.$to;\n    });\n  });\n  const ranges = empty || !isDragHandleWithinSelection ? dragHandleRanges : selectionRanges;\n  if (!ranges.length) {\n    return;\n  }\n  const { tr } = view.state;\n  const wrapper = document.createElement(\"div\");\n  const from = ranges[0].$from.pos;\n  const to = ranges[ranges.length - 1].$to.pos;\n  const selection = NodeRangeSelection.create(view.state.doc, from, to);\n  const slice = selection.content();\n  ranges.forEach((range) => {\n    const element = view.nodeDOM(range.$from.pos);\n    const clonedElement = cloneElement(element);\n    wrapper.append(clonedElement);\n  });\n  wrapper.style.position = \"absolute\";\n  wrapper.style.top = \"-10000px\";\n  document.body.append(wrapper);\n  event.dataTransfer.clearData();\n  event.dataTransfer.setDragImage(wrapper, 0, 0);\n  view.dragging = { slice, move: true };\n  tr.setSelection(selection);\n  view.dispatch(tr);\n  document.addEventListener(\"drop\", () => removeNode(wrapper), { once: true });\n}\n\n// src/helpers/getOuterNode.ts\nvar getOuterNodePos = (doc, pos) => {\n  const resolvedPos = doc.resolve(pos);\n  const { depth } = resolvedPos;\n  if (depth === 0) {\n    return pos;\n  }\n  const a = resolvedPos.pos - resolvedPos.parentOffset;\n  return a - 1;\n};\nvar getOuterNode = (doc, pos) => {\n  const node = doc.nodeAt(pos);\n  const resolvedPos = doc.resolve(pos);\n  let { depth } = resolvedPos;\n  let parent = node;\n  while (depth > 0) {\n    const currentNode = resolvedPos.node(depth);\n    depth -= 1;\n    if (depth === 0) {\n      parent = currentNode;\n    }\n  }\n  return parent;\n};\n\n// src/drag-handle-plugin.ts\nvar getRelativePos = (state, absolutePos) => {\n  const ystate = ySyncPluginKey.getState(state);\n  if (!ystate) {\n    return null;\n  }\n  return absolutePositionToRelativePosition(absolutePos, ystate.type, ystate.binding.mapping);\n};\nvar getAbsolutePos = (state, relativePos) => {\n  const ystate = ySyncPluginKey.getState(state);\n  if (!ystate) {\n    return -1;\n  }\n  return relativePositionToAbsolutePosition(ystate.doc, ystate.type, relativePos, ystate.binding.mapping) || 0;\n};\nvar getOuterDomNode = (view, domNode) => {\n  let tmpDomNode = domNode;\n  while (tmpDomNode == null ? void 0 : tmpDomNode.parentNode) {\n    if (tmpDomNode.parentNode === view.dom) {\n      break;\n    }\n    tmpDomNode = tmpDomNode.parentNode;\n  }\n  return tmpDomNode;\n};\nvar dragHandlePluginDefaultKey = new PluginKey(\"dragHandle\");\nvar DragHandlePlugin = ({\n  pluginKey = dragHandlePluginDefaultKey,\n  element,\n  editor,\n  computePositionConfig,\n  getReferencedVirtualElement,\n  onNodeChange,\n  onElementDragStart,\n  onElementDragEnd\n}) => {\n  const wrapper = document.createElement(\"div\");\n  let locked = false;\n  let currentNode = null;\n  let currentNodePos = -1;\n  let currentNodeRelPos;\n  let rafId = null;\n  let pendingMouseCoords = null;\n  function hideHandle() {\n    if (!element) {\n      return;\n    }\n    element.style.visibility = \"hidden\";\n    element.style.pointerEvents = \"none\";\n  }\n  function showHandle() {\n    if (!element) {\n      return;\n    }\n    if (!editor.isEditable) {\n      hideHandle();\n      return;\n    }\n    element.style.visibility = \"\";\n    element.style.pointerEvents = \"auto\";\n  }\n  function repositionDragHandle(dom) {\n    const virtualElement = (getReferencedVirtualElement == null ? void 0 : getReferencedVirtualElement()) || {\n      getBoundingClientRect: () => dom.getBoundingClientRect()\n    };\n    computePosition(virtualElement, element, computePositionConfig).then((val) => {\n      Object.assign(element.style, {\n        position: val.strategy,\n        left: `${val.x}px`,\n        top: `${val.y}px`\n      });\n    });\n  }\n  function onDragStart(e) {\n    onElementDragStart == null ? void 0 : onElementDragStart(e);\n    dragHandler(e, editor);\n    setTimeout(() => {\n      if (element) {\n        element.style.pointerEvents = \"none\";\n      }\n    }, 0);\n  }\n  function onDragEnd(e) {\n    onElementDragEnd == null ? void 0 : onElementDragEnd(e);\n    hideHandle();\n    if (element) {\n      element.style.pointerEvents = \"auto\";\n    }\n  }\n  element.addEventListener(\"dragstart\", onDragStart);\n  element.addEventListener(\"dragend\", onDragEnd);\n  wrapper.appendChild(element);\n  return {\n    unbind() {\n      element.removeEventListener(\"dragstart\", onDragStart);\n      element.removeEventListener(\"dragend\", onDragEnd);\n      if (rafId) {\n        cancelAnimationFrame(rafId);\n        rafId = null;\n        pendingMouseCoords = null;\n      }\n    },\n    plugin: new Plugin({\n      key: typeof pluginKey === \"string\" ? new PluginKey(pluginKey) : pluginKey,\n      state: {\n        init() {\n          return { locked: false };\n        },\n        apply(tr, value, _oldState, state) {\n          const isLocked = tr.getMeta(\"lockDragHandle\");\n          const hideDragHandle = tr.getMeta(\"hideDragHandle\");\n          if (isLocked !== void 0) {\n            locked = isLocked;\n          }\n          if (hideDragHandle) {\n            hideHandle();\n            locked = false;\n            currentNode = null;\n            currentNodePos = -1;\n            onNodeChange == null ? void 0 : onNodeChange({ editor, node: null, pos: -1 });\n            return value;\n          }\n          if (tr.docChanged && currentNodePos !== -1 && element) {\n            if (isChangeOrigin(tr)) {\n              const newPos = getAbsolutePos(state, currentNodeRelPos);\n              if (newPos !== currentNodePos) {\n                currentNodePos = newPos;\n              }\n            } else {\n              const newPos = tr.mapping.map(currentNodePos);\n              if (newPos !== currentNodePos) {\n                currentNodePos = newPos;\n                currentNodeRelPos = getRelativePos(state, currentNodePos);\n              }\n            }\n          }\n          return value;\n        }\n      },\n      view: (view) => {\n        var _a;\n        element.draggable = true;\n        element.style.pointerEvents = \"auto\";\n        (_a = editor.view.dom.parentElement) == null ? void 0 : _a.appendChild(wrapper);\n        wrapper.style.pointerEvents = \"none\";\n        wrapper.style.position = \"absolute\";\n        wrapper.style.top = \"0\";\n        wrapper.style.left = \"0\";\n        return {\n          update(_, oldState) {\n            if (!element) {\n              return;\n            }\n            if (!editor.isEditable) {\n              hideHandle();\n              return;\n            }\n            if (locked) {\n              element.draggable = false;\n            } else {\n              element.draggable = true;\n            }\n            if (view.state.doc.eq(oldState.doc) || currentNodePos === -1) {\n              return;\n            }\n            let domNode = view.nodeDOM(currentNodePos);\n            domNode = getOuterDomNode(view, domNode);\n            if (domNode === view.dom) {\n              return;\n            }\n            if ((domNode == null ? void 0 : domNode.nodeType) !== 1) {\n              return;\n            }\n            const domNodePos = view.posAtDOM(domNode, 0);\n            const outerNode = getOuterNode(editor.state.doc, domNodePos);\n            const outerNodePos = getOuterNodePos(editor.state.doc, domNodePos);\n            currentNode = outerNode;\n            currentNodePos = outerNodePos;\n            currentNodeRelPos = getRelativePos(view.state, currentNodePos);\n            onNodeChange == null ? void 0 : onNodeChange({ editor, node: currentNode, pos: currentNodePos });\n            repositionDragHandle(domNode);\n          },\n          // TODO: Kills even on hot reload\n          destroy() {\n            if (rafId) {\n              cancelAnimationFrame(rafId);\n              rafId = null;\n              pendingMouseCoords = null;\n            }\n            if (element) {\n              removeNode(wrapper);\n            }\n          }\n        };\n      },\n      props: {\n        handleDOMEvents: {\n          keydown(view) {\n            if (!element || locked) {\n              return false;\n            }\n            if (view.hasFocus()) {\n              hideHandle();\n              currentNode = null;\n              currentNodePos = -1;\n              onNodeChange == null ? void 0 : onNodeChange({ editor, node: null, pos: -1 });\n              return false;\n            }\n            return false;\n          },\n          mouseleave(_view, e) {\n            if (locked) {\n              return false;\n            }\n            if (e.target && !wrapper.contains(e.relatedTarget)) {\n              hideHandle();\n              currentNode = null;\n              currentNodePos = -1;\n              onNodeChange == null ? void 0 : onNodeChange({ editor, node: null, pos: -1 });\n            }\n            return false;\n          },\n          mousemove(view, e) {\n            if (!element || locked) {\n              return false;\n            }\n            pendingMouseCoords = { x: e.clientX, y: e.clientY };\n            if (rafId) {\n              return false;\n            }\n            rafId = requestAnimationFrame(() => {\n              rafId = null;\n              if (!pendingMouseCoords) {\n                return;\n              }\n              const { x, y } = pendingMouseCoords;\n              pendingMouseCoords = null;\n              const nodeData = findElementNextToCoords({\n                x,\n                y,\n                direction: \"right\",\n                editor\n              });\n              if (!nodeData.resultElement) {\n                return;\n              }\n              let domNode = nodeData.resultElement;\n              domNode = getOuterDomNode(view, domNode);\n              if (domNode === view.dom) {\n                return;\n              }\n              if ((domNode == null ? void 0 : domNode.nodeType) !== 1) {\n                return;\n              }\n              const domNodePos = view.posAtDOM(domNode, 0);\n              const outerNode = getOuterNode(editor.state.doc, domNodePos);\n              if (outerNode !== currentNode) {\n                const outerNodePos = getOuterNodePos(editor.state.doc, domNodePos);\n                currentNode = outerNode;\n                currentNodePos = outerNodePos;\n                currentNodeRelPos = getRelativePos(view.state, currentNodePos);\n                onNodeChange == null ? void 0 : onNodeChange({ editor, node: currentNode, pos: currentNodePos });\n                repositionDragHandle(domNode);\n                showHandle();\n              }\n            });\n            return false;\n          }\n        }\n      }\n    })\n  };\n};\n\n// src/drag-handle.ts\nvar defaultComputePositionConfig = {\n  placement: \"left-start\",\n  strategy: \"absolute\"\n};\nvar DragHandle = Extension.create({\n  name: \"dragHandle\",\n  addOptions() {\n    return {\n      render() {\n        const element = document.createElement(\"div\");\n        element.classList.add(\"drag-handle\");\n        return element;\n      },\n      computePositionConfig: {},\n      locked: false,\n      onNodeChange: () => {\n        return null;\n      },\n      onElementDragStart: void 0,\n      onElementDragEnd: void 0\n    };\n  },\n  addCommands() {\n    return {\n      lockDragHandle: () => ({ editor }) => {\n        this.options.locked = true;\n        return editor.commands.setMeta(\"lockDragHandle\", this.options.locked);\n      },\n      unlockDragHandle: () => ({ editor }) => {\n        this.options.locked = false;\n        return editor.commands.setMeta(\"lockDragHandle\", this.options.locked);\n      },\n      toggleDragHandle: () => ({ editor }) => {\n        this.options.locked = !this.options.locked;\n        return editor.commands.setMeta(\"lockDragHandle\", this.options.locked);\n      }\n    };\n  },\n  addProseMirrorPlugins() {\n    const element = this.options.render();\n    return [\n      DragHandlePlugin({\n        computePositionConfig: { ...defaultComputePositionConfig, ...this.options.computePositionConfig },\n        getReferencedVirtualElement: this.options.getReferencedVirtualElement,\n        element,\n        editor: this.editor,\n        onNodeChange: this.options.onNodeChange,\n        onElementDragStart: this.options.onElementDragStart,\n        onElementDragEnd: this.options.onElementDragEnd\n      }).plugin\n    ];\n  }\n});\n\n// src/index.ts\nvar index_default = DragHandle;\nexport {\n  DragHandle,\n  DragHandlePlugin,\n  index_default as default,\n  defaultComputePositionConfig,\n  dragHandlePluginDefaultKey\n};\n//# sourceMappingURL=index.js.map","// src/DragHandle.ts\nimport {\n  defaultComputePositionConfig,\n  DragHandlePlugin,\n  dragHandlePluginDefaultKey\n} from \"@tiptap/extension-drag-handle\";\nimport Vue from \"vue\";\nvar DragHandle = Vue.extend({\n  name: \"DragHandleVue\",\n  props: {\n    pluginKey: {\n      type: [String, Object],\n      default: () => dragHandlePluginDefaultKey\n    },\n    editor: {\n      type: Object,\n      required: true\n    },\n    computePositionConfig: {\n      type: Object,\n      default: () => ({})\n    },\n    onNodeChange: {\n      type: Function,\n      default: null\n    },\n    onElementDragStart: {\n      type: Function,\n      default: null\n    },\n    onElementDragEnd: {\n      type: Function,\n      default: null\n    },\n    class: {\n      type: String,\n      default: \"drag-handle\"\n    }\n  },\n  mounted() {\n    const { editor, pluginKey, onNodeChange, onElementDragStart, onElementDragEnd } = this.$props;\n    editor.registerPlugin(\n      DragHandlePlugin({\n        editor,\n        element: this.$el,\n        pluginKey,\n        computePositionConfig: { ...defaultComputePositionConfig, ...this.computePositionConfig },\n        onNodeChange,\n        onElementDragStart,\n        onElementDragEnd\n      }).plugin\n    );\n  },\n  // eslint-disable-next-line vue/no-deprecated-destroyed-lifecycle\n  beforeDestroy() {\n    const { pluginKey, editor } = this.$props;\n    editor.unregisterPlugin(pluginKey);\n  },\n  render(h) {\n    return h(\n      \"div\",\n      {\n        class: this.class\n      },\n      this.$slots.default\n    );\n  }\n});\n\n// src/index.ts\nvar index_default = DragHandle;\nexport {\n  DragHandle,\n  index_default as default\n};\n//# sourceMappingURL=index.js.map","<template>\n  <span v-bind=\"$attrs\"\n        :aria-hidden=\"title ? null : 'true'\"\n        :aria-label=\"title\"\n        class=\"material-design-icon drag-vertical-icon\"\n        role=\"img\"\n        @click=\"$emit('click', $event)\">\n    <svg :fill=\"fillColor\"\n         class=\"material-design-icon__svg\"\n         :width=\"size\"\n         :height=\"size\"\n         viewBox=\"0 0 24 24\">\n      <path d=\"M9,3H11V5H9V3M13,3H15V5H13V3M9,7H11V9H9V7M13,7H15V9H13V7M9,11H11V13H9V11M13,11H15V13H13V11M9,15H11V17H9V15M13,15H15V17H13V15M9,19H11V21H9V19M13,19H15V21H13V19Z\">\n        <title v-if=\"title\">{{ title }}</title>\n      </path>\n    </svg>\n  </span>\n</template>\n\n<script>\nexport default {\n  name: \"DragVerticalIcon\",\n  emits: ['click'],\n  props: {\n    title: {\n      type: String,\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n}\n</script>","<!--\n  - SPDX-FileCopyrightText: 2025 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<DragHandle\n\t\t:editor=\"editor\"\n\t\tclass=\"floating-buttons\"\n\t\t:class=\"{ heading: isHeadingNode }\"\n\t\t:on-node-change=\"onNodeChange\">\n\t\t<NcButton\n\t\t\tvariant=\"tertiary-no-background\"\n\t\t\tsize=\"small\"\n\t\t\t:title=\"t('text', 'Insert below')\"\n\t\t\t@click=\"onOpenSmartPicker\">\n\t\t\t<template #icon>\n\t\t\t\t<PlusIcon :size=\"16\" />\n\t\t\t</template>\n\t\t</NcButton>\n\t\t<NcButton\n\t\t\tvariant=\"tertiary-no-background\"\n\t\t\tsize=\"small\"\n\t\t\tclass=\"drag-button\"\n\t\t\t:title=\"t('text', 'Click for options, hold to drag')\">\n\t\t\t<template #icon>\n\t\t\t\t<DragVerticalIcon :size=\"16\" />\n\t\t\t</template>\n\t\t</NcButton>\n\t</DragHandle>\n</template>\n\n<script>\nimport { t } from '@nextcloud/l10n'\nimport NcButton from '@nextcloud/vue/components/NcButton'\nimport { DragHandle } from '@tiptap/extension-drag-handle-vue-2'\nimport DragVerticalIcon from 'vue-material-design-icons/DragVertical.vue'\nimport PlusIcon from 'vue-material-design-icons/Plus.vue'\nimport { useEditor } from '../../composables/useEditor.ts'\n\nexport default {\n\tname: 'FloatingButtons',\n\n\tcomponents: {\n\t\tDragHandle,\n\t\tDragVerticalIcon,\n\t\tNcButton,\n\t\tPlusIcon,\n\t},\n\n\tsetup() {\n\t\tconst { editor } = useEditor()\n\t\treturn { editor }\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tnode: null,\n\t\t\tpos: -1,\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tisHeadingNode() {\n\t\t\treturn this.node?.type === this.editor.schema.nodes.heading\n\t\t},\n\t},\n\n\tmethods: {\n\t\tonNodeChange({ node, pos }) {\n\t\t\tthis.node = node\n\t\t\tthis.pos = pos\n\t\t},\n\t\tonOpenSmartPicker() {\n\t\t\tif (!this.node || this.pos === -1) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// Node has no children or just text children and no text content\n\t\t\tconst { schema } = this.editor\n\t\t\tconst emptyNode =\n\t\t\t\tthis.node.textContent.trim() === ''\n\t\t\t\t&& (this.node.children.length === 0\n\t\t\t\t\t|| this.node.children.every((n) => n.type === schema.nodes.text))\n\n\t\t\t// Insert at the end of the node\n\t\t\tconst pos = emptyNode ? this.pos + 1 : this.pos + this.node.nodeSize\n\t\t\tthis.editor.chain().insertContentAt(pos, '/').focus().run()\n\t\t},\n\t\tt,\n\t},\n}\n</script>\n\n<style scoped lang=\"scss\">\n.floating-buttons {\n\tdisplay: flex;\n\n\t&.heading {\n\t\tmargin-right: 16px;\n\t}\n}\n\n.drag-button {\n\tcursor: grab;\n\n\t:deep(span),\n\t:deep(svg) {\n\t\tcursor: grab !important;\n\t}\n}\n</style>\n","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div\n\t\tdata-text-el=\"editor-content-wrapper\"\n\t\tclass=\"content-wrapper text-editor__content-wrapper\"\n\t\t:class=\"{\n\t\t\t'--show-outline': showOutline,\n\t\t}\">\n\t\t<div v-if=\"showOutline\" class=\"text-editor__content-wrapper__left\">\n\t\t\t<EditorOutline />\n\t\t</div>\n\t\t<slot />\n\t\t<FloatingButtons v-if=\"showFloatingButtons\" />\n\t\t<EditorContent\n\t\t\trole=\"document\"\n\t\t\tclass=\"editor__content text-editor__content\"\n\t\t\t:editor=\"editor\" />\n\t\t<div class=\"text-editor__content-wrapper__right\" />\n\t</div>\n</template>\n\n<script>\nimport { useIsMobile } from '@nextcloud/vue/composables/useIsMobile'\nimport { EditorContent } from '@tiptap/vue-2'\nimport { useEditor } from '../../composables/useEditor.ts'\nimport { useEditorFlags } from '../../composables/useEditorFlags.ts'\nimport { useEditorWidth } from '../../composables/useEditorWidth.ts'\nimport EditorOutline from './EditorOutline.vue'\nimport FloatingButtons from './FloatingButtons.vue'\nimport { useOutlineStateMixin } from './Wrapper.provider.js'\n\nexport default {\n\tname: 'ContentContainer',\n\tcomponents: {\n\t\tEditorContent,\n\t\tEditorOutline,\n\t\tFloatingButtons,\n\t},\n\tmixins: [useOutlineStateMixin],\n\tprops: {\n\t\treadOnly: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tsetup() {\n\t\tconst isMobile = useIsMobile()\n\t\tconst { editor } = useEditor()\n\t\tconst { isRichEditor, isRichWorkspace } = useEditorFlags()\n\t\tconst { isFullWidth } = useEditorWidth()\n\t\treturn { editor, isMobile, isFullWidth, isRichEditor, isRichWorkspace }\n\t},\n\tcomputed: {\n\t\tshowOutline() {\n\t\t\treturn this.$outlineState.visible\n\t\t},\n\t\tshowFloatingButtons() {\n\t\t\treturn (\n\t\t\t\t!this.readOnly\n\t\t\t\t&& !this.isMobile\n\t\t\t\t&& !this.isFullWidth\n\t\t\t\t&& this.isRichEditor\n\t\t\t\t&& !this.isRichWorkspace\n\t\t\t)\n\t\t},\n\t},\n}\n</script>\n\n<style scoped lang=\"scss\">\n.editor__content {\n\tmax-width: min(var(--text-editor-max-width), calc(100vw - 16px));\n\tmargin: 0 auto;\n\tposition: relative;\n\twidth: 100%;\n\t:deep([contenteditable]) {\n\t\t// drop off obsolete server styles\n\t\tmargin: 0 !important;\n\t}\n}\n\n.text-editor__content-wrapper {\n\t--side-width: calc((100% - var(--text-editor-max-width)) / 2);\n\tdisplay: grid;\n\tgrid-template-columns: 1fr auto;\n\toverflow: auto;\n\tflex: 1;\n\t&.--show-outline {\n\t\tgrid-template-columns: var(--side-width) auto var(--side-width);\n\t}\n\t.text-editor__content-wrapper__left,\n\t.text-editor__content-wrapper__right {\n\t\theight: 100%;\n\t\tposition: relative;\n\t}\n}\n\n.is-rich-workspace {\n\t.text-editor__content-wrapper {\n\t\t--side-width: var(--text-editor-max-width);\n\t\tgrid-template-columns: var(--side-width) auto;\n\t\t.text-editor__content-wrapper__left,\n\t\t.text-editor__content-wrapper__right {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n</style>\n","/**\n * SPDX-FileCopyrightText: 2025 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport axios from '@nextcloud/axios'\nimport { generateUrl } from '@nextcloud/router'\nimport { unref, type ShallowRef } from 'vue'\nimport type { Connection } from '../composables/useConnection'\n\n/**\n * Upload an attachment to the server.\n * @param connection the active connection.\n * @param file upload this file.\n */\nexport function uploadAttachment(\n\tconnection: ShallowRef<Connection> | Connection,\n\tfile: string | Blob,\n) {\n\tconst {\n\t\tdocumentId,\n\t\tsessionId,\n\t\tsessionToken,\n\t\tshareToken: token,\n\t} = unref(connection)\n\tconst formData = new FormData()\n\tformData.append('file', file)\n\tconst url = generateUrl(`apps/text/attachment/upload?`)\n\treturn axios.post(url, formData, {\n\t\theaders: { 'Content-Type': 'multipart/form-data' },\n\t\tparams: { documentId, sessionId, sessionToken, token },\n\t})\n}\n\n/**\n * Create a new attachment based on the given template\n * @param connection the active connection\n * @param template create the attachment based on this\n * @param template.app app to create the attachment with\n * @param template.extension extension to use\n */\nexport function createAttachment(\n\tconnection: ShallowRef<Connection> | Connection,\n\ttemplate: { app: string; extension: string },\n) {\n\tconst { documentId, sessionId, sessionToken } = unref(connection)\n\tconst url = generateUrl(`apps/text/attachment/create`)\n\treturn axios.post(url, {\n\t\tdocumentId,\n\t\tsessionId,\n\t\tsessionToken,\n\t\tfileName: `${template.app}${template.extension}`,\n\t})\n}\n\n/**\n * Create a new attachment based on the given template\n * @param connection the active connection\n * @param filePath path to the file on the server.\n */\nexport function insertAttachmentFile(\n\tconnection: ShallowRef<Connection> | Connection,\n\tfilePath: string,\n) {\n\tconst { documentId, sessionId, sessionToken } = unref(connection)\n\tconst url = generateUrl(`apps/text/attachment/filepath`)\n\treturn axios.post(url, {\n\t\tdocumentId,\n\t\tsessionId,\n\t\tsessionToken,\n\t\tfilePath,\n\t})\n}\n","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div\n\t\tclass=\"editor editor-media-handler\"\n\t\tdata-text-el=\"editor-media-handler\"\n\t\t:class=\"{ draggedOver, 'is-mobile': isMobile }\"\n\t\t@image-paste=\"onPaste\"\n\t\t@dragover.prevent.stop=\"setDraggedOver(true, $event)\"\n\t\t@dragleave.prevent.stop=\"setDraggedOver(false, $event)\"\n\t\t@drop.prevent.stop=\"setDraggedOver(false, $event)\"\n\t\t@file-drop=\"onEditorDrop\">\n\t\t<input\n\t\t\tv-show=\"false\"\n\t\t\tref=\"attachmentFileInput\"\n\t\t\tdata-text-el=\"attachment-file-input\"\n\t\t\ttype=\"file\"\n\t\t\taccept=\"*/*\"\n\t\t\tmultiple\n\t\t\t@change=\"onAttachmentUploadFilePicked\" />\n\t\t<slot />\n\t</div>\n</template>\n\n<script>\nimport { getCurrentUser } from '@nextcloud/auth'\nimport { showError } from '@nextcloud/dialogs'\nimport { emit } from '@nextcloud/event-bus'\nimport { generateUrl } from '@nextcloud/router'\nimport { useIsMobile } from '@nextcloud/vue/composables/useIsMobile'\nimport {\n\tcreateAttachment,\n\tinsertAttachmentFile,\n\tuploadAttachment,\n} from '../../apis/attach.ts'\nimport { logger } from '../../helpers/logger.js'\n\nimport { useEditor } from '../../composables/useEditor.ts'\nimport { useFileMixin } from '../Editor.provider.ts'\n\nimport { useConnection } from '../../composables/useConnection.ts'\nimport {\n\tACTION_ATTACHMENT_PROMPT,\n\tACTION_CHOOSE_LOCAL_ATTACHMENT,\n\tACTION_CREATE_ATTACHMENT,\n\tSTATE_UPLOADING,\n} from './MediaHandler.provider.js'\n\nconst getDir = (val) => val.split('/').slice(0, -1).join('/')\n\nexport default {\n\tname: 'MediaHandler',\n\tmixins: [useFileMixin],\n\tprovide() {\n\t\tconst val = {}\n\n\t\tObject.defineProperties(val, {\n\t\t\t[ACTION_ATTACHMENT_PROMPT]: {\n\t\t\t\tget: () => this.showAttachmentPrompt,\n\t\t\t},\n\t\t\t[ACTION_CHOOSE_LOCAL_ATTACHMENT]: {\n\t\t\t\tget: () => this.chooseLocalFile,\n\t\t\t},\n\t\t\t[ACTION_CREATE_ATTACHMENT]: {\n\t\t\t\tget: () => this.createAttachment,\n\t\t\t},\n\t\t\t[STATE_UPLOADING]: {\n\t\t\t\tget: () => this.state,\n\t\t\t},\n\t\t})\n\n\t\treturn val\n\t},\n\tsetup() {\n\t\tconst { connection } = useConnection()\n\t\tconst isMobile = useIsMobile()\n\t\tconst { editor } = useEditor()\n\t\treturn {\n\t\t\tconnection,\n\t\t\teditor,\n\t\t\tisMobile,\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tlastFilePath: null,\n\t\t\tdraggedOver: false,\n\t\t\t// make it reactive to be used inject/provide\n\t\t\tstate: {\n\t\t\t\tisUploadingAttachments: false,\n\t\t\t},\n\t\t}\n\t},\n\tcomputed: {\n\t\tinitialFilePath() {\n\t\t\treturn this.lastFilePath ?? getDir(this.$file?.relativePath ?? '/')\n\t\t},\n\t},\n\tmethods: {\n\t\tsetDraggedOver(val, event) {\n\t\t\tif (event.dataTransfer.types.includes('Files')) {\n\t\t\t\tthis.draggedOver = val\n\t\t\t}\n\t\t},\n\t\tonPaste(e) {\n\t\t\tthis.uploadAttachmentFiles(e.detail.files)\n\t\t},\n\t\tonEditorDrop(e) {\n\t\t\tthis.uploadAttachmentFiles(e.detail.files, e.detail.position)\n\t\t},\n\t\tonAttachmentUploadFilePicked(event) {\n\t\t\tthis.uploadAttachmentFiles(event.target.files)\n\t\t\t// Clear input to ensure that the change event will be emitted if\n\t\t\t// the same file is picked again.\n\t\t\tevent.target.value = ''\n\t\t},\n\t\tchooseLocalFile() {\n\t\t\tthis.$refs.attachmentFileInput.click()\n\t\t},\n\t\tasync uploadAttachmentFiles(files, position = null) {\n\t\t\tif (!files) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.state.isUploadingAttachments = true\n\n\t\t\tconst uploadPromises = [...files].map((file) => {\n\t\t\t\treturn this.uploadAttachmentFile(file, position)\n\t\t\t})\n\n\t\t\treturn Promise.all(uploadPromises)\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tlogger.error('Uploading multiple attachments failed', { error })\n\t\t\t\t\tshowError(t('text', 'Uploading multiple attachments failed.'))\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.state.isUploadingAttachments = false\n\t\t\t\t})\n\t\t},\n\t\tasync uploadAttachmentFile(file, position = null) {\n\t\t\tthis.state.isUploadingAttachments = true\n\n\t\t\treturn uploadAttachment(this.connection, file)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tthis.insertAttachment(\n\t\t\t\t\t\tresponse.data?.name,\n\t\t\t\t\t\tresponse.data?.id,\n\t\t\t\t\t\tfile.type,\n\t\t\t\t\t\tposition,\n\t\t\t\t\t\tresponse.data?.dirname,\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tlogger.error('Uploading attachment failed', { error })\n\t\t\t\t\tif (error.response?.data.error) {\n\t\t\t\t\t\tshowError(\n\t\t\t\t\t\t\tt('text', 'Uploading attachment failed: {error}', {\n\t\t\t\t\t\t\t\terror: error.response.data.error,\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tshowError(t('text', 'Uploading attachment failed.'))\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.state.isUploadingAttachments = false\n\t\t\t\t})\n\t\t},\n\t\tshowAttachmentPrompt() {\n\t\t\tconst currentUser = getCurrentUser()\n\t\t\tif (!currentUser) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tOC.dialogs.filepicker(\n\t\t\t\tt('text', 'Insert an attachment'),\n\t\t\t\t(filePath) => {\n\t\t\t\t\tthis.insertFromPath(filePath)\n\t\t\t\t},\n\t\t\t\tfalse,\n\t\t\t\t[],\n\t\t\t\ttrue,\n\t\t\t\tundefined,\n\t\t\t\tthis.initialFilePath,\n\t\t\t)\n\t\t},\n\t\tinsertFromPath(filePath) {\n\t\t\tthis.lastFilePath = getDir(filePath)\n\n\t\t\tthis.state.isUploadingAttachments = true\n\n\t\t\treturn insertAttachmentFile(this.connection, filePath)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tthis.insertAttachment(\n\t\t\t\t\t\tresponse.data?.name,\n\t\t\t\t\t\tresponse.data?.id,\n\t\t\t\t\t\tresponse.data?.mimetype,\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tresponse.data?.dirname,\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tlogger.error('Failed to insert from Files', { error })\n\t\t\t\t\tshowError(t('text', 'Failed to insert from Files'))\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.state.isUploadingAttachments = false\n\t\t\t\t})\n\t\t},\n\t\tcreateAttachment(template) {\n\t\t\tthis.state.isUploadingAttachments = true\n\t\t\treturn createAttachment(this.connection, template)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tthis.insertAttachmentPreview(response.data?.id)\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tlogger.error('Failed to create attachment', { error })\n\t\t\t\t\tshowError(t('text', 'Failed to create attachment'))\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.state.isUploadingAttachments = false\n\t\t\t\t})\n\t\t},\n\t\tinsertAttachmentPreview(fileId) {\n\t\t\tconst url = new URL(generateUrl(`/f/${fileId}`), window.origin)\n\t\t\tconst href = url.href.replaceAll(' ', '%20')\n\t\t\tthis.editor.chain().focus().insertPreview(href).run()\n\t\t},\n\t\tinsertAttachment(name, fileId, mimeType, position = null, dirname = '') {\n\t\t\t// inspired by the fixedEncodeURIComponent function suggested in\n\t\t\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent\n\t\t\tconst src =\n\t\t\t\tdirname\n\t\t\t\t+ '/'\n\t\t\t\t+ encodeURIComponent(name).replace(/[!'()*]/g, (c) => {\n\t\t\t\t\treturn '%' + c.charCodeAt(0).toString(16).toUpperCase()\n\t\t\t\t})\n\t\t\t// simply get rid of brackets to make sure link text is valid\n\t\t\t// as it does not need to be unique and matching the real file name\n\t\t\tconst alt = name.replaceAll(/[[\\]]/g, '')\n\n\t\t\tconst chain = position\n\t\t\t\t? this.editor.chain().focus(position)\n\t\t\t\t: this.editor.chain()\n\n\t\t\tchain.setImage({ src, alt }).run()\n\n\t\t\tconst selection = this.editor.view.state.selection\n\t\t\tif (!selection.empty) {\n\t\t\t\t// If inserted image is first element, it is selected and would get overwritten by\n\t\t\t\t// subsequent editor inserts (see tiptap#3355). So unselect the image by placing\n\t\t\t\t// the cursor at the end of the selection.\n\t\t\t\tthis.editor.commands.focus(selection.to)\n\t\t\t}\n\n\t\t\t// Scroll image into view\n\t\t\tthis.editor.commands.scrollIntoView()\n\n\t\t\t// Store last inserted attachment src to focus it in ImageView.vue\n\t\t\tthis.editor.commands.setMeta('insertedAttachmentSrc', { src })\n\n\t\t\temit('text:image-node:add', null)\n\t\t},\n\t},\n}\n</script>\n","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div class=\"editor\">\n\t\t<MediaHandler v-if=\"$editorUpload\" class=\"text-editor__main\">\n\t\t\t<slot />\n\t\t</MediaHandler>\n\t\t<slot v-else />\n\t</div>\n</template>\n\n<script>\nimport { useEditorUpload } from '../Editor.provider.ts'\nimport MediaHandler from './MediaHandler.vue'\n\nexport default {\n\tname: 'MainContainer',\n\tcomponents: {\n\t\tMediaHandler,\n\t},\n\tmixins: [useEditorUpload],\n}\n</script>\n\n<style scoped lang=\"scss\">\n.text-editor__main,\n.editor {\n\tdisplay: flex;\n\tflex-direction: column;\n\tbackground: var(--color-main-background);\n\tcolor: var(--color-main-text);\n\tbackground-clip: padding-box;\n\tborder-radius: var(--border-radius);\n\tpadding: 0;\n\tposition: relative;\n\twidth: 100%;\n}\n\n.text-editor__main {\n\t&.is-mobile {\n\t\tflex-grow: 1;\n\t\tflex-direction: column-reverse;\n\t}\n}\n</style>\n","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div\n\t\tclass=\"text-editor__wrapper\"\n\t\t:class=\"{\n\t\t\t'has-conflicts': isResolvingConflict,\n\t\t\t'is-rich-workspace': isRichWorkspace,\n\t\t\t'is-rich-editor': isRichEditor,\n\t\t}\">\n\t\t<slot />\n\t</div>\n</template>\n\n<script>\nimport { subscribe, unsubscribe } from '@nextcloud/event-bus'\nimport { useEditorFlags } from '../../composables/useEditorFlags.ts'\nimport {\n\tOUTLINE_ACTIONS,\n\tOUTLINE_STATE,\n\tREAD_ONLY_ACTIONS,\n} from './Wrapper.provider.js'\n\nexport default {\n\tname: 'Wrapper',\n\tprovide() {\n\t\tconst val = {}\n\n\t\tObject.defineProperties(val, {\n\t\t\t[OUTLINE_STATE]: {\n\t\t\t\tget: () => this.outline,\n\t\t\t},\n\t\t\t[OUTLINE_ACTIONS]: {\n\t\t\t\tget: () => ({\n\t\t\t\t\ttoggle: this.outlineToggle,\n\t\t\t\t}),\n\t\t\t},\n\t\t\t[READ_ONLY_ACTIONS]: {\n\t\t\t\tget: () => ({\n\t\t\t\t\ttoggle: this.readOnlyToggle,\n\t\t\t\t}),\n\t\t\t},\n\t\t})\n\n\t\treturn val\n\t},\n\n\tprops: {\n\t\tisResolvingConflict: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\thasConnectionIssue: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tcontentLoaded: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tshowOutlineOutside: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\n\tsetup() {\n\t\tconst { isRichEditor, isRichWorkspace } = useEditorFlags()\n\t\treturn { isRichEditor, isRichWorkspace }\n\t},\n\n\tdata: () => ({\n\t\toutline: {\n\t\t\tvisible: false,\n\t\t\tenable: false,\n\t\t},\n\t}),\n\n\tcomputed: {\n\t\tshowOutline() {\n\t\t\treturn this.isAbleToShowOutline ? this.outline.visible : false\n\t\t},\n\t\tisAbleToShowOutline() {\n\t\t\tif (this.isRichWorkspace) {\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\treturn true\n\t\t},\n\t},\n\n\twatch: {\n\t\tshowOutlineOutside() {\n\t\t\tthis.outline.visible = this.showOutlineOutside\n\t\t},\n\t},\n\n\tmounted() {\n\t\tsubscribe('text:keyboard:outline', this.outlineToggle)\n\t\tthis.outline.enable = this.isAbleToShowOutline\n\n\t\tthis.$watch(\n\t\t\t() => this.isAbleToShowOutline,\n\t\t\t(enable) => {\n\t\t\t\t// make outline state reactive through the provider\n\t\t\t\tObject.assign(this.outline, { enable })\n\t\t\t},\n\t\t)\n\t},\n\n\tbeforeDestroy() {\n\t\tunsubscribe('text:keyboard:outline', this.outlineToggle)\n\t},\n\n\tmethods: {\n\t\toutlineToggle() {\n\t\t\tthis.outline.visible = !this.outline.visible\n\t\t\tthis.$emit('outline-toggled', this.outline.visible)\n\t\t},\n\t\treadOnlyToggle() {\n\t\t\tthis.$emit('read-only-toggled')\n\t\t},\n\t},\n}\n</script>\n\n<style scoped lang=\"scss\">\n.text-editor__wrapper {\n\tdisplay: flex;\n\tflex-grow: 1;\n\n\twidth: 100%;\n\n\t.ProseMirror {\n\t\tmargin-top: 0 !important;\n\t}\n}\n</style>\n","/**\n * SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\n/**\n * Check if current platform is a mobile device\n *\n * @return {boolean} whether the platform is a mobile device\n */\nexport function isMobilePlatform() {\n\t// Use client hints if already available\n\tif (navigator?.userAgentData?.mobile !== undefined)\n\t\treturn navigator.userAgentData.mobile\n\n\t// use regex to match userAgent (required for Safari and Firefox in 2022)\n\tconst mobileDevices = [\n\t\t/Android/i,\n\t\t/webOS/i,\n\t\t/iPhone/i,\n\t\t/iPad/i,\n\t\t/iPod/i,\n\t\t/playbook/i,\n\t\t/silk/i,\n\t\t/BlackBerry/i,\n\t\t/Windows Phone/i,\n\t]\n\n\treturn mobileDevices.some((regex) => navigator.userAgent.match(regex))\n}\n","<!--\n  - SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<NcDialog\n\t\tsize=\"large\"\n\t\tdata-text-el=\"formatting-help\"\n\t\t:name=\"t('text', 'Formatting and shortcuts')\"\n\t\t:close-on-click-outside=\"true\"\n\t\t@closing=\"$emit('close')\">\n\t\t<h2>{{ t('text', 'Formatting and shortcuts') }}</h2>\n\t\t<p>{{ t('text', 'Speed up your writing with simple shortcuts.') }}</p>\n\t\t<p v-if=\"!isMobileCached\">\n\t\t\t{{\n\t\t\t\tt(\n\t\t\t\t\t'text',\n\t\t\t\t\t'Just type the Markdown syntax or use keyboard shortcuts from below.',\n\t\t\t\t)\n\t\t\t}}\n\t\t</p>\n\t\t<p v-else>\n\t\t\t{{ t('text', 'Just type the Markdown syntax from below.') }}\n\t\t</p>\n\n\t\t<table>\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th>{{ t('text', 'Style') }}</th>\n\t\t\t\t\t<th>{{ t('text', 'Syntax') }}</th>\n\t\t\t\t\t<th v-if=\"!isMobileCached\">\n\t\t\t\t\t\t{{ t('text', 'Keyboard shortcuts') }}\n\t\t\t\t\t</th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>{{ t('text', 'New paragraph') }}</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<kbd>{{ t('text', 'Enter') }}</kbd>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td v-if=\"!isMobileCached\" />\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>{{ t('text', 'Hard line break') }}</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<kbd>{{ t('text', 'Enter') }}</kbd>\n\t\t\t\t\t\t{{ t('text', 'followed by') }}\n\t\t\t\t\t\t<kbd>{{ t('text', 'Backspace') }}</kbd>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td v-if=\"!isMobileCached\">\n\t\t\t\t\t\t<kbd>{{ t('text', 'Shift') }}</kbd>\n\t\t\t\t\t\t+\n\t\t\t\t\t\t<kbd>{{ t('text', 'Enter') }}</kbd>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>{{ t('text', 'Bold') }}</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<code>**{{ t('text', 'Bold text') }}**</code>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td v-if=\"!isMobileCached\">\n\t\t\t\t\t\t<kbd>{{ ctrlOrModKey }}</kbd>\n\t\t\t\t\t\t+\n\t\t\t\t\t\t<kbd>B</kbd>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>{{ t('text', 'Italic') }}</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<code>*{{ t('text', 'Italicized text') }}*</code>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td v-if=\"!isMobileCached\">\n\t\t\t\t\t\t<kbd>{{ ctrlOrModKey }}</kbd>\n\t\t\t\t\t\t+\n\t\t\t\t\t\t<kbd>I</kbd>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>{{ t('text', 'Strikethrough') }}</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<code>~~{{ t('text', 'Mistaken text') }}~~</code>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td v-if=\"!isMobileCached\">\n\t\t\t\t\t\t<kbd>{{ ctrlOrModKey }}</kbd>\n\t\t\t\t\t\t+\n\t\t\t\t\t\t<kbd>{{ t('text', 'Shift') }}</kbd>\n\t\t\t\t\t\t+\n\t\t\t\t\t\t<kbd>S</kbd>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>{{ t('text', 'Underline') }}</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<code>__{{ t('text', 'Underlined text') }}__</code>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td v-if=\"!isMobileCached\">\n\t\t\t\t\t\t<kbd>{{ ctrlOrModKey }}</kbd>\n\t\t\t\t\t\t+\n\t\t\t\t\t\t<kbd>U</kbd>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"ellipsis_top\">\n\t\t\t\t\t\t{{ t('text', 'Heading 1') }}\n\t\t\t\t\t</td>\n\t\t\t\t\t<td class=\"ellipsis_top\">\n\t\t\t\t\t\t<code># {{ t('text', 'Heading level 1') }}</code>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td v-if=\"!isMobileCached\" class=\"ellipsis_top\">\n\t\t\t\t\t\t<kbd>{{ ctrlOrModKey }}</kbd>\n\t\t\t\t\t\t+\n\t\t\t\t\t\t<kbd>{{ t('text', 'Shift') }}</kbd>\n\t\t\t\t\t\t+\n\t\t\t\t\t\t<kbd>1</kbd>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"noborder ellipsis\"></td>\n\t\t\t\t\t<td class=\"noborder ellipsis\"></td>\n\t\t\t\t\t<td v-if=\"!isMobileCached\" class=\"ellipsis noborder\"></td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"noborder ellipsis_bottom\">\n\t\t\t\t\t\t{{ t('text', 'Heading 6') }}\n\t\t\t\t\t</td>\n\t\t\t\t\t<td class=\"noborder ellipsis_bottom\">\n\t\t\t\t\t\t<code>###### {{ t('text', 'Heading level 6') }}</code>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td v-if=\"!isMobileCached\" class=\"noborder ellipsis_bottom\">\n\t\t\t\t\t\t<kbd>{{ ctrlOrModKey }}</kbd>\n\t\t\t\t\t\t+\n\t\t\t\t\t\t<kbd>{{ t('text', 'Shift') }}</kbd>\n\t\t\t\t\t\t+\n\t\t\t\t\t\t<kbd>6</kbd>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>{{ t('text', 'Unordered list') }}</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<code>* {{ t('text', 'An item') }}</code>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td v-if=\"!isMobileCached\">\n\t\t\t\t\t\t<kbd>{{ ctrlOrModKey }}</kbd>\n\t\t\t\t\t\t+\n\t\t\t\t\t\t<kbd>{{ t('text', 'Shift') }}</kbd>\n\t\t\t\t\t\t+\n\t\t\t\t\t\t<kbd>8</kbd>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>{{ t('text', 'Ordered list') }}</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<code>1. {{ t('text', 'First item') }}</code>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td v-if=\"!isMobileCached\">\n\t\t\t\t\t\t<kbd>{{ ctrlOrModKey }}</kbd>\n\t\t\t\t\t\t+\n\t\t\t\t\t\t<kbd>{{ t('text', 'Shift') }}</kbd>\n\t\t\t\t\t\t+\n\t\t\t\t\t\t<kbd>7</kbd>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>{{ t('text', 'Checklist') }}</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<code>* [] {{ t('text', 'To-Do item') }}</code>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td v-if=\"!isMobileCached\">\n\t\t\t\t\t\t<kbd>{{ ctrlOrModKey }}</kbd>\n\t\t\t\t\t\t+\n\t\t\t\t\t\t<kbd>{{ t('text', 'Shift') }}</kbd>\n\t\t\t\t\t\t+\n\t\t\t\t\t\t<kbd>9</kbd>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>{{ t('text', 'Blockquote') }}</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<code>> {{ t('text', 'Quoted text') }}</code>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td v-if=\"!isMobileCached\">\n\t\t\t\t\t\t<kbd>{{ ctrlOrModKey }}</kbd>\n\t\t\t\t\t\t+\n\t\t\t\t\t\t<kbd>></kbd>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>{{ t('text', 'Code block') }}</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<code>``` {{ t('text', 'Some code') }}</code>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td v-if=\"!isMobileCached\" />\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>{{ t('text', 'Link') }}</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<code>[Title](https://example.org)</code>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td v-if=\"!isMobileCached\">\n\t\t\t\t\t\t<kbd>{{ ctrlOrModKey }}</kbd>\n\t\t\t\t\t\t+\n\t\t\t\t\t\t<kbd>K</kbd>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>{{ t('text', 'Insert emoji') }}</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<code>:{{ t('text', 'emoji') }}</code>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td v-if=\"!isMobileCached\" />\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>{{ t('text', 'Mention someone') }}</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<code>@{{ t('text', 'name') }}</code>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td v-if=\"!isMobileCached\" />\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>{{ t('text', 'Smart picker') }}</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<code>/{{ t('text', 'something') }}</code>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td v-if=\"!isMobileCached\" />\n\t\t\t\t</tr>\n\t\t\t</tbody>\n\t\t</table>\n\n\t\t<table vif=\"!isMobileCached\">\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th>{{ t('text', 'Action') }}</th>\n\t\t\t\t\t<th>{{ t('text', 'Keyboard shortcuts') }}</th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>{{ t('text', 'Undo') }}</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<kbd>{{ ctrlOrModKey }}</kbd>\n\t\t\t\t\t\t+\n\t\t\t\t\t\t<kbd>Z</kbd>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>{{ t('text', 'Redo') }}</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<kbd>{{ ctrlOrModKey }}</kbd>\n\t\t\t\t\t\t+\n\t\t\t\t\t\t<kbd>Y</kbd>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>{{ t('text', 'Toggle outline') }}</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<kbd>{{ ctrlOrModKey }}</kbd>\n\t\t\t\t\t\t+\n\t\t\t\t\t\t<kbd>{{ t('text', 'Alt') }}</kbd>\n\t\t\t\t\t\t+\n\t\t\t\t\t\t<kbd>H</kbd>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</tbody>\n\t\t</table>\n\t</NcDialog>\n</template>\n\n<script>\nimport { t } from '@nextcloud/l10n'\nimport NcDialog from '@nextcloud/vue/components/NcDialog'\nimport { isMobilePlatform } from '../helpers/platform.js'\nimport { MODIFIERS, TRANSLATIONS } from './Menu/keys.js'\n\nexport default {\n\tname: 'HelpModal',\n\tcomponents: {\n\t\tNcDialog,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tformatted: {\n\t\t\t\tbold: true,\n\t\t\t\titalic: true,\n\t\t\t\tstrikethrough: true,\n\t\t\t\theading1: true,\n\t\t\t\theading6: true,\n\t\t\t\tunorderdList: true,\n\t\t\t\torderedList: true,\n\t\t\t\tcheckList: true,\n\t\t\t\tblockQuote: true,\n\t\t\t\tcodeBlock: true,\n\t\t\t},\n\t\t\tctrlOrModKey: TRANSLATIONS[MODIFIERS.Mod],\n\t\t}\n\t},\n\tcomputed: {\n\t\tisFormatted() {\n\t\t\treturn (style) => this.formatted[style]\n\t\t},\n\t\t// Cache the output of `isMobilePlatform()`\n\t\tisMobileCached() {\n\t\t\treturn this.isMobilePlatform()\n\t\t},\n\t},\n\tmethods: {\n\t\tt,\n\t\ttoggleFormatted(style) {\n\t\t\tthis.formatted[style] = !this.formatted[style]\n\t\t},\n\t\tisMobilePlatform,\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@use '../css/prosemirror';\n\ntable {\n\tmargin-top: 24px;\n\tborder-collapse: collapse;\n\twidth: 100%;\n\n\ttbody tr {\n\t\t&:hover,\n\t\t&:focus,\n\t\t&:active {\n\t\t\tbackground-color: transparent !important;\n\t\t}\n\t}\n\n\tthead tr {\n\t\tborder: none;\n\t}\n\n\tth {\n\t\tfont-weight: bold;\n\t\tpadding: 0.75rem 1rem 0.75rem 0;\n\t\tborder-bottom: 2px solid var(--color-background-darker);\n\t}\n\n\ttd {\n\t\tpadding: 0.75rem 1rem 0.75rem 0;\n\t\tborder-top: 1px solid var(--color-background-dark);\n\t\tborder-bottom: unset;\n\n\t\t&.noborder {\n\t\t\tborder-top: unset;\n\t\t}\n\n\t\t&.ellipsis_top {\n\t\t\tpadding-bottom: 0;\n\t\t}\n\n\t\t&.ellipsis {\n\t\t\tpadding-top: 0;\n\t\t\tpadding-bottom: 0;\n\t\t}\n\n\t\t&.ellipsis_bottom {\n\t\t\tpadding-top: 0;\n\t\t}\n\t}\n\n\tkbd {\n\t\tfont-size: smaller;\n\t}\n\n\tcode {\n\t\tpadding: 0.2em 0.4em;\n\t\tfont-size: 90%;\n\t\tbackground-color: var(--color-background-dark);\n\t\tborder-radius: 6px;\n\t}\n}\n\ndiv.ProseMirror {\n\tdisplay: inline;\n\tmargin-top: unset;\n\tposition: unset;\n\tpadding: unset;\n\tline-height: unset;\n\n\th1,\n\th6 {\n\t\tdisplay: inline;\n\t\tpadding: 0;\n\t\tmargin: 0;\n\t}\n}\n</style>\n","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<NextcloudVueNcActionButton\n\t\tclose-after-click\n\t\tdata-text-action-entry=\"formatting-help\"\n\t\tv-on=\"$listeners\">\n\t\t<template #icon>\n\t\t\t<Help />\n\t\t</template>\n\t\t{{ t('text', 'Formatting help') }}\n\t</NextcloudVueNcActionButton>\n</template>\n\n<script>\nimport { t } from '@nextcloud/l10n'\nimport NextcloudVueNcActionButton from '@nextcloud/vue/components/NcActionButton'\nimport { defineComponent } from 'vue'\nimport { Help } from '../icons.js'\n\nexport default defineComponent({\n\t// This component is used as a direct child of NcActions.\n\t// Even if it actually renders NcActionButton, NcActions cannot see it due to rendering limitations in Vue.\n\t// Though it works in general, NcActions doesn't handle it correctly. See NcActions docs for details.\n\t// Hotfix - rename the component to NcActionButton because it represents and renders it.\n\t// eslint-disable-next-line vue/match-component-file-name\n\tname: 'NcActionButton',\n\tcomponents: {\n\t\tNextcloudVueNcActionButton,\n\t\tHelp,\n\t},\n\tmethods: {\n\t\tt,\n\t},\n})\n</script>\n","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<NcActionText data-text-action-entry=\"character-count\" :name=\"countString\">\n\t\t<template #icon>\n\t\t\t<AlphabeticalVariant />\n\t\t</template>\n\t</NcActionText>\n</template>\n\n<script>\nimport { translatePlural as n } from '@nextcloud/l10n'\nimport NcActionText from '@nextcloud/vue/components/NcActionText'\nimport { defineComponent, ref } from 'vue'\nimport { useEditor } from '../../composables/useEditor.ts'\nimport { AlphabeticalVariant } from '../icons.js'\n\nexport default defineComponent({\n\tname: 'CharacterCount',\n\tcomponents: {\n\t\tAlphabeticalVariant,\n\t\tNcActionText,\n\t},\n\tprops: {\n\t\tvisible: Boolean,\n\t},\n\tsetup() {\n\t\tconst { editor } = useEditor()\n\t\tconst countString = ref('')\n\t\tconst refresh = () => {\n\t\t\tconst { storage, state } = editor\n\t\t\t// characterCount is not reactive so we need this workaround\n\t\t\t// We also need to provide the doc as storage is a singleton in tiptap v2.\n\t\t\t// See ueberdosis/tiptap#6060\n\t\t\tconst wordCount = storage.characterCount.words({ node: state.doc })\n\t\t\tconst charCount = storage.characterCount.characters({ node: state.doc })\n\t\t\tconst words = n('text', '%n word', '%n words', wordCount)\n\t\t\tconst chars = n('text', '%n char', '%n chars', charCount)\n\t\t\tcountString.value = [words, chars].join(', ')\n\t\t\tconsole.debug({ wordCount, charCount, countString: countString.value })\n\t\t}\n\t\treturn { countString, refresh }\n\t},\n\twatch: {\n\t\tvisible: 'refresh',\n\t},\n\tcreated() {\n\t\tthis.refresh()\n\t},\n})\n</script>\n","<!--\n  - SPDX-FileCopyrightText: 2025 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<NcActionCheckbox\n\t\tv-if=\"canToggleWidth\"\n\t\t:checked=\"isFullWidth\"\n\t\t@update:checked=\"setFullWidth\">\n\t\t{{ t('text', 'Full width editor') }}\n\t</NcActionCheckbox>\n</template>\n\n<script setup>\nimport { t } from '@nextcloud/l10n'\nimport NcActionCheckbox from '@nextcloud/vue/components/NcActionCheckbox'\nimport { useEditorWidth } from '../../composables/useEditorWidth.ts'\n\nconst { canToggleWidth, isFullWidth, setFullWidth } = useEditorWidth()\n</script>\n","<!--\n  - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div\n\t\t:id=\"randomID\"\n\t\tclass=\"text-menubar\"\n\t\tdata-text-el=\"menubar\"\n\t\trole=\"region\"\n\t\t:aria-label=\"t('text', 'Editor actions')\"\n\t\t:class=\"{\n\t\t\t'text-menubar--ready': isReady,\n\t\t\t'text-menubar--hide': isHidden,\n\t\t\t'text-menubar--is-workspace': isRichWorkspace,\n\t\t\t'is-mobile': $isMobile,\n\t\t}\">\n\t\t<HelpModal v-if=\"displayHelp\" @close=\"hideHelp\" />\n\n\t\t<div\n\t\t\tv-if=\"isRichEditor\"\n\t\t\tref=\"menubar\"\n\t\t\trole=\"toolbar\"\n\t\t\tclass=\"text-menubar__entries\"\n\t\t\t:aria-label=\"t('text', 'Formatting menu bar')\"\n\t\t\t@keyup.left.stop=\"handleToolbarNavigation\"\n\t\t\t@keyup.right.stop=\"handleToolbarNavigation\">\n\t\t\t<!-- The visible inline actions -->\n\t\t\t<component\n\t\t\t\t:is=\"\n\t\t\t\t\tactionEntry.component\n\t\t\t\t\t\t? actionEntry.component\n\t\t\t\t\t\t: actionEntry.children\n\t\t\t\t\t\t\t? 'ActionList'\n\t\t\t\t\t\t\t: 'ActionSingle'\n\t\t\t\t\"\n\t\t\t\tv-for=\"(actionEntry, index) in visibleEntries\"\n\t\t\t\tref=\"menuEntries\"\n\t\t\t\t:key=\"actionEntry.key\"\n\t\t\t\t:action-entry=\"actionEntry\"\n\t\t\t\t:can-be-focussed=\"activeMenuEntry === index\"\n\t\t\t\t@disabled=\"disableMenuEntry(actionEntry.key, $event)\"\n\t\t\t\t@click=\"activeMenuEntry = index\" />\n\n\t\t\t<!-- The remaining actions -->\n\t\t\t<ActionList\n\t\t\t\tref=\"remainingEntries\"\n\t\t\t\t:action-entry=\"hiddenEntries\"\n\t\t\t\t:can-be-focussed=\"activeMenuEntry === visibleEntries.length\"\n\t\t\t\t:force-enabled=\"true\"\n\t\t\t\t@click=\"activeMenuEntry = 'remain'\">\n\t\t\t\t<template #lastAction=\"{ visible }\">\n\t\t\t\t\t<WidthToggle />\n\t\t\t\t\t<ActionFormattingHelp @click=\"showHelp\" />\n\t\t\t\t\t<NcActionSeparator />\n\t\t\t\t\t<CharacterCount v-bind=\"{ visible }\" />\n\t\t\t\t</template>\n\t\t\t</ActionList>\n\t\t</div>\n\t\t<div class=\"text-menubar__slot\">\n\t\t\t<slot />\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport NcActionSeparator from '@nextcloud/vue/components/NcActionSeparator'\nimport { useElementSize } from '@vueuse/core'\nimport { ref } from 'vue'\n\nimport { t } from '@nextcloud/l10n'\nimport { useEditor } from '../../composables/useEditor.ts'\nimport { useEditorFlags } from '../../composables/useEditorFlags.ts'\nimport { useIsMobileMixin } from '../Editor.provider.ts'\nimport HelpModal from '../HelpModal.vue'\nimport { DotsHorizontal } from '../icons.js'\nimport ActionFormattingHelp from './ActionFormattingHelp.vue'\nimport ActionList from './ActionList.vue'\nimport ActionSingle from './ActionSingle.vue'\nimport CharacterCount from './CharacterCount.vue'\nimport { AssistantMenuEntries, MenuEntries, ReadOnlyDoneEntries } from './entries.js'\nimport { MENU_ID } from './MenuBar.provider.js'\nimport ToolBarLogic from './ToolBarLogic.js'\nimport WidthToggle from './WidthToggle.vue'\n\nexport default {\n\tname: 'MenuBar',\n\tcomponents: {\n\t\tActionFormattingHelp,\n\t\tActionList,\n\t\tActionSingle,\n\t\tHelpModal,\n\t\tNcActionSeparator,\n\t\tCharacterCount,\n\t\tWidthToggle,\n\t},\n\textends: ToolBarLogic,\n\tmixins: [useIsMobileMixin],\n\tprovide() {\n\t\tconst val = {}\n\n\t\tObject.defineProperties(val, {\n\t\t\t[MENU_ID]: {\n\t\t\t\tget: () => this.randomID,\n\t\t\t},\n\t\t})\n\n\t\treturn val\n\t},\n\tprops: {\n\t\tisHidden: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\topenReadOnly: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\n\tsetup() {\n\t\tconst editor = useEditor()\n\t\tconst { isPublic, isRichEditor, isRichWorkspace } = useEditorFlags()\n\t\tconst menubar = ref()\n\t\tconst { width } = useElementSize(menubar)\n\t\treturn { editor, isPublic, isRichEditor, isRichWorkspace, menubar, width }\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tentries: this.openReadOnly\n\t\t\t\t? [...ReadOnlyDoneEntries, ...MenuEntries]\n\t\t\t\t: this.isPublic || this.isRichWorkspace\n\t\t\t\t\t? [...MenuEntries]\n\t\t\t\t\t: [...MenuEntries, ...AssistantMenuEntries],\n\t\t\trandomID: `menu-bar-${Math.ceil(Math.random() * 10000 + 500).toString(16)}`,\n\t\t\tdisplayHelp: false,\n\t\t\tisReady: false,\n\t\t\tresize: null,\n\t\t}\n\t},\n\tcomputed: {\n\t\tvisibleEntryKeys() {\n\t\t\t// if entry has no priority, we assume it always will be visible (priority: 0)\n\t\t\treturn this.entries\n\t\t\t\t.toSorted((a, b) => (a.priority ?? 0) - (b.priority ?? 0))\n\t\t\t\t.map((e) => e.key)\n\t\t\t\t.slice(0, this.iconsLimit)\n\t\t},\n\t\tvisibleEntries() {\n\t\t\t// only entries from `visibleEntryKeys but in original order\n\t\t\treturn this.entries.filter((entry) => {\n\t\t\t\treturn this.visibleEntryKeys.includes(entry.key)\n\t\t\t})\n\t\t},\n\t\thiddenEntries() {\n\t\t\tconst remainingEntries = this.entries.filter((entry) => {\n\t\t\t\t// reverse logic from visibleEntries\n\t\t\t\treturn !this.visibleEntryKeys.includes(entry.key)\n\t\t\t})\n\t\t\tconst entries = remainingEntries.reduce((acc, entry, index) => {\n\t\t\t\t// If entry has children, merge them into list. Otherwise keep entry itself.\n\t\t\t\tconst children = entry.children ?? [entry]\n\t\t\t\t// If this block has menu entries, it should be separated for better visibility and a11y (menu item radio grouping)\n\t\t\t\tif (children.length > 1) {\n\t\t\t\t\tconst hasPreviousItem = acc.length && !acc.at(-1).isSeparator\n\t\t\t\t\tconst separatorBefore = hasPreviousItem\n\t\t\t\t\t\t? [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tkey: `separator-before-${entry.id}`,\n\t\t\t\t\t\t\t\t\tisSeparator: true,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t: []\n\n\t\t\t\t\tconst hasNextItem = index !== remainingEntries.length - 1\n\t\t\t\t\tconst separatorAfter = hasNextItem\n\t\t\t\t\t\t? [{ key: `separator-after-${entry.id}`, isSeparator: true }]\n\t\t\t\t\t\t: []\n\n\t\t\t\t\treturn [\n\t\t\t\t\t\t...acc,\n\t\t\t\t\t\t...separatorBefore,\n\t\t\t\t\t\t...children,\n\t\t\t\t\t\t...separatorAfter,\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t\treturn [...acc, ...children]\n\t\t\t}, [])\n\n\t\t\treturn {\n\t\t\t\tkey: 'remain',\n\t\t\t\tlabel: this.t('text', 'Remaining actions'),\n\t\t\t\ticon: DotsHorizontal,\n\t\t\t\tchildren: entries,\n\t\t\t}\n\t\t},\n\t\ticonWidth() {\n\t\t\tconst style = this.menubar && getComputedStyle(this.menubar)\n\t\t\tconst clickableArea = style?.getPropertyValue('--default-clickable-area')\n\t\t\treturn parseInt(clickableArea) || 34\n\t\t},\n\t\ticonsLimit() {\n\t\t\t// leave some buffer - this is necessary so the bar does not wrap during resizing\n\t\t\tconst spaceToFill = this.width - 4\n\t\t\tconst spacePerSlot = this.$isMobile ? this.iconWidth : this.iconWidth + 2\n\t\t\tconst slots = Math.floor(spaceToFill / spacePerSlot)\n\t\t\t// Leave one slot empty for the three dot menu\n\t\t\treturn slots - 1\n\t\t},\n\t},\n\tmounted() {\n\t\tthis.$nextTick(() => {\n\t\t\tthis.isReady = true\n\t\t\tthis.$emit('update:loaded', true)\n\t\t})\n\t},\n\tmethods: {\n\t\tshowHelp() {\n\t\t\tthis.displayHelp = true\n\t\t},\n\n\t\thideHelp() {\n\t\t\tthis.displayHelp = false\n\t\t},\n\t\tt,\n\t},\n}\n</script>\n\n<style scoped lang=\"scss\">\n.text-menubar {\n\t--background-blur: blur(10px);\n\tposition: sticky;\n\ttop: 0;\n\tbottom: 0;\n\twidth: 100%;\n\tz-index: 10021; // above modal-header so menubar is always on top\n\tbackground-color: var(--color-main-background-translucent);\n\tbackdrop-filter: var(--background-blur);\n\tmax-height: var(\n\t\t--default-clickable-area\n\t); // important for mobile so that the buttons are always inside the container\n\tborder-bottom: 1px solid var(--color-border);\n\tpadding-block: var(--default-grid-baseline);\n\n\tvisibility: hidden;\n\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\talign-items: center;\n\n\t&.is-mobile {\n\t\tborder-top: 1px solid var(--color-border);\n\t\tborder-bottom: unset;\n\t}\n\n\t&.text-menubar--ready:not(.text-menubar--hide) {\n\t\tvisibility: visible;\n\t\tanimation-name: fadeInDown;\n\t\tanimation-duration: 0.3s;\n\t}\n\n\t&.text-menubar--hide {\n\t\topacity: 0;\n\t\ttransition:\n\t\t\tvisibility 0.2s 0.4s,\n\t\t\topacity 0.2s 0.4s;\n\t}\n\t.text-menubar__entries {\n\t\tdisplay: flex;\n\t\tflex-grow: 1;\n\t\tmargin-left: max(0px, calc((100% - var(--text-editor-max-width)) / 2));\n\t}\n\n\t.text-menubar__slot {\n\t\tjustify-content: flex-end;\n\t\tdisplay: flex;\n\t\tmin-width: max(0px, min(100px, (100% - var(--text-editor-max-width)) / 2));\n\t}\n\n\t&.text-menubar--is-workspace {\n\t\t.text-menubar__entries {\n\t\t\tmargin-left: 0;\n\t\t}\n\t}\n\n\t@media (max-width: 660px) {\n\t\t.text-menubar__entries {\n\t\t\tmargin-left: 0;\n\t\t}\n\t}\n}\n</style>\n"],"names":["_sfc_main","NextcloudVueNcActionButton","t","ref","axios","_sfc_render","render","_sfc_staticRenderFns","__component__","normalizeComponent","exports","n"],"mappings":"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","x_google_ignoreList":[0,7,8,10,11,12,13]}