{"version":3,"file":"path-Cxj8E94P.chunk.mjs","sources":["../node_modules/d3-path/src/path.js","../node_modules/d3-shape/src/constant.js","../node_modules/d3-shape/src/path.js"],"sourcesContent":["const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction append(strings) {\n  this._ += strings[0];\n  for (let i = 1, n = strings.length; i < n; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  let d = Math.floor(digits);\n  if (!(d >= 0)) throw new Error(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  const k = 10 ** d;\n  return function(strings) {\n    this._ += strings[0];\n    for (let i = 1, n = strings.length; i < n; ++i) {\n      this._ += Math.round(arguments[i] * k) / k + strings[i];\n    }\n  };\n}\n\nexport class Path {\n  constructor(digits) {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n    this._append = digits == null ? append : appendRound(digits);\n  }\n  moveTo(x, y) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._append`Z`;\n    }\n  }\n  lineTo(x, y) {\n    this._append`L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  quadraticCurveTo(x1, y1, x, y) {\n    this._append`Q${+x1},${+y1},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  bezierCurveTo(x1, y1, x2, y2, x, y) {\n    this._append`C${+x1},${+y1},${+x2},${+y2},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arcTo(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._append`M${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._append`L${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      let x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._append`L${x1 + t01 * x01},${y1 + t01 * y01}`;\n      }\n\n      this._append`A${r},${r},0,0,${+(y01 * x20 > x01 * y20)},${this._x1 = x1 + t21 * x21},${this._y1 = y1 + t21 * y21}`;\n    }\n  }\n  arc(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._append`M${x0},${y0}`;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._append`L${x0},${y0}`;\n    }\n\n    // Is this arc empty? Weâ€™re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._append`A${r},${r},0,1,${cw},${x - dx},${y - dy}A${r},${r},0,1,${cw},${this._x1 = x0},${this._y1 = y0}`;\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._append`A${r},${r},0,${+(da >= pi)},${cw},${this._x1 = x + r * Math.cos(a1)},${this._y1 = y + r * Math.sin(a1)}`;\n    }\n  }\n  rect(x, y, w, h) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${w = +w}v${+h}h${-w}Z`;\n  }\n  toString() {\n    return this._;\n  }\n}\n\nexport function path() {\n  return new Path;\n}\n\n// Allow instanceof d3.path\npath.prototype = Path.prototype;\n\nexport function pathRound(digits = 3) {\n  return new Path(+digits);\n}\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","import {Path} from \"d3-path\";\n\nexport function withPath(shape) {\n  let digits = 3;\n\n  shape.digits = function(_) {\n    if (!arguments.length) return digits;\n    if (_ == null) {\n      digits = null;\n    } else {\n      const d = Math.floor(_);\n      if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);\n      digits = d;\n    }\n    return shape;\n  };\n\n  return () => new Path(digits);\n}\n"],"names":["pi","tau","epsilon","tauEpsilon","append","strings","i","n","appendRound","digits","d","k","Path","x","y","_a","__template","_b","_c","x1","y1","_d","x2","y2","_e","r","x0","y0","x21","y21","x01","y01","l01_2","_f","_g","x20","y20","l21_2","l20_2","l21","l01","l","t01","t21","_h","_i","a0","a1","ccw","dx","dy","cw","da","_j","_k","_l","_m","w","h","_n","constant","withPath","shape","_"],"mappings":"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","x_google_ignoreList":[0,1,2]}