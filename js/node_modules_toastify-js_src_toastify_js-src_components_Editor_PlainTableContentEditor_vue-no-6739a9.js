/*! For license information please see node_modules_toastify-js_src_toastify_js-src_components_Editor_PlainTableContentEditor_vue-no-6739a9.js.LICENSE.txt */
(self.webpackChunk_nextcloud_text=self.webpackChunk_nextcloud_text||[]).push([["node_modules_toastify-js_src_toastify_js-src_components_Editor_PlainTableContentEditor_vue-no-6739a9"],{45410:(t,e,i)=>{"use strict";i.d(e,{AZ:()=>o.A,sp:()=>n.A,PX:()=>m.A,X3:()=>p,Ks:()=>h.A,sD:()=>u.A});var o=i(80323),n=(i(61478),i(15947)),s=i(83021),a=(i(53265),i(94361)),r=i(52781),l=i(84374),d=i(89034),c=i(53953);const p=r.YY.create({name:"PlainTable",addExtensions:()=>[a.A,d.A,l.A,s.A,c.A]});var h=i(27923),u=i(69721),m=(i(49616),i(3588))},62277:(t,e,i)=>{"use strict";i.d(e,{A:()=>r});var o=i(71354),n=i.n(o),s=i(76314),a=i.n(s)()(n());a.push([t.id,".editor__content[data-v-7394eeaa]{max-width:min(var(--text-editor-max-width),100vw - 16px);margin:auto;position:relative;width:100%}.ie .editor__content[data-v-7394eeaa] .ProseMirror{padding-top:50px}.text-editor__content-wrapper[data-v-7394eeaa]{--side-width: calc((100% - var(--text-editor-max-width)) / 2);display:grid;grid-template-columns:1fr auto}.text-editor__content-wrapper.--show-outline[data-v-7394eeaa]{grid-template-columns:var(--side-width) auto var(--side-width)}.text-editor__content-wrapper .text-editor__content-wrapper__left[data-v-7394eeaa],.text-editor__content-wrapper .text-editor__content-wrapper__right[data-v-7394eeaa]{height:100%;position:relative}.is-rich-workspace .text-editor__content-wrapper[data-v-7394eeaa]{--side-width: var(--text-editor-max-width);grid-template-columns:var(--side-width) auto}.is-rich-workspace .text-editor__content-wrapper .text-editor__content-wrapper__left[data-v-7394eeaa],.is-rich-workspace .text-editor__content-wrapper .text-editor__content-wrapper__right[data-v-7394eeaa]{display:none}","",{version:3,sources:["webpack://./src/components/Editor/ContentContainer.vue"],names:[],mappings:"AACA,kCACC,wDAAA,CACA,WAAA,CACA,iBAAA,CACA,UAAA,CAIA,mDACC,gBAAA,CAIF,+CACC,6DAAA,CACA,YAAA,CACA,8BAAA,CACA,8DACC,8DAAA,CAED,uKAEC,WAAA,CACA,iBAAA,CAKD,kEACC,0CAAA,CACA,4CAAA,CACA,6MAEC,YAAA",sourcesContent:["\n.editor__content {\n\tmax-width: min(var(--text-editor-max-width), calc(100vw - 16px));\n\tmargin: auto;\n\tposition: relative;\n\twidth: 100%;\n}\n\n.ie {\n\t.editor__content:deep(.ProseMirror) {\n\t\tpadding-top: 50px;\n\t}\n}\n\n.text-editor__content-wrapper {\n\t--side-width: calc((100% - var(--text-editor-max-width)) / 2);\n\tdisplay: grid;\n\tgrid-template-columns: 1fr auto;\n\t&.--show-outline {\n\t\tgrid-template-columns: var(--side-width) auto var(--side-width);\n\t}\n\t.text-editor__content-wrapper__left,\n\t.text-editor__content-wrapper__right {\n\t\theight: 100%;\n\t\tposition: relative;\n\t}\n}\n\n.is-rich-workspace {\n\t.text-editor__content-wrapper {\n\t\t--side-width: var(--text-editor-max-width);\n\t\tgrid-template-columns: var(--side-width) auto;\n\t\t.text-editor__content-wrapper__left,\n\t\t.text-editor__content-wrapper__right {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const r=a},76768:(t,e,i)=>{"use strict";i.d(e,{A:()=>r});var o=i(71354),n=i.n(o),s=i(76314),a=i.n(s)()(n());a.push([t.id,".text-editor__main[data-v-8ffa875e],.editor[data-v-8ffa875e]{background:var(--color-main-background);color:var(--color-main-text);background-clip:padding-box;border-radius:var(--border-radius);padding:0;position:relative;width:100%}","",{version:3,sources:["webpack://./src/components/Editor/MainContainer.vue"],names:[],mappings:"AACA,6DACC,uCAAA,CACA,4BAAA,CACA,2BAAA,CACA,kCAAA,CACA,SAAA,CACA,iBAAA,CACA,UAAA",sourcesContent:["\n.text-editor__main, .editor {\n\tbackground: var(--color-main-background);\n\tcolor: var(--color-main-text);\n\tbackground-clip: padding-box;\n\tborder-radius: var(--border-radius);\n\tpadding: 0;\n\tposition: relative;\n\twidth: 100%;\n}\n"],sourceRoot:""}]);const r=a},21637:(t,e,i)=>{"use strict";i.d(e,{A:()=>r});var o=i(71354),n=i.n(o),s=i(76314),a=i.n(s)()(n());a.push([t.id,".text-editor__wrapper[data-v-29765ad2]{display:flex;width:100%;height:100%}.text-editor__wrapper.show-color-annotations[data-v-29765ad2] .author-annotation{padding-top:2px;padding-bottom:2px}.text-editor__wrapper[data-v-29765ad2]:not(.show-color-annotations) .author-annotation,.text-editor__wrapper[data-v-29765ad2]:not(.show-color-annotations) .image{background-color:rgba(0,0,0,0) !important}.text-editor__wrapper .ProseMirror[data-v-29765ad2]{margin-top:0 !important}","",{version:3,sources:["webpack://./src/components/Editor/Wrapper.vue"],names:[],mappings:"AAEA,uCACC,YAAA,CACA,UAAA,CACA,WAAA,CAEA,iFACC,eAAA,CACA,kBAAA,CAGD,kKAEC,yCAAA,CAGD,oDACC,uBAAA",sourcesContent:["\n\n.text-editor__wrapper {\n\tdisplay: flex;\n\twidth: 100%;\n\theight: 100%;\n\n\t&.show-color-annotations:deep(.author-annotation) {\n\t\tpadding-top: 2px;\n\t\tpadding-bottom: 2px;\n\t}\n\n\t&:not(.show-color-annotations):deep(.author-annotation),\n\t&:not(.show-color-annotations):deep(.image) {\n\t\tbackground-color: transparent !important;\n\t}\n\n\t.ProseMirror {\n\t\tmargin-top: 0 !important;\n\t}\n}\n\n"],sourceRoot:""}]);const r=a},7736:function(t){var e,i;e=this,i=function(t){var e=function(t){return new e.lib.init(t)};function i(t,e){return e.offset[t]?isNaN(e.offset[t])?e.offset[t]:e.offset[t]+"px":"0px"}function o(t,e){return!(!t||"string"!=typeof e||!(t.className&&t.className.trim().split(/\s+/gi).indexOf(e)>-1))}return e.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},e.lib=e.prototype={toastify:"1.12.0",constructor:e,init:function(t){return t||(t={}),this.options={},this.toastElement=null,this.options.text=t.text||e.defaults.text,this.options.node=t.node||e.defaults.node,this.options.duration=0===t.duration?0:t.duration||e.defaults.duration,this.options.selector=t.selector||e.defaults.selector,this.options.callback=t.callback||e.defaults.callback,this.options.destination=t.destination||e.defaults.destination,this.options.newWindow=t.newWindow||e.defaults.newWindow,this.options.close=t.close||e.defaults.close,this.options.gravity="bottom"===t.gravity?"toastify-bottom":e.defaults.gravity,this.options.positionLeft=t.positionLeft||e.defaults.positionLeft,this.options.position=t.position||e.defaults.position,this.options.backgroundColor=t.backgroundColor||e.defaults.backgroundColor,this.options.avatar=t.avatar||e.defaults.avatar,this.options.className=t.className||e.defaults.className,this.options.stopOnFocus=void 0===t.stopOnFocus?e.defaults.stopOnFocus:t.stopOnFocus,this.options.onClick=t.onClick||e.defaults.onClick,this.options.offset=t.offset||e.defaults.offset,this.options.escapeMarkup=void 0!==t.escapeMarkup?t.escapeMarkup:e.defaults.escapeMarkup,this.options.ariaLive=t.ariaLive||e.defaults.ariaLive,this.options.style=t.style||e.defaults.style,t.backgroundColor&&(this.options.style.background=t.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var t=document.createElement("div");for(var e in t.className="toastify on "+this.options.className,this.options.position?t.className+=" toastify-"+this.options.position:!0===this.options.positionLeft?(t.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):t.className+=" toastify-right",t.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.'),this.options.style)t.style[e]=this.options.style[e];if(this.options.ariaLive&&t.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)t.appendChild(this.options.node);else if(this.options.escapeMarkup?t.innerText=this.options.text:t.innerHTML=this.options.text,""!==this.options.avatar){var o=document.createElement("img");o.src=this.options.avatar,o.className="toastify-avatar","left"==this.options.position||!0===this.options.positionLeft?t.appendChild(o):t.insertAdjacentElement("afterbegin",o)}if(!0===this.options.close){var n=document.createElement("button");n.type="button",n.setAttribute("aria-label","Close"),n.className="toast-close",n.innerHTML="&#10006;",n.addEventListener("click",function(t){t.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}.bind(this));var s=window.innerWidth>0?window.innerWidth:screen.width;("left"==this.options.position||!0===this.options.positionLeft)&&s>360?t.insertAdjacentElement("afterbegin",n):t.appendChild(n)}if(this.options.stopOnFocus&&this.options.duration>0){var a=this;t.addEventListener("mouseover",(function(e){window.clearTimeout(t.timeOutValue)})),t.addEventListener("mouseleave",(function(){t.timeOutValue=window.setTimeout((function(){a.removeElement(t)}),a.options.duration)}))}if(void 0!==this.options.destination&&t.addEventListener("click",function(t){t.stopPropagation(),!0===this.options.newWindow?window.open(this.options.destination,"_blank"):window.location=this.options.destination}.bind(this)),"function"==typeof this.options.onClick&&void 0===this.options.destination&&t.addEventListener("click",function(t){t.stopPropagation(),this.options.onClick()}.bind(this)),"object"==typeof this.options.offset){var r=i("x",this.options),l=i("y",this.options),d="left"==this.options.position?r:"-"+r,c="toastify-top"==this.options.gravity?l:"-"+l;t.style.transform="translate("+d+","+c+")"}return t},showToast:function(){var t;if(this.toastElement=this.buildToast(),!(t="string"==typeof this.options.selector?document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||"undefined"!=typeof ShadowRoot&&this.options.selector instanceof ShadowRoot?this.options.selector:document.body))throw"Root element is not defined";var i=e.defaults.oldestFirst?t.firstChild:t.lastChild;return t.insertBefore(this.toastElement,i),e.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout(function(){this.removeElement(this.toastElement)}.bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(t){t.className=t.className.replace(" on",""),window.setTimeout(function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),t.parentNode&&t.parentNode.removeChild(t),this.options.callback.call(t),e.reposition()}.bind(this),400)}},e.reposition=function(){for(var t,e={top:15,bottom:15},i={top:15,bottom:15},n={top:15,bottom:15},s=document.getElementsByClassName("toastify"),a=0;a<s.length;a++){t=!0===o(s[a],"toastify-top")?"toastify-top":"toastify-bottom";var r=s[a].offsetHeight;t=t.substr(9,t.length-1),(window.innerWidth>0?window.innerWidth:screen.width)<=360?(s[a].style[t]=n[t]+"px",n[t]+=r+15):!0===o(s[a],"toastify-left")?(s[a].style[t]=e[t]+"px",e[t]+=r+15):(s[a].style[t]=i[t]+"px",i[t]+=r+15)}return this},e.lib.init.prototype=e.lib,e},t.exports?t.exports=i():e.Toastify=i()},79305:(t,e,i)=>{"use strict";i.d(e,{A:()=>b});var o=i(58294),n=i(73590),s=i(51594),a=i(71585);const r={name:"ContentContainer",components:{EditorContent:o.$Z,EditorOutline:a.A},mixins:[n.CB,s.yc],computed:{showOutline(){return this.$outlineState.visible}}};var l=i(85072),d=i.n(l),c=i(97825),p=i.n(c),h=i(77659),u=i.n(h),m=i(55056),A=i.n(m),f=i(10540),v=i.n(f),g=i(41113),w=i.n(g),C=i(62277),_={};_.styleTagTransform=w(),_.setAttributes=A(),_.insert=u().bind(null,"head"),_.domAPI=p(),_.insertStyleElement=v();d()(C.A,_);C.A&&C.A.locals&&C.A.locals;const b=(0,i(14486).A)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"content-wrapper text-editor__content-wrapper",class:{"--show-outline":t.showOutline},attrs:{"data-text-el":"editor-content-wrapper"}},[t.showOutline?e("div",{staticClass:"text-editor__content-wrapper__left"},[e("EditorOutline")],1):t._e(),t._v(" "),t._t("default"),t._v(" "),e("EditorContent",{staticClass:"editor__content text-editor__content",attrs:{role:"document",editor:t.$editor}}),t._v(" "),e("div",{staticClass:"text-editor__content-wrapper__right"})],2)}),[],!1,null,"7394eeaa",null).exports},86695:(e,i,o)=>{"use strict";o.d(i,{A:()=>O});var n=o(21777),s=o(85168),a=o(61338),r=o(79843),l=o(73590),d=o(3601);const c=t=>t.split("/").slice(0,-1).join("/"),p={name:"MediaHandler",mixins:[l.CB,l.pN,l.l5],provide(){const t={};return Object.defineProperties(t,{[d.Os]:{get:()=>this.showAttachmentPrompt},[d.Vf]:{get:()=>this.chooseLocalFile},[d.kk]:{get:()=>this.state}}),t},data:()=>({lastFilePath:null,draggedOver:!1,state:{isUploadingAttachments:!1}}),computed:{initialFilePath(){return this.lastFilePath??c(this.$file?.relativePath??"/")}},methods:{setDraggedOver(t){this.draggedOver=t},onPaste(t){this.uploadAttachmentFiles(t.detail.files)},onEditorDrop(t){this.uploadAttachmentFiles(t.detail.files,t.detail.position)},onAttachmentUploadFilePicked(t){this.uploadAttachmentFiles(t.target.files),t.target.value=""},chooseLocalFile(){this.$refs.attachmentFileInput.click()},async uploadAttachmentFiles(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)return;this.state.isUploadingAttachments=!0;const o=[...e].map((t=>this.uploadAttachmentFile(t,i)));return Promise.all(o).catch((e=>{r.v.error("Uploading multiple attachments failed",{error:e}),(0,s.Qg)(t("text","Uploading multiple attachments failed."))})).then((()=>{this.state.isUploadingAttachments=!1}))},async uploadAttachmentFile(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.state.isUploadingAttachments=!0,this.$syncService.uploadAttachment(e).then((t=>{this.insertAttachment(t.data?.name,t.data?.id,e.type,i,t.data?.dirname)})).catch((e=>{r.v.error("Uploading attachment failed",{error:e}),(0,s.Qg)(t("text","Uploading attachment failed."))})).then((()=>{this.state.isUploadingAttachments=!1}))},showAttachmentPrompt(){(0,n.HW)()&&OC.dialogs.filepicker(t("text","Insert an attachment"),(t=>{this.insertFromPath(t)}),!1,[],!0,void 0,this.initialFilePath)},insertFromPath(e){return this.lastFilePath=c(e),this.state.isUploadingAttachments=!0,this.$syncService.insertAttachmentFile(e).then((t=>{this.insertAttachment(t.data?.name,t.data?.id,t.data?.mimetype,null,t.data?.dirname)})).catch((e=>{r.v.error("Failed to insert from Files",{error:e}),(0,s.Qg)(t("text","Failed to insert from Files"))})).then((()=>{this.state.isUploadingAttachments=!1}))},insertAttachment(t,e,i){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const n=(arguments.length>4&&void 0!==arguments[4]?arguments[4]:"")+"/"+encodeURIComponent(t).replace(/[!'()*]/g,(t=>"%"+t.charCodeAt(0).toString(16).toUpperCase())),s=t.replaceAll(/[[\]]/g,"");(o?this.$editor.chain().focus(o):this.$editor.chain()).setImage({src:n,alt:s}).run();const r=this.$editor.view.state.selection;r.empty||this.$editor.commands.focus(r.to),this.$editor.commands.scrollIntoView(),this.$editor.commands.setMeta("insertedAttachmentSrc",{src:n}),(0,a.Ic)("text:image-node:add",null)}}};var h=o(14486);const u={name:"MainContainer",components:{MediaHandler:(0,h.A)(p,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"editor editor-media-handler",class:{draggedOver:t.draggedOver},attrs:{"data-text-el":"editor-media-handler"},on:{"image-paste":t.onPaste,dragover:function(e){return e.preventDefault(),e.stopPropagation(),t.setDraggedOver(!0)},dragleave:function(e){return e.preventDefault(),e.stopPropagation(),t.setDraggedOver(!1)},drop:function(e){return e.preventDefault(),e.stopPropagation(),t.setDraggedOver(!1)},"file-drop":t.onEditorDrop}},[e("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"attachmentFileInput",attrs:{"data-text-el":"attachment-file-input",type:"file",accept:"*/*",multiple:""},on:{change:t.onAttachmentUploadFilePicked}}),t._v(" "),t._t("default")],2)}),[],!1,null,null,null).exports},mixins:[l._S]};var m=o(85072),A=o.n(m),f=o(97825),v=o.n(f),g=o(77659),w=o.n(g),C=o(55056),_=o.n(C),b=o(10540),y=o.n(b),x=o(41113),k=o.n(x),E=o(76768),F={};F.styleTagTransform=k(),F.setAttributes=_(),F.insert=w().bind(null,"head"),F.domAPI=v(),F.insertStyleElement=y();A()(E.A,F);E.A&&E.A.locals&&E.A.locals;const O=(0,h.A)(u,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"editor"},[t.$editorUpload?e("MediaHandler",{staticClass:"text-editor__main"},[t._t("default")],2):t._t("default")],2)}),[],!1,null,"8ffa875e",null).exports},40643:(t,e,i)=>{"use strict";i.d(e,{default:()=>u});var o=i(52781),n=i(74116),s=i(86695),a=i(59966),r=i(79305),l=i(45410),d=i(94361),c=i(73590),p=i(32931);const h={name:"PlainTableContentEditor",components:{ContentContainer:r.A,MainContainer:s.A,Wrapper:a.A},provide(){const t={};return Object.defineProperties(t,{[c.qS]:{get:()=>this.$editor},[c.lV]:{get:()=>!1},[c.wn]:{get:()=>!1},[c.o]:{get:()=>!1},[c.Wo]:{get:()=>!1}}),t},props:{content:{type:String,default:""},readOnly:{type:Boolean,default:!1}},emits:["update:content","ready","create:content"],computed:{editor(){return this.$editor}},created(){const t=p.A.render(this.content),e=[l.X3,n.A];this.$editor=new o.KE({content:t,extensions:e,editable:!this.readOnly}),this.$editor.on("create",(()=>{this.$emit("ready"),this.$parent.$emit("ready");try{const t=(0,d.I)(this.$editor.schema).serialize(this.$editor.state.doc);this.emit("create:content",{json:this.$editor.state.doc,markdown:t})}catch(t){console.error("Error serializing table:",t)}})),this.$editor.on("update",(t=>{let{editor:e}=t;try{const t=(0,d.I)(e.schema).serialize(e.state.doc);this.emit("update:content",{json:e.state.doc,markdown:t})}catch(t){console.error("Error serializing table:",t)}}))},updated(){this.$editor.setEditable(!this.readOnly)},beforeDestroy(){this.$editor.destroy()},methods:{emit(t,e){this.$emit(t,e),this.$parent?.$emit(t,e)}}};const u=(0,i(14486).A)(h,(function(){var t=this._self._c;return t("Wrapper",{attrs:{"content-loaded":!0,"show-outline-outside":!1}},[t("MainContainer",[t("ContentContainer",{attrs:{"read-only":this.readOnly}})],1)],1)}),[],!1,null,"76206e71",null).exports},59966:(t,e,i)=>{"use strict";i.d(e,{A:()=>b});var o=i(73590),n=i(51594),s=i(11441),a=i(95353);const r={name:"Wrapper",mixins:[s.A,o.yu,o.c9],provide(){const t={};return Object.defineProperties(t,{[n.tD]:{get:()=>this.outline},[n.N]:{get:()=>({toggle:this.outlineToggle})}}),t},props:{isResolvingConflict:{type:Boolean,require:!0},hasConnectionIssue:{type:Boolean,default:!1},contentLoaded:{type:Boolean,default:!0},showAuthorAnnotations:{type:Boolean,default:!1},showOutlineOutside:{type:Boolean,default:!1}},data:()=>({outline:{visible:!1,enable:!1}}),computed:{...(0,a.aH)({viewWidth:t=>t.text.viewWidth}),showOutline(){return!!this.isAbleToShowOutline&&this.outline.visible},isAbleToShowOutline(){return!this.$isRichWorkspace}},watch:{showOutlineOutside(){this.outline.visible=this.showOutlineOutside}},mounted(){this.outline.enable=this.isAbleToShowOutline,this.$watch((()=>this.isAbleToShowOutline),(t=>{Object.assign(this.outline,{enable:t})}))},methods:{outlineToggle(){this.outline.visible=!this.outline.visible,this.$emit("outline-toggled",this.outline.visible)}}};var l=i(85072),d=i.n(l),c=i(97825),p=i.n(c),h=i(77659),u=i.n(h),m=i(55056),A=i.n(m),f=i(10540),v=i.n(f),g=i(41113),w=i.n(g),C=i(21637),_={};_.styleTagTransform=w(),_.setAttributes=A(),_.insert=u().bind(null,"head"),_.domAPI=p(),_.insertStyleElement=v();d()(C.A,_);C.A&&C.A.locals&&C.A.locals;const b=(0,i(14486).A)(r,(function(){var t=this;return(0,t._self._c)("div",{staticClass:"text-editor__wrapper",class:{"has-conflicts":t.isResolvingConflict,"is-rich-workspace":t.$isRichWorkspace,"is-rich-editor":t.$isRichEditor,"show-color-annotations":t.showAuthorAnnotations}},[t._t("default")],2)}),[],!1,null,"29765ad2",null).exports},85168:(t,e,i)=>{"use strict";i.d(e,{Qg:()=>s.l,Te:()=>s.i,a1:()=>m});var o=i(41421),n=i(85471),s=i(93414),a=i(94219),r=i(40083);const l=(t,e,i=()=>{})=>{const o=document.createElement("div");(document.querySelector(null==e?void 0:e.container)||document.body).appendChild(o);const s=new n.default({el:o,name:"VueDialogHelper",render:o=>o(t,{props:e,on:{close:(...t)=>{i(...t.map((t=>(0,n.toRaw)(t)))),s.$destroy()}}})});return s};var d=Object.defineProperty,c=(t,e,i)=>((t,e,i)=>e in t?d(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i)(t,"symbol"!=typeof e?e+"":e,i);class p extends Error{}class h{constructor(t,e,i,o,n,s,a,r,l=!1){c(this,"title"),c(this,"multiSelect"),c(this,"mimeTypeFilter"),c(this,"directoriesAllowed"),c(this,"buttons"),c(this,"path"),c(this,"filter"),c(this,"container"),c(this,"disabledNavigation"),this.title=t,this.multiSelect=e,this.mimeTypeFilter=i,this.directoriesAllowed=o,this.path=s,this.filter=a,this.buttons=n,this.container=r,this.disabledNavigation=l}async pick(){const{FilePickerVue:t}=await i.e("node_modules_nextcloud_dialogs_dist_chunks_index-Kg2hZgGF_mjs").then(i.bind(i,48066));return new Promise(((e,i)=>{l(t,{allowPickDirectory:this.directoriesAllowed,buttons:this.buttons,container:this.container,name:this.title,path:this.path,mimetypeFilter:this.mimeTypeFilter,multiselect:this.multiSelect,filterFn:this.filter,disabledNavigation:this.disabledNavigation},((...t)=>{var o;const[n]=t;Array.isArray(n)&&0!==n.length?this.multiSelect?e(n.map((t=>t.path))):e((null==(o=n[0])?void 0:o.path)||"/"):i(new p("FilePicker: No nodes selected"))}))}))}}class u{constructor(t){c(this,"title"),c(this,"multiSelect",!1),c(this,"mimeTypeFilter",[]),c(this,"directoriesAllowed",!1),c(this,"path"),c(this,"filter"),c(this,"buttons",[]),c(this,"container"),c(this,"disabledNavigation",!1),this.title=t}setContainer(t){return this.container=t,this}setMultiSelect(t){return this.multiSelect=t,this}addMimeTypeFilter(t){return this.mimeTypeFilter.push(t),this}setMimeTypeFilter(t){return this.mimeTypeFilter=t,this}addButton(t){return"function"==typeof this.buttons&&(console.warn("FilePicker buttons were set to factory, now overwritten with button object."),this.buttons=[]),this.buttons.push(t),this}setButtonFactory(t){return this.buttons=t,this}setType(t){return this.buttons=(e,i)=>{var n,a,r;const l=[],d=(null==(a=null==(n=null==e?void 0:e[0])?void 0:n.attributes)?void 0:a.displayName)||(null==(r=null==e?void 0:e[0])?void 0:r.basename),c=d||(0,o.basename)(i);if(1===t){let t=(0,s.t)("Choose");1===e.length?t=(0,s.t)("Choose {file}",{file:d}):this.multiSelect&&(t=(0,s.n)("Choose %n file","Choose %n files",e.length)),l.push({callback:()=>{},type:"primary",label:t})}return 4!==t&&3!==t||l.push({callback:()=>{},label:c?(0,s.t)("Copy to {target}",{target:c}):(0,s.t)("Copy"),type:"primary",icon:'<svg xmlns="http://www.w3.org/2000/svg" id="mdi-folder-multiple" viewBox="0 0 24 24"><path d="M22,4H14L12,2H6A2,2 0 0,0 4,4V16A2,2 0 0,0 6,18H22A2,2 0 0,0 24,16V6A2,2 0 0,0 22,4M2,6H0V11H0V20A2,2 0 0,0 2,22H20V20H2V6Z" /></svg>'}),2!==t&&4!==t||l.push({callback:()=>{},label:c?(0,s.t)("Move to {target}",{target:c}):(0,s.t)("Move"),type:2===t?"primary":"secondary",icon:'<svg xmlns="http://www.w3.org/2000/svg" id="mdi-folder-move" viewBox="0 0 24 24"><path d="M14,18V15H10V11H14V8L19,13M20,6H12L10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6Z" /></svg>'}),l},this}allowDirectories(t=!0){return this.directoriesAllowed=t,this}startAt(t){return this.path=t,this}setFilter(t){return this.filter=t,this}disableNavigation(){return this.disabledNavigation=!0,this}build(){return new h(this.title,this.multiSelect,this.mimeTypeFilter,this.directoriesAllowed,this.buttons,this.path,this.filter,this.container,this.disabledNavigation)}}function m(t){return new u(t)}const A=(0,n.defineComponent)({__name:"GenericDialog",props:{name:null,text:null,html:null,buttons:null,severity:null},setup(t){const e=t,i=()=>"".concat(e.name,": ").concat(e.text);return(0,n.onMounted)((()=>window.addEventListener("unload",i))),(0,n.onUnmounted)((()=>window.removeEventListener("unload",i))),{__sfc:!0,props:e,handleUnload:i,NcDialog:a.A,NcNoteCard:r.A}}});var f=function(){var t=this,e=t._self._c,i=t._self._setupProxy;return e(i.NcDialog,{attrs:{"dialog-classes":"nc-generic-dialog",buttons:t.buttons,name:t.name,message:t.text},on:{"update:open":function(e){return t.$emit("close")}}},[t.severity?e(i.NcNoteCard,{attrs:{type:t.severity}},[e("p",{domProps:{textContent:t._s(t.text)}})]):t._e(),t.html?e("div",{domProps:{innerHTML:t._s(t.html)}}):t._e()],1)},v=[];(0,s.a)(A,f,v,!1,null,null,null,null).exports},16343:(t,e,i)=>{"use strict";i.d(e,{a:()=>d,e:()=>l,g:()=>c,s:()=>p});var o=i(59097),n=i(43850),s=i(24715);const a=(0,o.getBuilder)("nextcloud-vue").persist(!0).build();let r;function l(t,e=10){r||(r=new n.EmojiIndex(s));const i=c();let o;return t?(o=r.search(`:${t}`,e),o.length<e&&(o=o.concat(r.search(t,e-o.length)))):o=n.frequently.get(e).map((t=>r.emoji(t)))||[],o.map((t=>t.getSkin(i)))}function d(t){n.frequently.add(t)}function c(){const t=Number.parseInt(a.getItem("NcEmojiPicker::currentSkinTone")??"1");return Math.min(Math.max(t,1),6)}function p(t){t=Math.min(Math.max(t,1),6),a.setItem("NcEmojiPicker::currentSkinTone",t.toString())}}}]);
//# sourceMappingURL=node_modules_toastify-js_src_toastify_js-src_components_Editor_PlainTableContentEditor_vue-no-6739a9.js.map?v=4d81c85c601d7e2f3bd7