/*! third party licenses: js/vendor.LICENSE.txt */
var ce=Object.defineProperty;var le=(r,e,t)=>e in r?ce(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var C=(r,e,t)=>le(r,typeof e!="symbol"?e+"":e,t);import{g as q}from"./emoji-picker.chunk.mjs";const ue="modulepreload",he=function(r,e){return r[0]==="."?new URL(r,e).href:r},X={},ze=function(r,e,t){let s=Promise.resolve();if(e&&e.length>0){const E=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),S=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.all(e.map(l=>{if(l=he(l,t),l in X)return;X[l]=!0;const n=l.endsWith(".css"),i=n?'[rel="stylesheet"]':"";if(t)for(let f=E.length-1;f>=0;f--){const m=E[f];if(m.href===l&&(!n||m.rel==="stylesheet"))return}else if(document.querySelector('link[href="'.concat(l,'"]').concat(i)))return;const u=document.createElement("link");if(u.rel=n?"stylesheet":ue,n||(u.as="script",u.crossOrigin=""),u.href=l,S&&u.setAttribute("nonce",S),document.head.appendChild(u),n)return new Promise((f,m)=>{u.addEventListener("load",f),u.addEventListener("error",()=>m(new Error("Unable to preload CSS for ".concat(l))))})}))}return s.then(()=>r()).catch(E=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=E,window.dispatchEvent(a),!a.defaultPrevented)throw E})};function pe(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Y={exports:{}},c=Y.exports={},p,I;function G(){throw new Error("setTimeout has not been defined")}function _(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?p=setTimeout:p=G}catch{p=G}try{typeof clearTimeout=="function"?I=clearTimeout:I=_}catch{I=_}})();function W(r){if(p===setTimeout)return setTimeout(r,0);if((p===G||!p)&&setTimeout)return p=setTimeout,setTimeout(r,0);try{return p(r,0)}catch{try{return p.call(null,r,0)}catch{return p.call(this,r,0)}}}function Ie(r){if(I===clearTimeout)return clearTimeout(r);if((I===_||!I)&&clearTimeout)return I=clearTimeout,clearTimeout(r);try{return I(r)}catch{try{return I.call(null,r)}catch{return I.call(this,r)}}}var N=[],A=!1,L,D=-1;function fe(){!A||!L||(A=!1,L.length?N=L.concat(N):D=-1,N.length&&Z())}function Z(){if(!A){var r=W(fe);A=!0;for(var e=N.length;e;){for(L=N,N=[];++D<e;)L&&L[D].run();D=-1,e=N.length}L=null,A=!1,Ie(r)}}c.nextTick=function(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];N.push(new K(r,e)),N.length===1&&!A&&W(Z)};function K(r,e){this.fun=r,this.array=e}K.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={};function R(){}c.on=R,c.addListener=R,c.once=R,c.off=R,c.removeListener=R,c.removeAllListeners=R,c.emit=R,c.prependListener=R,c.prependOnceListener=R,c.listeners=function(r){return[]},c.binding=function(r){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(r){throw new Error("process.chdir is not supported")},c.umask=function(){return 0};var de=Y.exports;const Re=pe(de);var F={};const Ne=typeof Re=="object"&&F&&F.NODE_DEBUG&&/\bsemver\b/i.test(F.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};var J=Ne;const Le="2.0.0",Q=256,me=Number.MAX_SAFE_INTEGER||9007199254740991,Oe=16,Te=Q-6,$e=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var ee={MAX_LENGTH:Q,MAX_SAFE_COMPONENT_LENGTH:Oe,MAX_SAFE_BUILD_LENGTH:Te,MAX_SAFE_INTEGER:me,RELEASE_TYPES:$e,SEMVER_SPEC_VERSION:Le,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},M={exports:{}};(function(r,e){const{MAX_SAFE_COMPONENT_LENGTH:t,MAX_SAFE_BUILD_LENGTH:s,MAX_LENGTH:E}=ee,a=J;e=r.exports={};const S=e.re=[],l=e.safeRe=[],n=e.src=[],i=e.t={};let u=0;const f="[a-zA-Z0-9-]",m=[["\\s",1],["\\d",E],[f,s]],Ee=O=>{for(const[d,v]of m)O=O.split("".concat(d,"*")).join("".concat(d,"{0,").concat(v,"}")).split("".concat(d,"+")).join("".concat(d,"{1,").concat(v,"}"));return O},o=(O,d,v)=>{const ae=Ee(d),w=u++;a(O,w,d),i[O]=w,n[w]=d,S[w]=new RegExp(d,v?"g":void 0),l[w]=new RegExp(ae,v?"g":void 0)};o("NUMERICIDENTIFIER","0|[1-9]\\d*"),o("NUMERICIDENTIFIERLOOSE","\\d+"),o("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-]".concat(f,"*")),o("MAINVERSION","(".concat(n[i.NUMERICIDENTIFIER],")\\.(").concat(n[i.NUMERICIDENTIFIER],")\\.(").concat(n[i.NUMERICIDENTIFIER],")")),o("MAINVERSIONLOOSE","(".concat(n[i.NUMERICIDENTIFIERLOOSE],")\\.(").concat(n[i.NUMERICIDENTIFIERLOOSE],")\\.(").concat(n[i.NUMERICIDENTIFIERLOOSE],")")),o("PRERELEASEIDENTIFIER","(?:".concat(n[i.NUMERICIDENTIFIER],"|").concat(n[i.NONNUMERICIDENTIFIER],")")),o("PRERELEASEIDENTIFIERLOOSE","(?:".concat(n[i.NUMERICIDENTIFIERLOOSE],"|").concat(n[i.NONNUMERICIDENTIFIER],")")),o("PRERELEASE","(?:-(".concat(n[i.PRERELEASEIDENTIFIER],"(?:\\.").concat(n[i.PRERELEASEIDENTIFIER],")*))")),o("PRERELEASELOOSE","(?:-?(".concat(n[i.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(n[i.PRERELEASEIDENTIFIERLOOSE],")*))")),o("BUILDIDENTIFIER","".concat(f,"+")),o("BUILD","(?:\\+(".concat(n[i.BUILDIDENTIFIER],"(?:\\.").concat(n[i.BUILDIDENTIFIER],")*))")),o("FULLPLAIN","v?".concat(n[i.MAINVERSION]).concat(n[i.PRERELEASE],"?").concat(n[i.BUILD],"?")),o("FULL","^".concat(n[i.FULLPLAIN],"$")),o("LOOSEPLAIN","[v=\\s]*".concat(n[i.MAINVERSIONLOOSE]).concat(n[i.PRERELEASELOOSE],"?").concat(n[i.BUILD],"?")),o("LOOSE","^".concat(n[i.LOOSEPLAIN],"$")),o("GTLT","((?:<|>)?=?)"),o("XRANGEIDENTIFIERLOOSE","".concat(n[i.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),o("XRANGEIDENTIFIER","".concat(n[i.NUMERICIDENTIFIER],"|x|X|\\*")),o("XRANGEPLAIN","[v=\\s]*(".concat(n[i.XRANGEIDENTIFIER],")(?:\\.(").concat(n[i.XRANGEIDENTIFIER],")(?:\\.(").concat(n[i.XRANGEIDENTIFIER],")(?:").concat(n[i.PRERELEASE],")?").concat(n[i.BUILD],"?)?)?")),o("XRANGEPLAINLOOSE","[v=\\s]*(".concat(n[i.XRANGEIDENTIFIERLOOSE],")(?:\\.(").concat(n[i.XRANGEIDENTIFIERLOOSE],")(?:\\.(").concat(n[i.XRANGEIDENTIFIERLOOSE],")(?:").concat(n[i.PRERELEASELOOSE],")?").concat(n[i.BUILD],"?)?)?")),o("XRANGE","^".concat(n[i.GTLT],"\\s*").concat(n[i.XRANGEPLAIN],"$")),o("XRANGELOOSE","^".concat(n[i.GTLT],"\\s*").concat(n[i.XRANGEPLAINLOOSE],"$")),o("COERCEPLAIN","(^|[^\\d])(\\d{1,".concat(t,"})(?:\\.(\\d{1,").concat(t,"}))?(?:\\.(\\d{1,").concat(t,"}))?")),o("COERCE","".concat(n[i.COERCEPLAIN],"(?:$|[^\\d])")),o("COERCEFULL",n[i.COERCEPLAIN]+"(?:".concat(n[i.PRERELEASE],")?(?:").concat(n[i.BUILD],")?(?:$|[^\\d])")),o("COERCERTL",n[i.COERCE],!0),o("COERCERTLFULL",n[i.COERCEFULL],!0),o("LONETILDE","(?:~>?)"),o("TILDETRIM","(\\s*)".concat(n[i.LONETILDE],"\\s+"),!0),e.tildeTrimReplace="$1~",o("TILDE","^".concat(n[i.LONETILDE]).concat(n[i.XRANGEPLAIN],"$")),o("TILDELOOSE","^".concat(n[i.LONETILDE]).concat(n[i.XRANGEPLAINLOOSE],"$")),o("LONECARET","(?:\\^)"),o("CARETTRIM","(\\s*)".concat(n[i.LONECARET],"\\s+"),!0),e.caretTrimReplace="$1^",o("CARET","^".concat(n[i.LONECARET]).concat(n[i.XRANGEPLAIN],"$")),o("CARETLOOSE","^".concat(n[i.LONECARET]).concat(n[i.XRANGEPLAINLOOSE],"$")),o("COMPARATORLOOSE","^".concat(n[i.GTLT],"\\s*(").concat(n[i.LOOSEPLAIN],")$|^$")),o("COMPARATOR","^".concat(n[i.GTLT],"\\s*(").concat(n[i.FULLPLAIN],")$|^$")),o("COMPARATORTRIM","(\\s*)".concat(n[i.GTLT],"\\s*(").concat(n[i.LOOSEPLAIN],"|").concat(n[i.XRANGEPLAIN],")"),!0),e.comparatorTrimReplace="$1$2$3",o("HYPHENRANGE","^\\s*(".concat(n[i.XRANGEPLAIN],")\\s+-\\s+(").concat(n[i.XRANGEPLAIN],")\\s*$")),o("HYPHENRANGELOOSE","^\\s*(".concat(n[i.XRANGEPLAINLOOSE],")\\s+-\\s+(").concat(n[i.XRANGEPLAINLOOSE],")\\s*$")),o("STAR","(<|>)?=?\\s*\\*"),o("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),o("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(M,M.exports);var Ae=M.exports;const ve=Object.freeze({loose:!0}),we=Object.freeze({}),ge=r=>r?typeof r!="object"?ve:r:we;var be=ge;const j=/^[0-9]+$/,re=(r,e)=>{const t=j.test(r),s=j.test(e);return t&&s&&(r=+r,e=+e),r===e?0:t&&!s?-1:s&&!t?1:r<e?-1:1},Se=(r,e)=>re(e,r);var Pe={compareIdentifiers:re,rcompareIdentifiers:Se};const P=J,{MAX_LENGTH:B,MAX_SAFE_INTEGER:y}=ee,{safeRe:k,t:x}=Ae,ye=be,{compareIdentifiers:T}=Pe;let De=class h{constructor(e,t){if(t=ye(t),e instanceof h){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError('Invalid version. Must be a string. Got type "'.concat(typeof e,'".'));if(e.length>B)throw new TypeError("version is longer than ".concat(B," characters"));P("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const s=e.trim().match(t.loose?k[x.LOOSE]:k[x.FULL]);if(!s)throw new TypeError("Invalid Version: ".concat(e));if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>y||this.major<0)throw new TypeError("Invalid major version");if(this.minor>y||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>y||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map(E=>{if(/^[0-9]+$/.test(E)){const a=+E;if(a>=0&&a<y)return a}return E}):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}format(){return this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch),this.prerelease.length&&(this.version+="-".concat(this.prerelease.join("."))),this.version}toString(){return this.version}compare(e){if(P("SemVer.compare",this.version,this.options,e),!(e instanceof h)){if(typeof e=="string"&&e===this.version)return 0;e=new h(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof h||(e=new h(e,this.options)),T(this.major,e.major)||T(this.minor,e.minor)||T(this.patch,e.patch)}comparePre(e){if(e instanceof h||(e=new h(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const s=this.prerelease[t],E=e.prerelease[t];if(P("prerelease compare",t,s,E),s===void 0&&E===void 0)return 0;if(E===void 0)return 1;if(s===void 0)return-1;if(s!==E)return T(s,E)}while(++t)}compareBuild(e){e instanceof h||(e=new h(e,this.options));let t=0;do{const s=this.build[t],E=e.build[t];if(P("build compare",t,s,E),s===void 0&&E===void 0)return 0;if(E===void 0)return 1;if(s===void 0)return-1;if(s!==E)return T(s,E)}while(++t)}inc(e,t,s){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,s);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,s);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,s),this.inc("pre",t,s);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,s),this.inc("pre",t,s);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const E=Number(s)?1:0;if(!t&&s===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[E];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(t===this.prerelease.join(".")&&s===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(E)}}if(t){let a=[t,E];s===!1&&(a=[t]),T(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error("invalid increment argument: ".concat(e))}return this.raw=this.format(),this.build.length&&(this.raw+="+".concat(this.build.join("."))),this}};var te=De;const V=te,Ce=(r,e,t=!1)=>{if(r instanceof V)return r;try{return new V(r,e)}catch(s){if(!t)return null;throw s}};var Fe=Ce;const Ge=Fe,_e=(r,e)=>{const t=Ge(r,e);return t?t.version:null};var Me=_e;const Ue=q(Me),Xe=te,je=(r,e)=>new Xe(r,e).major;var Be=je;const H=q(Be);class ne{constructor(e){C(this,"bus");typeof e.getVersion!="function"||!Ue(e.getVersion())?console.warn("Proxying an event bus with an unknown or invalid version"):H(e.getVersion())!==H(this.getVersion())&&console.warn("Proxying an event bus of version "+e.getVersion()+" with "+this.getVersion()),this.bus=e}getVersion(){return"3.3.1"}subscribe(e,t){this.bus.subscribe(e,t)}unsubscribe(e,t){this.bus.unsubscribe(e,t)}emit(e,t){this.bus.emit(e,t)}}class ie{constructor(){C(this,"handlers",new Map)}getVersion(){return"3.3.1"}subscribe(e,t){this.handlers.set(e,(this.handlers.get(e)||[]).concat(t))}unsubscribe(e,t){this.handlers.set(e,(this.handlers.get(e)||[]).filter(s=>s!==t))}emit(e,t){(this.handlers.get(e)||[]).forEach(s=>{try{s(t)}catch(E){console.error("could not invoke event listener",E)}})}}let g=null;function U(){var r;return g!==null?g:typeof window>"u"?new Proxy({},{get:()=>()=>console.error("Window not available, EventBus can not be established!")}):((r=window.OC)!=null&&r._eventBus&&typeof window._nc_event_bus>"u"&&(console.warn("found old event bus instance at OC._eventBus. Update your version!"),window._nc_event_bus=window.OC._eventBus),typeof(window==null?void 0:window._nc_event_bus)<"u"?g=new ne(window._nc_event_bus):g=window._nc_event_bus=new ie,g)}function se(r,e){U().subscribe(r,e)}function ke(r,e){U().unsubscribe(r,e)}function xe(r,e){U().emit(r,e)}const qe=Object.freeze(Object.defineProperty({__proto__:null,ProxyBus:ne,SimpleBus:ie,emit:xe,subscribe:se,unsubscribe:ke},Symbol.toStringTag,{value:"Module"}));let b;const oe=[];function Ye(){if(b===void 0){const r=document==null?void 0:document.getElementsByTagName("head")[0];b=r?r.getAttribute("data-requesttoken"):null}return b}function We(r){oe.push(r)}se("csrf-token-update",r=>{b=r.token,oe.forEach(e=>{try{e(b)}catch(t){console.error("error updating CSRF token observer",t)}})});let $;const z=(r,e)=>r?r.getAttribute(e):null;function Ze(){if($!==void 0)return $;const r=document==null?void 0:document.getElementsByTagName("head")[0];if(!r)return null;const e=z(r,"data-user");return e===null?($=null,$):($={uid:e,displayName:z(r,"data-user-displayname"),isAdmin:!!window._oc_isadmin},$)}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const E of s)if(E.type==="childList")for(const a of E.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function e(s){const E={};return s.integrity&&(E.integrity=s.integrity),s.referrerPolicy&&(E.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?E.credentials="include":s.crossOrigin==="anonymous"?E.credentials="omit":E.credentials="same-origin",E}function t(s){if(s.ep)return;s.ep=!0;const E=e(s);fetch(s.href,E)}})();export{ze as _,Ye as a,We as c,qe as d,xe as e,Ze as l,Re as p,se as s,ke as u};
