import{V as D,c as h,t as E,b as F,r as g,s as q,w as de,o as $,n as Fe,e as Ae,h as Ie}from"./vue.runtime.esm-nXYIs6vL.chunk.mjs";import{N as U,e as G,n as C,t as b,s as Y,i as pe,f as I}from"./NcNoteCard-CwNXZ4vV-Dff94GWm.chunk.mjs";import{v as Be,I as Pe,b as j,s as ze,f as $e}from"./index-DGWaRAPl.chunk.mjs";import{N as fe}from"./NcCheckboxRadioSwitch-CgbTELjq-C7Y7tXRC.chunk.mjs";import{l as he}from"./index-D3wiQe9-.chunk.mjs";import{g as K}from"./index-DCzdQJ7L.chunk.mjs";import{n as V,c as me,N as ve}from"./NcLoadingIcon-CR2lMUNM.chunk.mjs";import{o as Ve,q as He,r as De,s as Me,t as Ee,v as Te,w as Oe,x as Re,y as je,z as We,A as Ze,B as qe,D as Ue,G as Ge}from"./TocContainer-1d4LWujt.chunk.mjs";import{u as Ye,s as Ke,p as Je,e as Qe,g as Xe}from"./index-CdM8BgQf.chunk.mjs";import{g as et,c as tt,d as J,b as B,C as ge,e as it,f as Q,h as ye,P as te}from"./dav-Rt1kTtvI-CV-qd1vO.chunk.mjs";import"./emoji-picker-hi3Hwbeu.chunk.mjs";import"./index-Bnw2WuIx.chunk.mjs";import"./logger-DS8A9d_w.chunk.mjs";import"./preload-helper-BorfeO-5.chunk.mjs";import"./MediaHandler.provider-bE4nrOxZ.chunk.mjs";const rt={name:"ChevronRightIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var nt=function(){var e=this,t=e._self._c;return t("span",e._b({staticClass:"material-design-icon chevron-right-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(i){return e.$emit("click",i)}}},"span",e.$attrs,!1),[t("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"}},[e.title?t("title",[e._v(e._s(e.title))]):e._e()])])])},st=[],at=V(rt,nt,st,!1,null,null);const ot=at.exports,lt={name:"NcBreadcrumb",components:{NcActions:G,ChevronRight:ot,NcButton:U},inheritAttrs:!1,props:{name:{type:String,required:!0},title:{type:String,default:null},to:{type:[String,Object],default:void 0},exact:{type:Boolean,default:!1},href:{type:String,default:void 0},icon:{type:String,default:""},forceIconText:{type:Boolean,default:!1},disableDrop:{type:Boolean,default:!1},forceMenu:{type:Boolean,default:!1},open:{type:Boolean,default:!1}},emits:["update:open","dropped"],setup(){const e=Ve();return{actionsContainer:`.vue-crumb[data-crumb-id="${e}"]`,crumbId:e}},data(){return{hovering:!1}},computed:{linkAttributes(){return this.to?{to:this.to,exact:this.exact,...this.$attrs}:this.href?{href:this.href,...this.$attrs}:this.$attrs}},methods:{onOpenChange(e){this.$emit("update:open",e)},dropped(e){return this.disableDrop||(this.$emit("dropped",e,this.to||this.href),this.$parent.$emit("dropped",e,this.to||this.href),this.hovering=!1),!1},dragEnter(){this.disableDrop||(this.hovering=!0)},dragLeave(e){this.disableDrop||e.target.contains(e.relatedTarget)||this.$refs.crumb.contains(e.relatedTarget)||(this.hovering=!1)}}};var ct=function(){var e=this,t=e._self._c;return t("li",{ref:"crumb",staticClass:"vue-crumb",class:{"vue-crumb--hovered":e.hovering},attrs:{"data-crumb-id":e.crumbId,draggable:"false"},on:{dragstart:function(i){return i.preventDefault(),(()=>{}).apply(null,arguments)},drop:function(i){return i.preventDefault(),e.dropped.apply(null,arguments)},dragover:function(i){return i.preventDefault(),(()=>{}).apply(null,arguments)},dragenter:e.dragEnter,dragleave:e.dragLeave}},[(e.name||e.icon||e.$slots.icon)&&!e.$slots.default?t("NcButton",e._g(e._b({attrs:{"aria-label":e.icon?e.name:void 0,title:e.title,variant:"tertiary"},scopedSlots:e._u([e.$slots.icon||e.icon?{key:"icon",fn:function(){return[e._t("icon",function(){return[t("span",{staticClass:"icon",class:e.icon})]})]},proxy:!0}:null,!(e.$slots.icon||e.icon)||e.forceIconText?{key:"default",fn:function(){return[e._v(" "+e._s(e.name)+" ")]},proxy:!0}:null],null,!0)},"NcButton",e.linkAttributes,!1),e.$listeners)):e._e(),e.$slots.default?t("NcActions",{ref:"actions",attrs:{"force-menu":e.forceMenu,open:e.open,"menu-name":e.name,title:e.title,"force-name":!0,container:e.actionsContainer,variant:"tertiary"},on:{"update:open":e.onOpenChange},scopedSlots:e._u([{key:"icon",fn:function(){return[e._t("menu-icon")]},proxy:!0}],null,!0)},[e._t("default")],2):e._e(),t("ChevronRight",{staticClass:"vue-crumb__separator",attrs:{size:20}})],1)},ut=[],dt=V(lt,ct,ut,!1,null,"bc2f0c21");const be=dt.exports;var R=Symbol(),P=Symbol(),ie=Symbol(),re=Symbol(),X=function(e){return"frag"in e},pt={get:function(){return this[P]||this.parentElement},configurable:!0},z=function(e,t){P in e||(e[P]=t,Object.defineProperty(e,"parentNode",pt))},ft={get:function(){var e=this.parentNode.childNodes,t=e.indexOf(this);return t>-1&&e[t+1]||null}},M=function(e){ie in e||(e[ie]=!0,Object.defineProperty(e,"nextSibling",ft))},ht=function(e,t){for(;e.parentNode!==t;){var i=e,n=i.parentNode;n&&(e=n)}return e},W,_e=function(e){if(!W){var t=Object.getOwnPropertyDescriptor(Node.prototype,"childNodes");W=t.get}var i=W.apply(e),n=Array.from(i).map((function(r){return ht(r,e)}));return n.filter((function(r,s){return r!==n[s-1]}))},mt={get:function(){return this.frag||_e(this)}},vt={get:function(){return this.childNodes[0]||null}};function gt(){return this.childNodes.length>0}var ne=function(e){re in e||(e[re]=!0,Object.defineProperties(e,{childNodes:mt,firstChild:vt}),e.hasChildNodes=gt)};function yt(){var e;(e=this.frag[0]).before.apply(e,arguments)}function bt(){var e=this.frag,t=e.splice(0,e.length);t.forEach((function(i){i.remove()}))}var _t=function e(t){var i;return(i=Array.prototype).concat.apply(i,t.map((function(n){return X(n)?e(n.frag):n})))},wt=function(e,t){var i=e[R];t.before(i),z(i,e),e.frag.unshift(i)};function se(e){if(X(this)){var t=this.frag.indexOf(e);if(t>-1){var i=this.frag.splice(t,1),n=i[0];this.frag.length===0&&wt(this,n),e.remove()}}else{var r=_e(this),s=r.indexOf(e);s>-1&&e.remove()}return e}function ae(e,t){var i=this,n=e.frag||[e];if(X(this)){if(e[P]===this&&e.parentElement)return e;var r=this.frag;if(t){var s=r.indexOf(t);s>-1&&(r.splice.apply(r,[s,0].concat(n)),t.before.apply(t,n))}else{var a=r[r.length-1];r.push.apply(r,n),a.after.apply(a,n)}we(this)}else t?this.childNodes.includes(t)&&t.before.apply(t,n):this.append.apply(this,n);n.forEach((function(c){z(c,i)}));var o=n[n.length-1];return M(o),e}function Ct(e){if(e[P]===this&&e.parentElement)return e;var t=this.frag,i=t[t.length-1];return i.after(e),z(e,this),we(this),t.push(e),e}var we=function(e){var t=e[R];e.frag[0]===t&&(e.frag.shift(),t.remove())},kt={set:function(e){var t=this;if(this.frag[0]!==this[R]&&this.frag.slice().forEach((function(n){return t.removeChild(n)})),e){var i=document.createElement("div");i.innerHTML=e,Array.from(i.childNodes).forEach((function(n){t.appendChild(n)}))}},get:function(){return""}},St={inserted:function(e){var t=e.parentNode,i=e.nextSibling,n=e.previousSibling,r=Array.from(e.childNodes),s=document.createComment("");r.length===0&&r.push(s),e.frag=r,e[R]=s;var a=document.createDocumentFragment();a.append.apply(a,_t(r)),e.replaceWith(a),r.forEach((function(o){z(o,e),M(o)})),ne(e),Object.assign(e,{remove:bt,appendChild:Ct,insertBefore:ae,removeChild:se,before:yt}),Object.defineProperty(e,"innerHTML",kt),t&&(Object.assign(t,{removeChild:se,insertBefore:ae}),z(e,t),ne(t)),i&&M(e),n&&M(n)},unbind:function(e){e.remove()}},Ce={name:"Fragment",directives:{frag:St},render:function(e){return e("div",{directives:[{name:"frag"}]},this.$slots.default)}};const Nt={name:"FolderIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var xt=function(){var e=this,t=e._self._c;return t("span",e._b({staticClass:"material-design-icon folder-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(i){return e.$emit("click",i)}}},"span",e.$attrs,!1),[t("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z"}},[e.title?t("title",[e._v(e._s(e.title))]):e._e()])])])},Lt=[],Ft=V(Nt,xt,Lt,!1,null,null);const At=Ft.exports;function oe(e,t,i){if(e!==void 0)for(let n=e.length-1;n>=0;n--){const r=e[n],s=!r.componentOptions&&r.tag&&t.indexOf(r.tag)===-1,a=!!r.componentOptions&&typeof r.componentOptions.tag=="string",o=a&&t.indexOf(r.componentOptions.tag)===-1;(s||!a||o)&&((s||o)&&D.util.warn(`${s?r.tag:r.componentOptions.tag} is not allowed inside the ${i.$options.name} component`,i),e.splice(n,1))}}const w="vue-crumb",It={name:"NcBreadcrumbs",components:{NcActions:G,NcActionButton:Me,NcActionRouter:De,NcActionLink:He,NcBreadcrumb:be,IconFolder:At},props:{rootIcon:{type:String,default:"icon-home"},ariaLabel:{type:String,default:null}},emits:["dropped"],data(){return{hiddenIndices:[],menuBreadcrumbProps:{name:"",forceMenu:!0,disableDrop:!0,open:!1},breadcrumbsRefs:{}}},beforeMount(){oe(this.$slots.default,["NcBreadcrumb"],this)},beforeUpdate(){oe(this.$slots.default,["NcBreadcrumb"],this)},created(){window.addEventListener("resize",Ee(()=>{this.handleWindowResize()},100)),Ke("navigation-toggled",this.delayedResize)},mounted(){this.handleWindowResize()},updated(){this.delayedResize(),this.$nextTick(()=>{this.hideCrumbs()})},beforeDestroy(){window.removeEventListener("resize",this.handleWindowResize),Ye("navigation-toggled",this.delayedResize)},methods:{closeActions(e){this.$refs.actionsBreadcrumb.$el.contains(e.relatedTarget)||(this.menuBreadcrumbProps.open=!1)},async delayedResize(){await this.$nextTick(),this.handleWindowResize()},handleWindowResize(){if(!this.$refs.container)return;const e=Object.values(this.breadcrumbsRefs),t=e.length,i=[],n=this.$refs.container.offsetWidth;let r=this.getTotalWidth(e);this.$refs.breadcrumb__actions&&(r+=this.$refs.breadcrumb__actions.offsetWidth);let s=r-n;s+=s>0?64:0;let a=0;const o=Math.floor(t/2);for(;s>0&&a<t-2;){const c=o+(a%2?a+1:a)/2*Math.pow(-1,a+t%2);s-=this.getWidth(e[c]?.elm,c===e.length-1),i.push(c),a++}this.arraysEqual(this.hiddenIndices,i.sort((c,l)=>c-l))||(this.hiddenIndices=i)},arraysEqual(e,t){if(e.length!==t.length)return!1;if(e===t)return!0;if(e===null||t===null)return!1;for(let i=0;i<e.length;++i)if(e[i]!==t[i])return!1;return!0},getTotalWidth(e){return e.reduce((t,i,n)=>t+this.getWidth(i?.elm,n===e.length-1),0)},getWidth(e,t){if(!e?.classList)return 0;const i=e.classList.contains(`${w}--hidden`);e.style.minWidth="auto",t&&(e.style.maxWidth="210px"),e.classList.remove(`${w}--hidden`);const n=e.offsetWidth;return i&&e.classList.add(`${w}--hidden`),e.style.minWidth="",e.style.maxWidth="",n},preventDefault(e){return e.preventDefault&&e.preventDefault(),!1},dragStart(e){return this.preventDefault(e)},dropped(e,t,i){return i||this.$emit("dropped",e,t),this.menuBreadcrumbProps.open=!1,document.querySelectorAll(`.${w}`).forEach(n=>{n.classList.remove(`${w}--hovered`)}),this.preventDefault(e)},dragOver(e){return this.preventDefault(e)},dragEnter(e,t){if(!t&&e.target.closest){const i=e.target.closest(`.${w}`);i.classList&&i.classList.contains(w)&&(document.querySelectorAll(`.${w}`).forEach(n=>{n.classList.remove(`${w}--hovered`)}),i.classList.add(`${w}--hovered`))}},dragLeave(e,t){if(!t&&!e.target.contains(e.relatedTarget)&&e.target.closest){const i=e.target.closest(`.${w}`);if(i.contains(e.relatedTarget))return;i.classList&&i.classList.contains(w)&&i.classList.remove(`${w}--hovered`)}},hideCrumbs(){Object.values(this.breadcrumbsRefs).forEach((e,t)=>{e?.elm?.classList&&(this.hiddenIndices.includes(t)?e.elm.classList.add(`${w}--hidden`):e.elm.classList.remove(`${w}--hidden`))})},isBreadcrumb(e){return(e?.componentOptions?.tag||e?.tag||"").includes("NcBreadcrumb")}},render(e){const t=[];if(this.$slots.default.forEach(s=>{if(this.isBreadcrumb(s)){t.push(s);return}s?.type===Ce&&s?.children?.forEach?.(a=>{this.isBreadcrumb(a)&&t.push(a)})}),t.length===0)return;D.set(t[0].componentOptions.propsData,"icon",this.rootIcon),D.set(t[0].componentOptions.propsData,"ref","breadcrumbs");const i={};t.forEach((s,a)=>{D.set(s,"ref",`crumb-${a}`),i[a]=s});let n=[];if(!this.hiddenIndices.length)n=t;else{n=t.slice(0,Math.round(t.length/2)),n.push(e("NcBreadcrumb",{class:"dropdown",props:this.menuBreadcrumbProps,attrs:{"aria-hidden":!0},ref:"actionsBreadcrumb",key:"actions-breadcrumb-1",nativeOn:{dragstart:this.dragStart,dragenter:()=>{this.menuBreadcrumbProps.open=!0},dragleave:this.closeActions},on:{"update:open":a=>{this.menuBreadcrumbProps.open=a}}},this.hiddenIndices.filter(a=>a<=t.length-1).map(a=>{const o=t[a],c=o.componentOptions.propsData.to,l=o.componentOptions.propsData.href,d=o.componentOptions.propsData.disableDrop,u=o.componentOptions.propsData.title,f=o.componentOptions.propsData.name;let m="NcActionButton",p="";l&&(m="NcActionLink",p=l),c&&(m="NcActionRouter",p=c);const S=e("IconFolder",{props:{size:20},slot:"icon"});return e(m,{class:w,props:{href:l||null,title:u,to:c||null},attrs:{draggable:!1},on:{...o.componentOptions.listeners},nativeOn:{dragstart:this.dragStart,drop:k=>this.dropped(k,p,d),dragover:this.dragOver,dragenter:k=>this.dragEnter(k,d),dragleave:k=>this.dragLeave(k,d)}},[S,f])})));const s=t.slice(Math.round(t.length/2));n=n.concat(s)}const r=[e("nav",{attrs:{"aria-label":this.ariaLabel}},[e("ul",{class:"breadcrumb__crumbs"},[n])])];return this.$slots.actions&&r.push(e("div",{class:"breadcrumb__actions",ref:"breadcrumb__actions"},this.$slots.actions)),this.breadcrumbsRefs=i,e("div",{class:["breadcrumb",{"breadcrumb--collapsed":this.hiddenIndices.length===t.length-2}],ref:"container"},r)}},Bt=null,Pt=null;var zt=V(It,Bt,Pt,!1,null,"daf14f2f");const $t=zt.exports,Vt={name:"NcDateTime",props:{timestamp:{type:[Date,Number],required:!0},format:{type:Object,default:()=>({timeStyle:"medium",dateStyle:"short"})},relativeTime:{type:[Boolean,String],default:"long",validator:e=>e===!1||["long","short","narrow"].includes(e)},ignoreSeconds:{type:Boolean,default:!1}},setup(e){const t=h(()=>({format:e.format})),i=h(()=>({ignoreSeconds:e.ignoreSeconds,relativeTime:e.relativeTime||"long",update:e.relativeTime!==!1})),n=Te(E(e,"timestamp"),t),r=Oe(E(e,"timestamp"),i);return{formattedTime:h(()=>e.relativeTime?r.value:n.value),title:n}}};var Ht=function(){var e=this,t=e._self._c;return t("span",{staticClass:"nc-datetime",attrs:{dir:"auto","data-timestamp":e.timestamp,title:e.title},domProps:{textContent:e._s(e.formattedTime)}})},Dt=[],Mt=V(Vt,Ht,Dt,!1,null,null);const Et=Mt.exports;var Tt="M12,5A3.5,3.5 0 0,0 8.5,8.5A3.5,3.5 0 0,0 12,12A3.5,3.5 0 0,0 15.5,8.5A3.5,3.5 0 0,0 12,5M12,7A1.5,1.5 0 0,1 13.5,8.5A1.5,1.5 0 0,1 12,10A1.5,1.5 0 0,1 10.5,8.5A1.5,1.5 0 0,1 12,7M5.5,8A2.5,2.5 0 0,0 3,10.5C3,11.44 3.53,12.25 4.29,12.68C4.65,12.88 5.06,13 5.5,13C5.94,13 6.35,12.88 6.71,12.68C7.08,12.47 7.39,12.17 7.62,11.81C6.89,10.86 6.5,9.7 6.5,8.5C6.5,8.41 6.5,8.31 6.5,8.22C6.2,8.08 5.86,8 5.5,8M18.5,8C18.14,8 17.8,8.08 17.5,8.22C17.5,8.31 17.5,8.41 17.5,8.5C17.5,9.7 17.11,10.86 16.38,11.81C16.5,12 16.63,12.15 16.78,12.3C16.94,12.45 17.1,12.58 17.29,12.68C17.65,12.88 18.06,13 18.5,13C18.94,13 19.35,12.88 19.71,12.68C20.47,12.25 21,11.44 21,10.5A2.5,2.5 0 0,0 18.5,8M12,14C9.66,14 5,15.17 5,17.5V19H19V17.5C19,15.17 14.34,14 12,14M4.71,14.55C2.78,14.78 0,15.76 0,17.5V19H3V17.07C3,16.06 3.69,15.22 4.71,14.55M19.29,14.55C20.31,15.22 21,16.06 21,17.07V19H24V17.5C24,15.76 21.22,14.78 19.29,14.55M12,16C13.53,16 15.24,16.5 16.23,17H7.77C8.76,16.5 10.47,16 12,16Z",le="M15,14C12.33,14 7,15.33 7,18V20H23V18C23,15.33 17.67,14 15,14M6,10V7H4V10H1V12H4V15H6V12H9V10M15,12A4,4 0 0,0 19,8A4,4 0 0,0 15,4A4,4 0 0,0 11,8A4,4 0 0,0 15,12Z",Ot="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M16.2,16.2L11,13V7H12.5V12.2L17,14.9L16.2,16.2Z",Rt="M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z",jt="M7 14C5.9 14 5 13.1 5 12S5.9 10 7 10 9 10.9 9 12 8.1 14 7 14M12.6 10C11.8 7.7 9.6 6 7 6C3.7 6 1 8.7 1 12S3.7 18 7 18C9.6 18 11.8 16.3 12.6 14H16V18H20V14H23V10H12.6Z",Wt="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z",Zt="M15,20A1,1 0 0,0 14,19H13V17H17A2,2 0 0,0 19,15V5A2,2 0 0,0 17,3H7A2,2 0 0,0 5,5V15A2,2 0 0,0 7,17H11V19H10A1,1 0 0,0 9,20H2V22H9A1,1 0 0,0 10,23H14A1,1 0 0,0 15,22H22V20H15M7,15V5H17V15H7Z",qt="M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z",Ut="M21.41 11.58L12.41 2.58A2 2 0 0 0 11 2H4A2 2 0 0 0 2 4V11A2 2 0 0 0 2.59 12.42L11.59 21.42A2 2 0 0 0 13 22A2 2 0 0 0 14.41 21.41L21.41 14.41A2 2 0 0 0 22 13A2 2 0 0 0 21.41 11.58M13 20L4 11V4H11L20 13M6.5 5A1.5 1.5 0 1 1 5 6.5A1.5 1.5 0 0 1 6.5 5Z",T;(function(e){e[e.User=0]="User",e[e.Group=1]="Group",e[e.Link=3]="Link",e[e.Email=4]="Email",e[e.Remote=6]="Remote",e[e.Team=7]="Team",e[e.Guest=8]="Guest",e[e.RemoteGroup=9]="RemoteGroup",e[e.Room=10]="Room",e[e.Deck=12]="Deck",e[e.FederatedGroup=14]="FederatedGroup",e[e.ScienceMesh=15]="ScienceMesh"})(T||(T={}));class ee extends Error{name="TimeoutError";constructor(t,i){super(t,i),Error.captureStackTrace?.(this,ee)}}const ce=e=>e.reason??new DOMException("This operation was aborted.","AbortError");function Gt(e,t){const{milliseconds:i,fallback:n,message:r,customTimers:s={setTimeout,clearTimeout},signal:a}=t;let o,c;const l=new Promise((d,u)=>{if(typeof i!="number"||Math.sign(i)!==1)throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${i}\``);if(a?.aborted){u(ce(a));return}if(a&&(c=()=>{u(ce(a))},a.addEventListener("abort",c,{once:!0})),e.then(d,u),i===Number.POSITIVE_INFINITY)return;const f=new ee;o=s.setTimeout.call(void 0,()=>{if(n){try{d(n())}catch(m){u(m)}return}typeof e.cancel=="function"&&e.cancel(),r===!1?d():r instanceof Error?u(r):(f.message=r??`Promise timed out after ${i} milliseconds`,u(f))},i)}).finally(()=>{l.clear(),c&&a&&a.removeEventListener("abort",c)});return l.clear=()=>{s.clearTimeout.call(void 0,o),o=void 0},l}function Yt(e,t,i){let n=0,r=e.length;for(;r>0;){const s=Math.trunc(r/2);let a=n+s;i(e[a],t)<=0?(n=++a,r-=s+1):r=s}return n}class Kt{#t=[];enqueue(t,i){const{priority:n=0,id:r}=i??{},s={priority:n,id:r,run:t};if(this.size===0||this.#t[this.size-1].priority>=n){this.#t.push(s);return}const a=Yt(this.#t,s,(o,c)=>c.priority-o.priority);this.#t.splice(a,0,s)}setPriority(t,i){const n=this.#t.findIndex(s=>s.id===t);if(n===-1)throw new ReferenceError(`No promise function with the id "${t}" exists in the queue.`);const[r]=this.#t.splice(n,1);this.enqueue(r.run,{priority:i,id:t})}dequeue(){return this.#t.shift()?.run}filter(t){return this.#t.filter(i=>i.priority===t.priority).map(i=>i.run)}get size(){return this.#t.length}}class Jt extends Re{#t;#r;#n=0;#f;#h=!1;#m=!1;#c;#b=0;#v=0;#s;#a;#e;#_;#i=0;#u;#o;#x=1n;#d=new Map;timeout;constructor(t){if(super(),t={carryoverIntervalCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:Kt,...t},!(typeof t.intervalCap=="number"&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${t.intervalCap?.toString()??""}\` (${typeof t.intervalCap})`);if(t.interval===void 0||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${t.interval?.toString()??""}\` (${typeof t.interval})`);if(this.#t=t.carryoverIntervalCount??t.carryoverConcurrencyCount??!1,this.#r=t.intervalCap===Number.POSITIVE_INFINITY||t.interval===0,this.#f=t.intervalCap,this.#c=t.interval,this.#e=new t.queueClass,this.#_=t.queueClass,this.concurrency=t.concurrency,t.timeout!==void 0&&!(Number.isFinite(t.timeout)&&t.timeout>0))throw new TypeError(`Expected \`timeout\` to be a positive finite number, got \`${t.timeout}\` (${typeof t.timeout})`);this.timeout=t.timeout,this.#o=t.autoStart===!1,this.#z()}get#L(){return this.#r||this.#n<this.#f}get#F(){return this.#i<this.#u}#A(){this.#i--,this.#i===0&&this.emit("pendingZero"),this.#g(),this.emit("next")}#I(){this.#S(),this.#k(),this.#a=void 0}get#B(){const t=Date.now();if(this.#s===void 0){const i=this.#b-t;if(i<0){if(this.#v>0){const n=t-this.#v;if(n<this.#c)return this.#w(this.#c-n),!0}this.#n=this.#t?this.#i:0}else return this.#w(i),!0}return!1}#w(t){this.#a===void 0&&(this.#a=setTimeout(()=>{this.#I()},t))}#C(){this.#s&&(clearInterval(this.#s),this.#s=void 0)}#P(){this.#a&&(clearTimeout(this.#a),this.#a=void 0)}#g(){if(this.#e.size===0)return this.#C(),this.emit("empty"),this.#i===0&&(this.#P(),this.emit("idle")),!1;let t=!1;if(!this.#o){const i=!this.#B;if(this.#L&&this.#F){const n=this.#e.dequeue();this.#r||(this.#n++,this.#p()),this.emit("active"),this.#v=Date.now(),n(),i&&this.#k(),t=!0}}return t}#k(){this.#r||this.#s!==void 0||(this.#s=setInterval(()=>{this.#S()},this.#c),this.#b=Date.now()+this.#c)}#S(){this.#n===0&&this.#i===0&&this.#s&&this.#C(),this.#n=this.#t?this.#i:0,this.#y(),this.#p()}#y(){for(;this.#g(););}get concurrency(){return this.#u}set concurrency(t){if(!(typeof t=="number"&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);this.#u=t,this.#y()}setPriority(t,i){if(typeof i!="number"||!Number.isFinite(i))throw new TypeError(`Expected \`priority\` to be a finite number, got \`${i}\` (${typeof i})`);this.#e.setPriority(t,i)}async add(t,i={}){return i.id??=(this.#x++).toString(),i={timeout:this.timeout,...i},new Promise((n,r)=>{const s=Symbol(`task-${i.id}`);this.#e.enqueue(async()=>{this.#i++,this.#d.set(s,{id:i.id,priority:i.priority??0,startTime:Date.now(),timeout:i.timeout});let a;try{try{i.signal?.throwIfAborted()}catch(l){throw this.#r||this.#n--,this.#d.delete(s),l}let o=t({signal:i.signal});if(i.timeout&&(o=Gt(Promise.resolve(o),{milliseconds:i.timeout,message:`Task timed out after ${i.timeout}ms (queue has ${this.#i} running, ${this.#e.size} waiting)`})),i.signal){const{signal:l}=i;o=Promise.race([o,new Promise((d,u)=>{a=()=>{u(l.reason)},l.addEventListener("abort",a,{once:!0})})])}const c=await o;n(c),this.emit("completed",c)}catch(o){r(o),this.emit("error",o)}finally{a&&i.signal?.removeEventListener("abort",a),this.#d.delete(s),queueMicrotask(()=>{this.#A()})}},i),this.emit("add"),this.#g()})}async addAll(t,i){return Promise.all(t.map(async n=>this.add(n,i)))}start(){return this.#o?(this.#o=!1,this.#y(),this):this}pause(){this.#o=!0}clear(){this.#e=new this.#_,this.#N()}async onEmpty(){this.#e.size!==0&&await this.#l("empty")}async onSizeLessThan(t){this.#e.size<t||await this.#l("next",()=>this.#e.size<t)}async onIdle(){this.#i===0&&this.#e.size===0||await this.#l("idle")}async onPendingZero(){this.#i!==0&&await this.#l("pendingZero")}async onRateLimit(){this.isRateLimited||await this.#l("rateLimit")}async onRateLimitCleared(){this.isRateLimited&&await this.#l("rateLimitCleared")}async onError(){return new Promise((t,i)=>{const n=r=>{this.off("error",n),i(r)};this.on("error",n)})}async#l(t,i){return new Promise(n=>{const r=()=>{i&&!i()||(this.off(t,r),n())};this.on(t,r)})}get size(){return this.#e.size}sizeBy(t){return this.#e.filter(t).length}get pending(){return this.#i}get isPaused(){return this.#o}#z(){this.#r||(this.on("add",()=>{this.#e.size>0&&this.#p()}),this.on("next",()=>{this.#p()}))}#p(){this.#r||this.#m||(this.#m=!0,queueMicrotask(()=>{this.#m=!1,this.#N()}))}#N(){const t=this.#h,i=!this.#r&&this.#n>=this.#f&&this.#e.size>0;i!==t&&(this.#h=i,this.emit(i?"rateLimit":"rateLimitCleared"))}get isRateLimited(){return this.#h}get isSaturated(){return this.#i===this.#u&&this.#e.size>0||this.isRateLimited&&this.#e.size>0}get runningTasks(){return[...this.#d.values()].map(t=>({...t}))}}var Z,ue;function Qt(){if(ue)return Z;ue=1;function e(r){if(typeof r!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(r))}function t(r,s){for(var a="",o=0,c=-1,l=0,d,u=0;u<=r.length;++u){if(u<r.length)d=r.charCodeAt(u);else{if(d===47)break;d=47}if(d===47){if(!(c===u-1||l===1))if(c!==u-1&&l===2){if(a.length<2||o!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var f=a.lastIndexOf("/");if(f!==a.length-1){f===-1?(a="",o=0):(a=a.slice(0,f),o=a.length-1-a.lastIndexOf("/")),c=u,l=0;continue}}else if(a.length===2||a.length===1){a="",o=0,c=u,l=0;continue}}s&&(a.length>0?a+="/..":a="..",o=2)}else a.length>0?a+="/"+r.slice(c+1,u):a=r.slice(c+1,u),o=u-c-1;c=u,l=0}else d===46&&l!==-1?++l:l=-1}return a}function i(r,s){var a=s.dir||s.root,o=s.base||(s.name||"")+(s.ext||"");return a?a===s.root?a+o:a+r+o:o}var n={resolve:function(){for(var r="",s=!1,a,o=arguments.length-1;o>=-1&&!s;o--){var c;o>=0?c=arguments[o]:(a===void 0&&(a=Je.cwd()),c=a),e(c),c.length!==0&&(r=c+"/"+r,s=c.charCodeAt(0)===47)}return r=t(r,!s),s?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(r){if(e(r),r.length===0)return".";var s=r.charCodeAt(0)===47,a=r.charCodeAt(r.length-1)===47;return r=t(r,!s),r.length===0&&!s&&(r="."),r.length>0&&a&&(r+="/"),s?"/"+r:r},isAbsolute:function(r){return e(r),r.length>0&&r.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var r,s=0;s<arguments.length;++s){var a=arguments[s];e(a),a.length>0&&(r===void 0?r=a:r+="/"+a)}return r===void 0?".":n.normalize(r)},relative:function(r,s){if(e(r),e(s),r===s||(r=n.resolve(r),s=n.resolve(s),r===s))return"";for(var a=1;a<r.length&&r.charCodeAt(a)===47;++a);for(var o=r.length,c=o-a,l=1;l<s.length&&s.charCodeAt(l)===47;++l);for(var d=s.length,u=d-l,f=c<u?c:u,m=-1,p=0;p<=f;++p){if(p===f){if(u>f){if(s.charCodeAt(l+p)===47)return s.slice(l+p+1);if(p===0)return s.slice(l+p)}else c>f&&(r.charCodeAt(a+p)===47?m=p:p===0&&(m=0));break}var S=r.charCodeAt(a+p),k=s.charCodeAt(l+p);if(S!==k)break;S===47&&(m=p)}var N="";for(p=a+m+1;p<=o;++p)(p===o||r.charCodeAt(p)===47)&&(N.length===0?N+="..":N+="/..");return N.length>0?N+s.slice(l+m):(l+=m,s.charCodeAt(l)===47&&++l,s.slice(l))},_makeLong:function(r){return r},dirname:function(r){if(e(r),r.length===0)return".";for(var s=r.charCodeAt(0),a=s===47,o=-1,c=!0,l=r.length-1;l>=1;--l)if(s=r.charCodeAt(l),s===47){if(!c){o=l;break}}else c=!1;return o===-1?a?"/":".":a&&o===1?"//":r.slice(0,o)},basename:function(r,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');e(r);var a=0,o=-1,c=!0,l;if(s!==void 0&&s.length>0&&s.length<=r.length){if(s.length===r.length&&s===r)return"";var d=s.length-1,u=-1;for(l=r.length-1;l>=0;--l){var f=r.charCodeAt(l);if(f===47){if(!c){a=l+1;break}}else u===-1&&(c=!1,u=l+1),d>=0&&(f===s.charCodeAt(d)?--d===-1&&(o=l):(d=-1,o=u))}return a===o?o=u:o===-1&&(o=r.length),r.slice(a,o)}else{for(l=r.length-1;l>=0;--l)if(r.charCodeAt(l)===47){if(!c){a=l+1;break}}else o===-1&&(c=!1,o=l+1);return o===-1?"":r.slice(a,o)}},extname:function(r){e(r);for(var s=-1,a=0,o=-1,c=!0,l=0,d=r.length-1;d>=0;--d){var u=r.charCodeAt(d);if(u===47){if(!c){a=d+1;break}continue}o===-1&&(c=!1,o=d+1),u===46?s===-1?s=d:l!==1&&(l=1):s!==-1&&(l=-1)}return s===-1||o===-1||l===0||l===1&&s===o-1&&s===a+1?"":r.slice(s,o)},format:function(r){if(r===null||typeof r!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof r);return i("/",r)},parse:function(r){e(r);var s={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return s;var a=r.charCodeAt(0),o=a===47,c;o?(s.root="/",c=1):c=0;for(var l=-1,d=0,u=-1,f=!0,m=r.length-1,p=0;m>=c;--m){if(a=r.charCodeAt(m),a===47){if(!f){d=m+1;break}continue}u===-1&&(f=!1,u=m+1),a===46?l===-1?l=m:p!==1&&(p=1):l!==-1&&(p=-1)}return l===-1||u===-1||p===0||p===1&&l===u-1&&l===d+1?u!==-1&&(d===0&&o?s.base=s.name=r.slice(1,u):s.base=s.name=r.slice(d,u)):(d===0&&o?(s.name=r.slice(1,l),s.base=r.slice(1,u)):(s.name=r.slice(d,l),s.base=r.slice(d,u)),s.ext=r.slice(l,u)),d>0?s.dir=r.slice(0,d-1):o&&(s.dir="/"),s},sep:"/",delimiter:":",win32:null,posix:null};return n.posix=n,Z=n,Z}var O=Qt();const Xt={name:"FileIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var ei=function(){var e=this,t=e._self._c;return t("span",e._b({staticClass:"material-design-icon file-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(i){return e.$emit("click",i)}}},"span",e.$attrs,!1),[t("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M13,9V3.5L18.5,9M6,2C4.89,2 4,2.89 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6Z"}},[e.title?t("title",[e._v(e._s(e.title))]):e._e()])])])},ti=[],ii=C(Xt,ei,ti,!1,null,null);const ke=ii.exports,Se=()=>{const e=he("files","config",null),t=g(e?.show_hidden??!0),i=g(e?.sort_favorites_first??!0),n=g(e?.crop_image_previews??!0);return $(async()=>{if(pe())console.debug("Skip loading files settings - currently on public share");else try{const{data:r}=await me.get(K("/apps/files/api/v1/configs"));t.value=r?.data?.show_hidden??!1,i.value=r?.data?.sort_favorites_first??!0,n.value=r?.data?.crop_image_previews??!0}catch(r){console.error("Could not load files settings",r),Y(b("Could not load files settings"))}}),{showHiddenFiles:t,sortFavoritesFirst:i,cropImagePreviews:n}},ri=e=>{const t=l=>l==="asc"?"ascending":l==="desc"?"descending":"none",i=he("files","viewConfigs",null),n=g({sortBy:i?.files?.sorting_mode??"basename",order:t(i?.files?.sorting_direction??"asc")}),r=g({sortBy:i?.recent?.sorting_mode??"basename",order:t(i?.recent?.sorting_direction??"asc")}),s=g({sortBy:i?.favorites?.sorting_mode??"basename",order:t(i?.favorites?.sorting_direction??"asc")});$(async()=>{if(pe())console.debug("Skip loading files views - currently on public share");else try{const{data:l}=await me.get(K("/apps/files/api/v1/views"));n.value={sortBy:l?.data?.files?.sorting_mode??"basename",order:t(l?.data?.files?.sorting_direction)},s.value={sortBy:l?.data?.favorites?.sorting_mode??"basename",order:t(l?.data?.favorites?.sorting_direction)},r.value={sortBy:l?.data?.recent?.sorting_mode??"basename",order:t(l?.data?.recent?.sorting_direction)}}catch(l){console.error("Could not load files views",l),Y(b("Could not load files views"))}});const a=h(()=>I(e||"files")==="files"?n.value:I(e)==="recent"?r.value:s.value),o=h(()=>a.value.sortBy),c=h(()=>a.value.order);return{filesViewConfig:n,favoritesViewConfig:s,recentViewConfig:r,currentConfig:a,sortBy:o,order:c}},ni={name:"MenuUpIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var si=function(){var e=this,t=e._self._c;return t("span",e._b({staticClass:"material-design-icon menu-up-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(i){return e.$emit("click",i)}}},"span",e.$attrs,!1),[t("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M7,15L12,10L17,15H7Z"}},[e.title?t("title",[e._v(e._s(e.title))]):e._e()])])])},ai=[],oi=C(ni,si,ai,!1,null,null);const li=oi.exports,ci={name:"MenuDownIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var ui=function(){var e=this,t=e._self._c;return t("span",e._b({staticClass:"material-design-icon menu-down-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(i){return e.$emit("click",i)}}},"span",e.$attrs,!1),[t("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M7,10L12,15L17,10H7Z"}},[e.title?t("title",[e._v(e._s(e.title))]):e._e()])])])},di=[],pi=C(ci,ui,di,!1,null,null);const fi=pi.exports,Ne={"file-picker__file-icon":"_file-picker__file-icon_3v9zx_9","file-picker__file-icon--primary":"_file-picker__file-icon--primary_3v9zx_21","file-picker__file-icon-overlay":"_file-picker__file-icon-overlay_3v9zx_25"},hi=F({__name:"LoadingTableRow",props:{showCheckbox:{type:Boolean}},setup(e){return{__sfc:!0,fileListIconStyles:Ne}}});var mi=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t("tr",{staticClass:"file-picker__row loading-row",attrs:{"aria-hidden":"true"}},[e.showCheckbox?t("td",{staticClass:"row-checkbox"},[t("span")]):e._e(),t("td",{staticClass:"row-name"},[t("div",{staticClass:"row-wrapper"},[t("span",{class:i.fileListIconStyles["file-picker__file-icon"]}),t("span")])]),e._m(0),e._m(1)])},vi=[function(){var e=this,t=e._self._c;return e._self._setupProxy,t("td",{staticClass:"row-size"},[t("span")])},function(){var e=this,t=e._self._c;return e._self._setupProxy,t("td",{staticClass:"row-modified"},[t("span")])}],gi=C(hi,mi,vi,!1,null,"15187afc");const yi=gi.exports,bi=new Jt({concurrency:5});function _i(e){const{resolve:t,promise:i}=Promise.withResolvers();return bi.add(()=>{const n=new Image;return n.onerror=()=>t(!1),n.onload=()=>t(!0),n.src=e,i}),i}function wi(e,t={}){t={size:32,cropPreview:!1,mimeFallback:!0,...t};try{const i=e.attributes?.previewUrl||K("/core/preview?fileId={fileid}",{fileid:e.fileid});let n;try{n=new URL(i)}catch{n=new URL(i,window.location.origin)}return n.searchParams.set("x",`${t.size}`),n.searchParams.set("y",`${t.size}`),n.searchParams.set("mimeFallback",`${t.mimeFallback}`),n.searchParams.set("a",t.cropPreview===!0?"0":"1"),n.searchParams.set("c",`${e.attributes.etag}`),n}catch{return null}}const Ci=(e,t)=>{const i=g(null),n=g(!1);return Ie(()=>{n.value=!1,i.value=wi(I(e),I(t||{})),i.value&&I(e).type===B.File&&_i(i.value.href).then(r=>{n.value=r})}),{previewURL:i,previewLoaded:n}},ki={name:"FolderIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var Si=function(){var e=this,t=e._self._c;return t("span",e._b({staticClass:"material-design-icon folder-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(i){return e.$emit("click",i)}}},"span",e.$attrs,!1),[t("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z"}},[e.title?t("title",[e._v(e._s(e.title))]):e._e()])])])},Ni=[],xi=C(ki,Si,Ni,!1,null,null);const xe=xi.exports,Li={name:"FilePreview"},Fi=F({...Li,props:{node:null,cropImagePreviews:{type:Boolean}},setup(e){const t=e,i=g(Ne),{previewURL:n,previewLoaded:r}=Ci(E(t,"node"),h(()=>({cropPreview:t.cropImagePreviews}))),s=h(()=>t.node.type===B.File),a=h(()=>{if(t.node.type!==B.Folder)return null;if(t.node.attributes?.["is-encrypted"]===1)return jt;if(t.node.attributes?.["is-tag"])return Ut;const o=Object.values(t.node.attributes?.["share-types"]||{}).flat();if(o.some(c=>c===T.Link||c===T.Email))return Wt;if(o.length>0)return le;switch(t.node.attributes?.["mount-type"]){case"external":case"external-session":return Zt;case"group":return Tt;case"shared":return le}return null});return{__sfc:!0,fileListIconStyles:i,props:t,previewURL:n,previewLoaded:r,isFile:s,folderDecorationIcon:a,NcIconSvgWrapper:ve,IconFile:ke,IconFolder:xe}}});var Ai=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t("div",{class:i.fileListIconStyles["file-picker__file-icon"],style:i.previewLoaded?{backgroundImage:`url(${i.previewURL})`}:void 0},[i.previewLoaded?e._e():[i.isFile?t(i.IconFile,{attrs:{size:32}}):[i.folderDecorationIcon?t(i.NcIconSvgWrapper,{class:i.fileListIconStyles["file-picker__file-icon-overlay"],attrs:{inline:"",path:i.folderDecorationIcon,size:16}}):e._e(),t(i.IconFolder,{class:i.fileListIconStyles["file-picker__file-icon--primary"],attrs:{size:32}})]]],2)},Ii=[],Bi=C(Fi,Ai,Ii,!1,null,null);const Pi=Bi.exports,zi=F({__name:"FileListRow",props:{allowPickDirectory:{type:Boolean},selected:{type:Boolean},showCheckbox:{type:Boolean},canPick:{type:Boolean},node:null,cropImagePreviews:{type:Boolean}},emits:["update:selected","enter-directory"],setup(e,{emit:t}){const i=e,n=h(()=>Ge(i.node.displayname)),r=h(()=>i.node.displayname.slice(0,n.value?-n.value.length:void 0)),s=h(()=>i.node.type===B.Folder),a=h(()=>i.canPick&&(i.allowPickDirectory||!s.value)),o=h(()=>(i.node.permissions&te.READ)===te.READ);function c(){a.value&&t("update:selected",!i.selected)}function l(){s.value?o.value&&t("enter-directory",i.node):c()}function d(u){u.key==="Enter"&&l()}return{__sfc:!0,props:i,emit:t,fileExtension:n,displayName:r,isDirectory:s,isPickable:a,isNavigatable:o,toggleSelected:c,handleClick:l,handleKeyDown:d,formatFileSize:$e,NcCheckboxRadioSwitch:fe,NcDateTime:Et,t:b,FilePreview:Pi}}});var $i=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t("tr",e._g({class:["file-picker__row",{"file-picker__row--selected":e.selected&&!e.showCheckbox,"file-picker__row--not-navigatable":i.isDirectory&&!i.isNavigatable,"file-picker__row--not-pickable":!i.isPickable}],attrs:{tabindex:e.showCheckbox&&!i.isDirectory?void 0:0,"aria-selected":i.isPickable?e.selected:void 0,"data-filename":e.node.basename,"data-testid":"file-list-row"}},{click:i.handleClick,...!e.showCheckbox||i.isDirectory?{keydown:i.handleKeyDown}:{}}),[e.showCheckbox?t("td",{staticClass:"row-checkbox",on:{click:function(n){return n.stopPropagation(),(()=>{}).apply(null,arguments)}}},[t(i.NcCheckboxRadioSwitch,{attrs:{"aria-label":i.t("Select the row for {nodename}",{nodename:i.displayName}),disabled:!i.isPickable,"data-testid":"row-checkbox","model-value":e.selected},on:{"update:model-value":i.toggleSelected}})],1):e._e(),t("td",{staticClass:"row-name"},[t("div",{staticClass:"file-picker__name-container",attrs:{"data-testid":"row-name"}},[t(i.FilePreview,{attrs:{node:e.node,"crop-image-previews":e.cropImagePreviews}}),t("div",{staticClass:"file-picker__file-name",attrs:{title:i.displayName},domProps:{textContent:e._s(i.displayName)}}),t("div",{staticClass:"file-picker__file-extension",domProps:{textContent:e._s(i.fileExtension)}})],1)]),t("td",{staticClass:"row-size"},[e._v(" "+e._s(i.formatFileSize(e.node.size||0))+" ")]),t("td",{staticClass:"row-modified"},[t(i.NcDateTime,{attrs:{timestamp:e.node.mtime,"ignore-seconds":!0}})],1)])},Vi=[],Hi=C(zi,$i,Vi,!1,null,"82f380c9");const Di=Hi.exports,Mi=F({__name:"FileList",props:{currentView:null,multiselect:{type:Boolean},allowPickDirectory:{type:Boolean},loading:{type:Boolean},files:null,canPick:null,selectedFiles:null,path:null},emits:["update:path","update:selectedFiles"],setup(e,{emit:t}){const i=e,n=g(),{currentConfig:r}=ri(i.currentView),s=h(()=>n.value??r.value),a=h(()=>s.value.sortBy==="basename"?s.value.order==="none"?void 0:s.value.order:void 0),o=h(()=>s.value.sortBy==="size"?s.value.order==="none"?void 0:s.value.order:void 0),c=h(()=>s.value.sortBy==="mtime"?s.value.order==="none"?void 0:s.value.order:void 0),l=_=>{s.value.sortBy===_?s.value.order==="ascending"?n.value={sortBy:s.value.sortBy,order:"descending"}:n.value={sortBy:s.value.sortBy,order:"ascending"}:n.value={sortBy:_,order:"ascending"}},{sortFavoritesFirst:d,cropImagePreviews:u}=Se(),f=h(()=>ze(i.files,{sortFoldersFirst:!0,sortFavoritesFirst:d.value,sortingOrder:s.value.order==="descending"?"desc":"asc",sortingMode:s.value.sortBy})),m=h(()=>i.files.filter(_=>i.allowPickDirectory||_.type!==B.Folder)),p=h(()=>!i.loading&&i.selectedFiles.length>0&&i.selectedFiles.length>=m.value.length);function S(){i.selectedFiles.length<m.value.length?t("update:selectedFiles",m.value):t("update:selectedFiles",[])}function k(_){i.selectedFiles.includes(_)?t("update:selectedFiles",i.selectedFiles.filter(L=>L.path!==_.path)):i.multiselect?t("update:selectedFiles",[...i.selectedFiles,_]):t("update:selectedFiles",[_])}function N(_){t("update:path",_.path)}const A=g(4),x=g();{const _=()=>Fe(()=>{const L=x.value?.parentElement?.children||[];let H=x.value?.parentElement?.clientHeight||450;for(let v=0;v<L.length;v++)x.value?.isSameNode(L[v])||(H-=L[v].clientHeight);A.value=Math.max(1,Math.floor((H-50)/50))});$(()=>{window.addEventListener("resize",_),_()}),Ae(()=>{window.removeEventListener("resize",_)})}return{__sfc:!0,props:i,emit:t,customSortingConfig:n,filesAppSorting:r,sortingConfig:s,sortByName:a,sortBySize:o,sortByModified:c,toggleSorting:l,sortFavoritesFirst:d,cropImagePreviews:u,sortedFiles:f,selectableFiles:m,allSelected:p,onSelectAll:S,onNodeSelected:k,onChangeDirectory:N,skeletonNumber:A,fileContainer:x,NcButton:U,NcCheckboxRadioSwitch:fe,t:b,IconSortAscending:li,IconSortDescending:fi,LoadingTableRow:yi,FileListRow:Di}}});var Ei=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t("div",{ref:"fileContainer",staticClass:"file-picker__files"},[t("table",[t("thead",[t("tr",[e.multiselect?t("th",{staticClass:"row-checkbox"},[t("span",{staticClass:"hidden-visually"},[e._v(" "+e._s(i.t("Select entry"))+" ")]),e.multiselect?t(i.NcCheckboxRadioSwitch,{attrs:{"aria-label":i.t("Select all entries"),"data-testid":"select-all-checkbox","model-value":i.allSelected},on:{"update:model-value":i.onSelectAll}}):e._e()],1):e._e(),t("th",{staticClass:"row-name",attrs:{"aria-sort":i.sortByName}},[t("div",{staticClass:"header-wrapper"},[t("span",{staticClass:"file-picker__header-preview"}),t(i.NcButton,{attrs:{wide:!0,type:"tertiary","data-test":"file-picker_sort-name"},on:{click:function(n){return i.toggleSorting("basename")}},scopedSlots:e._u([{key:"icon",fn:function(){return[i.sortByName==="ascending"?t(i.IconSortAscending,{attrs:{size:20}}):i.sortByName==="descending"?t(i.IconSortDescending,{attrs:{size:20}}):t("span",{staticStyle:{width:"44px"}})]},proxy:!0}])},[e._v(" "+e._s(i.t("Name"))+" ")])],1)]),t("th",{staticClass:"row-size",attrs:{"aria-sort":i.sortBySize}},[t(i.NcButton,{attrs:{wide:!0,type:"tertiary"},on:{click:function(n){return i.toggleSorting("size")}},scopedSlots:e._u([{key:"icon",fn:function(){return[i.sortBySize==="ascending"?t(i.IconSortAscending,{attrs:{size:20}}):i.sortBySize==="descending"?t(i.IconSortDescending,{attrs:{size:20}}):t("span",{staticStyle:{width:"44px"}})]},proxy:!0}])},[e._v(" "+e._s(i.t("Size"))+" ")])],1),t("th",{staticClass:"row-modified",attrs:{"aria-sort":i.sortByModified}},[t(i.NcButton,{attrs:{wide:!0,type:"tertiary"},on:{click:function(n){return i.toggleSorting("mtime")}},scopedSlots:e._u([{key:"icon",fn:function(){return[i.sortByModified==="ascending"?t(i.IconSortAscending,{attrs:{size:20}}):i.sortByModified==="descending"?t(i.IconSortDescending,{attrs:{size:20}}):t("span",{staticStyle:{width:"44px"}})]},proxy:!0}])},[e._v(" "+e._s(i.t("Modified"))+" ")])],1)])]),t("tbody",[e.loading?e._l(i.skeletonNumber,function(n){return t(i.LoadingTableRow,{key:n,attrs:{"show-checkbox":e.multiselect}})}):e._l(i.sortedFiles,function(n){return t(i.FileListRow,{key:n.fileid||n.path,attrs:{"allow-pick-directory":e.allowPickDirectory,"show-checkbox":e.multiselect,"can-pick":(e.multiselect||e.selectedFiles.length===0||e.selectedFiles.includes(n))&&(e.canPick===void 0||e.canPick(n)),selected:e.selectedFiles.includes(n),node:n,"crop-image-previews":i.cropImagePreviews},on:{"update:selected":function(r){return i.onNodeSelected(n)},"enter-directory":i.onChangeDirectory}})})],2)])])},Ti=[],Oi=C(Mi,Ei,Ti,!1,null,"6503afab");const Ri=Oi.exports,ji={name:"HomeIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var Wi=function(){var e=this,t=e._self._c;return t("span",e._b({staticClass:"material-design-icon home-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(i){return e.$emit("click",i)}}},"span",e.$attrs,!1),[t("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z"}},[e.title?t("title",[e._v(e._s(e.title))]):e._e()])])])},Zi=[],qi=C(ji,Wi,Zi,!1,null,null);const Ui=qi.exports,Gi={name:"PlusIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var Yi=function(){var e=this,t=e._self._c;return t("span",e._b({staticClass:"material-design-icon plus-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(i){return e.$emit("click",i)}}},"span",e.$attrs,!1),[t("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"}},[e.title?t("title",[e._v(e._s(e.title))]):e._e()])])])},Ki=[],Ji=C(Gi,Yi,Ki,!1,null,null);const Qi=Ji.exports,Xi=F({__name:"FilePickerBreadcrumbs",props:{path:null,showMenu:{type:Boolean}},emits:["update:path","create-node"],setup(e,{emit:t}){const i=e,n=g(!1),r=g(""),s=g();function a(){const l=r.value.trim(),d=s.value?.$el?.querySelector("input");let u="";try{Be(l)}catch(f){if(!(f instanceof Pe))throw f;switch(f.reason){case j.Character:u=b('"{char}" is not allowed inside a folder name.',{char:f.segment});break;case j.ReservedName:u=b('"{segment}" is a reserved name and not allowed for folder names.',{segment:f.segment});break;case j.Extension:u=b('Folder names must not end with "{extension}".',{extension:f.segment});break;default:u=b("Invalid folder name.")}}return d&&d.setCustomValidity(u),u===""}const o=function(){const l=r.value.trim();a()&&(n.value=!1,t("create-node",l),r.value="")},c=h(()=>i.path.split("/").filter(l=>l!=="").map((l,d,u)=>({name:l,path:"/"+u.slice(0,d+1).join("/")})));return{__sfc:!0,props:i,emit:t,actionsOpen:n,newNodeName:r,nameInput:s,validateInput:a,onSubmit:o,pathElements:c,NcActionInput:Ue,NcActions:G,NcBreadcrumb:be,NcBreadcrumbs:$t,IconFolder:xe,IconHome:Ui,IconPlus:Qi,t:b}}});var er=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t(i.NcBreadcrumbs,{staticClass:"file-picker__breadcrumbs",scopedSlots:e._u([{key:"default",fn:function(){return[t(i.NcBreadcrumb,{attrs:{name:i.t("All files"),title:i.t("Home")},on:{click:function(n){return i.emit("update:path","/")}},scopedSlots:e._u([{key:"icon",fn:function(){return[t(i.IconHome,{attrs:{size:20}})]},proxy:!0}])}),e._l(i.pathElements,function(n){return t(i.NcBreadcrumb,{key:n.path,attrs:{name:n.name,title:n.path},on:{click:function(r){return i.emit("update:path",n.path)}}})})]},proxy:!0},e.showMenu?{key:"actions",fn:function(){return[t(i.NcActions,{attrs:{open:i.actionsOpen,"aria-label":i.t("Create directory"),"force-menu":!0,"force-name":!0,"menu-name":i.t("New"),type:"secondary"},on:{"update:open":function(n){i.actionsOpen=n},close:function(n){i.newNodeName=""}},scopedSlots:e._u([{key:"icon",fn:function(){return[t(i.IconPlus,{attrs:{size:20}})]},proxy:!0}],null,!1,2971667417)},[t(i.NcActionInput,{ref:"nameInput",attrs:{value:i.newNodeName,label:i.t("New folder"),placeholder:i.t("New folder name")},on:{"update:value":function(n){i.newNodeName=n},submit:i.onSubmit,"update:model-value":i.validateInput},scopedSlots:e._u([{key:"icon",fn:function(){return[t(i.IconFolder,{attrs:{size:20}})]},proxy:!0}],null,!1,1614167509)})],1)]},proxy:!0}:null],null,!0)})},tr=[],ir=C(Xi,er,tr,!1,null,"1a8cb0b2");const rr=ir.exports,nr={name:"CloseIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var sr=function(){var e=this,t=e._self._c;return t("span",e._b({staticClass:"material-design-icon close-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(i){return e.$emit("click",i)}}},"span",e.$attrs,!1),[t("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}},[e.title?t("title",[e._v(e._s(e.title))]):e._e()])])])},ar=[],or=C(nr,sr,ar,!1,null,null);const lr=or.exports,cr={name:"MagnifyIcon",emits:["click"],props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}};var ur=function(){var e=this,t=e._self._c;return t("span",e._b({staticClass:"material-design-icon magnify-icon",attrs:{"aria-hidden":e.title?null:"true","aria-label":e.title,role:"img"},on:{click:function(i){return e.$emit("click",i)}}},"span",e.$attrs,!1),[t("svg",{staticClass:"material-design-icon__svg",attrs:{fill:e.fillColor,width:e.size,height:e.size,viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"}},[e.title?t("title",[e._v(e._s(e.title))]):e._e()])])])},dr=[],pr=C(cr,ur,dr,!1,null,null);const fr=pr.exports,hr=e=>{const t=[{id:"files",label:b("All files"),icon:Rt},{id:"recent",label:b("Recent"),icon:Ot},{id:"favorites",label:b("Favorites"),icon:qt}],i=e.value?t.filter(({id:n})=>n==="files"):t;return{allViews:t,availableViews:i}},mr=F({__name:"FilePickerNavigation",props:{currentView:null,filterString:null,isCollapsed:{type:Boolean},disabledNavigation:{type:Boolean}},emits:["update:currentView","update:filterString"],setup(e,{emit:t}){const i=e,{availableViews:n}=hr(g(Xe()===null)),r=h(()=>n.filter(s=>s.id===i.currentView)[0]??n[0]);return{__sfc:!0,props:i,emit:t,availableViews:n,currentViewObject:r,updateFilterValue:s=>t("update:filterString",s),IconClose:lr,IconMagnify:fr,NcButton:U,NcIconSvgWrapper:ve,NcSelect:qe,NcTextField:Ze,Fragment:Ce,t:b}}});var vr=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t(i.Fragment,[t(i.NcTextField,{staticClass:"file-picker__filter-input",attrs:{label:i.t("Filter file list"),"show-trailing-button":!!e.filterString,"model-value":e.filterString},on:{"update:model-value":i.updateFilterValue,"trailing-button-click":function(n){return i.updateFilterValue("")}},scopedSlots:e._u([{key:"trailing-button-icon",fn:function(){return[t(i.IconClose,{attrs:{size:16}})]},proxy:!0}])},[t(i.IconMagnify,{attrs:{size:16}})],1),i.availableViews.length>1&&!e.disabledNavigation?[e.isCollapsed?t(i.NcSelect,{attrs:{"aria-label":i.t("Current view selector"),clearable:!1,searchable:!1,options:i.availableViews,"model-value":i.currentViewObject},on:{"update:model-value":function(n){return i.emit("update:currentView",n.id)}}}):t("ul",{staticClass:"file-picker__side"},e._l(i.availableViews,function(n){return t("li",{key:n.id},[t(i.NcButton,{attrs:{type:e.currentView===n.id?"primary":"tertiary",wide:!0},on:{click:function(r){return e.$emit("update:currentView",n.id)}},scopedSlots:e._u([{key:"icon",fn:function(){return[t(i.NcIconSvgWrapper,{attrs:{path:n.icon,size:20}})]},proxy:!0}],null,!0)},[e._v(" "+e._s(n.label)+" ")])],1)}),0)]:e._e()],2)},gr=[],yr=C(mr,vr,gr,!1,null,"f5975252");const br=yr.exports;function _r(e){const t=new AbortController,i=Math.round(Date.now()/1e3)-3600*24*14;return new ge(async(n,r,s)=>{s(()=>t.abort());try{const{data:a}=await e.search("/",{signal:t.signal,details:!0,data:it(i)}),o=a.results.map(c=>Q(c));n(o)}catch(a){r(a)}})}function wr(e,t){const i=new AbortController;return new ge(async(n,r,s)=>{s(()=>i.abort());try{const a=(await e.getDirectoryContents(O.join(J,t),{signal:i.signal,details:!0,includeSelf:!0,data:ye()})).data.map(o=>Q(o));n({contents:a.filter(({path:o})=>o!==t),folder:a.find(({path:o})=>o===t)})}catch(a){r(a)}})}async function Cr(e,t){const{data:i}=await e.stat(O.join(J,t),{details:!0,data:ye()});return Q(i)}const kr=function(e,t){const i=et(),n=q([]),r=q(null),s=g(!0),a=g(null);async function o(l){const d=O.join(t.value,l);await i.createDirectory(O.join(J,d));const u=await Cr(i,d);return n.value=[...n.value,u],u}async function c(){a.value&&a.value.cancel(),s.value=!0,e.value==="favorites"?a.value=tt(i,t.value):e.value==="recent"?a.value=_r(i):a.value=wr(i,t.value);const l=await a.value;"folder"in l?(r.value=l.folder,n.value=l.contents):(r.value=null,n.value=l),a.value=null,s.value=!1}return de([e,t],()=>c()),$(()=>c()),{isLoading:s,files:n,folder:r,loadFiles:c,createDirectory:o}},Sr=function(e){const t=h(()=>e.value.map(i=>i.split("/")));return{isSupportedMimeType:i=>{const n=i.split("/");return t.value.some(([r,s])=>(n[0]===r||r==="*")&&(n[1]===s||s==="*"))}}},Nr={name:"FilePicker"},xr=F({...Nr,props:{buttons:null,name:null,allowPickDirectory:{type:Boolean,default:!1},disabledNavigation:{type:Boolean,default:!1},container:{default:"body"},filterFn:{default:void 0},canPickFn:{default:void 0},mimetypeFilter:{default:()=>[]},multiselect:{type:Boolean,default:!0},path:{default:void 0}},emits:["close"],setup(e,{emit:t}){const i=e,n=g(!0),r=h(()=>{const v=l.value.length===0&&i.allowPickDirectory&&k.value?[k.value]:l.value;return(typeof i.buttons=="function"?i.buttons(v,f.value,o.value):i.buttons).map(y=>({...y,disabled:y.disabled||N.value,callback:()=>{s=!0,a(y.callback,v)}}))});let s=!1;const a=async(v,y)=>{v(y),t("close",y),s=!1},o=g("files"),c=h(()=>o.value==="favorites"?b("Favorites"):o.value==="recent"?b("Recent"):""),l=q([]),d=g(window?.sessionStorage.getItem("NC.FilePicker.LastPath")||"/"),u=g("");de([u],()=>{i.path===void 0&&u.value&&window.sessionStorage.setItem("NC.FilePicker.LastPath",u.value),l.value=[]});const f=h({get:()=>o.value==="files"?u.value||i.path||d.value:"/",set:v=>{u.value=v}}),m=g(""),{isSupportedMimeType:p}=Sr(E(i,"mimetypeFilter")),{files:S,folder:k,isLoading:N,loadFiles:A,createDirectory:x}=kr(o,f);$(()=>A());const{showHiddenFiles:_}=Se(),L=h(()=>{let v=S.value;return _.value||(v=v.filter(y=>!y.basename.startsWith("."))),i.mimetypeFilter.length>0&&(v=v.filter(y=>y.type==="folder"||y.mime&&p(y.mime))),m.value&&(v=v.filter(y=>y.basename.toLowerCase().includes(m.value.toLowerCase()))),i.filterFn&&(v=v.filter(y=>i.filterFn(y))),v}),H=h(()=>o.value==="files"?b("Upload some content or sync with your devices!"):o.value==="recent"?b("Files and folders you recently modified will show up here."):b("Files and folders you mark as favorite will show up here."));return{__sfc:!0,props:i,emit:t,isOpen:n,dialogButtons:r,isHandlingCallback:s,handleButtonClick:a,currentView:o,viewHeadline:c,selectedFiles:l,savedPath:d,navigatedPath:u,currentPath:f,filterString:m,isSupportedMimeType:p,files:S,currentFolder:k,isLoading:N,loadFiles:A,createDirectory:x,showHiddenFiles:_,filteredFiles:L,noFilesDescription:H,onCreateFolder:async v=>{try{const y=await x(v);u.value=y.path,Qe("files:node:created",S.value.filter(Le=>Le.basename===v)[0])}catch(y){console.warn("Could not create new folder",{name:v,error:y}),Y(b("Could not create the new folder"))}},handleClose:v=>{!v&&!s&&t("close")},IconFile:ke,FileList:Ri,FilePickerBreadcrumbs:rr,FilePickerNavigation:br,NcDialog:We,NcEmptyContent:je,t:b}}});var Lr=function(){var e=this,t=e._self._c,i=e._self._setupProxy;return t(i.NcDialog,{attrs:{open:i.isOpen,container:e.container,buttons:i.dialogButtons,name:e.name,size:"large","content-classes":"file-picker__content","dialog-classes":"file-picker","navigation-classes":"file-picker__navigation"},on:{"update:open":[function(n){i.isOpen=n},i.handleClose]},scopedSlots:e._u([{key:"navigation",fn:function({isCollapsed:n}){return[t(i.FilePickerNavigation,{attrs:{"current-view":i.currentView,"filter-string":i.filterString,"is-collapsed":n,"disabled-navigation":e.disabledNavigation},on:{"update:currentView":function(r){i.currentView=r},"update:current-view":function(r){i.currentView=r},"update:filterString":function(r){i.filterString=r},"update:filter-string":function(r){i.filterString=r}}})]}}])},[t("div",{staticClass:"file-picker__main"},[i.currentView==="files"?t(i.FilePickerBreadcrumbs,{attrs:{path:i.currentPath,"show-menu":e.allowPickDirectory},on:{"update:path":function(n){i.currentPath=n},"create-node":i.onCreateFolder}}):t("div",{staticClass:"file-picker__view"},[t("h3",[e._v(e._s(i.viewHeadline))])]),i.isLoading||i.filteredFiles.length>0?t(i.FileList,{attrs:{path:i.currentPath,"selected-files":i.selectedFiles,"allow-pick-directory":e.allowPickDirectory,"current-view":i.currentView,files:i.filteredFiles,multiselect:e.multiselect,loading:i.isLoading,name:i.viewHeadline,"can-pick":e.canPickFn},on:{"update:path":[function(n){i.currentPath=n},function(n){i.currentView="files"}],"update:selectedFiles":function(n){i.selectedFiles=n},"update:selected-files":function(n){i.selectedFiles=n}}}):i.filterString?t(i.NcEmptyContent,{attrs:{name:i.t("No matching files"),description:i.t("No files matching your filter were found.")},scopedSlots:e._u([{key:"icon",fn:function(){return[t(i.IconFile)]},proxy:!0}])}):t(i.NcEmptyContent,{attrs:{name:i.t("No files in here"),description:i.noFilesDescription},scopedSlots:e._u([{key:"icon",fn:function(){return[t(i.IconFile)]},proxy:!0}])})],1)])},Fr=[],Ar=C(xr,Lr,Fr,!1,null,"dda9b42b");const Zr=Ar.exports;export{Zr as default};
//# sourceMappingURL=FilePicker-JKNLPCbR-JxH-cjcs.chunk.mjs.map
