import{g as te}from"./emoji-picker-MDCGxHB0.chunk.mjs";function pe(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var re={exports:{}},u=re.exports={},I,L;function j(){throw new Error("setTimeout has not been defined")}function B(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?I=setTimeout:I=j}catch{I=j}try{typeof clearTimeout=="function"?L=clearTimeout:L=B}catch{L=B}})();function ne(r){if(I===setTimeout)return setTimeout(r,0);if((I===j||!I)&&setTimeout)return I=setTimeout,setTimeout(r,0);try{return I(r,0)}catch{try{return I.call(null,r,0)}catch{return I.call(this,r,0)}}}function Ie(r){if(L===clearTimeout)return clearTimeout(r);if((L===B||!L)&&clearTimeout)return L=clearTimeout,clearTimeout(r);try{return L(r)}catch{try{return L.call(null,r)}catch{return L.call(this,r)}}}var N=[],T=!1,O,b=-1;function Le(){!T||!O||(T=!1,O.length?N=O.concat(N):b=-1,N.length&&se())}function se(){if(!T){var r=ne(Le);T=!0;for(var t=N.length;t;){for(O=N,N=[];++b<t;)O&&O[b].run();b=-1,t=N.length}O=null,T=!1,Ie(r)}}u.nextTick=function(r){var t=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)t[s-1]=arguments[s];N.push(new ie(r,t)),N.length===1&&!T&&ne(se)};function ie(r,t){this.fun=r,this.array=t}ie.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={};function f(){}u.on=f,u.addListener=f,u.once=f,u.off=f,u.removeListener=f,u.removeAllListeners=f,u.emit=f,u.prependListener=f,u.prependOnceListener=f,u.listeners=function(r){return[]},u.binding=function(r){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(r){throw new Error("process.chdir is not supported")},u.umask=function(){return 0};var Re=re.exports;const fe=pe(Re);var _,k;function oe(){if(k)return _;k=1;var r={};return _=typeof fe=="object"&&r&&r.NODE_DEBUG&&/\bsemver\b/i.test(r.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{},_}var C,H;function Ee(){if(H)return C;H=1;const r="2.0.0",t=256,s=Number.MAX_SAFE_INTEGER||9007199254740991,a=16,l=t-6;return C={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:a,MAX_SAFE_BUILD_LENGTH:l,MAX_SAFE_INTEGER:s,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:r,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},C}var D={exports:{}},z;function Ne(){return z||(z=1,function(r,t){const{MAX_SAFE_COMPONENT_LENGTH:s,MAX_SAFE_BUILD_LENGTH:a,MAX_LENGTH:l}=Ee(),p=oe();t=r.exports={};const P=t.re=[],d=t.safeRe=[],n=t.src=[],le=t.safeSrc=[],e=t.t={};let o=0;const E="[a-zA-Z0-9-]",c=[["\\s",1],["\\d",l],[E,a]],h=m=>{for(const[R,w]of c)m=m.split(`${R}*`).join(`${R}{0,${w}}`).split(`${R}+`).join(`${R}{1,${w}}`);return m},i=(m,R,w)=>{const V=h(R),$=o++;p(m,$,R),e[m]=$,n[$]=R,le[$]=V,P[$]=new RegExp(R,w?"g":void 0),d[$]=new RegExp(V,w?"g":void 0)};i("NUMERICIDENTIFIER","0|[1-9]\\d*"),i("NUMERICIDENTIFIERLOOSE","\\d+"),i("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${E}*`),i("MAINVERSION",`(${n[e.NUMERICIDENTIFIER]})\\.(${n[e.NUMERICIDENTIFIER]})\\.(${n[e.NUMERICIDENTIFIER]})`),i("MAINVERSIONLOOSE",`(${n[e.NUMERICIDENTIFIERLOOSE]})\\.(${n[e.NUMERICIDENTIFIERLOOSE]})\\.(${n[e.NUMERICIDENTIFIERLOOSE]})`),i("PRERELEASEIDENTIFIER",`(?:${n[e.NUMERICIDENTIFIER]}|${n[e.NONNUMERICIDENTIFIER]})`),i("PRERELEASEIDENTIFIERLOOSE",`(?:${n[e.NUMERICIDENTIFIERLOOSE]}|${n[e.NONNUMERICIDENTIFIER]})`),i("PRERELEASE",`(?:-(${n[e.PRERELEASEIDENTIFIER]}(?:\\.${n[e.PRERELEASEIDENTIFIER]})*))`),i("PRERELEASELOOSE",`(?:-?(${n[e.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${n[e.PRERELEASEIDENTIFIERLOOSE]})*))`),i("BUILDIDENTIFIER",`${E}+`),i("BUILD",`(?:\\+(${n[e.BUILDIDENTIFIER]}(?:\\.${n[e.BUILDIDENTIFIER]})*))`),i("FULLPLAIN",`v?${n[e.MAINVERSION]}${n[e.PRERELEASE]}?${n[e.BUILD]}?`),i("FULL",`^${n[e.FULLPLAIN]}$`),i("LOOSEPLAIN",`[v=\\s]*${n[e.MAINVERSIONLOOSE]}${n[e.PRERELEASELOOSE]}?${n[e.BUILD]}?`),i("LOOSE",`^${n[e.LOOSEPLAIN]}$`),i("GTLT","((?:<|>)?=?)"),i("XRANGEIDENTIFIERLOOSE",`${n[e.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),i("XRANGEIDENTIFIER",`${n[e.NUMERICIDENTIFIER]}|x|X|\\*`),i("XRANGEPLAIN",`[v=\\s]*(${n[e.XRANGEIDENTIFIER]})(?:\\.(${n[e.XRANGEIDENTIFIER]})(?:\\.(${n[e.XRANGEIDENTIFIER]})(?:${n[e.PRERELEASE]})?${n[e.BUILD]}?)?)?`),i("XRANGEPLAINLOOSE",`[v=\\s]*(${n[e.XRANGEIDENTIFIERLOOSE]})(?:\\.(${n[e.XRANGEIDENTIFIERLOOSE]})(?:\\.(${n[e.XRANGEIDENTIFIERLOOSE]})(?:${n[e.PRERELEASELOOSE]})?${n[e.BUILD]}?)?)?`),i("XRANGE",`^${n[e.GTLT]}\\s*${n[e.XRANGEPLAIN]}$`),i("XRANGELOOSE",`^${n[e.GTLT]}\\s*${n[e.XRANGEPLAINLOOSE]}$`),i("COERCEPLAIN",`(^|[^\\d])(\\d{1,${s}})(?:\\.(\\d{1,${s}}))?(?:\\.(\\d{1,${s}}))?`),i("COERCE",`${n[e.COERCEPLAIN]}(?:$|[^\\d])`),i("COERCEFULL",n[e.COERCEPLAIN]+`(?:${n[e.PRERELEASE]})?(?:${n[e.BUILD]})?(?:$|[^\\d])`),i("COERCERTL",n[e.COERCE],!0),i("COERCERTLFULL",n[e.COERCEFULL],!0),i("LONETILDE","(?:~>?)"),i("TILDETRIM",`(\\s*)${n[e.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",i("TILDE",`^${n[e.LONETILDE]}${n[e.XRANGEPLAIN]}$`),i("TILDELOOSE",`^${n[e.LONETILDE]}${n[e.XRANGEPLAINLOOSE]}$`),i("LONECARET","(?:\\^)"),i("CARETTRIM",`(\\s*)${n[e.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",i("CARET",`^${n[e.LONECARET]}${n[e.XRANGEPLAIN]}$`),i("CARETLOOSE",`^${n[e.LONECARET]}${n[e.XRANGEPLAINLOOSE]}$`),i("COMPARATORLOOSE",`^${n[e.GTLT]}\\s*(${n[e.LOOSEPLAIN]})$|^$`),i("COMPARATOR",`^${n[e.GTLT]}\\s*(${n[e.FULLPLAIN]})$|^$`),i("COMPARATORTRIM",`(\\s*)${n[e.GTLT]}\\s*(${n[e.LOOSEPLAIN]}|${n[e.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",i("HYPHENRANGE",`^\\s*(${n[e.XRANGEPLAIN]})\\s+-\\s+(${n[e.XRANGEPLAIN]})\\s*$`),i("HYPHENRANGELOOSE",`^\\s*(${n[e.XRANGEPLAINLOOSE]})\\s+-\\s+(${n[e.XRANGEPLAINLOOSE]})\\s*$`),i("STAR","(<|>)?=?\\s*\\*"),i("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),i("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(D,D.exports)),D.exports}var G,K;function de(){if(K)return G;K=1;const r=Object.freeze({loose:!0}),t=Object.freeze({});return G=s=>s?typeof s!="object"?r:s:t,G}var y,W;function Oe(){if(W)return y;W=1;const r=/^[0-9]+$/,t=(s,a)=>{const l=r.test(s),p=r.test(a);return l&&p&&(s=+s,a=+a),s===a?0:l&&!p?-1:p&&!l?1:s<a?-1:1};return y={compareIdentifiers:t,rcompareIdentifiers:(s,a)=>t(a,s)},y}var F,Y;function ae(){if(Y)return F;Y=1;const r=oe(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:s}=Ee(),{safeRe:a,safeSrc:l,t:p}=Ne(),P=de(),{compareIdentifiers:d}=Oe();class n{constructor(e,o){if(o=P(o),e instanceof n){if(e.loose===!!o.loose&&e.includePrerelease===!!o.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>t)throw new TypeError(`version is longer than ${t} characters`);r("SemVer",e,o),this.options=o,this.loose=!!o.loose,this.includePrerelease=!!o.includePrerelease;const E=e.trim().match(o.loose?a[p.LOOSE]:a[p.FULL]);if(!E)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+E[1],this.minor=+E[2],this.patch=+E[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");E[4]?this.prerelease=E[4].split(".").map(c=>{if(/^[0-9]+$/.test(c)){const h=+c;if(h>=0&&h<s)return h}return c}):this.prerelease=[],this.build=E[5]?E[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof n)){if(typeof e=="string"&&e===this.version)return 0;e=new n(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof n||(e=new n(e,this.options)),d(this.major,e.major)||d(this.minor,e.minor)||d(this.patch,e.patch)}comparePre(e){if(e instanceof n||(e=new n(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let o=0;do{const E=this.prerelease[o],c=e.prerelease[o];if(r("prerelease compare",o,E,c),E===void 0&&c===void 0)return 0;if(c===void 0)return 1;if(E===void 0)return-1;if(E!==c)return d(E,c)}while(++o)}compareBuild(e){e instanceof n||(e=new n(e,this.options));let o=0;do{const E=this.build[o],c=e.build[o];if(r("build compare",o,E,c),E===void 0&&c===void 0)return 0;if(c===void 0)return 1;if(E===void 0)return-1;if(E!==c)return d(E,c)}while(++o)}inc(e,o,E){if(e.startsWith("pre")){if(!o&&E===!1)throw new Error("invalid increment argument: identifier is empty");if(o){const c=new RegExp(`^${this.options.loose?l[p.PRERELEASELOOSE]:l[p.PRERELEASE]}$`),h=`-${o}`.match(c);if(!h||h[1]!==o)throw new Error(`invalid identifier: ${o}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",o,E);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",o,E);break;case"prepatch":this.prerelease.length=0,this.inc("patch",o,E),this.inc("pre",o,E);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",o,E),this.inc("pre",o,E);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const c=Number(E)?1:0;if(this.prerelease.length===0)this.prerelease=[c];else{let h=this.prerelease.length;for(;--h>=0;)typeof this.prerelease[h]=="number"&&(this.prerelease[h]++,h=-2);if(h===-1){if(o===this.prerelease.join(".")&&E===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(c)}}if(o){let h=[o,c];E===!1&&(h=[o]),d(this.prerelease[0],o)===0?isNaN(this.prerelease[1])&&(this.prerelease=h):this.prerelease=h}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return F=n,F}var M,Z;function me(){if(Z)return M;Z=1;const r=ae();return M=(t,s,a=!1)=>{if(t instanceof r)return t;try{return new r(t,s)}catch(l){if(!a)return null;throw l}},M}var U,q;function $e(){if(q)return U;q=1;const r=me();return U=(t,s)=>{const a=r(t,s);return a?a.version:null},U}var Ae=$e();const Te=te(Ae);var X,J;function we(){if(J)return X;J=1;const r=ae();return X=(t,s)=>new r(t,s).major,X}var Se=we();const Q=te(Se);class ve{bus;constructor(t){typeof t.getVersion!="function"||!Te(t.getVersion())?console.warn("Proxying an event bus with an unknown or invalid version"):Q(t.getVersion())!==Q(this.getVersion())&&console.warn("Proxying an event bus of version "+t.getVersion()+" with "+this.getVersion()),this.bus=t}getVersion(){return"3.3.2"}subscribe(t,s){this.bus.subscribe(t,s)}unsubscribe(t,s){this.bus.unsubscribe(t,s)}emit(t,...s){this.bus.emit(t,...s)}}class ge{handlers=new Map;getVersion(){return"3.3.2"}subscribe(t,s){this.handlers.set(t,(this.handlers.get(t)||[]).concat(s))}unsubscribe(t,s){this.handlers.set(t,(this.handlers.get(t)||[]).filter(a=>a!==s))}emit(t,...s){(this.handlers.get(t)||[]).forEach(a=>{try{a(s[0])}catch(l){console.error("could not invoke event listener",l)}})}}let S=null;function x(){return S!==null?S:typeof window>"u"?new Proxy({},{get:()=>()=>console.error("Window not available, EventBus can not be established!")}):(window.OC?._eventBus&&typeof window._nc_event_bus>"u"&&(console.warn("found old event bus instance at OC._eventBus. Update your version!"),window._nc_event_bus=window.OC._eventBus),typeof window?._nc_event_bus<"u"?S=new ve(window._nc_event_bus):S=window._nc_event_bus=new ge,S)}function be(r,t){x().subscribe(r,t)}function Ge(r,t){x().unsubscribe(r,t)}function ye(r,...t){x().emit(r,...t)}class g{static GLOBAL_SCOPE_VOLATILE="nextcloud_vol";static GLOBAL_SCOPE_PERSISTENT="nextcloud_per";scope;wrapped;constructor(t,s,a){this.scope=`${a?g.GLOBAL_SCOPE_PERSISTENT:g.GLOBAL_SCOPE_VOLATILE}_${btoa(t)}_`,this.wrapped=s}scopeKey(t){return`${this.scope}${t}`}setItem(t,s){this.wrapped.setItem(this.scopeKey(t),s)}getItem(t){return this.wrapped.getItem(this.scopeKey(t))}removeItem(t){this.wrapped.removeItem(this.scopeKey(t))}clear(){Object.keys(this.wrapped).filter(t=>t.startsWith(this.scope)).map(this.wrapped.removeItem.bind(this.wrapped))}}class Pe{appId;persisted=!1;clearedOnLogout=!1;constructor(t){this.appId=t}persist(t=!0){return this.persisted=t,this}clearOnLogout(t=!0){return this.clearedOnLogout=t,this}build(){return new g(this.appId,this.persisted?window.localStorage:window.sessionStorage,!this.clearedOnLogout)}}function ce(r){return new Pe(r)}function ue(r,t){Object.keys(r).filter(s=>t?t(s):!0).map(r.removeItem.bind(r))}function _e(){[window.sessionStorage,window.localStorage].map(r=>ue(r))}function Ce(){[window.sessionStorage,window.localStorage].map(r=>ue(r,t=>!t.startsWith(g.GLOBAL_SCOPE_PERSISTENT)))}const Fe=Object.freeze(Object.defineProperty({__proto__:null,clearAll:_e,clearNonPersistent:Ce,getBuilder:ce},Symbol.toStringTag,{value:"Module"}));let v;const he=[];function Me(){return v===void 0&&(v=document.head.dataset.requesttoken??null),v}function Ue(r){he.push(r)}be("csrf-token-update",r=>{v=r.token,he.forEach(t=>{try{t(v)}catch(s){console.error("Error updating CSRF token observer",s)}})});ce("public").persist().build();let A;function ee(r,t){return r?r.getAttribute(t):null}function Xe(){if(A!==void 0)return A;const r=document?.getElementsByTagName("head")[0];if(!r)return null;const t=ee(r,"data-user");return t===null?(A=null,A):(A={uid:t,displayName:ee(r,"data-user-displayname"),isAdmin:!!window._oc_isadmin},A)}export{Me as a,ce as b,we as c,Fe as d,ye as e,Xe as g,Ue as o,fe as p,$e as r,be as s,Ge as u};
//# sourceMappingURL=index-CgsyuJaX.chunk.mjs.map
