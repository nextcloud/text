{"version":3,"file":"editor-collab.js?v=6f221f90028c9cd7d2bc","mappings":"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","sources":["webpack:///text/src/components/Editor/AvatarWrapper.vue?vue&type=style&index=0&id=1bf0295d&prod&lang=scss&scoped=true&","webpack:///text/src/components/Editor/SessionList.vue?vue&type=style&index=0&id=cc2cab58&prod&scoped=true&lang=scss&","webpack:///text/src/components/Editor/AvatarWrapper.vue","webpack:///text/src/components/Editor/AvatarWrapper.vue?vue&type=script&lang=js&","webpack://text/./src/components/Editor/AvatarWrapper.vue?a347","webpack://text/./src/components/Editor/AvatarWrapper.vue?591b","webpack://text/./src/components/Editor/AvatarWrapper.vue?ce38","webpack://text/./src/components/Editor/SessionList.vue?e282","webpack:///text/src/components/Editor/SessionList.vue","webpack:///text/src/components/Editor/SessionList.vue?vue&type=script&lang=js&","webpack://text/./src/components/Editor/SessionList.vue?5ac6","webpack://text/./src/components/Editor/SessionList.vue?14a3"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".avatar[data-v-1bf0295d],.avatar-wrapper[data-v-1bf0295d]{border-radius:50%;width:var(--size);height:var(--size);text-align:center;color:#fff;line-height:var(--size);font-size:var(--font-size);font-weight:normal;display:flex;justify-content:center;align-items:center}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Editor/AvatarWrapper.vue\"],\"names\":[],\"mappings\":\"AAEA,0DACC,iBAAA,CACA,iBAAA,CACA,kBAAA,CACA,iBAAA,CACA,UAAA,CACA,uBAAA,CACA,0BAAA,CACA,kBAAA,CACA,YAAA,CACA,sBAAA,CACA,kBAAA\",\"sourcesContent\":[\"\\n\\n.avatar, .avatar-wrapper {\\n\\tborder-radius: 50%;\\n\\twidth: var(--size);\\n\\theight: var(--size);\\n\\ttext-align: center;\\n\\tcolor: #ffffff;\\n\\tline-height: var(--size);\\n\\tfont-size: var(--font-size);\\n\\tfont-weight: normal;\\n\\tdisplay: flex;\\n\\tjustify-content: center;\\n\\talign-items: center;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".session-list[data-v-cc2cab58]{height:44px}.avatar-list[data-v-cc2cab58]{border:none;background-color:var(--color-main-background);padding:0;margin:0;padding-left:3px;display:inline-flex;flex-direction:row-reverse}.avatar-list .avatar-wrapper[data-v-cc2cab58]{margin:0 -18px 0 0;z-index:1;border-radius:50%;overflow:hidden;box-sizing:content-box !important;height:36px;width:36px}.avatar-list .icon-more[data-v-cc2cab58],.avatar-list .icon-group[data-v-cc2cab58],.avatar-list .icon-settings-dark[data-v-cc2cab58]{width:44px;height:44px;margin:0 3px 0 0}.avatar-list .icon-more[data-v-cc2cab58]:hover,.avatar-list .icon-group[data-v-cc2cab58]:hover,.avatar-list .icon-settings-dark[data-v-cc2cab58]:hover{background-color:var(--color-background-hover)}.session-menu[data-v-cc2cab58]{max-width:280px;padding-top:6px;padding-bottom:6px}.session-menu ul li[data-v-cc2cab58]{align-items:center;display:flex;padding:6px}.session-menu ul li .avatar-wrapper[data-v-cc2cab58]{height:36px;width:36px;margin-right:6px}.session-menu ul li .session-label[data-v-cc2cab58]{padding-right:3px}.session-menu ul li .guest-label[data-v-cc2cab58]{padding-left:3px;color:var(--color-text-maxcontrast)}label[data-v-cc2cab58]{display:block;margin:8px}.hint[data-v-cc2cab58]{margin:8px;color:var(--color-text-maxcontrast)}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Editor/SessionList.vue\"],\"names\":[],\"mappings\":\"AACA,+BACC,WAAA,CAED,8BACC,WAAA,CACA,6CAAA,CACA,SAAA,CACA,QAAA,CACA,gBAAA,CACA,mBAAA,CACA,0BAAA,CAEA,8CACC,kBAAA,CACA,SAAA,CACA,iBAAA,CACA,eAAA,CACA,iCAAA,CACA,WAAA,CACA,UAAA,CAGD,qIACC,UAAA,CACA,WAAA,CACA,gBAAA,CAEA,uJACC,8CAAA,CAKH,+BACC,eAAA,CACA,eAAA,CACA,kBAAA,CAEA,qCACC,kBAAA,CACA,YAAA,CACA,WAAA,CAEA,qDACC,WAAA,CACA,UAAA,CACA,gBAAA,CAGD,oDACC,iBAAA,CAED,kDACC,gBAAA,CACA,mCAAA,CAKH,uBACC,aAAA,CACA,UAAA,CAGD,uBACC,UAAA,CACA,mCAAA\",\"sourcesContent\":[\"\\n.session-list {\\n\\theight: 44px;\\n}\\n.avatar-list {\\n\\tborder: none;\\n\\tbackground-color: var(--color-main-background);\\n\\tpadding: 0;\\n\\tmargin: 0;\\n\\tpadding-left: 3px;\\n\\tdisplay: inline-flex;\\n\\tflex-direction: row-reverse;\\n\\n\\t.avatar-wrapper {\\n\\t\\tmargin: 0 -18px 0 0;\\n\\t\\tz-index: 1;\\n\\t\\tborder-radius: 50%;\\n\\t\\toverflow: hidden;\\n\\t\\tbox-sizing: content-box !important;\\n\\t\\theight: 36px;\\n\\t\\twidth: 36px;\\n\\t}\\n\\n\\t.icon-more, .icon-group, .icon-settings-dark {\\n\\t\\twidth: 44px;\\n\\t\\theight: 44px;\\n\\t\\tmargin: 0 3px 0 0;\\n\\n\\t\\t&:hover {\\n\\t\\t\\tbackground-color: var(--color-background-hover);\\n\\t\\t}\\n\\t}\\n}\\n\\n.session-menu {\\n\\tmax-width: 280px;\\n\\tpadding-top: 6px;\\n\\tpadding-bottom: 6px;\\n\\n\\tul li {\\n\\t\\talign-items: center;\\n\\t\\tdisplay: flex;\\n\\t\\tpadding: 6px;\\n\\n\\t\\t.avatar-wrapper {\\n\\t\\t\\theight: 36px;\\n\\t\\t\\twidth: 36px;\\n\\t\\t\\tmargin-right: 6px;\\n\\t\\t}\\n\\n\\t\\t.session-label {\\n\\t\\t\\tpadding-right: 3px;\\n\\t\\t}\\n\\t\\t.guest-label {\\n\\t\\t\\tpadding-left: 3px;\\n\\t\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t\\t}\\n\\t}\\n}\\n\\nlabel {\\n\\tdisplay: block;\\n\\tmargin: 8px;\\n}\\n\\n.hint {\\n\\tmargin: 8px;\\n\\tcolor: var(--color-text-maxcontrast);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","<template>\n\t<div class=\"avatar-wrapper\" :style=\"sessionAvatarStyle\">\n\t\t<NcAvatar v-if=\"session.userId\"\n\t\t\t:user=\"session.userId ? session.userId : session.guestName\"\n\t\t\t:is-guest=\"session.userId === null\"\n\t\t\t:disable-menu=\"true\"\n\t\t\t:show-user-status=\"false\"\n\t\t\t:disable-tooltip=\"true\"\n\t\t\t:size=\"size\" />\n\t\t<div v-else class=\"avatar\" :style=\"sessionBackgroundStyle\">\n\t\t\t{{ guestInitial }}\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { NcAvatar } from '@nextcloud/vue'\nexport default {\n\tname: 'AvatarWrapper',\n\tcomponents: {\n\t\tNcAvatar,\n\t},\n\tprops: {\n\t\tsession: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tsize: {\n\t\t\ttype: Number,\n\t\t\tdefault: () => 32,\n\t\t},\n\t},\n\tcomputed: {\n\t\tsessionAvatarStyle() {\n\t\t\treturn {\n\t\t\t\t...this.sessionBackgroundStyle,\n\t\t\t\t'border-color': this.session.color,\n\t\t\t\t'border-width': '2px',\n\t\t\t\t'border-style': 'solid',\n\t\t\t\t'--size': this.size + 'px',\n\t\t\t\t'--font-size': this.size / 2 + 'px',\n\t\t\t}\n\t\t},\n\t\tsessionBackgroundStyle() {\n\t\t\treturn {\n\t\t\t\t'background-color': this.session.userId ? this.session.color + ' !important' : '#b9b9b9',\n\t\t\t}\n\t\t},\n\t\tguestInitial() {\n\t\t\treturn this.session.guestName === '' ? '?' : this.session.guestName.slice(0, 1).toUpperCase()\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n.avatar, .avatar-wrapper {\n\tborder-radius: 50%;\n\twidth: var(--size);\n\theight: var(--size);\n\ttext-align: center;\n\tcolor: #ffffff;\n\tline-height: var(--size);\n\tfont-size: var(--font-size);\n\tfont-weight: normal;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AvatarWrapper.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AvatarWrapper.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AvatarWrapper.vue?vue&type=style&index=0&id=1bf0295d&prod&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AvatarWrapper.vue?vue&type=style&index=0&id=1bf0295d&prod&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./AvatarWrapper.vue?vue&type=template&id=1bf0295d&scoped=true&\"\nimport script from \"./AvatarWrapper.vue?vue&type=script&lang=js&\"\nexport * from \"./AvatarWrapper.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AvatarWrapper.vue?vue&type=style&index=0&id=1bf0295d&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1bf0295d\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"avatar-wrapper\",style:(_vm.sessionAvatarStyle)},[(_vm.session.userId)?_c('NcAvatar',{attrs:{\"user\":_vm.session.userId ? _vm.session.userId : _vm.session.guestName,\"is-guest\":_vm.session.userId === null,\"disable-menu\":true,\"show-user-status\":false,\"disable-tooltip\":true,\"size\":_vm.size}}):_c('div',{staticClass:\"avatar\",style:(_vm.sessionBackgroundStyle)},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.guestInitial)+\"\\n\\t\")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('NcPopover',{staticClass:\"session-list\",attrs:{\"placement\":\"bottom\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('div',{staticClass:\"session-menu\"},[_vm._t(\"lastSaved\"),_vm._v(\" \"),_c('ul',[_vm._t(\"default\"),_vm._v(\" \"),_vm._l((_vm.participantsPopover),function(session){return _c('li',{key:session.id,style:(_vm.avatarStyle(session))},[_c('AvatarWrapper',{attrs:{\"session\":session,\"size\":36}}),_vm._v(\" \"),_c('span',{staticClass:\"session-label\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(session.userId ? session.displayName : (session.guestName ? session.guestName : _vm.t('text', 'Guest')))+\"\\n\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),(session.userId === null)?_c('span',{staticClass:\"guest-label\"},[_vm._v(\"(\"+_vm._s(_vm.t('text', 'guest'))+\")\")]):_vm._e()],1)})],2)],2)]},proxy:true}],null,true)},[_c('button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.bottom\",value:(_vm.label),expression:\"label\",modifiers:{\"bottom\":true}}],staticClass:\"avatar-list\",attrs:{\"slot\":\"trigger\",\"title\":_vm.label,\"aria-label\":_vm.label},slot:\"trigger\"},[_c('div',{staticClass:\"avatardiv icon-group\"}),_vm._v(\" \"),_vm._l((_vm.sessionsVisible),function(session){return _c('AvatarWrapper',{key:session.id,attrs:{\"session\":session,\"size\":40}})})],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<NcPopover class=\"session-list\" placement=\"bottom\">\n\t\t<button slot=\"trigger\"\n\t\t\tv-tooltip.bottom=\"label\"\n\t\t\t:title=\"label\"\n\t\t\t:aria-label=\"label\"\n\t\t\tclass=\"avatar-list\">\n\t\t\t<div class=\"avatardiv icon-group\" />\n\t\t\t<AvatarWrapper v-for=\"session in sessionsVisible\"\n\t\t\t\t:key=\"session.id\"\n\t\t\t\t:session=\"session\"\n\t\t\t\t:size=\"40\" />\n\t\t</button>\n\t\t<template #default>\n\t\t\t<div class=\"session-menu\">\n\t\t\t\t<slot name=\"lastSaved\" />\n\t\t\t\t<ul>\n\t\t\t\t\t<slot />\n\t\t\t\t\t<li v-for=\"session in participantsPopover\"\n\t\t\t\t\t\t:key=\"session.id\"\n\t\t\t\t\t\t:style=\"avatarStyle(session)\">\n\t\t\t\t\t\t<AvatarWrapper :session=\"session\" :size=\"36\" />\n\t\t\t\t\t\t<span class=\"session-label\">\n\t\t\t\t\t\t\t{{ session.userId ? session.displayName : (session.guestName ? session.guestName : t('text', 'Guest')) }}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span v-if=\"session.userId === null\" class=\"guest-label\">({{ t('text', 'guest') }})</span>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<!-- disable for now as this broke during the y.js migration\n\t\t\t\t<input id=\"toggle-color-annotations\"\n\t\t\t\t\tv-model=\"showAuthorAnnotations\"\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tclass=\"checkbox\">\n\t\t\t\t<label for=\"toggle-color-annotations\">{{ t('text', 'Show author colors') }}</label>\n\t\t\t\t<p class=\"hint\">\n\t\t\t\t\t{{ t('text', 'Author colors are only shown until everyone has closed the document.') }}\n\t\t\t\t</p>\n\t\t\t\t-->\n\t\t\t</div>\n\t\t</template>\n\t</NcPopover>\n</template>\n\n<script>\nimport { NcPopover, Tooltip } from '@nextcloud/vue'\nimport AvatarWrapper from './AvatarWrapper.vue'\nimport { mapActions, mapState } from 'vuex'\nimport store from '../../mixins/store.js'\nimport { COLLABORATOR_IDLE_TIME, COLLABORATOR_DISCONNECT_TIME } from '../../services/SyncService.js'\n\nexport default {\n\tname: 'SessionList',\n\tcomponents: {\n\t\tAvatarWrapper,\n\t\tNcPopover,\n\t},\n\tdirectives: {\n\t\ttooltip: Tooltip,\n\t},\n\tmixins: [store],\n\tprops: {\n\t\tsessions: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => { return {} },\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmyName: '',\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\tstoreShowAuthorAnnotations: (state) => state.text.showAuthorAnnotations,\n\t\t}),\n\n\t\tlabel() {\n\t\t\treturn t('text', 'Active people')\n\t\t},\n\t\tshowAuthorAnnotations: {\n\t\t\tget() {\n\t\t\t\treturn this.storeShowAuthorAnnotations\n\t\t\t},\n\t\t\tset(value) {\n\t\t\t\tthis.setShowAuthorAnnotations(value)\n\t\t\t},\n\t\t},\n\t\tparticipantsPopover() {\n\t\t\tif (this.currentSession.guestName) {\n\t\t\t\treturn this.participantsWithoutCurrent\n\t\t\t}\n\t\t\treturn this.participants\n\t\t},\n\t\tparticipantsWithoutCurrent() {\n\t\t\treturn this.participants.filter((session) => !session.isCurrent)\n\t\t},\n\t\tparticipants() {\n\t\t\treturn Object.values(this.sessions).filter((session) =>\n\t\t\t\tsession.lastContact > Date.now() / 1000 - COLLABORATOR_DISCONNECT_TIME\n\t\t\t\t\t&& (session.userId !== null || session.guestName !== null)\n\t\t\t).sort((a, b) => a.lastContact < b.lastContact)\n\t\t},\n\t\tcurrentSession() {\n\t\t\treturn Object.values(this.sessions).find((session) => session.isCurrent)\n\t\t},\n\t\tavatarStyle() {\n\t\t\treturn (session) => {\n\t\t\t\treturn {\n\t\t\t\t\topacity: session.lastContact > Date.now() / 1000 - COLLABORATOR_IDLE_TIME ? 1 : 0.5,\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tsessionsVisible() {\n\t\t\treturn this.participantsWithoutCurrent.slice(0, 3)\n\t\t},\n\t},\n\n\tmethods: {\n\t\t...mapActions('text', [\n\t\t\t'setShowAuthorAnnotations',\n\t\t]),\n\t},\n}\n</script>\n\n<style scoped lang=\"scss\">\n\t.session-list {\n\t\theight: 44px;\n\t}\n\t.avatar-list {\n\t\tborder: none;\n\t\tbackground-color: var(--color-main-background);\n\t\tpadding: 0;\n\t\tmargin: 0;\n\t\tpadding-left: 3px;\n\t\tdisplay: inline-flex;\n\t\tflex-direction: row-reverse;\n\n\t\t.avatar-wrapper {\n\t\t\tmargin: 0 -18px 0 0;\n\t\t\tz-index: 1;\n\t\t\tborder-radius: 50%;\n\t\t\toverflow: hidden;\n\t\t\tbox-sizing: content-box !important;\n\t\t\theight: 36px;\n\t\t\twidth: 36px;\n\t\t}\n\n\t\t.icon-more, .icon-group, .icon-settings-dark {\n\t\t\twidth: 44px;\n\t\t\theight: 44px;\n\t\t\tmargin: 0 3px 0 0;\n\n\t\t\t&:hover {\n\t\t\t\tbackground-color: var(--color-background-hover);\n\t\t\t}\n\t\t}\n\t}\n\n\t.session-menu {\n\t\tmax-width: 280px;\n\t\tpadding-top: 6px;\n\t\tpadding-bottom: 6px;\n\n\t\tul li {\n\t\t\talign-items: center;\n\t\t\tdisplay: flex;\n\t\t\tpadding: 6px;\n\n\t\t\t.avatar-wrapper {\n\t\t\t\theight: 36px;\n\t\t\t\twidth: 36px;\n\t\t\t\tmargin-right: 6px;\n\t\t\t}\n\n\t\t\t.session-label {\n\t\t\t\tpadding-right: 3px;\n\t\t\t}\n\t\t\t.guest-label {\n\t\t\t\tpadding-left: 3px;\n\t\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t\t}\n\t\t}\n\t}\n\n\tlabel {\n\t\tdisplay: block;\n\t\tmargin: 8px;\n\t}\n\n\t.hint {\n\t\tmargin: 8px;\n\t\tcolor: var(--color-text-maxcontrast);\n\t}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SessionList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SessionList.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SessionList.vue?vue&type=style&index=0&id=cc2cab58&prod&scoped=true&lang=scss&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SessionList.vue?vue&type=style&index=0&id=cc2cab58&prod&scoped=true&lang=scss&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./SessionList.vue?vue&type=template&id=cc2cab58&scoped=true&\"\nimport script from \"./SessionList.vue?vue&type=script&lang=js&\"\nexport * from \"./SessionList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SessionList.vue?vue&type=style&index=0&id=cc2cab58&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cc2cab58\",\n  null\n  \n)\n\nexport default component.exports"],"names":["___CSS_LOADER_EXPORT___","push","module","id","name","components","NcAvatar","props","session","type","required","size","default","computed","sessionAvatarStyle","sessionBackgroundStyle","guestInitial","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","_vm","this","_c","_self","staticClass","style","userId","attrs","guestName","_v","_s","AvatarWrapper","NcPopover","directives","tooltip","mixins","sessions","data","myName","mapState","storeShowAuthorAnnotations","label","showAuthorAnnotations","get","set","participantsPopover","participantsWithoutCurrent","participants","currentSession","avatarStyle","opacity","sessionsVisible","methods","mapActions","scopedSlots","_u","key","fn","_t","_l","displayName","t","_e","proxy","rawName","value","expression","modifiers","slot"],"sourceRoot":""}