{"version":3,"sources":["webpack:///src/components/MenuBar.vue","webpack:///src/components/MenuBubble.vue","webpack:///src/views/RichWorkspace.vue","webpack:///./src/components/MenuBar.vue?98bd","webpack:///./src/components/MenuBubble.vue?0747","webpack:///./src/views/RichWorkspace.vue?d7d3","webpack:///./src/components/MenuBar.vue?9bff","webpack:///./src/components/MenuBubble.vue?e2cb","webpack:///./src/views/RichWorkspace.vue?bafb","webpack:///./src/components/MenuBar.vue?8806","webpack:///./src/components/MenuBubble.vue?41cb","webpack:///./src/views/RichWorkspace.vue?0ed6","webpack:///./src/components/MenuBar.vue","webpack:///./src/components/MenuBar.vue?c014","webpack:///./src/components/MenuBar.vue?830a","webpack:///./src/components/MenuBar.vue?35ac","webpack:///./src/components/MenuBubble.vue","webpack:///./src/components/MenuBubble.vue?7a05","webpack:///./src/components/MenuBubble.vue?8c7d","webpack:///./src/components/MenuBubble.vue?24ee","webpack:///./src/helpers/files.js","webpack:///./src/helpers/mime.js","webpack:///./src/mixins/menubar.js","webpack:///./src/views/RichWorkspace.vue","webpack:///./src/views/RichWorkspace.vue?d0bc","webpack:///./src/views/RichWorkspace.vue?c9b2","webpack:///./src/views/RichWorkspace.vue?eff2"],"names":["FILE_ACTION_IDENTIFIER","optimalPath","from","to","current","split","target","pop","shift","relativePath","fill","concat","absolutePath","length","join","registerFileCreate","newFileMenuPlugin","attach","menu","fileList","id","addMenuEntry","displayName","t","templateName","iconClass","fileType","actionHandler","name","createFile","then","status","data","fileInfoModel","OCA","Files","FileInfoModel","Viewer","fileActions","triggerAction","OC","Plugins","register","registerFileActionFallback","sharingToken","document","getElementById","value","dir","ViewerRoot","createElement","body","appendChild","registerAction","mime","PERMISSION_UPDATE","PERMISSION_READ","filename","file","window","FileList","findFile","Promise","all","imports","path","getCurrentDirectory","Vue","default","prototype","n","Editor","vm","render","h","props","fileId","active","shareToken","mimeType","mimetype","$mount","i","openMimetypes","setDefault","FilesWorkspacePlugin","el","registerHeader","bind","priority","module","View","extend","RichWorkspace","propsData","store","$el","on","toString","openMimetypesMarkdown","openMimetypesPlainText","label","class","isActive","isDisabled","command","undoDepth","action","undo","redoDepth","redo","strong","em","strike","visible","children","heading","level","bullet_list","bullet_list_item","ordered_list","todo_item","blockquote","code_block"],"mappings":"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WAAO,aAAa,E;;;;;;;;;;;;ACZnC;AAAA;AAAA;AAAA;AAA4F;AAC5F,YAAgU;;AAEhU;;AAEA;AACA;;AAEA,aAAa,0GAAG,CAAC,ySAAO;;;;AAIT,wWAAO,aAAa,E;;;;;;;;;;;;ACZnC;AAAA;AAAA;AAAA;AAA4F;AAC5F,YAAmU;;AAEnU;;AAEA;AACA;;AAEA,aAAa,0GAAG,CAAC,4SAAO;;;;AAIT,2WAAO,aAAa,E;;;;;;;;;;;;ACZnC;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA,YAAY,qBAAqB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B,iBAAiB;AACjB;AACA;AACA;AACA;AACA,yBAAyB,+CAA+C;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,oBAAoB;AACtE;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,mBAAmB;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;;;;;;;;ACjLA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,qBAAqB;AACjC,SAAS,yBAAyB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,6BAA6B;AACrD;AACA,6CAA6C,+BAA+B;AAC5E,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,wCAAwC;AAC1E,qCAAqC,qBAAqB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,kCAAkC,gCAAgC;AAClE;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,+BAA+B;AACjE;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA,sCAAsC,2BAA2B;AACjE;AACA;AACA;AACA,6BAA6B,wCAAwC;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,+BAA+B;AACjE;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA,sCAAsC,2BAA2B;AACjE;AACA;AACA;AACA,6BAA6B,wCAAwC;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;;;;;;;;A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","file":"editor-rich.js?v=e57626c4dac87889956e","sourcesContent":["<!--\n  - @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<EditorMenuBar v-slot=\"{ commands, isActive, focused }\" :editor=\"editor\">\n\t\t<div class=\"menubar\" :class=\"{ 'is-focused': focused, 'autohide': autohide }\">\n\t\t\t<div v-if=\"isRichEditor\" ref=\"menubar\" class=\"menubar-icons\">\n\t\t\t\t<template v-for=\"(icon, $index) in allIcons\">\n\t\t\t\t\t<button v-if=\"icon.class\"\n\t\t\t\t\t\tv-show=\"$index < iconCount\"\n\t\t\t\t\t\t:key=\"icon.label\"\n\t\t\t\t\t\t:title=\"icon.label\"\n\t\t\t\t\t\t:class=\"getIconClasses(isActive, icon)\"\n\t\t\t\t\t\t:disabled=\"disabled(commands, icon)\"\n\t\t\t\t\t\t@click=\"clickIcon(commands, icon)\" />\n\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t<div v-show=\"$index < iconCount || !icon.class\"\n\t\t\t\t\t\t\t:key=\"icon.label\"\n\t\t\t\t\t\t\tv-click-outside=\"() => hideChildMenu(icon)\"\n\t\t\t\t\t\t\tclass=\"submenu\">\n\t\t\t\t\t\t\t<button :class=\"childIconClasses(isActive, icon.children, )\"\n\t\t\t\t\t\t\t\t:title=\"icon.label\"\n\t\t\t\t\t\t\t\t@click.prevent=\"toggleChildMenu(icon)\" />\n\t\t\t\t\t\t\t<div :class=\"{open: isChildMenuVisible(icon)}\" class=\"popovermenu menu-center\">\n\t\t\t\t\t\t\t\t<PopoverMenu :menu=\"childPopoverMenu(isActive, commands, icon.children, icon)\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t</template>\n\t\t\t\t<Actions>\n\t\t\t\t\t<template v-for=\"(icon, $index) in allIcons\">\n\t\t\t\t\t\t<ActionButton v-if=\"icon.class && isHiddenInMenu($index)\"\n\t\t\t\t\t\t\t:key=\"icon.class\"\n\t\t\t\t\t\t\t:icon=\"icon.class\"\n\t\t\t\t\t\t\t@click=\"clickIcon(commands, icon)\">\n\t\t\t\t\t\t\t{{ icon.label }}\n\t\t\t\t\t\t</ActionButton>\n\t\t\t\t\t\t<!--<template v-else-if=\"!icon.class && isHiddenInMenu($index)\">\n\t\t\t\t\t\t\t<ActionButton v-for=\"childIcon in icon.children\"\n\t\t\t\t\t\t\t\t:key=\"childIcon.class\"\n\t\t\t\t\t\t\t\t:icon=\"childIcon.class\"\n\t\t\t\t\t\t\t\t@click=\"clickIcon(commands, childIcon)\">\n\t\t\t\t\t\t\t\t{{ childIcon.label }}\n\t\t\t\t\t\t\t</ActionButton>\n\t\t\t\t\t\t</template>-->\n\t\t\t\t\t</template>\n\t\t\t\t</Actions>\n\t\t\t</div>\n\t\t\t<slot>\n\t\t\t\tLeft side\n\t\t\t</slot>\n\t\t</div>\n\t</EditorMenuBar>\n</template>\n\n<script>\nimport { EditorMenuBar } from 'tiptap'\nimport Tooltip from '@nextcloud/vue/dist/Directives/Tooltip'\nimport menuBarIcons from './../mixins/menubar'\nimport { optimalPath } from './../helpers/files'\n\nimport Actions from '@nextcloud/vue/dist/Components/Actions'\nimport ActionButton from '@nextcloud/vue/dist/Components/ActionButton'\nimport PopoverMenu from '@nextcloud/vue/dist/Components/PopoverMenu'\nimport ClickOutside from 'vue-click-outside'\nimport { getCurrentUser } from '@nextcloud/auth'\n\nexport default {\n\tname: 'MenuBar',\n\tcomponents: {\n\t\tEditorMenuBar,\n\t\tActionButton,\n\t\tPopoverMenu,\n\t\tActions,\n\t},\n\tdirectives: {\n\t\tTooltip,\n\t\tClickOutside,\n\t},\n\tprops: {\n\t\teditor: {\n\t\t\ttype: Object,\n\t\t\trequired: false,\n\t\t\tdefault: null,\n\t\t},\n\t\tisRichEditor: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tautohide: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tisPublic: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tfilePath: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: '',\n\t\t},\n\t},\n\tdata: () => {\n\t\treturn {\n\t\t\twindowWidth: 0,\n\t\t\twindowHeight: 0,\n\t\t\tforceRecompute: 0,\n\t\t\tsubmenuVisibility: {},\n\t\t\tlastImagePath: null,\n\t\t\ticons: [...menuBarIcons],\n\t\t}\n\t},\n\tcomputed: {\n\t\tisHiddenInMenu() {\n\t\t\treturn ($index) => $index - this.iconCount >= 0\n\t\t},\n\t\tgetIconClasses() {\n\t\t\treturn (isActive, icon) => {\n\t\t\t\tconst classes = {\n\t\t\t\t\t'is-active': typeof icon.isActive === 'function' ? icon.isActive(isActive) : false,\n\t\t\t\t}\n\t\t\t\tclasses[icon.class] = true\n\t\t\t\treturn classes\n\t\t\t}\n\t\t},\n\t\tdisabled() {\n\t\t\treturn (commands, menuItem) => {\n\t\t\t\treturn false\n\t\t\t\t// FIXME with this we seem to be running into an endless rerender loop, so this needs more investigation at some later point\n\t\t\t\t// typeof menuItem.isDisabled === 'function' ? menuItem.isDisabled()(commands) : false\n\t\t\t}\n\t\t},\n\t\tisChildMenuVisible() {\n\t\t\treturn (icon) => {\n\t\t\t\treturn Object.prototype.hasOwnProperty.call(this.submenuVisibility, icon.label) ? this.submenuVisibility[icon.label] : false\n\t\t\t}\n\t\t},\n\t\tallIcons() {\n\t\t\tif (this.isPublic) {\n\t\t\t\treturn this.icons\n\t\t\t}\n\t\t\treturn [...this.icons, {\n\t\t\t\tlabel: t('text', 'Insert image'),\n\t\t\t\tclass: 'icon-image',\n\t\t\t\tisActive: () => {\n\t\t\t\t},\n\t\t\t\taction: (commands) => {\n\t\t\t\t\tthis.showImagePrompt(commands.image)\n\t\t\t\t},\n\t\t\t}]\n\t\t},\n\t\tchildPopoverMenu() {\n\t\t\treturn (isActive, commands, icons, parent) => {\n\t\t\t\tconst popoverMenuItems = []\n\t\t\t\tfor (const index in icons) {\n\t\t\t\t\tpopoverMenuItems.push({\n\t\t\t\t\t\ttext: icons[index].label,\n\t\t\t\t\t\ticon: icons[index].class,\n\t\t\t\t\t\taction: () => {\n\t\t\t\t\t\t\ticons[index].action(commands)\n\t\t\t\t\t\t\tthis.hideChildMenu(parent)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tactive: icons[index].isActive(isActive),\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\treturn popoverMenuItems\n\t\t\t}\n\t\t},\n\t\tchildIconClasses() {\n\t\t\treturn (isActive, icons) => {\n\t\t\t\tconst icon = this.childIcon(isActive, icons)\n\t\t\t\treturn this.getIconClasses(isActive, icon)\n\t\t\t}\n\t\t},\n\t\tchildIcon() {\n\t\t\treturn (isActive, icons) => {\n\t\t\t\tfor (const index in icons) {\n\t\t\t\t\tconst icon = icons[index]\n\t\t\t\t\tif (icon.isActive(isActive)) {\n\t\t\t\t\t\treturn icon\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn icons[0]\n\t\t\t}\n\t\t},\n\t\ticonCount() {\n\t\t\tthis.forceRecompute // eslint-disable-line\n\t\t\tthis.windowWidth // eslint-disable-line\n\t\t\tconst menuBarWidth = this.$refs.menubar && this.$refs.menubar.clientWidth > 200 ? this.$refs.menubar.clientWidth : 200\n\t\t\tconst iconCount = Math.max((Math.floor(menuBarWidth / 44) - 2), 0)\n\t\t\treturn iconCount\n\t\t},\n\t\timagePath() {\n\t\t\treturn this.lastImagePath\n\t\t\t\t|| this.filePath.split('/').slice(0, -1).join('/')\n\t\t},\n\t},\n\tmounted() {\n\t\twindow.addEventListener('resize', this.getWindowWidth)\n\t\tthis.checkInterval = setInterval(() => {\n\t\t\tconst isWidthAvailable = (this.$refs.menubar && this.$refs.menubar.clientWidth > 0)\n\t\t\tif (this.isRichEditor && isWidthAvailable) {\n\t\t\t\tthis.redrawMenuBar()\n\t\t\t}\n\t\t\tif (!this.isRichEditor || isWidthAvailable) {\n\t\t\t\tclearInterval(this.checkInterval)\n\t\t\t}\n\t\t}, 100)\n\t},\n\tbeforeDestroy() {\n\t\twindow.removeEventListener('resize', this.getWindowWidth)\n\t},\n\tmethods: {\n\t\tredrawMenuBar() {\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.getWindowWidth()\n\t\t\t\tthis.forceRecompute++\n\t\t\t})\n\t\t},\n\t\tclickIcon(commands, icon) {\n\t\t\treturn icon.action(commands)\n\t\t},\n\t\tgetWindowWidth(event) {\n\t\t\tthis.windowWidth = document.documentElement.clientWidth\n\t\t},\n\t\tgetWindowHeight(event) {\n\t\t\tthis.windowHeight = document.documentElement.clientHeight\n\t\t},\n\t\thideChildMenu(icon) {\n\t\t\tthis.$set(this.submenuVisibility, icon.label, false)\n\t\t},\n\t\ttoggleChildMenu(icon) {\n\t\t\tconst lastValue = Object.prototype.hasOwnProperty.call(this.submenuVisibility, icon.label) ? this.submenuVisibility[icon.label] : false\n\t\t\tthis.$set(this.submenuVisibility, icon.label, !lastValue)\n\t\t},\n\t\tshowImagePrompt(command) {\n\t\t\tconst currentUser = getCurrentUser()\n\t\t\tif (!currentUser) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tconst _command = command\n\t\t\tOC.dialogs.filepicker(t('text', 'Insert an image'), (file) => {\n\t\t\t\tconst client = OC.Files.getClient()\n\t\t\t\tclient.getFileInfo(file).then((_status, fileInfo) => {\n\t\t\t\t\tthis.lastImagePath = fileInfo.path\n\n\t\t\t\t\t// dirty but works so we have the information stored in markdown\n\t\t\t\t\tconst appendMeta = {\n\t\t\t\t\t\tmimetype: fileInfo.mimetype,\n\t\t\t\t\t\thasPreview: fileInfo.hasPreview,\n\t\t\t\t\t}\n\t\t\t\t\tconst path = optimalPath(this.filePath, `${fileInfo.path}/${fileInfo.name}`)\n\t\t\t\t\tconst encodedPath = path.split('/').map(encodeURIComponent).join('/')\n\t\t\t\t\tconst meta = Object.entries(appendMeta).map(([key, val]) => `${key}=${encodeURIComponent(val)}`).join('&')\n\t\t\t\t\tconst src = `${encodedPath}?fileId=${fileInfo.id}#${meta}`\n\n\t\t\t\t\t_command({\n\t\t\t\t\t\tsrc,\n\t\t\t\t\t\talt: fileInfo.name,\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t}, false, [], true, undefined, this.imagePath)\n\t\t},\n\t\tshowLinkPrompt(command) {\n\t\t\tconst currentUser = OC.getCurrentUser()\n\t\t\tif (!currentUser) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tconst _command = command\n\t\t\tOC.dialogs.filepicker('Insert a link', (file) => {\n\t\t\t\tconst client = OC.Files.getClient()\n\t\t\t\tclient.getFileInfo(file).then((_status, fileInfo) => {\n\t\t\t\t\tthis.lastLinkPath = fileInfo.path\n\t\t\t\t\tconst path = this.optimalPathTo(`${fileInfo.path}/${fileInfo.name}`)\n\t\t\t\t\tconst encodedPath = path.split('/').map(encodeURIComponent).join('/')\n\t\t\t\t\tconst href = `${encodedPath}?fileId=${fileInfo.id}`\n\n\t\t\t\t\t_command({\n\t\t\t\t\t\thref,\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t}, false, [], true, undefined, this.linkPath)\n\t\t},\n\t\toptimalPathTo(targetFile) {\n\t\t\tconst absolutePath = targetFile.split('/')\n\t\t\tconst relativePath = this.relativePathTo(targetFile).split('/')\n\t\t\treturn relativePath.length < absolutePath.length\n\t\t\t\t? relativePath.join('/')\n\t\t\t\t: targetFile\n\t\t},\n\t\trelativePathTo(targetFile) {\n\t\t\tconst current = this.filePath.split('/')\n\t\t\tconst target = targetFile.split('/')\n\t\t\tcurrent.pop() // ignore filename\n\t\t\twhile (current[0] === target[0]) {\n\t\t\t\tcurrent.shift()\n\t\t\t\ttarget.shift()\n\t\t\t}\n\t\t\treturn current.fill('..').concat(target).join('/')\n\t\t},\n\t},\n}\n</script>\n\n<style scoped lang=\"scss\">\n\t.menubar {\n\t\t--background-blur: blur(10px);\n\t\tposition: fixed;\n\t\tposition: -webkit-sticky;\n\t\tposition: sticky;\n\t\ttop: 0;\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t\tz-index: 10021; // above modal-header and menububble so menubar is always on top\n\t\tbackground-color: var(--color-main-background-translucent);\n\t\t-webkit-backdrop-filter: var(--background-blur);\n\t\tbackdrop-filter: var(--background-blur);\n\t\tmin-height: 50px; // important for mobile so that the buttons are always inside the container\n\t\tpadding-top:3px;\n\t\tpadding-bottom: 3px;\n\n\t\t&.autohide {\n\t\t\tvisibility: hidden;\n\t\t\topacity: 0;\n\t\t\ttransition: visibility 0.2s 0.4s, opacity 0.2s 0.4s;\n\t\t\t&.is-focused {\n\t\t\t\tvisibility: visible;\n\t\t\t\topacity: 1;\n\t\t\t}\n\t\t}\n\t\t.menubar-icons {\n\t\t\tflex-grow: 1;\n\t\t\tmargin-left: calc((100% - 660px) / 2);\n\t\t}\n\t\t@media (max-width: 660px) {\n\t\t\t.menubar-icons {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\t\t}\n\t\t&::v-deep .action-item__menu ul {\n\t\t\tmax-height: calc(100vh - 88px);\n\t\t\toverflow: scroll;\n\t\t}\n\t}\n\n\t.menubar button {\n\t\tposition: relative;\n\t\twidth: 44px;\n\t\theight: 44px;\n\t\tmargin: 0;\n\t\tbackground-size: 16px;\n\t\tborder: 0;\n\t\tbackground-color: transparent;\n\t\topacity: .5;\n\t\tcolor: var(--color-main-text);\n\t\tbackground-position: center center;\n\t\tvertical-align: top;\n\t\t&:hover, &:focus, &:active {\n\t\t\tbackground-color: var(--color-background-dark);\n\t\t}\n\n\t\t&.is-active::before {\n\t\t\ttransform: translateX(-50%);\n\t\t\tborder-radius: 100%;\n\t\t\tposition: absolute;\n\t\t\tbackground: var(--color-primary-element);\n\t\t\tbottom: 3px;\n\t\t\theight: 6px;\n\t\t\twidth: 6px;\n\t\t\tcontent: '';\n\t\t\tleft: 50%;\n\n\t\t}\n\t\t&.is-active,\n\t\t&:hover,\n\t\t&:focus {\n\t\t\topacity: 1;\n\t\t}\n\n\t\t&.icon-undo,\n\t\t&.icon-redo {\n\t\t\topacity: .8;\n\n\t\t\t&:disabled {\n\t\t\t\topacity: .4;\n\t\t\t}\n\t\t}\n\t}\n\n\t.menubar .submenu {\n\t\tdisplay: inline-block;\n\t\twidth: 44px;\n\t\theight: 44px;\n\t\tposition: relative;\n\t\tvertical-align: top;\n\t}\n</style>\n","<!--\n  - @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<EditorMenuBubble v-slot=\"{ commands, isActive, getMarkAttrs, menu }\"\n\t\tclass=\"menububble\"\n\t\t:editor=\"editor\"\n\t\t@hide=\"hideLinkMenu\">\n\t\t<div class=\"menububble\" :class=\"{ 'is-active': menu.isActive }\" :style=\"`left: ${menu.left}px; bottom: ${menu.bottom}px;`\">\n\t\t\t<form v-if=\"linkMenuIsActive\" class=\"menububble__form\" @submit.prevent=\"setLinkUrl(commands.link, linkUrl)\">\n\t\t\t\t<input ref=\"linkInput\"\n\t\t\t\t\tv-model=\"linkUrl\"\n\t\t\t\t\tclass=\"menububble__input\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tplaceholder=\"https://\"\n\t\t\t\t\t@keydown.esc=\"hideLinkMenu\">\n\t\t\t\t<button class=\"menububble__button icon-confirm\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t@click=\"setLinkUrl(commands.link, linkUrl)\" />\n\t\t\t</form>\n\n\t\t\t<template v-else>\n\t\t\t\t<button\n\t\t\t\t\tclass=\"menububble__button\"\n\t\t\t\t\t:class=\"{ 'is-active': isActive.link() }\"\n\t\t\t\t\t@click=\"showLinkMenu(getMarkAttrs('link'))\">\n\t\t\t\t\t<span class=\"icon-link\" />\n\t\t\t\t\t<span class=\"menububble__buttontext\">\n\t\t\t\t\t\t{{ t('text', isActive.link() ? 'Update Link' : 'Add Link') }}\n\t\t\t\t\t</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tclass=\"menububble__button\"\n\t\t\t\t\t:class=\"{ 'is-active': isActive.link() }\"\n\t\t\t\t\t@click=\"selectFile(commands.link)\">\n\t\t\t\t\t<span class=\"icon-file\" />\n\t\t\t\t\t<span class=\"menububble__buttontext\">{{ t('text', 'Link file') }}</span>\n\t\t\t\t</button>\n\t\t\t</template>\n\t\t</div>\n\t</EditorMenuBubble>\n</template>\n\n<script>\nimport { EditorMenuBubble } from 'tiptap'\nimport Tooltip from '@nextcloud/vue/dist/Directives/Tooltip'\nimport { optimalPath } from './../helpers/files'\n\nexport default {\n\tname: 'MenuBubble',\n\tcomponents: {\n\t\tEditorMenuBubble,\n\t},\n\tdirectives: {\n\t\ttooltip: Tooltip,\n\t},\n\tprops: {\n\t\teditor: {\n\t\t\ttype: Object,\n\t\t\trequired: false,\n\t\t\tdefault: null,\n\t\t},\n\t\tfilePath: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: '',\n\t\t},\n\t},\n\tdata: () => {\n\t\treturn {\n\t\t\tlinkUrl: null,\n\t\t\tlinkMenuIsActive: false,\n\t\t}\n\t},\n\tmethods: {\n\t\tshowLinkMenu(attrs) {\n\t\t\tthis.linkUrl = attrs.href\n\t\t\tthis.linkMenuIsActive = true\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.$refs.linkInput.focus()\n\t\t\t})\n\t\t},\n\t\thideLinkMenu() {\n\t\t\tthis.linkUrl = null\n\t\t\tthis.linkMenuIsActive = false\n\t\t},\n\t\tselectFile(command) {\n\t\t\tconst currentUser = OC.getCurrentUser()\n\t\t\tif (!currentUser) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tconst startPath = this.filePath.split('/').slice(0, -1).join('/')\n\t\t\tOC.dialogs.filepicker(t('text', 'Select file to link to'), (file) => {\n\t\t\t\tconst client = OC.Files.getClient()\n\t\t\t\tclient.getFileInfo(file).then((_status, fileInfo) => {\n\t\t\t\t\tconst path = optimalPath(this.filePath, `${fileInfo.path}/${fileInfo.name}`)\n\t\t\t\t\tconst encodedPath = path.split('/').map(encodeURIComponent).join('/')\n\t\t\t\t\tcommand({ href: `${encodedPath}?fileId=${fileInfo.id}` })\n\t\t\t\t\tthis.hideLinkMenu()\n\t\t\t\t})\n\t\t\t}, false, [], true, undefined, startPath)\n\t\t},\n\t\tsetLinkUrl(command, url) {\n\t\t\t// Heuristics for determining if we need a https:// prefix.\n\t\t\tconst noPrefixes = [\n\t\t\t\t/^[a-zA-Z]+:/, // url with protocol (\"mailTo:email@domain.tld\")\n\t\t\t\t/^\\//, // absolute path\n\t\t\t\t/\\?fileId=/, // relative link with fileId\n\t\t\t\t/^\\.\\.?\\//, // relative link starting with ./ or ../\n\t\t\t\t/^[^.]*[/$]/, // no dots before first '/' - not a domain name\n\t\t\t\t/^#/, // url fragment\n\t\t\t]\n\t\t\tif (url && !noPrefixes.find(regex => url.match(regex))) {\n\t\t\t\turl = 'https://' + url\n\t\t\t}\n\t\t\tcommand({ href: url })\n\t\t\tthis.hideLinkMenu()\n\t\t},\n\t},\n}\n</script>\n\n<style scoped lang=\"scss\">\n\t.menububble {\n\t\tposition: absolute;\n\t\tdisplay: flex;\n\t\tz-index: 10020;\n\t\tbackground: var(--color-main-background-translucent);\n\t\tbox-shadow: 0 1px 5px var(--color-box-shadow);\n\t\tborder-radius: var(--border-radius-large);\n\t\toverflow: hidden;\n\t\tpadding: 0;\n\t\tmargin-bottom: -3px;\n\t\tmargin-left: 10px;\n\t\tvisibility: hidden;\n\t\topacity: 0;\n\t\ttransform: translateX(-50%);\n\t\ttransition: opacity 0.2s, visibility 0.2s;\n\t\theight: 44px;\n\n\t\t&.is-active {\n\t\t\topacity: 1;\n\t\t\tvisibility: visible;\n\t\t}\n\n\t\t&__button {\n\t\t\tdisplay: block;\n\t\t\tflex-grow: 1;\n\t\t\tborder: 0;\n\t\t\tpadding: 0.9rem 0.7rem;\n\t\t\tmargin: 0;\n\t\t\tborder-radius: 0;\n\t\t\tcursor: pointer;\n\t\t\tbackground-color: var(--color-main-background);\n\t\t\tborder-right: 1px solid var(--color-border);\n\n\t\t\t&:focus,\n\t\t\t&:hover {\n\t\t\t\tbackground-color: var(--color-background-hover);\n\t\t\t\tborder: 0;\n\t\t\t\tborder-right: 1px solid var(--color-border) !important;\n\t\t\t}\n\n\t\t\t&:last-child {\n\t\t\t\tborder: 0 !important;\n\t\t\t}\n\t\t}\n\n\t\t&__buttontext {\n\t\t\tpadding: 0.4rem;\n\t\t\tpadding-right: 0;\n\t\t}\n\n\t\t&__form {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t}\n\n\t\t&__input {\n\t\t\tfont: inherit;\n\t\t\tborder: none;\n\t\t\tbackground: transparent;\n\t\t\tmin-width: 150px;\n\t\t}\n\t}\n</style>\n","<!--\n  - @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<div v-if=\"enabled\" id=\"rich-workspace\" :class=\"{'icon-loading': !loaded || !ready, 'focus': focus, 'dark': darkTheme, 'creatable': canCreate}\">\n\t\t<div v-if=\"showEmptyWorkspace\" class=\"empty-workspace\" @click=\"createNew\">\n\t\t\t<p class=\"placeholder\">\n\t\t\t\t{{ t('text', 'Add notes, lists or links …') }}\n\t\t\t</p>\n\t\t</div>\n\n\t\t<EditorWrapper v-if=\"file\"\n\t\t\tv-show=\"ready\"\n\t\t\t:key=\"file.id\"\n\t\t\t:file-id=\"file.id\"\n\t\t\t:relative-path=\"file.path\"\n\t\t\t:share-token=\"shareToken\"\n\t\t\t:active=\"true\"\n\t\t\t:autohide=\"true\"\n\t\t\t:mime=\"file.mimetype\"\n\t\t\t:autofocus=\"autofocus\"\n\t\t\t@ready=\"ready=true\"\n\t\t\t@focus=\"focus=true\"\n\t\t\t@blur=\"unfocus\"\n\t\t\t@error=\"reset\" />\n\t</div>\n</template>\n\n<script>\nimport axios from '@nextcloud/axios'\nimport { generateOcsUrl } from '@nextcloud/router'\nimport { subscribe } from '@nextcloud/event-bus'\n\nconst IS_PUBLIC = !!(document.getElementById('isPublic'))\nconst WORKSPACE_URL = generateOcsUrl('apps/text' + (IS_PUBLIC ? '/public' : ''), 2) + 'workspace'\n\nexport default {\n\tname: 'RichWorkspace',\n\tcomponents: {\n\t\tEditorWrapper: () => import(/* webpackChunkName: \"editor\" */'./../components/EditorWrapper'),\n\t},\n\tprops: {\n\t\tpath: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tfocus: false,\n\t\t\tfolder: null,\n\t\t\tfile: null,\n\t\t\tloaded: false,\n\t\t\tready: false,\n\t\t\tautofocus: false,\n\t\t\tdarkTheme: OCA.Accessibility && OCA.Accessibility.theme === 'dark',\n\t\t\tenabled: OCA.Text.RichWorkspaceEnabled,\n\t\t}\n\t},\n\tcomputed: {\n\t\tshareToken() {\n\t\t\treturn document.getElementById('sharingToken') ? document.getElementById('sharingToken').value : null\n\t\t},\n\t\tcanCreate() {\n\t\t\treturn !!(this.folder && (this.folder.permissions & OC.PERMISSION_CREATE))\n\t\t},\n\t\tshowEmptyWorkspace() {\n\t\t\treturn (!this.file || (this.autofocus && !this.ready)) && this.canCreate\n\t\t},\n\t},\n\twatch: {\n\t\tpath() {\n\t\t\tthis.getFileInfo()\n\t\t},\n\t\tfocus(newValue) {\n\t\t\tif (!newValue) {\n\t\t\t\tdocument.querySelector('#editor').scrollTo(0, 0)\n\t\t\t}\n\t\t},\n\t},\n\tasync mounted() {\n\t\tif (this.enabled) {\n\t\t\tthis.getFileInfo()\n\t\t}\n\t\tsubscribe('Text::showRichWorkspace', () => {\n\t\t\tthis.enabled = true\n\t\t\tthis.getFileInfo()\n\t\t})\n\t\tsubscribe('Text::hideRichWorkspace', () => {\n\t\t\tthis.enabled = false\n\t\t})\n\t},\n\tmethods: {\n\t\tunfocus() {\n\t\t\t// setTimeout(() => this.focus = false, 2000)\n\t\t},\n\t\treset() {\n\t\t\tthis.file = null\n\t\t\tthis.focus = false\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.creating = false\n\t\t\t\tthis.getFileInfo()\n\t\t\t})\n\t\t},\n\t\tgetFileInfo() {\n\t\t\tthis.loaded = false\n\t\t\tthis.autofocus = false\n\t\t\tthis.ready = false\n\t\t\tconst params = { path: this.path }\n\t\t\tif (IS_PUBLIC) {\n\t\t\t\tparams.shareToken = this.shareToken\n\t\t\t}\n\t\t\treturn axios.get(WORKSPACE_URL, { params }).then((response) => {\n\t\t\t\tconst data = response.data.ocs.data\n\t\t\t\tthis.folder = data.folder || null\n\t\t\t\tthis.file = data.file\n\t\t\t\tthis.editing = true\n\t\t\t\tthis.loaded = true\n\t\t\t\treturn true\n\t\t\t}).catch((error) => {\n\t\t\t\tif (error.response.data.ocs && error.response.data.ocs.data.folder) {\n\t\t\t\t\tthis.folder = error.response.data.ocs.data.folder\n\t\t\t\t} else {\n\t\t\t\t\tthis.folder = null\n\t\t\t\t}\n\t\t\t\tthis.file = null\n\t\t\t\tthis.loaded = true\n\t\t\t\tthis.ready = true\n\t\t\t\tthis.creating = false\n\t\t\t\treturn false\n\t\t\t})\n\t\t},\n\t\tcreateNew() {\n\t\t\tif (this.creating) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.creating = true\n\t\t\tthis.getFileInfo().then((workspaceFileExists) => {\n\t\t\t\tthis.autofocus = true\n\t\t\t\tif (!workspaceFileExists) {\n\t\t\t\t\twindow.FileList.createFile('Readme.md', { scrollTo: false, animate: false }).then((status, data) => {\n\t\t\t\t\t\tthis.getFileInfo()\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\t#rich-workspace {\n\t\tpadding: 0 50px;\n\t\t/* Slightly reduce vertical space */\n\t\tmargin-bottom: -24px;\n\t\ttext-align: left;\n\t\tmax-height: 0;\n\t\ttransition: max-height 0.5s cubic-bezier(0, 1, 0, 1);\n\t\t&.creatable {\n\t\t\tmin-height: 90px;\n\t\t}\n\t}\n\n\t/* For subfolders, where there are no Recommendations */\n\t#rich-workspace:only-child {\n\t\tmargin-bottom: 0;\n\t}\n\n\t.empty-workspace {\n\t\tpadding-top: 43px;\n\t\tcolor: var(--color-text-maxcontrast);\n\t\theight: 0;\n\t}\n\n\t#rich-workspace::v-deep div[contenteditable=false] {\n\t\twidth: 100%;\n\t\tpadding: 0px;\n\t\tbackground-color: var(--color-main-background);\n\t\topacity: 1;\n\t\tborder: none;\n\t}\n\n\t#rich-workspace::v-deep #editor-container {\n\t\theight: 100%;\n\t\tposition: unset !important;\n\t\ttop: auto !important;\n\t}\n\n\t#rich-workspace::v-deep #editor-wrapper {\n\t\tposition: unset !important;\n\t\toverflow: visible;\n\t}\n\n\t#rich-workspace::v-deep #editor {\n\t\toverflow: visible !important;\n\t}\n\t#rich-workspace::v-deep .content-wrapper {\n\t\toverflow: scroll !important;\n\t\tmax-height: 50vh;\n\t\tmax-height: calc(40vh - 50px);\n\t\tpadding-left: 10px;\n\t}\n\n\t#rich-workspace::v-deep #editor-wrapper .ProseMirror {\n\t\tpadding: 0px;\n\t\tmargin: 0;\n\t}\n\n\t#rich-workspace::v-deep .menubar {\n\t\tz-index: 61;\n\t\t/* Slightly reduce vertical space */\n\t\tmargin-bottom: -10px;\n\t}\n\n\t#rich-workspace::v-deep .menubar .menubar-icons {\n\t\tmargin-left: 0;\n\t}\n\n\t#rich-workspace::v-deep .editor__content {\n\t\tmargin: 0;\n\t}\n\n\t#rich-workspace.focus {\n\t\tmax-height: 50vh;\n\t}\n\n\t#rich-workspace:not(.focus) {\n\t\tmax-height: 30vh;\n\t\tposition: relative;\n\t\toverflow: hidden;\n\t}\n\n\t#rich-workspace:not(.focus):not(.icon-loading):after {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\tz-index: 1;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\tpointer-events: none;\n\t\tbackground-image: linear-gradient(to bottom, rgba(255, 255, 255, 0), var(--color-main-background));\n\t\twidth: 100%;\n\t\theight: 4em;\n\t}\n\n\t#rich-workspace.dark:not(.focus):not(.icon-loading):after {\n\t\tbackground-image: linear-gradient(to bottom, rgba(0, 0, 0, 0), var(--color-main-background));\n\t}\n\n\t@media only screen and (max-width: 1024px) {\n\t\t#rich-workspace:not(.focus) {\n\t\t\tmax-height: 30vh;\n\t\t}\n\t}\n\n\thtml.ie {\n\t\t#rich-workspace::v-deep {\n\t\t\t#editor-container {\n\t\t\t\tposition: initial;\n\t\t\t}\n\n\t\t\t#editor-wrapper {\n\t\t\t\tposition: relative !important;\n\t\t\t\ttop: auto !important;\n\t\t\t}\n\n\t\t\t#editor {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\toverflow: hidden !important;\n\t\t\t}\n\n\t\t\t.menubar {\n\t\t\t\tposition: relative;\n\t\t\t\toverflow: hidden;\n\t\t\t\tflex-shrink: 0;\n\t\t\t\theight: 44px;\n\t\t\t\ttop: auto;\n\t\t\t}\n\n\t\t\t#editor > div:nth-child(2) {\n\t\t\t\tmin-height: 44px;\n\t\t\t\toverflow-x: hidden;\n\t\t\t\toverflow-y: auto;\n\t\t\t\tflex-shrink: 1;\n\t\t\t}\n\t\t}\n\t}\n\n</style>\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".menubar[data-v-4a501398] {\\n  --background-blur: blur(10px);\\n  position: fixed;\\n  position: -webkit-sticky;\\n  position: sticky;\\n  top: 0;\\n  display: flex;\\n  justify-content: flex-end;\\n  z-index: 10021;\\n  background-color: var(--color-main-background-translucent);\\n  -webkit-backdrop-filter: var(--background-blur);\\n  backdrop-filter: var(--background-blur);\\n  min-height: 50px;\\n  padding-top: 3px;\\n  padding-bottom: 3px;\\n}\\n.menubar.autohide[data-v-4a501398] {\\n  visibility: hidden;\\n  opacity: 0;\\n  transition: visibility 0.2s 0.4s, opacity 0.2s 0.4s;\\n}\\n.menubar.autohide.is-focused[data-v-4a501398] {\\n  visibility: visible;\\n  opacity: 1;\\n}\\n.menubar .menubar-icons[data-v-4a501398] {\\n  flex-grow: 1;\\n  margin-left: calc((100% - 660px) / 2);\\n}\\n@media (max-width: 660px) {\\n.menubar .menubar-icons[data-v-4a501398] {\\n    margin-left: 0;\\n}\\n}\\n.menubar[data-v-4a501398] .action-item__menu ul {\\n  max-height: calc(100vh - 88px);\\n  overflow: scroll;\\n}\\n.menubar button[data-v-4a501398] {\\n  position: relative;\\n  width: 44px;\\n  height: 44px;\\n  margin: 0;\\n  background-size: 16px;\\n  border: 0;\\n  background-color: transparent;\\n  opacity: 0.5;\\n  color: var(--color-main-text);\\n  background-position: center center;\\n  vertical-align: top;\\n}\\n.menubar button[data-v-4a501398]:hover, .menubar button[data-v-4a501398]:focus, .menubar button[data-v-4a501398]:active {\\n  background-color: var(--color-background-dark);\\n}\\n.menubar button.is-active[data-v-4a501398]::before {\\n  transform: translateX(-50%);\\n  border-radius: 100%;\\n  position: absolute;\\n  background: var(--color-primary-element);\\n  bottom: 3px;\\n  height: 6px;\\n  width: 6px;\\n  content: \\\"\\\";\\n  left: 50%;\\n}\\n.menubar button.is-active[data-v-4a501398], .menubar button[data-v-4a501398]:hover, .menubar button[data-v-4a501398]:focus {\\n  opacity: 1;\\n}\\n.menubar button.icon-undo[data-v-4a501398], .menubar button.icon-redo[data-v-4a501398] {\\n  opacity: 0.8;\\n}\\n.menubar button.icon-undo[data-v-4a501398]:disabled, .menubar button.icon-redo[data-v-4a501398]:disabled {\\n  opacity: 0.4;\\n}\\n.menubar .submenu[data-v-4a501398] {\\n  display: inline-block;\\n  width: 44px;\\n  height: 44px;\\n  position: relative;\\n  vertical-align: top;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/MenuBar.vue\",\"webpack://./MenuBar.vue\"],\"names\":[],\"mappings\":\"AAqUA;EACC,6BAAA;EACA,eAAA;EACA,wBAAA;EACA,gBAAA;EACA,MAAA;EACA,aAAA;EACA,yBAAA;EACA,cAAA;EACA,0DAAA;EACA,+CAAA;EACA,uCAAA;EACA,gBAAA;EACA,gBAAA;EACA,mBAAA;ACpUD;ADsUC;EACC,kBAAA;EACA,UAAA;EACA,mDAAA;ACpUF;ADqUE;EACC,mBAAA;EACA,UAAA;ACnUH;ADsUC;EACC,YAAA;EACA,qCAAA;ACpUF;ADsUC;AACC;IACC,cAAA;ACpUD;AACF;ADsUC;EACC,8BAAA;EACA,gBAAA;ACpUF;ADwUA;EACC,kBAAA;EACA,WAAA;EACA,YAAA;EACA,SAAA;EACA,qBAAA;EACA,SAAA;EACA,6BAAA;EACA,YAAA;EACA,6BAAA;EACA,kCAAA;EACA,mBAAA;ACrUD;ADsUC;EACC,8CAAA;ACpUF;ADuUC;EACC,2BAAA;EACA,mBAAA;EACA,kBAAA;EACA,wCAAA;EACA,WAAA;EACA,WAAA;EACA,UAAA;EACA,WAAA;EACA,SAAA;ACrUF;ADwUC;EAGC,UAAA;ACxUF;AD2UC;EAEC,YAAA;AC1UF;AD4UE;EACC,YAAA;AC1UH;AD+UA;EACC,qBAAA;EACA,WAAA;EACA,YAAA;EACA,kBAAA;EACA,mBAAA;AC5UD\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n.menubar {\\n\\t--background-blur: blur(10px);\\n\\tposition: fixed;\\n\\tposition: -webkit-sticky;\\n\\tposition: sticky;\\n\\ttop: 0;\\n\\tdisplay: flex;\\n\\tjustify-content: flex-end;\\n\\tz-index: 10021; // above modal-header and menububble so menubar is always on top\\n\\tbackground-color: var(--color-main-background-translucent);\\n\\t-webkit-backdrop-filter: var(--background-blur);\\n\\tbackdrop-filter: var(--background-blur);\\n\\tmin-height: 50px; // important for mobile so that the buttons are always inside the container\\n\\tpadding-top:3px;\\n\\tpadding-bottom: 3px;\\n\\n\\t&.autohide {\\n\\t\\tvisibility: hidden;\\n\\t\\topacity: 0;\\n\\t\\ttransition: visibility 0.2s 0.4s, opacity 0.2s 0.4s;\\n\\t\\t&.is-focused {\\n\\t\\t\\tvisibility: visible;\\n\\t\\t\\topacity: 1;\\n\\t\\t}\\n\\t}\\n\\t.menubar-icons {\\n\\t\\tflex-grow: 1;\\n\\t\\tmargin-left: calc((100% - 660px) / 2);\\n\\t}\\n\\t@media (max-width: 660px) {\\n\\t\\t.menubar-icons {\\n\\t\\t\\tmargin-left: 0;\\n\\t\\t}\\n\\t}\\n\\t&::v-deep .action-item__menu ul {\\n\\t\\tmax-height: calc(100vh - 88px);\\n\\t\\toverflow: scroll;\\n\\t}\\n}\\n\\n.menubar button {\\n\\tposition: relative;\\n\\twidth: 44px;\\n\\theight: 44px;\\n\\tmargin: 0;\\n\\tbackground-size: 16px;\\n\\tborder: 0;\\n\\tbackground-color: transparent;\\n\\topacity: .5;\\n\\tcolor: var(--color-main-text);\\n\\tbackground-position: center center;\\n\\tvertical-align: top;\\n\\t&:hover, &:focus, &:active {\\n\\t\\tbackground-color: var(--color-background-dark);\\n\\t}\\n\\n\\t&.is-active::before {\\n\\t\\ttransform: translateX(-50%);\\n\\t\\tborder-radius: 100%;\\n\\t\\tposition: absolute;\\n\\t\\tbackground: var(--color-primary-element);\\n\\t\\tbottom: 3px;\\n\\t\\theight: 6px;\\n\\t\\twidth: 6px;\\n\\t\\tcontent: '';\\n\\t\\tleft: 50%;\\n\\n\\t}\\n\\t&.is-active,\\n\\t&:hover,\\n\\t&:focus {\\n\\t\\topacity: 1;\\n\\t}\\n\\n\\t&.icon-undo,\\n\\t&.icon-redo {\\n\\t\\topacity: .8;\\n\\n\\t\\t&:disabled {\\n\\t\\t\\topacity: .4;\\n\\t\\t}\\n\\t}\\n}\\n\\n.menubar .submenu {\\n\\tdisplay: inline-block;\\n\\twidth: 44px;\\n\\theight: 44px;\\n\\tposition: relative;\\n\\tvertical-align: top;\\n}\\n\",\".menubar {\\n  --background-blur: blur(10px);\\n  position: fixed;\\n  position: -webkit-sticky;\\n  position: sticky;\\n  top: 0;\\n  display: flex;\\n  justify-content: flex-end;\\n  z-index: 10021;\\n  background-color: var(--color-main-background-translucent);\\n  -webkit-backdrop-filter: var(--background-blur);\\n  backdrop-filter: var(--background-blur);\\n  min-height: 50px;\\n  padding-top: 3px;\\n  padding-bottom: 3px;\\n}\\n.menubar.autohide {\\n  visibility: hidden;\\n  opacity: 0;\\n  transition: visibility 0.2s 0.4s, opacity 0.2s 0.4s;\\n}\\n.menubar.autohide.is-focused {\\n  visibility: visible;\\n  opacity: 1;\\n}\\n.menubar .menubar-icons {\\n  flex-grow: 1;\\n  margin-left: calc((100% - 660px) / 2);\\n}\\n@media (max-width: 660px) {\\n  .menubar .menubar-icons {\\n    margin-left: 0;\\n  }\\n}\\n.menubar::v-deep .action-item__menu ul {\\n  max-height: calc(100vh - 88px);\\n  overflow: scroll;\\n}\\n\\n.menubar button {\\n  position: relative;\\n  width: 44px;\\n  height: 44px;\\n  margin: 0;\\n  background-size: 16px;\\n  border: 0;\\n  background-color: transparent;\\n  opacity: 0.5;\\n  color: var(--color-main-text);\\n  background-position: center center;\\n  vertical-align: top;\\n}\\n.menubar button:hover, .menubar button:focus, .menubar button:active {\\n  background-color: var(--color-background-dark);\\n}\\n.menubar button.is-active::before {\\n  transform: translateX(-50%);\\n  border-radius: 100%;\\n  position: absolute;\\n  background: var(--color-primary-element);\\n  bottom: 3px;\\n  height: 6px;\\n  width: 6px;\\n  content: \\\"\\\";\\n  left: 50%;\\n}\\n.menubar button.is-active, .menubar button:hover, .menubar button:focus {\\n  opacity: 1;\\n}\\n.menubar button.icon-undo, .menubar button.icon-redo {\\n  opacity: 0.8;\\n}\\n.menubar button.icon-undo:disabled, .menubar button.icon-redo:disabled {\\n  opacity: 0.4;\\n}\\n\\n.menubar .submenu {\\n  display: inline-block;\\n  width: 44px;\\n  height: 44px;\\n  position: relative;\\n  vertical-align: top;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".menububble[data-v-5496a10a] {\\n  position: absolute;\\n  display: flex;\\n  z-index: 10020;\\n  background: var(--color-main-background-translucent);\\n  box-shadow: 0 1px 5px var(--color-box-shadow);\\n  border-radius: var(--border-radius-large);\\n  overflow: hidden;\\n  padding: 0;\\n  margin-bottom: -3px;\\n  margin-left: 10px;\\n  visibility: hidden;\\n  opacity: 0;\\n  transform: translateX(-50%);\\n  transition: opacity 0.2s, visibility 0.2s;\\n  height: 44px;\\n}\\n.menububble.is-active[data-v-5496a10a] {\\n  opacity: 1;\\n  visibility: visible;\\n}\\n.menububble__button[data-v-5496a10a] {\\n  display: block;\\n  flex-grow: 1;\\n  border: 0;\\n  padding: 0.9rem 0.7rem;\\n  margin: 0;\\n  border-radius: 0;\\n  cursor: pointer;\\n  background-color: var(--color-main-background);\\n  border-right: 1px solid var(--color-border);\\n}\\n.menububble__button[data-v-5496a10a]:focus, .menububble__button[data-v-5496a10a]:hover {\\n  background-color: var(--color-background-hover);\\n  border: 0;\\n  border-right: 1px solid var(--color-border) !important;\\n}\\n.menububble__button[data-v-5496a10a]:last-child {\\n  border: 0 !important;\\n}\\n.menububble__buttontext[data-v-5496a10a] {\\n  padding: 0.4rem;\\n  padding-right: 0;\\n}\\n.menububble__form[data-v-5496a10a] {\\n  display: flex;\\n  align-items: center;\\n}\\n.menububble__input[data-v-5496a10a] {\\n  font: inherit;\\n  border: none;\\n  background: transparent;\\n  min-width: 150px;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/MenuBubble.vue\",\"webpack://./MenuBubble.vue\"],\"names\":[],\"mappings\":\"AA+IA;EACC,kBAAA;EACA,aAAA;EACA,cAAA;EACA,oDAAA;EACA,6CAAA;EACA,yCAAA;EACA,gBAAA;EACA,UAAA;EACA,mBAAA;EACA,iBAAA;EACA,kBAAA;EACA,UAAA;EACA,2BAAA;EACA,yCAAA;EACA,YAAA;AC9ID;ADgJC;EACC,UAAA;EACA,mBAAA;AC9IF;ADiJC;EACC,cAAA;EACA,YAAA;EACA,SAAA;EACA,sBAAA;EACA,SAAA;EACA,gBAAA;EACA,eAAA;EACA,8CAAA;EACA,2CAAA;AC/IF;ADiJE;EAEC,+CAAA;EACA,SAAA;EACA,sDAAA;AChJH;ADmJE;EACC,oBAAA;ACjJH;ADqJC;EACC,eAAA;EACA,gBAAA;ACnJF;ADsJC;EACC,aAAA;EACA,mBAAA;ACpJF;ADuJC;EACC,aAAA;EACA,YAAA;EACA,uBAAA;EACA,gBAAA;ACrJF\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n.menububble {\\n\\tposition: absolute;\\n\\tdisplay: flex;\\n\\tz-index: 10020;\\n\\tbackground: var(--color-main-background-translucent);\\n\\tbox-shadow: 0 1px 5px var(--color-box-shadow);\\n\\tborder-radius: var(--border-radius-large);\\n\\toverflow: hidden;\\n\\tpadding: 0;\\n\\tmargin-bottom: -3px;\\n\\tmargin-left: 10px;\\n\\tvisibility: hidden;\\n\\topacity: 0;\\n\\ttransform: translateX(-50%);\\n\\ttransition: opacity 0.2s, visibility 0.2s;\\n\\theight: 44px;\\n\\n\\t&.is-active {\\n\\t\\topacity: 1;\\n\\t\\tvisibility: visible;\\n\\t}\\n\\n\\t&__button {\\n\\t\\tdisplay: block;\\n\\t\\tflex-grow: 1;\\n\\t\\tborder: 0;\\n\\t\\tpadding: 0.9rem 0.7rem;\\n\\t\\tmargin: 0;\\n\\t\\tborder-radius: 0;\\n\\t\\tcursor: pointer;\\n\\t\\tbackground-color: var(--color-main-background);\\n\\t\\tborder-right: 1px solid var(--color-border);\\n\\n\\t\\t&:focus,\\n\\t\\t&:hover {\\n\\t\\t\\tbackground-color: var(--color-background-hover);\\n\\t\\t\\tborder: 0;\\n\\t\\t\\tborder-right: 1px solid var(--color-border) !important;\\n\\t\\t}\\n\\n\\t\\t&:last-child {\\n\\t\\t\\tborder: 0 !important;\\n\\t\\t}\\n\\t}\\n\\n\\t&__buttontext {\\n\\t\\tpadding: 0.4rem;\\n\\t\\tpadding-right: 0;\\n\\t}\\n\\n\\t&__form {\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: center;\\n\\t}\\n\\n\\t&__input {\\n\\t\\tfont: inherit;\\n\\t\\tborder: none;\\n\\t\\tbackground: transparent;\\n\\t\\tmin-width: 150px;\\n\\t}\\n}\\n\",\".menububble {\\n  position: absolute;\\n  display: flex;\\n  z-index: 10020;\\n  background: var(--color-main-background-translucent);\\n  box-shadow: 0 1px 5px var(--color-box-shadow);\\n  border-radius: var(--border-radius-large);\\n  overflow: hidden;\\n  padding: 0;\\n  margin-bottom: -3px;\\n  margin-left: 10px;\\n  visibility: hidden;\\n  opacity: 0;\\n  transform: translateX(-50%);\\n  transition: opacity 0.2s, visibility 0.2s;\\n  height: 44px;\\n}\\n.menububble.is-active {\\n  opacity: 1;\\n  visibility: visible;\\n}\\n.menububble__button {\\n  display: block;\\n  flex-grow: 1;\\n  border: 0;\\n  padding: 0.9rem 0.7rem;\\n  margin: 0;\\n  border-radius: 0;\\n  cursor: pointer;\\n  background-color: var(--color-main-background);\\n  border-right: 1px solid var(--color-border);\\n}\\n.menububble__button:focus, .menububble__button:hover {\\n  background-color: var(--color-background-hover);\\n  border: 0;\\n  border-right: 1px solid var(--color-border) !important;\\n}\\n.menububble__button:last-child {\\n  border: 0 !important;\\n}\\n.menububble__buttontext {\\n  padding: 0.4rem;\\n  padding-right: 0;\\n}\\n.menububble__form {\\n  display: flex;\\n  align-items: center;\\n}\\n.menububble__input {\\n  font: inherit;\\n  border: none;\\n  background: transparent;\\n  min-width: 150px;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"#rich-workspace[data-v-0cce2262] {\\n  padding: 0 50px;\\n  /* Slightly reduce vertical space */\\n  margin-bottom: -24px;\\n  text-align: left;\\n  max-height: 0;\\n  transition: max-height 0.5s cubic-bezier(0, 1, 0, 1);\\n}\\n#rich-workspace.creatable[data-v-0cce2262] {\\n  min-height: 90px;\\n}\\n\\n/* For subfolders, where there are no Recommendations */\\n#rich-workspace[data-v-0cce2262]:only-child {\\n  margin-bottom: 0;\\n}\\n.empty-workspace[data-v-0cce2262] {\\n  padding-top: 43px;\\n  color: var(--color-text-maxcontrast);\\n  height: 0;\\n}\\n#rich-workspace[data-v-0cce2262] div[contenteditable=false] {\\n  width: 100%;\\n  padding: 0px;\\n  background-color: var(--color-main-background);\\n  opacity: 1;\\n  border: none;\\n}\\n#rich-workspace[data-v-0cce2262] #editor-container {\\n  height: 100%;\\n  position: unset !important;\\n  top: auto !important;\\n}\\n#rich-workspace[data-v-0cce2262] #editor-wrapper {\\n  position: unset !important;\\n  overflow: visible;\\n}\\n#rich-workspace[data-v-0cce2262] #editor {\\n  overflow: visible !important;\\n}\\n#rich-workspace[data-v-0cce2262] .content-wrapper {\\n  overflow: scroll !important;\\n  max-height: 50vh;\\n  max-height: calc(40vh - 50px);\\n  padding-left: 10px;\\n}\\n#rich-workspace[data-v-0cce2262] #editor-wrapper .ProseMirror {\\n  padding: 0px;\\n  margin: 0;\\n}\\n#rich-workspace[data-v-0cce2262] .menubar {\\n  z-index: 61;\\n  /* Slightly reduce vertical space */\\n  margin-bottom: -10px;\\n}\\n#rich-workspace[data-v-0cce2262] .menubar .menubar-icons {\\n  margin-left: 0;\\n}\\n#rich-workspace[data-v-0cce2262] .editor__content {\\n  margin: 0;\\n}\\n#rich-workspace.focus[data-v-0cce2262] {\\n  max-height: 50vh;\\n}\\n#rich-workspace[data-v-0cce2262]:not(.focus) {\\n  max-height: 30vh;\\n  position: relative;\\n  overflow: hidden;\\n}\\n#rich-workspace[data-v-0cce2262]:not(.focus):not(.icon-loading):after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  z-index: 1;\\n  bottom: 0;\\n  left: 0;\\n  pointer-events: none;\\n  background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0), var(--color-main-background));\\n  width: 100%;\\n  height: 4em;\\n}\\n#rich-workspace.dark[data-v-0cce2262]:not(.focus):not(.icon-loading):after {\\n  background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0), var(--color-main-background));\\n}\\n@media only screen and (max-width: 1024px) {\\n#rich-workspace[data-v-0cce2262]:not(.focus) {\\n    max-height: 30vh;\\n}\\n}\\nhtml.ie #rich-workspace[data-v-0cce2262] #editor-container {\\n  position: initial;\\n}\\nhtml.ie #rich-workspace[data-v-0cce2262] #editor-wrapper {\\n  position: relative !important;\\n  top: auto !important;\\n}\\nhtml.ie #rich-workspace[data-v-0cce2262] #editor {\\n  display: flex;\\n  flex-direction: column;\\n  overflow: hidden !important;\\n}\\nhtml.ie #rich-workspace[data-v-0cce2262] .menubar {\\n  position: relative;\\n  overflow: hidden;\\n  flex-shrink: 0;\\n  height: 44px;\\n  top: auto;\\n}\\nhtml.ie #rich-workspace[data-v-0cce2262] #editor > div:nth-child(2) {\\n  min-height: 44px;\\n  overflow-x: hidden;\\n  overflow-y: auto;\\n  flex-shrink: 1;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/views/RichWorkspace.vue\",\"webpack://./RichWorkspace.vue\"],\"names\":[],\"mappings\":\"AA0KA;EACC,eAAA;EACA,mCAAA;EACA,oBAAA;EACA,gBAAA;EACA,aAAA;EACA,oDAAA;ACzKD;AD0KC;EACC,gBAAA;ACxKF;;AD4KA,uDAAA;AACA;EACC,gBAAA;ACzKD;AD4KA;EACC,iBAAA;EACA,oCAAA;EACA,SAAA;ACzKD;AD4KA;EACC,WAAA;EACA,YAAA;EACA,8CAAA;EACA,UAAA;EACA,YAAA;ACzKD;AD4KA;EACC,YAAA;EACA,0BAAA;EACA,oBAAA;ACzKD;AD4KA;EACC,0BAAA;EACA,iBAAA;ACzKD;AD4KA;EACC,4BAAA;ACzKD;AD2KA;EACC,2BAAA;EACA,gBAAA;EACA,6BAAA;EACA,kBAAA;ACxKD;AD2KA;EACC,YAAA;EACA,SAAA;ACxKD;AD2KA;EACC,WAAA;EACA,mCAAA;EACA,oBAAA;ACxKD;AD2KA;EACC,cAAA;ACxKD;AD2KA;EACC,SAAA;ACxKD;AD2KA;EACC,gBAAA;ACxKD;AD2KA;EACC,gBAAA;EACA,kBAAA;EACA,gBAAA;ACxKD;AD2KA;EACC,WAAA;EACA,kBAAA;EACA,UAAA;EACA,SAAA;EACA,OAAA;EACA,oBAAA;EACA,kGAAA;EACA,WAAA;EACA,WAAA;ACxKD;AD2KA;EACC,4FAAA;ACxKD;AD2KA;AACC;IACC,gBAAA;ACxKA;AACF;AD6KE;EACC,iBAAA;AC3KH;AD8KE;EACC,6BAAA;EACA,oBAAA;AC5KH;AD+KE;EACC,aAAA;EACA,sBAAA;EACA,2BAAA;AC7KH;ADgLE;EACC,kBAAA;EACA,gBAAA;EACA,cAAA;EACA,YAAA;EACA,SAAA;AC9KH;ADiLE;EACC,gBAAA;EACA,kBAAA;EACA,gBAAA;EACA,cAAA;AC/KH\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n#rich-workspace {\\n\\tpadding: 0 50px;\\n\\t/* Slightly reduce vertical space */\\n\\tmargin-bottom: -24px;\\n\\ttext-align: left;\\n\\tmax-height: 0;\\n\\ttransition: max-height 0.5s cubic-bezier(0, 1, 0, 1);\\n\\t&.creatable {\\n\\t\\tmin-height: 90px;\\n\\t}\\n}\\n\\n/* For subfolders, where there are no Recommendations */\\n#rich-workspace:only-child {\\n\\tmargin-bottom: 0;\\n}\\n\\n.empty-workspace {\\n\\tpadding-top: 43px;\\n\\tcolor: var(--color-text-maxcontrast);\\n\\theight: 0;\\n}\\n\\n#rich-workspace::v-deep div[contenteditable=false] {\\n\\twidth: 100%;\\n\\tpadding: 0px;\\n\\tbackground-color: var(--color-main-background);\\n\\topacity: 1;\\n\\tborder: none;\\n}\\n\\n#rich-workspace::v-deep #editor-container {\\n\\theight: 100%;\\n\\tposition: unset !important;\\n\\ttop: auto !important;\\n}\\n\\n#rich-workspace::v-deep #editor-wrapper {\\n\\tposition: unset !important;\\n\\toverflow: visible;\\n}\\n\\n#rich-workspace::v-deep #editor {\\n\\toverflow: visible !important;\\n}\\n#rich-workspace::v-deep .content-wrapper {\\n\\toverflow: scroll !important;\\n\\tmax-height: 50vh;\\n\\tmax-height: calc(40vh - 50px);\\n\\tpadding-left: 10px;\\n}\\n\\n#rich-workspace::v-deep #editor-wrapper .ProseMirror {\\n\\tpadding: 0px;\\n\\tmargin: 0;\\n}\\n\\n#rich-workspace::v-deep .menubar {\\n\\tz-index: 61;\\n\\t/* Slightly reduce vertical space */\\n\\tmargin-bottom: -10px;\\n}\\n\\n#rich-workspace::v-deep .menubar .menubar-icons {\\n\\tmargin-left: 0;\\n}\\n\\n#rich-workspace::v-deep .editor__content {\\n\\tmargin: 0;\\n}\\n\\n#rich-workspace.focus {\\n\\tmax-height: 50vh;\\n}\\n\\n#rich-workspace:not(.focus) {\\n\\tmax-height: 30vh;\\n\\tposition: relative;\\n\\toverflow: hidden;\\n}\\n\\n#rich-workspace:not(.focus):not(.icon-loading):after {\\n\\tcontent: '';\\n\\tposition: absolute;\\n\\tz-index: 1;\\n\\tbottom: 0;\\n\\tleft: 0;\\n\\tpointer-events: none;\\n\\tbackground-image: linear-gradient(to bottom, rgba(255, 255, 255, 0), var(--color-main-background));\\n\\twidth: 100%;\\n\\theight: 4em;\\n}\\n\\n#rich-workspace.dark:not(.focus):not(.icon-loading):after {\\n\\tbackground-image: linear-gradient(to bottom, rgba(0, 0, 0, 0), var(--color-main-background));\\n}\\n\\n@media only screen and (max-width: 1024px) {\\n\\t#rich-workspace:not(.focus) {\\n\\t\\tmax-height: 30vh;\\n\\t}\\n}\\n\\nhtml.ie {\\n\\t#rich-workspace::v-deep {\\n\\t\\t#editor-container {\\n\\t\\t\\tposition: initial;\\n\\t\\t}\\n\\n\\t\\t#editor-wrapper {\\n\\t\\t\\tposition: relative !important;\\n\\t\\t\\ttop: auto !important;\\n\\t\\t}\\n\\n\\t\\t#editor {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\tflex-direction: column;\\n\\t\\t\\toverflow: hidden !important;\\n\\t\\t}\\n\\n\\t\\t.menubar {\\n\\t\\t\\tposition: relative;\\n\\t\\t\\toverflow: hidden;\\n\\t\\t\\tflex-shrink: 0;\\n\\t\\t\\theight: 44px;\\n\\t\\t\\ttop: auto;\\n\\t\\t}\\n\\n\\t\\t#editor > div:nth-child(2) {\\n\\t\\t\\tmin-height: 44px;\\n\\t\\t\\toverflow-x: hidden;\\n\\t\\t\\toverflow-y: auto;\\n\\t\\t\\tflex-shrink: 1;\\n\\t\\t}\\n\\t}\\n}\\n\\n\",\"#rich-workspace {\\n  padding: 0 50px;\\n  /* Slightly reduce vertical space */\\n  margin-bottom: -24px;\\n  text-align: left;\\n  max-height: 0;\\n  transition: max-height 0.5s cubic-bezier(0, 1, 0, 1);\\n}\\n#rich-workspace.creatable {\\n  min-height: 90px;\\n}\\n\\n/* For subfolders, where there are no Recommendations */\\n#rich-workspace:only-child {\\n  margin-bottom: 0;\\n}\\n\\n.empty-workspace {\\n  padding-top: 43px;\\n  color: var(--color-text-maxcontrast);\\n  height: 0;\\n}\\n\\n#rich-workspace::v-deep div[contenteditable=false] {\\n  width: 100%;\\n  padding: 0px;\\n  background-color: var(--color-main-background);\\n  opacity: 1;\\n  border: none;\\n}\\n\\n#rich-workspace::v-deep #editor-container {\\n  height: 100%;\\n  position: unset !important;\\n  top: auto !important;\\n}\\n\\n#rich-workspace::v-deep #editor-wrapper {\\n  position: unset !important;\\n  overflow: visible;\\n}\\n\\n#rich-workspace::v-deep #editor {\\n  overflow: visible !important;\\n}\\n\\n#rich-workspace::v-deep .content-wrapper {\\n  overflow: scroll !important;\\n  max-height: 50vh;\\n  max-height: calc(40vh - 50px);\\n  padding-left: 10px;\\n}\\n\\n#rich-workspace::v-deep #editor-wrapper .ProseMirror {\\n  padding: 0px;\\n  margin: 0;\\n}\\n\\n#rich-workspace::v-deep .menubar {\\n  z-index: 61;\\n  /* Slightly reduce vertical space */\\n  margin-bottom: -10px;\\n}\\n\\n#rich-workspace::v-deep .menubar .menubar-icons {\\n  margin-left: 0;\\n}\\n\\n#rich-workspace::v-deep .editor__content {\\n  margin: 0;\\n}\\n\\n#rich-workspace.focus {\\n  max-height: 50vh;\\n}\\n\\n#rich-workspace:not(.focus) {\\n  max-height: 30vh;\\n  position: relative;\\n  overflow: hidden;\\n}\\n\\n#rich-workspace:not(.focus):not(.icon-loading):after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  z-index: 1;\\n  bottom: 0;\\n  left: 0;\\n  pointer-events: none;\\n  background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0), var(--color-main-background));\\n  width: 100%;\\n  height: 4em;\\n}\\n\\n#rich-workspace.dark:not(.focus):not(.icon-loading):after {\\n  background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0), var(--color-main-background));\\n}\\n\\n@media only screen and (max-width: 1024px) {\\n  #rich-workspace:not(.focus) {\\n    max-height: 30vh;\\n  }\\n}\\nhtml.ie #rich-workspace::v-deep #editor-container {\\n  position: initial;\\n}\\nhtml.ie #rich-workspace::v-deep #editor-wrapper {\\n  position: relative !important;\\n  top: auto !important;\\n}\\nhtml.ie #rich-workspace::v-deep #editor {\\n  display: flex;\\n  flex-direction: column;\\n  overflow: hidden !important;\\n}\\nhtml.ie #rich-workspace::v-deep .menubar {\\n  position: relative;\\n  overflow: hidden;\\n  flex-shrink: 0;\\n  height: 44px;\\n  top: auto;\\n}\\nhtml.ie #rich-workspace::v-deep #editor > div:nth-child(2) {\\n  min-height: 44px;\\n  overflow-x: hidden;\\n  overflow-y: auto;\\n  flex-shrink: 1;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import api from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuBar.vue?vue&type=style&index=0&id=4a501398&scoped=true&lang=scss&\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuBubble.vue?vue&type=style&index=0&id=5496a10a&scoped=true&lang=scss&\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RichWorkspace.vue?vue&type=style&index=0&id=0cce2262&lang=scss&scoped=true&\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"EditorMenuBar\", {\n    attrs: { editor: _vm.editor },\n    scopedSlots: _vm._u(\n      [\n        {\n          key: \"default\",\n          fn: function(ref) {\n            var commands = ref.commands\n            var isActive = ref.isActive\n            var focused = ref.focused\n            return [\n              _c(\n                \"div\",\n                {\n                  staticClass: \"menubar\",\n                  class: { \"is-focused\": focused, autohide: _vm.autohide }\n                },\n                [\n                  _vm.isRichEditor\n                    ? _c(\n                        \"div\",\n                        { ref: \"menubar\", staticClass: \"menubar-icons\" },\n                        [\n                          _vm._l(_vm.allIcons, function(icon, $index) {\n                            return [\n                              icon.class\n                                ? _c(\"button\", {\n                                    directives: [\n                                      {\n                                        name: \"show\",\n                                        rawName: \"v-show\",\n                                        value: $index < _vm.iconCount,\n                                        expression: \"$index < iconCount\"\n                                      }\n                                    ],\n                                    key: icon.label,\n                                    class: _vm.getIconClasses(isActive, icon),\n                                    attrs: {\n                                      title: icon.label,\n                                      disabled: _vm.disabled(commands, icon)\n                                    },\n                                    on: {\n                                      click: function($event) {\n                                        return _vm.clickIcon(commands, icon)\n                                      }\n                                    }\n                                  })\n                                : [\n                                    _c(\n                                      \"div\",\n                                      {\n                                        directives: [\n                                          {\n                                            name: \"show\",\n                                            rawName: \"v-show\",\n                                            value:\n                                              $index < _vm.iconCount ||\n                                              !icon.class,\n                                            expression:\n                                              \"$index < iconCount || !icon.class\"\n                                          },\n                                          {\n                                            name: \"click-outside\",\n                                            rawName: \"v-click-outside\",\n                                            value: function() {\n                                              return _vm.hideChildMenu(icon)\n                                            },\n                                            expression:\n                                              \"() => hideChildMenu(icon)\"\n                                          }\n                                        ],\n                                        key: icon.label,\n                                        staticClass: \"submenu\"\n                                      },\n                                      [\n                                        _c(\"button\", {\n                                          class: _vm.childIconClasses(\n                                            isActive,\n                                            icon.children\n                                          ),\n                                          attrs: { title: icon.label },\n                                          on: {\n                                            click: function($event) {\n                                              $event.preventDefault()\n                                              return _vm.toggleChildMenu(icon)\n                                            }\n                                          }\n                                        }),\n                                        _vm._v(\" \"),\n                                        _c(\n                                          \"div\",\n                                          {\n                                            staticClass:\n                                              \"popovermenu menu-center\",\n                                            class: {\n                                              open: _vm.isChildMenuVisible(icon)\n                                            }\n                                          },\n                                          [\n                                            _c(\"PopoverMenu\", {\n                                              attrs: {\n                                                menu: _vm.childPopoverMenu(\n                                                  isActive,\n                                                  commands,\n                                                  icon.children,\n                                                  icon\n                                                )\n                                              }\n                                            })\n                                          ],\n                                          1\n                                        )\n                                      ]\n                                    )\n                                  ]\n                            ]\n                          }),\n                          _vm._v(\" \"),\n                          _c(\n                            \"Actions\",\n                            [\n                              _vm._l(_vm.allIcons, function(icon, $index) {\n                                return [\n                                  icon.class && _vm.isHiddenInMenu($index)\n                                    ? _c(\n                                        \"ActionButton\",\n                                        {\n                                          key: icon.class,\n                                          attrs: { icon: icon.class },\n                                          on: {\n                                            click: function($event) {\n                                              return _vm.clickIcon(\n                                                commands,\n                                                icon\n                                              )\n                                            }\n                                          }\n                                        },\n                                        [\n                                          _vm._v(\n                                            \"\\n\\t\\t\\t\\t\\t\\t\" +\n                                              _vm._s(icon.label) +\n                                              \"\\n\\t\\t\\t\\t\\t\"\n                                          )\n                                        ]\n                                      )\n                                    : _vm._e()\n                                ]\n                              })\n                            ],\n                            2\n                          )\n                        ],\n                        2\n                      )\n                    : _vm._e(),\n                  _vm._v(\" \"),\n                  _vm._t(\"default\", function() {\n                    return [_vm._v(\"\\n\\t\\t\\tLeft side\\n\\t\\t\")]\n                  })\n                ],\n                2\n              )\n            ]\n          }\n        }\n      ],\n      null,\n      true\n    )\n  })\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"EditorMenuBubble\", {\n    staticClass: \"menububble\",\n    attrs: { editor: _vm.editor },\n    on: { hide: _vm.hideLinkMenu },\n    scopedSlots: _vm._u([\n      {\n        key: \"default\",\n        fn: function(ref) {\n          var commands = ref.commands\n          var isActive = ref.isActive\n          var getMarkAttrs = ref.getMarkAttrs\n          var menu = ref.menu\n          return [\n            _c(\n              \"div\",\n              {\n                staticClass: \"menububble\",\n                class: { \"is-active\": menu.isActive },\n                style:\n                  \"left: \" + menu.left + \"px; bottom: \" + menu.bottom + \"px;\"\n              },\n              [\n                _vm.linkMenuIsActive\n                  ? _c(\n                      \"form\",\n                      {\n                        staticClass: \"menububble__form\",\n                        on: {\n                          submit: function($event) {\n                            $event.preventDefault()\n                            return _vm.setLinkUrl(commands.link, _vm.linkUrl)\n                          }\n                        }\n                      },\n                      [\n                        _c(\"input\", {\n                          directives: [\n                            {\n                              name: \"model\",\n                              rawName: \"v-model\",\n                              value: _vm.linkUrl,\n                              expression: \"linkUrl\"\n                            }\n                          ],\n                          ref: \"linkInput\",\n                          staticClass: \"menububble__input\",\n                          attrs: { type: \"text\", placeholder: \"https://\" },\n                          domProps: { value: _vm.linkUrl },\n                          on: {\n                            keydown: function($event) {\n                              if (\n                                !$event.type.indexOf(\"key\") &&\n                                _vm._k($event.keyCode, \"esc\", 27, $event.key, [\n                                  \"Esc\",\n                                  \"Escape\"\n                                ])\n                              ) {\n                                return null\n                              }\n                              return _vm.hideLinkMenu.apply(null, arguments)\n                            },\n                            input: function($event) {\n                              if ($event.target.composing) {\n                                return\n                              }\n                              _vm.linkUrl = $event.target.value\n                            }\n                          }\n                        }),\n                        _vm._v(\" \"),\n                        _c(\"button\", {\n                          staticClass: \"menububble__button icon-confirm\",\n                          attrs: { type: \"button\", tabindex: \"0\" },\n                          on: {\n                            click: function($event) {\n                              return _vm.setLinkUrl(commands.link, _vm.linkUrl)\n                            }\n                          }\n                        })\n                      ]\n                    )\n                  : [\n                      _c(\n                        \"button\",\n                        {\n                          staticClass: \"menububble__button\",\n                          class: { \"is-active\": isActive.link() },\n                          on: {\n                            click: function($event) {\n                              _vm.showLinkMenu(getMarkAttrs(\"link\"))\n                            }\n                          }\n                        },\n                        [\n                          _c(\"span\", { staticClass: \"icon-link\" }),\n                          _vm._v(\" \"),\n                          _c(\n                            \"span\",\n                            { staticClass: \"menububble__buttontext\" },\n                            [\n                              _vm._v(\n                                \"\\n\\t\\t\\t\\t\\t\" +\n                                  _vm._s(\n                                    _vm.t(\n                                      \"text\",\n                                      isActive.link()\n                                        ? \"Update Link\"\n                                        : \"Add Link\"\n                                    )\n                                  ) +\n                                  \"\\n\\t\\t\\t\\t\"\n                              )\n                            ]\n                          )\n                        ]\n                      ),\n                      _vm._v(\" \"),\n                      _c(\n                        \"button\",\n                        {\n                          staticClass: \"menububble__button\",\n                          class: { \"is-active\": isActive.link() },\n                          on: {\n                            click: function($event) {\n                              return _vm.selectFile(commands.link)\n                            }\n                          }\n                        },\n                        [\n                          _c(\"span\", { staticClass: \"icon-file\" }),\n                          _vm._v(\" \"),\n                          _c(\n                            \"span\",\n                            { staticClass: \"menububble__buttontext\" },\n                            [_vm._v(_vm._s(_vm.t(\"text\", \"Link file\")))]\n                          )\n                        ]\n                      )\n                    ]\n              ],\n              2\n            )\n          ]\n        }\n      }\n    ])\n  })\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _vm.enabled\n    ? _c(\n        \"div\",\n        {\n          class: {\n            \"icon-loading\": !_vm.loaded || !_vm.ready,\n            focus: _vm.focus,\n            dark: _vm.darkTheme,\n            creatable: _vm.canCreate\n          },\n          attrs: { id: \"rich-workspace\" }\n        },\n        [\n          _vm.showEmptyWorkspace\n            ? _c(\n                \"div\",\n                {\n                  staticClass: \"empty-workspace\",\n                  on: { click: _vm.createNew }\n                },\n                [\n                  _c(\"p\", { staticClass: \"placeholder\" }, [\n                    _vm._v(\n                      \"\\n\\t\\t\\t\" +\n                        _vm._s(_vm.t(\"text\", \"Add notes, lists or links …\")) +\n                        \"\\n\\t\\t\"\n                    )\n                  ])\n                ]\n              )\n            : _vm._e(),\n          _vm._v(\" \"),\n          _vm.file\n            ? _c(\"EditorWrapper\", {\n                directives: [\n                  {\n                    name: \"show\",\n                    rawName: \"v-show\",\n                    value: _vm.ready,\n                    expression: \"ready\"\n                  }\n                ],\n                key: _vm.file.id,\n                attrs: {\n                  \"file-id\": _vm.file.id,\n                  \"relative-path\": _vm.file.path,\n                  \"share-token\": _vm.shareToken,\n                  active: true,\n                  autohide: true,\n                  mime: _vm.file.mimetype,\n                  autofocus: _vm.autofocus\n                },\n                on: {\n                  ready: function($event) {\n                    _vm.ready = true\n                  },\n                  focus: function($event) {\n                    _vm.focus = true\n                  },\n                  blur: _vm.unfocus,\n                  error: _vm.reset\n                }\n              })\n            : _vm._e()\n        ],\n        1\n      )\n    : _vm._e()\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./MenuBar.vue?vue&type=template&id=4a501398&scoped=true&\"\nimport script from \"./MenuBar.vue?vue&type=script&lang=js&\"\nexport * from \"./MenuBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MenuBar.vue?vue&type=style&index=0&id=4a501398&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4a501398\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/test/workspace/nextmcloud/server/apps/text/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('4a501398')) {\n      api.createRecord('4a501398', component.options)\n    } else {\n      api.reload('4a501398', component.options)\n    }\n    module.hot.accept(\"./MenuBar.vue?vue&type=template&id=4a501398&scoped=true&\", function () {\n      api.rerender('4a501398', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/MenuBar.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuBar.vue?vue&type=script&lang=js&\"","export * from \"-!../../node_modules/style-loader/dist/cjs.js!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuBar.vue?vue&type=style&index=0&id=4a501398&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuBar.vue?vue&type=template&id=4a501398&scoped=true&\"","import { render, staticRenderFns } from \"./MenuBubble.vue?vue&type=template&id=5496a10a&scoped=true&\"\nimport script from \"./MenuBubble.vue?vue&type=script&lang=js&\"\nexport * from \"./MenuBubble.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MenuBubble.vue?vue&type=style&index=0&id=5496a10a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5496a10a\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/test/workspace/nextmcloud/server/apps/text/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('5496a10a')) {\n      api.createRecord('5496a10a', component.options)\n    } else {\n      api.reload('5496a10a', component.options)\n    }\n    module.hot.accept(\"./MenuBubble.vue?vue&type=template&id=5496a10a&scoped=true&\", function () {\n      api.rerender('5496a10a', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/MenuBubble.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuBubble.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuBubble.vue?vue&type=script&lang=js&\"","export * from \"-!../../node_modules/style-loader/dist/cjs.js!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuBubble.vue?vue&type=style&index=0&id=5496a10a&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuBubble.vue?vue&type=template&id=5496a10a&scoped=true&\"","/*\n * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport { openMimetypes } from './mime'\nimport RichWorkspace from '../views/RichWorkspace'\nimport { imagePath } from '@nextcloud/router'\nimport store from '../store'\n\nconst FILE_ACTION_IDENTIFIER = 'Edit with text app'\n\nconst optimalPath = function(from, to) {\n\tconst current = from.split('/')\n\tconst target = to.split('/')\n\tcurrent.pop() // ignore filename\n\twhile (current[0] === target[0]) {\n\t\tcurrent.shift()\n\t\ttarget.shift()\n\t}\n\tconst relativePath = current.fill('..').concat(target)\n\tconst absolutePath = to.split('/')\n\treturn relativePath.length < absolutePath.length\n\t\t? relativePath.join('/')\n\t\t: to\n}\n\nconst registerFileCreate = () => {\n\tconst newFileMenuPlugin = {\n\t\tattach(menu) {\n\t\t\tconst fileList = menu.fileList\n\n\t\t\t// only attach to main file list, public view is not supported yet\n\t\t\tif (fileList.id !== 'files' && fileList.id !== 'files.public') {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// register the new menu entry\n\t\t\tmenu.addMenuEntry({\n\t\t\t\tid: 'file',\n\t\t\t\tdisplayName: t('text', 'New text document'),\n\t\t\t\ttemplateName: t('text', 'New text document') + '.md',\n\t\t\t\ticonClass: 'icon-filetype-text',\n\t\t\t\tfileType: 'file',\n\t\t\t\tactionHandler(name) {\n\t\t\t\t\tfileList.createFile(name).then(function(status, data) {\n\t\t\t\t\t\tconst fileInfoModel = new OCA.Files.FileInfoModel(data)\n\t\t\t\t\t\tif (typeof OCA.Viewer !== 'undefined') {\n\t\t\t\t\t\t\tOCA.Files.fileActions.triggerAction('view', fileInfoModel, fileList)\n\t\t\t\t\t\t} else if (typeof OCA.Viewer === 'undefined') {\n\t\t\t\t\t\t\tOCA.Files.fileActions.triggerAction(FILE_ACTION_IDENTIFIER, fileInfoModel, fileList)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t}\n\tOC.Plugins.register('OCA.Files.NewFileMenu', newFileMenuPlugin)\n}\n\nconst registerFileActionFallback = () => {\n\tconst sharingToken = document.getElementById('sharingToken') ? document.getElementById('sharingToken').value : null\n\tconst dir = document.getElementById('dir').value\n\n\tif (!sharingToken || dir !== '') {\n\t\tconst ViewerRoot = document.createElement('div')\n\t\tViewerRoot.id = 'text-viewer-fallback'\n\t\tdocument.body.appendChild(ViewerRoot)\n\t\tconst registerAction = (mime) => OCA.Files.fileActions.register(\n\t\t\tmime,\n\t\t\tFILE_ACTION_IDENTIFIER,\n\t\t\tOC.PERMISSION_UPDATE | OC.PERMISSION_READ,\n\t\t\timagePath('core', 'actions/rename'),\n\t\t\t(filename) => {\n\t\t\t\tconst file = window.FileList.findFile(filename)\n\t\t\t\tPromise.all([\n\t\t\t\t\timport('vue'),\n\t\t\t\t\timport(/* webpackChunkName: \"files-modal\" */'./../components/PublicFilesEditor'),\n\t\t\t\t]).then((imports) => {\n\t\t\t\t\tconst path = window.FileList.getCurrentDirectory() + '/' + filename\n\t\t\t\t\tconst Vue = imports[0].default\n\t\t\t\t\tVue.prototype.t = window.t\n\t\t\t\t\tVue.prototype.n = window.n\n\t\t\t\t\tVue.prototype.OCA = window.OCA\n\t\t\t\t\tconst Editor = imports[1].default\n\t\t\t\t\tconst vm = new Vue({\n\t\t\t\t\t\trender: h => h(Editor, {\n\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\tfileId: file ? file.id : null,\n\t\t\t\t\t\t\t\tactive: true,\n\t\t\t\t\t\t\t\tshareToken: sharingToken,\n\t\t\t\t\t\t\t\trelativePath: path,\n\t\t\t\t\t\t\t\tmimeType: file.mimetype,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}),\n\t\t\t\t\t})\n\t\t\t\t\tvm.$mount(ViewerRoot)\n\t\t\t\t})\n\t\t\t},\n\t\t\tt('text', 'Edit')\n\t\t)\n\n\t\tfor (let i = 0; i < openMimetypes.length; i++) {\n\t\t\tregisterAction(openMimetypes[i])\n\t\t\tOCA.Files.fileActions.setDefault(openMimetypes[i], FILE_ACTION_IDENTIFIER)\n\t\t}\n\t}\n\n}\n\nconst FilesWorkspacePlugin = {\n\n\tel: null,\n\n\tattach(fileList) {\n\t\tif (fileList.id !== 'files' && fileList.id !== 'files.public') {\n\t\t\treturn\n\t\t}\n\n\t\tthis.el = document.createElement('div')\n\t\tfileList.registerHeader({\n\t\t\tid: 'workspace',\n\t\t\tel: this.el,\n\t\t\trender: this.render.bind(this),\n\t\t\tpriority: 10,\n\t\t})\n\t},\n\n\trender(fileList) {\n\t\tif (fileList.id !== 'files' && fileList.id !== 'files.public') {\n\t\t\treturn\n\t\t}\n\n\t\timport('vue').then((module) => {\n\t\t\tconst Vue = module.default\n\t\t\tthis.el.id = 'files-workspace-wrapper'\n\t\t\tVue.prototype.t = window.t\n\t\t\tVue.prototype.n = window.n\n\t\t\tVue.prototype.OCA = window.OCA\n\t\t\tconst View = Vue.extend(RichWorkspace)\n\t\t\tconst vm = new View({\n\t\t\t\tpropsData: {\n\t\t\t\t\tpath: fileList.getCurrentDirectory(),\n\t\t\t\t},\n\t\t\t\tstore,\n\t\t\t}).$mount(this.el)\n\n\t\t\tfileList.$el.on('urlChanged', data => {\n\t\t\t\tvm.path = data.dir.toString()\n\t\t\t})\n\t\t\tfileList.$el.on('changeDirectory', data => {\n\t\t\t\tvm.path = data.dir.toString()\n\t\t\t})\n\t\t})\n\t},\n}\n\nexport {\n\toptimalPath,\n\tregisterFileActionFallback,\n\tregisterFileCreate,\n\tFilesWorkspacePlugin,\n\tFILE_ACTION_IDENTIFIER,\n}\n","/*\n * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nconst openMimetypesMarkdown = [\n\t'text/markdown',\n]\n\nconst openMimetypesPlainText = [\n\t'text/plain',\n\t'application/cmd',\n\t'application/x-empty',\n\t'application/x-msdos-program',\n\t'application/javascript',\n\t'application/json',\n\t'application/x-perl',\n\t'application/x-php',\n\t'application/x-tex',\n\t'application/xml',\n\t'application/yaml',\n\t'text/css',\n\t'text/csv',\n\t'text/html',\n\t'text/org',\n\t'text/x-c',\n\t'text/x-c++src',\n\t'text/x-h',\n\t'text/x-java-source',\n\t'text/x-ldif',\n\t'text/x-python',\n\t'text/x-shellscript',\n]\n\nconst openMimetypes = [...openMimetypesMarkdown, ...openMimetypesPlainText]\n\nexport {\n\topenMimetypes,\n\topenMimetypesMarkdown,\n\topenMimetypesPlainText,\n}\n","/*\n * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nexport default [\n\t{\n\t\tlabel: t('text', 'Undo'),\n\t\tclass: 'icon-undo',\n\t\tisActive: (isActive) => false,\n\t\tisDisabled: (command) => command.undoDepth() === 0,\n\t\taction: (command) => command.undo(),\n\t},\n\t{\n\t\tlabel: t('text', 'Redo'),\n\t\tclass: 'icon-redo',\n\t\tisActive: (isActive) => false,\n\t\tisDisabled: (command) => command.redoDepth() === 0,\n\t\taction: (command) => command.redo(),\n\t},\n\t{\n\t\tlabel: t('text', 'Bold'),\n\t\tclass: 'icon-bold',\n\t\tisActive: (isActive) => isActive.strong(),\n\t\taction: (command) => {\n\t\t\treturn command.strong()\n\t\t},\n\t},\n\t{\n\t\tlabel: t('text', 'Italic'),\n\t\tclass: 'icon-italic',\n\t\tisActive: (isActive) => isActive.em(),\n\t\taction: (command) => {\n\t\t\treturn command.em()\n\t\t},\n\t},\n\t{\n\t\tlabel: t('text', 'Strikethrough'),\n\t\tclass: 'icon-strike',\n\t\tisActive: (isActive) => isActive.strike(),\n\t\taction: (command) => {\n\t\t\treturn command.strike()\n\t\t},\n\t},\n\t{\n\t\tlabel: t('text', 'Headings'),\n\t\tvisible: false,\n\t\tchildren: [\n\t\t\t{\n\t\t\t\tlabel: t('text', 'Heading 1'),\n\t\t\t\tclass: 'icon-h1',\n\t\t\t\tisActive: (isActive) => isActive.heading({ level: 1 }),\n\t\t\t\taction: (command) => {\n\t\t\t\t\treturn command.heading({ level: 1 })\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: t('text', 'Heading 2'),\n\t\t\t\tclass: 'icon-h2',\n\t\t\t\tisActive: (isActive) => isActive.heading({ level: 2 }),\n\t\t\t\taction: (command) => {\n\t\t\t\t\treturn command.heading({ level: 2 })\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: t('text', 'Heading 3'),\n\t\t\t\tclass: 'icon-h3',\n\t\t\t\tisActive: (isActive) => isActive.heading({ level: 3 }),\n\t\t\t\taction: (command) => {\n\t\t\t\t\treturn command.heading({ level: 3 })\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: t('text', 'Heading 4'),\n\t\t\t\tclass: 'icon-h4',\n\t\t\t\tisActive: (isActive) => isActive.heading({ level: 4 }),\n\t\t\t\taction: (command) => {\n\t\t\t\t\treturn command.heading({ level: 4 })\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: t('text', 'Heading 5'),\n\t\t\t\tclass: 'icon-h5',\n\t\t\t\tisActive: (isActive) => isActive.heading({ level: 5 }),\n\t\t\t\taction: (command) => {\n\t\t\t\t\treturn command.heading({ level: 5 })\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: t('text', 'Heading 6'),\n\t\t\t\tclass: 'icon-h6',\n\t\t\t\tisActive: (isActive) => isActive.heading({ level: 6 }),\n\t\t\t\taction: (command) => {\n\t\t\t\t\treturn command.heading({ level: 6 })\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tlabel: t('text', 'Unordered list'),\n\t\tclass: 'icon-ul',\n\t\tisActive: (isActive) => isActive.bullet_list(),\n\t\taction: (command) => {\n\t\t\treturn command.bullet_list_item()\n\t\t},\n\t},\n\t{\n\t\tlabel: t('text', 'Ordered list'),\n\t\tclass: 'icon-ol',\n\t\tisActive: (isActive) => isActive.ordered_list(),\n\t\taction: (command) => {\n\t\t\treturn command.ordered_list()\n\t\t},\n\t},\n\t{\n\t\tlabel: t('text', 'ToDo list'),\n\t\tclass: 'icon-checkmark',\n\t\tisActive: (isActive) => false,\n\t\taction: (command) => command.todo_item(),\n\t},\n\t{\n\t\tlabel: t('text', 'Blockquote'),\n\t\tclass: 'icon-quote',\n\t\tisActive: (isActive) => isActive.blockquote(),\n\t\taction: (command) => {\n\t\t\treturn command.blockquote()\n\t\t},\n\t},\n\t{\n\t\tlabel: t('text', 'Code block'),\n\t\tclass: 'icon-code',\n\t\tisActive: (isActive) => isActive.code_block(),\n\t\taction: (command) => {\n\t\t\treturn command.code_block()\n\t\t},\n\t},\n]\n","import { render, staticRenderFns } from \"./RichWorkspace.vue?vue&type=template&id=0cce2262&scoped=true&\"\nimport script from \"./RichWorkspace.vue?vue&type=script&lang=js&\"\nexport * from \"./RichWorkspace.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RichWorkspace.vue?vue&type=style&index=0&id=0cce2262&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0cce2262\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/test/workspace/nextmcloud/server/apps/text/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('0cce2262')) {\n      api.createRecord('0cce2262', component.options)\n    } else {\n      api.reload('0cce2262', component.options)\n    }\n    module.hot.accept(\"./RichWorkspace.vue?vue&type=template&id=0cce2262&scoped=true&\", function () {\n      api.rerender('0cce2262', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/views/RichWorkspace.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RichWorkspace.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RichWorkspace.vue?vue&type=script&lang=js&\"","export * from \"-!../../node_modules/style-loader/dist/cjs.js!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RichWorkspace.vue?vue&type=style&index=0&id=0cce2262&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RichWorkspace.vue?vue&type=template&id=0cce2262&scoped=true&\""],"sourceRoot":""}