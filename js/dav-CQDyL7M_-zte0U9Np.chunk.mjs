var Bn=Object.defineProperty,Vn=Object.defineProperties;var zn=Object.getOwnPropertyDescriptors;var Ue=Object.getOwnPropertySymbols;var qn=Object.prototype.hasOwnProperty,Wn=Object.prototype.propertyIsEnumerable;var Be=e=>{throw TypeError(e)};var se=(e,t,n)=>t in e?Bn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,V=(e,t)=>{for(var n in t||(t={}))qn.call(t,n)&&se(e,n,t[n]);if(Ue)for(var n of Ue(t))Wn.call(t,n)&&se(e,n,t[n]);return e},ot=(e,t)=>Vn(e,zn(t));var k=(e,t,n)=>se(e,typeof t!="symbol"?t+"":t,n),oe=(e,t,n)=>t.has(e)||Be("Cannot "+n);var T=(e,t,n)=>(oe(e,t,"read from private field"),n?n.call(e):t.get(e)),it=(e,t,n)=>t.has(e)?Be("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),U=(e,t,n,r)=>(oe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),vt=(e,t,n)=>(oe(e,t,"access private method"),n);import{p as zt,g as Gn,a as xe,b as Hn,o as Xn}from"./index-gMaV0V1e.chunk.mjs";import{U as Zn}from"./index-DUrHmx5a.chunk.mjs";import{g as Ft}from"./vue.runtime.esm-UAI8SE-v.chunk.mjs";import{p as Nt}from"./NcNoteCard-Dz5-u2BY-DlVQ92TX.chunk.mjs";function pn(e,t,n){const r=document.querySelector("#initial-state-".concat(e,"-").concat(t));if(r===null)return n;try{return JSON.parse(atob(r.value))}catch(s){throw new Error("Could not parse initial state ".concat(t," of ").concat(e))}}function Ae(){var e;return(e=pn("files_sharing","isPublic",null))!=null?e:document.querySelector('input#isPublic[type="hidden"][name="isPublic"][value="1"]')!==null}function Yn(){var e,t,n;return(n=(t=pn("files_sharing","sharingToken",null))!=null?t:(e=document.querySelector('input#sharingToken[type="hidden"]'))==null?void 0:e.value)!=null?n:null}function wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ve(e,t,n){Jn(e,t),t.set(e,n)}function Jn(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function K(e,t){var n=fn(e,t,"get");return Kn(e,n)}function Kn(e,t){return t.get?t.get.call(e):t.value}function ze(e,t,n){var r=fn(e,t,"set");return Qn(e,r,n),n}function fn(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function Qn(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}var tr=typeof Symbol<"u"?Symbol.toStringTag:"@@toStringTag",Q=new WeakMap,$t=new WeakMap;class ee{constructor(t){var{executor:n=()=>{},internals:r=Ne(),promise:s=new Promise((i,c)=>n(i,c,u=>{r.onCancelList.push(u)}))}=t;Ve(this,Q,{writable:!0,value:void 0}),Ve(this,$t,{writable:!0,value:void 0}),wt(this,tr,"CancelablePromise"),this.cancel=this.cancel.bind(this),ze(this,Q,r),ze(this,$t,s||new Promise((i,c)=>n(i,c,u=>{r.onCancelList.push(u)})))}then(t,n){return qt(K(this,$t).then(Ut(t,K(this,Q)),Ut(n,K(this,Q))),K(this,Q))}catch(t){return qt(K(this,$t).catch(Ut(t,K(this,Q))),K(this,Q))}finally(t,n){return n&&K(this,Q).onCancelList.push(t),qt(K(this,$t).finally(Ut(()=>{if(t)return n&&(K(this,Q).onCancelList=K(this,Q).onCancelList.filter(r=>r!==t)),t()},K(this,Q))),K(this,Q))}cancel(){K(this,Q).isCanceled=!0;var t=K(this,Q).onCancelList;K(this,Q).onCancelList=[];for(var n of t)if(typeof n=="function")try{n()}catch(r){console.error(r)}}isCanceled(){return K(this,Q).isCanceled===!0}}class ft extends ee{constructor(t){super({executor:t})}}wt(ft,"all",function(e){return Bt(e,Promise.all(e))}),wt(ft,"allSettled",function(e){return Bt(e,Promise.allSettled(e))}),wt(ft,"any",function(e){return Bt(e,Promise.any(e))}),wt(ft,"race",function(e){return Bt(e,Promise.race(e))}),wt(ft,"resolve",function(e){return qe(Promise.resolve(e))}),wt(ft,"reject",function(e){return qe(Promise.reject(e))}),wt(ft,"isCancelable",Ee);function qe(e){return qt(e,Ne())}function Ee(e){return e instanceof ft||e instanceof ee}function Ut(e,t){if(e)return n=>{if(!t.isCanceled){var r=e(n);return Ee(r)&&t.onCancelList.push(r.cancel),r}return n}}function qt(e,t){return new ee({internals:t,promise:e})}function Bt(e,t){var n=Ne();return n.onCancelList.push(()=>{for(var r of e)Ee(r)&&r.cancel()}),new ee({internals:n,promise:t})}function Ne(){return{isCanceled:!1,onCancelList:[]}}var ie={},er={2:e=>{function t(s,i,c){s instanceof RegExp&&(s=n(s,c)),i instanceof RegExp&&(i=n(i,c));var u=r(s,i,c);return u&&{start:u[0],end:u[1],pre:c.slice(0,u[0]),body:c.slice(u[0]+s.length,u[1]),post:c.slice(u[1]+i.length)}}function n(s,i){var c=i.match(s);return c?c[0]:null}function r(s,i,c){var u,g,h,o,l,a=c.indexOf(s),m=c.indexOf(i,a+1),d=a;if(a>=0&&m>0){for(u=[],h=c.length;d>=0&&!l;)d==a?(u.push(d),a=c.indexOf(s,d+1)):u.length==1?l=[u.pop(),m]:((g=u.pop())<h&&(h=g,o=m),m=c.indexOf(i,d+1)),d=a<m&&a>=0?a:m;u.length&&(l=[h,o])}return l}e.exports=t,t.range=r},101:function(e,t,n){var r;e=n.nmd(e),function(s){var i=(e&&e.exports,typeof Ft=="object"&&Ft);i.global!==i&&i.window;var c=function(l){this.message=l};(c.prototype=new Error).name="InvalidCharacterError";var u=function(l){throw new c(l)},g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=/[\t\n\f\r ]/g,o={encode:function(l){l=String(l),/[^\0-\xFF]/.test(l)&&u("The string to be encoded contains characters outside of the Latin1 range.");for(var a,m,d,f,v=l.length%3,A="",p=-1,y=l.length-v;++p<y;)a=l.charCodeAt(p)<<16,m=l.charCodeAt(++p)<<8,d=l.charCodeAt(++p),A+=g.charAt((f=a+m+d)>>18&63)+g.charAt(f>>12&63)+g.charAt(f>>6&63)+g.charAt(63&f);return v==2?(a=l.charCodeAt(p)<<8,m=l.charCodeAt(++p),A+=g.charAt((f=a+m)>>10)+g.charAt(f>>4&63)+g.charAt(f<<2&63)+"="):v==1&&(f=l.charCodeAt(p),A+=g.charAt(f>>2)+g.charAt(f<<4&63)+"=="),A},decode:function(l){var a=(l=String(l).replace(h,"")).length;a%4==0&&(a=(l=l.replace(/==?$/,"")).length),(a%4==1||/[^+a-zA-Z0-9/]/.test(l))&&u("Invalid character: the string to be decoded is not correctly encoded.");for(var m,d,f=0,v="",A=-1;++A<a;)d=g.indexOf(l.charAt(A)),m=f%4?64*m+d:d,f++%4&&(v+=String.fromCharCode(255&m>>(-2*f&6)));return v},version:"1.0.0"};(r=function(){return o}.call(t,n,t,e))===void 0||(e.exports=r)}()},172:(e,t)=>{t.d=function(n){if(!n)return 0;for(var r=(n=n.toString()).length,s=n.length;s--;){var i=n.charCodeAt(s);56320<=i&&i<=57343&&s--,127<i&&i<=2047?r++:2047<i&&i<=65535&&(r+=2)}return r}},526:e=>{var t={utf8:{stringToBytes:function(n){return t.bin.stringToBytes(unescape(encodeURIComponent(n)))},bytesToString:function(n){return decodeURIComponent(escape(t.bin.bytesToString(n)))}},bin:{stringToBytes:function(n){for(var r=[],s=0;s<n.length;s++)r.push(255&n.charCodeAt(s));return r},bytesToString:function(n){for(var r=[],s=0;s<n.length;s++)r.push(String.fromCharCode(n[s]));return r.join("")}}};e.exports=t},298:e=>{var t,n;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(r,s){return r<<s|r>>>32-s},rotr:function(r,s){return r<<32-s|r>>>s},endian:function(r){if(r.constructor==Number)return 16711935&n.rotl(r,8)|4278255360&n.rotl(r,24);for(var s=0;s<r.length;s++)r[s]=n.endian(r[s]);return r},randomBytes:function(r){for(var s=[];r>0;r--)s.push(Math.floor(256*Math.random()));return s},bytesToWords:function(r){for(var s=[],i=0,c=0;i<r.length;i++,c+=8)s[c>>>5]|=r[i]<<24-c%32;return s},wordsToBytes:function(r){for(var s=[],i=0;i<32*r.length;i+=8)s.push(r[i>>>5]>>>24-i%32&255);return s},bytesToHex:function(r){for(var s=[],i=0;i<r.length;i++)s.push((r[i]>>>4).toString(16)),s.push((15&r[i]).toString(16));return s.join("")},hexToBytes:function(r){for(var s=[],i=0;i<r.length;i+=2)s.push(parseInt(r.substr(i,2),16));return s},bytesToBase64:function(r){for(var s=[],i=0;i<r.length;i+=3)for(var c=r[i]<<16|r[i+1]<<8|r[i+2],u=0;u<4;u++)8*i+6*u<=8*r.length?s.push(t.charAt(c>>>6*(3-u)&63)):s.push("=");return s.join("")},base64ToBytes:function(r){r=r.replace(/[^A-Z0-9+\/]/gi,"");for(var s=[],i=0,c=0;i<r.length;c=++i%4)c!=0&&s.push((t.indexOf(r.charAt(i-1))&Math.pow(2,-2*c+8)-1)<<2*c|t.indexOf(r.charAt(i))>>>6-2*c);return s}},e.exports=n},635:(e,t,n)=>{const r=n(31),s=n(338),i=n(221);e.exports={XMLParser:s,XMLValidator:r,XMLBuilder:i}},118:e=>{e.exports=function(t){return typeof t=="function"?t:Array.isArray(t)?n=>{for(const r of t)if(typeof r=="string"&&n===r||r instanceof RegExp&&r.test(n))return!0}:()=>!1}},705:(e,t)=>{const n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r="["+n+"]["+n+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",s=new RegExp("^"+r+"$");t.isExist=function(i){return i!==void 0},t.isEmptyObject=function(i){return Object.keys(i).length===0},t.merge=function(i,c,u){if(c){const g=Object.keys(c),h=g.length;for(let o=0;o<h;o++)i[g[o]]=u==="strict"?[c[g[o]]]:c[g[o]]}},t.getValue=function(i){return t.isExist(i)?i:""},t.isName=function(i){return s.exec(i)!=null},t.getAllMatches=function(i,c){const u=[];let g=c.exec(i);for(;g;){const h=[];h.startIndex=c.lastIndex-g[0].length;const o=g.length;for(let l=0;l<o;l++)h.push(g[l]);u.push(h),g=c.exec(i)}return u},t.nameRegexp=r},31:(e,t,n)=>{const r=n(705),s={allowBooleanAttributes:!1,unpairedTags:[]};function i(p){return p===" "||p==="	"||p==="\n"||p==="\r"}function c(p,y){const x=y;for(;y<p.length;y++)if(!(p[y]!="?"&&p[y]!=" ")){const E=p.substr(x,y-x);if(y>5&&E==="xml")return d("InvalidXml","XML declaration allowed only at the start of the document.",v(p,y));if(p[y]=="?"&&p[y+1]==">"){y++;break}}return y}function u(p,y){if(p.length>y+5&&p[y+1]==="-"&&p[y+2]==="-"){for(y+=3;y<p.length;y++)if(p[y]==="-"&&p[y+1]==="-"&&p[y+2]===">"){y+=2;break}}else if(p.length>y+8&&p[y+1]==="D"&&p[y+2]==="O"&&p[y+3]==="C"&&p[y+4]==="T"&&p[y+5]==="Y"&&p[y+6]==="P"&&p[y+7]==="E"){let x=1;for(y+=8;y<p.length;y++)if(p[y]==="<")x++;else if(p[y]===">"&&(x--,x===0))break}else if(p.length>y+9&&p[y+1]==="["&&p[y+2]==="C"&&p[y+3]==="D"&&p[y+4]==="A"&&p[y+5]==="T"&&p[y+6]==="A"&&p[y+7]==="["){for(y+=8;y<p.length;y++)if(p[y]==="]"&&p[y+1]==="]"&&p[y+2]===">"){y+=2;break}}return y}t.validate=function(p,y){y=Object.assign({},s,y);const x=[];let E=!1,w=!1;p[0]==="\uFEFF"&&(p=p.substr(1));for(let b=0;b<p.length;b++)if(p[b]==="<"&&p[b+1]==="?"){if(b+=2,b=c(p,b),b.err)return b}else{if(p[b]!=="<"){if(i(p[b]))continue;return d("InvalidChar","char '"+p[b]+"' is not expected.",v(p,b))}{let O=b;if(b++,p[b]==="!"){b=u(p,b);continue}{let j=!1;p[b]==="/"&&(j=!0,b++);let S="";for(;b<p.length&&p[b]!==">"&&p[b]!==" "&&p[b]!=="	"&&p[b]!=="\n"&&p[b]!=="\r";b++)S+=p[b];if(S=S.trim(),S[S.length-1]==="/"&&(S=S.substring(0,S.length-1),b--),P=S,!r.isName(P)){let _;return _=S.trim().length===0?"Invalid space after '<'.":"Tag '"+S+"' is an invalid name.",d("InvalidTag",_,v(p,b))}const C=o(p,b);if(C===!1)return d("InvalidAttr","Attributes for '"+S+"' have open quote.",v(p,b));let N=C.value;if(b=C.index,N[N.length-1]==="/"){const _=b-N.length;N=N.substring(0,N.length-1);const $=a(N,y);if($!==!0)return d($.err.code,$.err.msg,v(p,_+$.err.line));E=!0}else if(j){if(!C.tagClosed)return d("InvalidTag","Closing tag '"+S+"' doesn't have proper closing.",v(p,b));if(N.trim().length>0)return d("InvalidTag","Closing tag '"+S+"' can't have attributes or invalid starting.",v(p,O));if(x.length===0)return d("InvalidTag","Closing tag '"+S+"' has not been opened.",v(p,O));{const _=x.pop();if(S!==_.tagName){let $=v(p,_.tagStartPos);return d("InvalidTag","Expected closing tag '"+_.tagName+"' (opened in line "+$.line+", col "+$.col+") instead of closing tag '"+S+"'.",v(p,O))}x.length==0&&(w=!0)}}else{const _=a(N,y);if(_!==!0)return d(_.err.code,_.err.msg,v(p,b-N.length+_.err.line));if(w===!0)return d("InvalidXml","Multiple possible root nodes found.",v(p,b));y.unpairedTags.indexOf(S)!==-1||x.push({tagName:S,tagStartPos:O}),E=!0}for(b++;b<p.length;b++)if(p[b]==="<"){if(p[b+1]==="!"){b++,b=u(p,b);continue}if(p[b+1]!=="?")break;if(b=c(p,++b),b.err)return b}else if(p[b]==="&"){const _=m(p,b);if(_==-1)return d("InvalidChar","char '&' is not expected.",v(p,b));b=_}else if(w===!0&&!i(p[b]))return d("InvalidXml","Extra text at the end",v(p,b));p[b]==="<"&&b--}}}var P;return E?x.length==1?d("InvalidTag","Unclosed tag '"+x[0].tagName+"'.",v(p,x[0].tagStartPos)):!(x.length>0)||d("InvalidXml","Invalid '"+JSON.stringify(x.map(b=>b.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):d("InvalidXml","Start tag expected.",1)};const g='"',h="'";function o(p,y){let x="",E="",w=!1;for(;y<p.length;y++){if(p[y]===g||p[y]===h)E===""?E=p[y]:E!==p[y]||(E="");else if(p[y]===">"&&E===""){w=!0;break}x+=p[y]}return E===""&&{value:x,index:y,tagClosed:w}}const l=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function a(p,y){const x=r.getAllMatches(p,l),E={};for(let w=0;w<x.length;w++){if(x[w][1].length===0)return d("InvalidAttr","Attribute '"+x[w][2]+"' has no space in starting.",A(x[w]));if(x[w][3]!==void 0&&x[w][4]===void 0)return d("InvalidAttr","Attribute '"+x[w][2]+"' is without value.",A(x[w]));if(x[w][3]===void 0&&!y.allowBooleanAttributes)return d("InvalidAttr","boolean attribute '"+x[w][2]+"' is not allowed.",A(x[w]));const P=x[w][2];if(!f(P))return d("InvalidAttr","Attribute '"+P+"' is an invalid name.",A(x[w]));if(E.hasOwnProperty(P))return d("InvalidAttr","Attribute '"+P+"' is repeated.",A(x[w]));E[P]=1}return!0}function m(p,y){if(p[++y]===";")return-1;if(p[y]==="#")return function(E,w){let P=/\d/;for(E[w]==="x"&&(w++,P=/[\da-fA-F]/);w<E.length;w++){if(E[w]===";")return w;if(!E[w].match(P))break}return-1}(p,++y);let x=0;for(;y<p.length;y++,x++)if(!(p[y].match(/\w/)&&x<20)){if(p[y]===";")break;return-1}return y}function d(p,y,x){return{err:{code:p,msg:y,line:x.line||x,col:x.col}}}function f(p){return r.isName(p)}function v(p,y){const x=p.substring(0,y).split(/\r?\n/);return{line:x.length,col:x[x.length-1].length+1}}function A(p){return p.startIndex+p[1].length}},221:(e,t,n)=>{const r=n(87),s=n(118),i={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(o,l){return l},attributeValueProcessor:function(o,l){return l},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function c(o){this.options=Object.assign({},i,o),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=s(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=h),this.processTextOrObjNode=u,this.options.format?(this.indentate=g,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function u(o,l,a,m){const d=this.j2x(o,a+1,m.concat(l));return o[this.options.textNodeName]!==void 0&&Object.keys(o).length===1?this.buildTextValNode(o[this.options.textNodeName],l,d.attrStr,a):this.buildObjectNode(d.val,l,d.attrStr,a)}function g(o){return this.options.indentBy.repeat(o)}function h(o){return!(!o.startsWith(this.options.attributeNamePrefix)||o===this.options.textNodeName)&&o.substr(this.attrPrefixLen)}c.prototype.build=function(o){return this.options.preserveOrder?r(o,this.options):(Array.isArray(o)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(o={[this.options.arrayNodeName]:o}),this.j2x(o,0,[]).val)},c.prototype.j2x=function(o,l,a){let m="",d="";const f=a.join(".");for(let v in o)if(Object.prototype.hasOwnProperty.call(o,v))if(o[v]===void 0)this.isAttribute(v)&&(d+="");else if(o[v]===null)this.isAttribute(v)?d+="":v[0]==="?"?d+=this.indentate(l)+"<"+v+"?"+this.tagEndChar:d+=this.indentate(l)+"<"+v+"/"+this.tagEndChar;else if(o[v]instanceof Date)d+=this.buildTextValNode(o[v],v,"",l);else if(typeof o[v]!="object"){const A=this.isAttribute(v);if(A&&!this.ignoreAttributesFn(A,f))m+=this.buildAttrPairStr(A,""+o[v]);else if(!A)if(v===this.options.textNodeName){let p=this.options.tagValueProcessor(v,""+o[v]);d+=this.replaceEntitiesValue(p)}else d+=this.buildTextValNode(o[v],v,"",l)}else if(Array.isArray(o[v])){const A=o[v].length;let p="",y="";for(let x=0;x<A;x++){const E=o[v][x];if(E!==void 0)if(E===null)v[0]==="?"?d+=this.indentate(l)+"<"+v+"?"+this.tagEndChar:d+=this.indentate(l)+"<"+v+"/"+this.tagEndChar;else if(typeof E=="object")if(this.options.oneListGroup){const w=this.j2x(E,l+1,a.concat(v));p+=w.val,this.options.attributesGroupName&&E.hasOwnProperty(this.options.attributesGroupName)&&(y+=w.attrStr)}else p+=this.processTextOrObjNode(E,v,l,a);else if(this.options.oneListGroup){let w=this.options.tagValueProcessor(v,E);w=this.replaceEntitiesValue(w),p+=w}else p+=this.buildTextValNode(E,v,"",l)}this.options.oneListGroup&&(p=this.buildObjectNode(p,v,y,l)),d+=p}else if(this.options.attributesGroupName&&v===this.options.attributesGroupName){const A=Object.keys(o[v]),p=A.length;for(let y=0;y<p;y++)m+=this.buildAttrPairStr(A[y],""+o[v][A[y]])}else d+=this.processTextOrObjNode(o[v],v,l,a);return{attrStr:m,val:d}},c.prototype.buildAttrPairStr=function(o,l){return l=this.options.attributeValueProcessor(o,""+l),l=this.replaceEntitiesValue(l),this.options.suppressBooleanAttributes&&l==="true"?" "+o:" "+o+'="'+l+'"'},c.prototype.buildObjectNode=function(o,l,a,m){if(o==="")return l[0]==="?"?this.indentate(m)+"<"+l+a+"?"+this.tagEndChar:this.indentate(m)+"<"+l+a+this.closeTag(l)+this.tagEndChar;{let d="</"+l+this.tagEndChar,f="";return l[0]==="?"&&(f="?",d=""),!a&&a!==""||o.indexOf("<")!==-1?this.options.commentPropName!==!1&&l===this.options.commentPropName&&f.length===0?this.indentate(m)+"<!--".concat(o,"-->")+this.newLine:this.indentate(m)+"<"+l+a+f+this.tagEndChar+o+this.indentate(m)+d:this.indentate(m)+"<"+l+a+f+">"+o+d}},c.prototype.closeTag=function(o){let l="";return this.options.unpairedTags.indexOf(o)!==-1?this.options.suppressUnpairedNode||(l="/"):l=this.options.suppressEmptyNode?"/":"></".concat(o),l},c.prototype.buildTextValNode=function(o,l,a,m){if(this.options.cdataPropName!==!1&&l===this.options.cdataPropName)return this.indentate(m)+"<![CDATA[".concat(o,"]]>")+this.newLine;if(this.options.commentPropName!==!1&&l===this.options.commentPropName)return this.indentate(m)+"<!--".concat(o,"-->")+this.newLine;if(l[0]==="?")return this.indentate(m)+"<"+l+a+"?"+this.tagEndChar;{let d=this.options.tagValueProcessor(l,o);return d=this.replaceEntitiesValue(d),d===""?this.indentate(m)+"<"+l+a+this.closeTag(l)+this.tagEndChar:this.indentate(m)+"<"+l+a+">"+d+"</"+l+this.tagEndChar}},c.prototype.replaceEntitiesValue=function(o){if(o&&o.length>0&&this.options.processEntities)for(let l=0;l<this.options.entities.length;l++){const a=this.options.entities[l];o=o.replace(a.regex,a.val)}return o},e.exports=c},87:e=>{function t(c,u,g,h){let o="",l=!1;for(let a=0;a<c.length;a++){const m=c[a],d=n(m);if(d===void 0)continue;let f="";if(f=g.length===0?d:"".concat(g,".").concat(d),d===u.textNodeName){let y=m[d];s(f,u)||(y=u.tagValueProcessor(d,y),y=i(y,u)),l&&(o+=h),o+=y,l=!1;continue}if(d===u.cdataPropName){l&&(o+=h),o+="<![CDATA[".concat(m[d][0][u.textNodeName],"]]>"),l=!1;continue}if(d===u.commentPropName){o+=h+"<!--".concat(m[d][0][u.textNodeName],"-->"),l=!0;continue}if(d[0]==="?"){const y=r(m[":@"],u),x=d==="?xml"?"":h;let E=m[d][0][u.textNodeName];E=E.length!==0?" "+E:"",o+=x+"<".concat(d).concat(E).concat(y,"?>"),l=!0;continue}let v=h;v!==""&&(v+=u.indentBy);const A=h+"<".concat(d).concat(r(m[":@"],u)),p=t(m[d],u,f,v);u.unpairedTags.indexOf(d)!==-1?u.suppressUnpairedNode?o+=A+">":o+=A+"/>":p&&p.length!==0||!u.suppressEmptyNode?p&&p.endsWith(">")?o+=A+">".concat(p).concat(h,"</").concat(d,">"):(o+=A+">",p&&h!==""&&(p.includes("/>")||p.includes("</"))?o+=h+u.indentBy+p+h:o+=p,o+="</".concat(d,">")):o+=A+"/>",l=!0}return o}function n(c){const u=Object.keys(c);for(let g=0;g<u.length;g++){const h=u[g];if(c.hasOwnProperty(h)&&h!==":@")return h}}function r(c,u){let g="";if(c&&!u.ignoreAttributes)for(let h in c){if(!c.hasOwnProperty(h))continue;let o=u.attributeValueProcessor(h,c[h]);o=i(o,u),o===!0&&u.suppressBooleanAttributes?g+=" ".concat(h.substr(u.attributeNamePrefix.length)):g+=" ".concat(h.substr(u.attributeNamePrefix.length),'="').concat(o,'"')}return g}function s(c,u){let g=(c=c.substr(0,c.length-u.textNodeName.length-1)).substr(c.lastIndexOf(".")+1);for(let h in u.stopNodes)if(u.stopNodes[h]===c||u.stopNodes[h]==="*."+g)return!0;return!1}function i(c,u){if(c&&c.length>0&&u.processEntities)for(let g=0;g<u.entities.length;g++){const h=u.entities[g];c=c.replace(h.regex,h.val)}return c}e.exports=function(c,u){let g="";return u.format&&u.indentBy.length>0&&(g="\n"),t(c,u,"",g)}},193:(e,t,n)=>{const r=n(705);function s(l,a){let m="";for(;a<l.length&&l[a]!=="'"&&l[a]!=='"';a++)m+=l[a];if(m=m.trim(),m.indexOf(" ")!==-1)throw new Error("External entites are not supported");const d=l[a++];let f="";for(;a<l.length&&l[a]!==d;a++)f+=l[a];return[m,f,a]}function i(l,a){return l[a+1]==="!"&&l[a+2]==="-"&&l[a+3]==="-"}function c(l,a){return l[a+1]==="!"&&l[a+2]==="E"&&l[a+3]==="N"&&l[a+4]==="T"&&l[a+5]==="I"&&l[a+6]==="T"&&l[a+7]==="Y"}function u(l,a){return l[a+1]==="!"&&l[a+2]==="E"&&l[a+3]==="L"&&l[a+4]==="E"&&l[a+5]==="M"&&l[a+6]==="E"&&l[a+7]==="N"&&l[a+8]==="T"}function g(l,a){return l[a+1]==="!"&&l[a+2]==="A"&&l[a+3]==="T"&&l[a+4]==="T"&&l[a+5]==="L"&&l[a+6]==="I"&&l[a+7]==="S"&&l[a+8]==="T"}function h(l,a){return l[a+1]==="!"&&l[a+2]==="N"&&l[a+3]==="O"&&l[a+4]==="T"&&l[a+5]==="A"&&l[a+6]==="T"&&l[a+7]==="I"&&l[a+8]==="O"&&l[a+9]==="N"}function o(l){if(r.isName(l))return l;throw new Error("Invalid entity name ".concat(l))}e.exports=function(l,a){const m={};if(l[a+3]!=="O"||l[a+4]!=="C"||l[a+5]!=="T"||l[a+6]!=="Y"||l[a+7]!=="P"||l[a+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{a+=9;let d=1,f=!1,v=!1,A="";for(;a<l.length;a++)if(l[a]!=="<"||v)if(l[a]===">"){if(v?l[a-1]==="-"&&l[a-2]==="-"&&(v=!1,d--):d--,d===0)break}else l[a]==="["?f=!0:A+=l[a];else{if(f&&c(l,a)){let p,y;a+=7,[p,y,a]=s(l,a+1),y.indexOf("&")===-1&&(m[o(p)]={regx:RegExp("&".concat(p,";"),"g"),val:y})}else if(f&&u(l,a))a+=8;else if(f&&g(l,a))a+=8;else if(f&&h(l,a))a+=9;else{if(!i)throw new Error("Invalid DOCTYPE");v=!0}d++,A=""}if(d!==0)throw new Error("Unclosed DOCTYPE")}return{entities:m,i:a}}},63:(e,t)=>{const n={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(r,s){return s},attributeValueProcessor:function(r,s){return s},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(r,s,i){return r}};t.buildOptions=function(r){return Object.assign({},n,r)},t.defaultOptions=n},299:(e,t,n)=>{const r=n(705),s=n(365),i=n(193),c=n(494),u=n(118);function g(w){const P=Object.keys(w);for(let b=0;b<P.length;b++){const O=P[b];this.lastEntities[O]={regex:new RegExp("&"+O+";","g"),val:w[O]}}}function h(w,P,b,O,j,S,C){if(w!==void 0&&(this.options.trimValues&&!O&&(w=w.trim()),w.length>0)){C||(w=this.replaceEntitiesValue(w));const N=this.options.tagValueProcessor(P,w,b,j,S);return N==null?w:typeof N!=typeof w||N!==w?N:this.options.trimValues||w.trim()===w?E(w,this.options.parseTagValue,this.options.numberParseOptions):w}}function o(w){if(this.options.removeNSPrefix){const P=w.split(":"),b=w.charAt(0)==="/"?"/":"";if(P[0]==="xmlns")return"";P.length===2&&(w=b+P[1])}return w}const l=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function a(w,P,b){if(this.options.ignoreAttributes!==!0&&typeof w=="string"){const O=r.getAllMatches(w,l),j=O.length,S={};for(let C=0;C<j;C++){const N=this.resolveNameSpace(O[C][1]);if(this.ignoreAttributesFn(N,P))continue;let _=O[C][4],$=this.options.attributeNamePrefix+N;if(N.length)if(this.options.transformAttributeName&&($=this.options.transformAttributeName($)),$==="__proto__"&&($="#__proto__"),_!==void 0){this.options.trimValues&&(_=_.trim()),_=this.replaceEntitiesValue(_);const I=this.options.attributeValueProcessor(N,_,P);S[$]=I==null?_:typeof I!=typeof _||I!==_?I:E(_,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(S[$]=!0)}if(!Object.keys(S).length)return;if(this.options.attributesGroupName){const C={};return C[this.options.attributesGroupName]=S,C}return S}}const m=function(w){w=w.replace(/\r\n?/g,"\n");const P=new s("!xml");let b=P,O="",j="";for(let S=0;S<w.length;S++)if(w[S]==="<")if(w[S+1]==="/"){const C=p(w,">",S,"Closing Tag is not closed.");let N=w.substring(S+2,C).trim();if(this.options.removeNSPrefix){const I=N.indexOf(":");I!==-1&&(N=N.substr(I+1))}this.options.transformTagName&&(N=this.options.transformTagName(N)),b&&(O=this.saveTextToParentTag(O,b,j));const _=j.substring(j.lastIndexOf(".")+1);if(N&&this.options.unpairedTags.indexOf(N)!==-1)throw new Error("Unpaired tag can not be used as closing tag: </".concat(N,">"));let $=0;_&&this.options.unpairedTags.indexOf(_)!==-1?($=j.lastIndexOf(".",j.lastIndexOf(".")-1),this.tagsNodeStack.pop()):$=j.lastIndexOf("."),j=j.substring(0,$),b=this.tagsNodeStack.pop(),O="",S=C}else if(w[S+1]==="?"){let C=y(w,S,!1,"?>");if(!C)throw new Error("Pi Tag is not closed.");if(O=this.saveTextToParentTag(O,b,j),!(this.options.ignoreDeclaration&&C.tagName==="?xml"||this.options.ignorePiTags)){const N=new s(C.tagName);N.add(this.options.textNodeName,""),C.tagName!==C.tagExp&&C.attrExpPresent&&(N[":@"]=this.buildAttributesMap(C.tagExp,j,C.tagName)),this.addChild(b,N,j)}S=C.closeIndex+1}else if(w.substr(S+1,3)==="!--"){const C=p(w,"-->",S+4,"Comment is not closed.");if(this.options.commentPropName){const N=w.substring(S+4,C-2);O=this.saveTextToParentTag(O,b,j),b.add(this.options.commentPropName,[{[this.options.textNodeName]:N}])}S=C}else if(w.substr(S+1,2)==="!D"){const C=i(w,S);this.docTypeEntities=C.entities,S=C.i}else if(w.substr(S+1,2)==="!["){const C=p(w,"]]>",S,"CDATA is not closed.")-2,N=w.substring(S+9,C);O=this.saveTextToParentTag(O,b,j);let _=this.parseTextData(N,b.tagname,j,!0,!1,!0,!0);_==null&&(_=""),this.options.cdataPropName?b.add(this.options.cdataPropName,[{[this.options.textNodeName]:N}]):b.add(this.options.textNodeName,_),S=C+2}else{let C=y(w,S,this.options.removeNSPrefix),N=C.tagName;const _=C.rawTagName;let $=C.tagExp,I=C.attrExpPresent,Y=C.closeIndex;this.options.transformTagName&&(N=this.options.transformTagName(N)),b&&O&&b.tagname!=="!xml"&&(O=this.saveTextToParentTag(O,b,j,!1));const q=b;if(q&&this.options.unpairedTags.indexOf(q.tagname)!==-1&&(b=this.tagsNodeStack.pop(),j=j.substring(0,j.lastIndexOf("."))),N!==P.tagname&&(j+=j?"."+N:N),this.isItStopNode(this.options.stopNodes,j,N)){let F="";if($.length>0&&$.lastIndexOf("/")===$.length-1)N[N.length-1]==="/"?(N=N.substr(0,N.length-1),j=j.substr(0,j.length-1),$=N):$=$.substr(0,$.length-1),S=C.closeIndex;else if(this.options.unpairedTags.indexOf(N)!==-1)S=C.closeIndex;else{const B=this.readStopNodeData(w,_,Y+1);if(!B)throw new Error("Unexpected end of ".concat(_));S=B.i,F=B.tagContent}const at=new s(N);N!==$&&I&&(at[":@"]=this.buildAttributesMap($,j,N)),F&&(F=this.parseTextData(F,N,j,!0,I,!0,!0)),j=j.substr(0,j.lastIndexOf(".")),at.add(this.options.textNodeName,F),this.addChild(b,at,j)}else{if($.length>0&&$.lastIndexOf("/")===$.length-1){N[N.length-1]==="/"?(N=N.substr(0,N.length-1),j=j.substr(0,j.length-1),$=N):$=$.substr(0,$.length-1),this.options.transformTagName&&(N=this.options.transformTagName(N));const F=new s(N);N!==$&&I&&(F[":@"]=this.buildAttributesMap($,j,N)),this.addChild(b,F,j),j=j.substr(0,j.lastIndexOf("."))}else{const F=new s(N);this.tagsNodeStack.push(b),N!==$&&I&&(F[":@"]=this.buildAttributesMap($,j,N)),this.addChild(b,F,j),b=F}O="",S=Y}}else O+=w[S];return P.child};function d(w,P,b){const O=this.options.updateTag(P.tagname,b,P[":@"]);O===!1||(typeof O=="string"&&(P.tagname=O),w.addChild(P))}const f=function(w){if(this.options.processEntities){for(let P in this.docTypeEntities){const b=this.docTypeEntities[P];w=w.replace(b.regx,b.val)}for(let P in this.lastEntities){const b=this.lastEntities[P];w=w.replace(b.regex,b.val)}if(this.options.htmlEntities)for(let P in this.htmlEntities){const b=this.htmlEntities[P];w=w.replace(b.regex,b.val)}w=w.replace(this.ampEntity.regex,this.ampEntity.val)}return w};function v(w,P,b,O){return w&&(O===void 0&&(O=Object.keys(P.child).length===0),(w=this.parseTextData(w,P.tagname,b,!1,!!P[":@"]&&Object.keys(P[":@"]).length!==0,O))!==void 0&&w!==""&&P.add(this.options.textNodeName,w),w=""),w}function A(w,P,b){const O="*."+b;for(const j in w){const S=w[j];if(O===S||P===S)return!0}return!1}function p(w,P,b,O){const j=w.indexOf(P,b);if(j===-1)throw new Error(O);return j+P.length-1}function y(w,P,b){const O=function(I,Y){let q,F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:">",at="";for(let B=Y;B<I.length;B++){let J=I[B];if(q)J===q&&(q="");else if(J==='"'||J==="'")q=J;else if(J===F[0]){if(!F[1])return{data:at,index:B};if(I[B+1]===F[1])return{data:at,index:B}}else J==="	"&&(J=" ");at+=J}}(w,P+1,arguments.length>3&&arguments[3]!==void 0?arguments[3]:">");if(!O)return;let j=O.data;const S=O.index,C=j.search(/\s/);let N=j,_=!0;C!==-1&&(N=j.substring(0,C),j=j.substring(C+1).trimStart());const $=N;if(b){const I=N.indexOf(":");I!==-1&&(N=N.substr(I+1),_=N!==O.data.substr(I+1))}return{tagName:N,tagExp:j,closeIndex:S,attrExpPresent:_,rawTagName:$}}function x(w,P,b){const O=b;let j=1;for(;b<w.length;b++)if(w[b]==="<")if(w[b+1]==="/"){const S=p(w,">",b,"".concat(P," is not closed"));if(w.substring(b+2,S).trim()===P&&(j--,j===0))return{tagContent:w.substring(O,b),i:S};b=S}else if(w[b+1]==="?")b=p(w,"?>",b+1,"StopNode is not closed.");else if(w.substr(b+1,3)==="!--")b=p(w,"-->",b+3,"StopNode is not closed.");else if(w.substr(b+1,2)==="![")b=p(w,"]]>",b,"StopNode is not closed.")-2;else{const S=y(w,b,">");S&&((S&&S.tagName)===P&&S.tagExp[S.tagExp.length-1]!=="/"&&j++,b=S.closeIndex)}}function E(w,P,b){if(P&&typeof w=="string"){const O=w.trim();return O==="true"||O!=="false"&&c(w,b)}return r.isExist(w)?w:""}e.exports=class{constructor(w){this.options=w,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(P,b)=>String.fromCharCode(Number.parseInt(b,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(P,b)=>String.fromCharCode(Number.parseInt(b,16))}},this.addExternalEntities=g,this.parseXml=m,this.parseTextData=h,this.resolveNameSpace=o,this.buildAttributesMap=a,this.isItStopNode=A,this.replaceEntitiesValue=f,this.readStopNodeData=x,this.saveTextToParentTag=v,this.addChild=d,this.ignoreAttributesFn=u(this.options.ignoreAttributes)}}},338:(e,t,n)=>{const{buildOptions:r}=n(63),s=n(299),{prettify:i}=n(728),c=n(31);e.exports=class{constructor(u){this.externalEntities={},this.options=r(u)}parse(u,g){if(typeof u!="string"){if(!u.toString)throw new Error("XML data is accepted in String or Bytes[] form.");u=u.toString()}if(g){g===!0&&(g={});const l=c.validate(u,g);if(l!==!0)throw Error("".concat(l.err.msg,":").concat(l.err.line,":").concat(l.err.col))}const h=new s(this.options);h.addExternalEntities(this.externalEntities);const o=h.parseXml(u);return this.options.preserveOrder||o===void 0?o:i(o,this.options)}addEntity(u,g){if(g.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(u.indexOf("&")!==-1||u.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(g==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[u]=g}}},728:(e,t)=>{function n(c,u,g){let h;const o={};for(let l=0;l<c.length;l++){const a=c[l],m=r(a);let d="";if(d=g===void 0?m:g+"."+m,m===u.textNodeName)h===void 0?h=a[m]:h+=""+a[m];else{if(m===void 0)continue;if(a[m]){let f=n(a[m],u,d);const v=i(f,u);a[":@"]?s(f,a[":@"],d,u):Object.keys(f).length!==1||f[u.textNodeName]===void 0||u.alwaysCreateTextNode?Object.keys(f).length===0&&(u.alwaysCreateTextNode?f[u.textNodeName]="":f=""):f=f[u.textNodeName],o[m]!==void 0&&o.hasOwnProperty(m)?(Array.isArray(o[m])||(o[m]=[o[m]]),o[m].push(f)):u.isArray(m,d,v)?o[m]=[f]:o[m]=f}}}return typeof h=="string"?h.length>0&&(o[u.textNodeName]=h):h!==void 0&&(o[u.textNodeName]=h),o}function r(c){const u=Object.keys(c);for(let g=0;g<u.length;g++){const h=u[g];if(h!==":@")return h}}function s(c,u,g,h){if(u){const o=Object.keys(u),l=o.length;for(let a=0;a<l;a++){const m=o[a];h.isArray(m,g+"."+m,!0,!0)?c[m]=[u[m]]:c[m]=u[m]}}}function i(c,u){const{textNodeName:g}=u,h=Object.keys(c).length;return h===0||!(h!==1||!c[g]&&typeof c[g]!="boolean"&&c[g]!==0)}t.prettify=function(c,u){return n(c,u)}},365:e=>{e.exports=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,n){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:n})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}}},135:e=>{function t(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}e.exports=function(n){return n!=null&&(t(n)||function(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&t(r.slice(0,0))}(n)||!!n._isBuffer)}},542:(e,t,n)=>{(function(){var r=n(298),s=n(526).utf8,i=n(135),c=n(526).bin,u=function(g,h){g.constructor==String?g=h&&h.encoding==="binary"?c.stringToBytes(g):s.stringToBytes(g):i(g)?g=Array.prototype.slice.call(g,0):Array.isArray(g)||g.constructor===Uint8Array||(g=g.toString());for(var o=r.bytesToWords(g),l=8*g.length,a=1732584193,m=-271733879,d=-1732584194,f=271733878,v=0;v<o.length;v++)o[v]=16711935&(o[v]<<8|o[v]>>>24)|4278255360&(o[v]<<24|o[v]>>>8);o[l>>>5]|=128<<l%32,o[14+(l+64>>>9<<4)]=l;var A=u._ff,p=u._gg,y=u._hh,x=u._ii;for(v=0;v<o.length;v+=16){var E=a,w=m,P=d,b=f;a=A(a,m,d,f,o[v+0],7,-680876936),f=A(f,a,m,d,o[v+1],12,-389564586),d=A(d,f,a,m,o[v+2],17,606105819),m=A(m,d,f,a,o[v+3],22,-1044525330),a=A(a,m,d,f,o[v+4],7,-176418897),f=A(f,a,m,d,o[v+5],12,1200080426),d=A(d,f,a,m,o[v+6],17,-1473231341),m=A(m,d,f,a,o[v+7],22,-45705983),a=A(a,m,d,f,o[v+8],7,1770035416),f=A(f,a,m,d,o[v+9],12,-1958414417),d=A(d,f,a,m,o[v+10],17,-42063),m=A(m,d,f,a,o[v+11],22,-1990404162),a=A(a,m,d,f,o[v+12],7,1804603682),f=A(f,a,m,d,o[v+13],12,-40341101),d=A(d,f,a,m,o[v+14],17,-1502002290),a=p(a,m=A(m,d,f,a,o[v+15],22,1236535329),d,f,o[v+1],5,-165796510),f=p(f,a,m,d,o[v+6],9,-1069501632),d=p(d,f,a,m,o[v+11],14,643717713),m=p(m,d,f,a,o[v+0],20,-373897302),a=p(a,m,d,f,o[v+5],5,-701558691),f=p(f,a,m,d,o[v+10],9,38016083),d=p(d,f,a,m,o[v+15],14,-660478335),m=p(m,d,f,a,o[v+4],20,-405537848),a=p(a,m,d,f,o[v+9],5,568446438),f=p(f,a,m,d,o[v+14],9,-1019803690),d=p(d,f,a,m,o[v+3],14,-187363961),m=p(m,d,f,a,o[v+8],20,1163531501),a=p(a,m,d,f,o[v+13],5,-1444681467),f=p(f,a,m,d,o[v+2],9,-51403784),d=p(d,f,a,m,o[v+7],14,1735328473),a=y(a,m=p(m,d,f,a,o[v+12],20,-1926607734),d,f,o[v+5],4,-378558),f=y(f,a,m,d,o[v+8],11,-2022574463),d=y(d,f,a,m,o[v+11],16,1839030562),m=y(m,d,f,a,o[v+14],23,-35309556),a=y(a,m,d,f,o[v+1],4,-1530992060),f=y(f,a,m,d,o[v+4],11,1272893353),d=y(d,f,a,m,o[v+7],16,-155497632),m=y(m,d,f,a,o[v+10],23,-1094730640),a=y(a,m,d,f,o[v+13],4,681279174),f=y(f,a,m,d,o[v+0],11,-358537222),d=y(d,f,a,m,o[v+3],16,-722521979),m=y(m,d,f,a,o[v+6],23,76029189),a=y(a,m,d,f,o[v+9],4,-640364487),f=y(f,a,m,d,o[v+12],11,-421815835),d=y(d,f,a,m,o[v+15],16,530742520),a=x(a,m=y(m,d,f,a,o[v+2],23,-995338651),d,f,o[v+0],6,-198630844),f=x(f,a,m,d,o[v+7],10,1126891415),d=x(d,f,a,m,o[v+14],15,-1416354905),m=x(m,d,f,a,o[v+5],21,-57434055),a=x(a,m,d,f,o[v+12],6,1700485571),f=x(f,a,m,d,o[v+3],10,-1894986606),d=x(d,f,a,m,o[v+10],15,-1051523),m=x(m,d,f,a,o[v+1],21,-2054922799),a=x(a,m,d,f,o[v+8],6,1873313359),f=x(f,a,m,d,o[v+15],10,-30611744),d=x(d,f,a,m,o[v+6],15,-1560198380),m=x(m,d,f,a,o[v+13],21,1309151649),a=x(a,m,d,f,o[v+4],6,-145523070),f=x(f,a,m,d,o[v+11],10,-1120210379),d=x(d,f,a,m,o[v+2],15,718787259),m=x(m,d,f,a,o[v+9],21,-343485551),a=a+E>>>0,m=m+w>>>0,d=d+P>>>0,f=f+b>>>0}return r.endian([a,m,d,f])};u._ff=function(g,h,o,l,a,m,d){var f=g+(h&o|~h&l)+(a>>>0)+d;return(f<<m|f>>>32-m)+h},u._gg=function(g,h,o,l,a,m,d){var f=g+(h&l|o&~l)+(a>>>0)+d;return(f<<m|f>>>32-m)+h},u._hh=function(g,h,o,l,a,m,d){var f=g+(h^o^l)+(a>>>0)+d;return(f<<m|f>>>32-m)+h},u._ii=function(g,h,o,l,a,m,d){var f=g+(o^(h|~l))+(a>>>0)+d;return(f<<m|f>>>32-m)+h},u._blocksize=16,u._digestsize=16,e.exports=function(g,h){if(g==null)throw new Error("Illegal argument "+g);var o=r.wordsToBytes(u(g,h));return h&&h.asBytes?o:h&&h.asString?c.bytesToString(o):r.bytesToHex(o)}})()},285:(e,t,n)=>{var r=n(2);e.exports=function(A){return A?(A.substr(0,2)==="{}"&&(A="\\{\\}"+A.substr(2)),v(function(p){return p.split("\\\\").join(s).split("\\{").join(i).split("\\}").join(c).split("\\,").join(u).split("\\.").join(g)}(A),!0).map(o)):[]};var s="\0SLASH"+Math.random()+"\0",i="\0OPEN"+Math.random()+"\0",c="\0CLOSE"+Math.random()+"\0",u="\0COMMA"+Math.random()+"\0",g="\0PERIOD"+Math.random()+"\0";function h(A){return parseInt(A,10)==A?parseInt(A,10):A.charCodeAt(0)}function o(A){return A.split(s).join("\\").split(i).join("{").split(c).join("}").split(u).join(",").split(g).join(".")}function l(A){if(!A)return[""];var p=[],y=r("{","}",A);if(!y)return A.split(",");var x=y.pre,E=y.body,w=y.post,P=x.split(",");P[P.length-1]+="{"+E+"}";var b=l(w);return w.length&&(P[P.length-1]+=b.shift(),P.push.apply(P,b)),p.push.apply(p,P),p}function a(A){return"{"+A+"}"}function m(A){return/^-?0\d/.test(A)}function d(A,p){return A<=p}function f(A,p){return A>=p}function v(A,p){var y=[],x=r("{","}",A);if(!x)return[A];var E=x.pre,w=x.post.length?v(x.post,!1):[""];if(/\$$/.test(x.pre))for(var P=0;P<w.length;P++){var b=E+"{"+x.body+"}"+w[P];y.push(b)}else{var O,j,S=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(x.body),C=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(x.body),N=S||C,_=x.body.indexOf(",")>=0;if(!N&&!_)return x.post.match(/,.*\}/)?v(A=x.pre+"{"+x.body+c+x.post):[A];if(N)O=x.body.split(/\.\./);else if((O=l(x.body)).length===1&&(O=v(O[0],!1).map(a)).length===1)return w.map(function(Un){return x.pre+O[0]+Un});if(N){var $=h(O[0]),I=h(O[1]),Y=Math.max(O[0].length,O[1].length),q=O.length==3?Math.abs(h(O[2])):1,F=d;I<$&&(q*=-1,F=f);var at=O.some(m);j=[];for(var B=$;F(B,I);B+=q){var J;if(C)(J=String.fromCharCode(B))==="\\"&&(J="");else if(J=String(B),at){var Me=Y-J.length;if(Me>0){var Fe=new Array(Me+1).join("0");J=B<0?"-"+Fe+J.slice(1):Fe+J}}j.push(J)}}else{j=[];for(var Et=0;Et<O.length;Et++)j.push.apply(j,v(O[Et],!1))}for(Et=0;Et<j.length;Et++)for(P=0;P<w.length;P++)b=E+j[Et]+w[P],(!p||N||b)&&y.push(b)}return y}},829:e=>{function t(h){return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},t(h)}function n(h){var o=typeof Map=="function"?new Map:void 0;return n=function(l){if(l===null||(a=l,Function.toString.call(a).indexOf("[native code]")===-1))return l;var a;if(typeof l!="function")throw new TypeError("Super expression must either be null or a function");if(o!==void 0){if(o.has(l))return o.get(l);o.set(l,m)}function m(){return r(l,arguments,i(this).constructor)}return m.prototype=Object.create(l.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),s(m,l)},n(h)}function r(h,o,l){return r=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}()?Reflect.construct:function(a,m,d){var f=[null];f.push.apply(f,m);var v=new(Function.bind.apply(a,f));return d&&s(v,d.prototype),v},r.apply(null,arguments)}function s(h,o){return s=Object.setPrototypeOf||function(l,a){return l.__proto__=a,l},s(h,o)}function i(h){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},i(h)}var c=function(h){function o(l){var a;return function(m,d){if(!(m instanceof d))throw new TypeError("Cannot call a class as a function")}(this,o),(a=function(m,d){return!d||t(d)!=="object"&&typeof d!="function"?function(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(m):d}(this,i(o).call(this,l))).name="ObjectPrototypeMutationError",a}return function(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(a&&a.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),a&&s(l,a)}(o,h),o}(n(Error));function u(h,o){for(var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},a=o.split("."),m=a.length,d=function(A){var p=a[A];if(!h)return{v:void 0};if(p==="+"){if(Array.isArray(h))return{v:h.map(function(x,E){var w=a.slice(A+1);return w.length>0?u(x,w.join("."),l):l(h,E,a,A)})};var y=a.slice(0,A).join(".");throw new Error("Object at wildcard (".concat(y,") is not an array"))}h=l(h,p,a,A)},f=0;f<m;f++){var v=d(f);if(t(v)==="object")return v.v}return h}function g(h,o){return h.length===o+1}e.exports={set:function(h,o,l){if(t(h)!="object"||h===null||o===void 0)return h;if(typeof o=="number")return h[o]=l,h[o];try{return u(h,o,function(a,m,d,f){if(a===Reflect.getPrototypeOf({}))throw new c("Attempting to mutate Object.prototype");if(!a[m]){var v=Number.isInteger(Number(d[f+1])),A=d[f+1]==="+";a[m]=v||A?[]:{}}return g(d,f)&&(a[m]=l),a[m]})}catch(a){if(a instanceof c)throw a;return h}},get:function(h,o){if(t(h)!="object"||h===null||o===void 0)return h;if(typeof o=="number")return h[o];try{return u(h,o,function(l,a){return l[a]})}catch(l){return h}},has:function(h,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(t(h)!="object"||h===null||o===void 0)return!1;if(typeof o=="number")return o in h;try{var a=!1;return u(h,o,function(m,d,f,v){if(!g(f,v))return m&&m[d];a=l.own?m.hasOwnProperty(d):d in m}),a}catch(m){return!1}},hasOwn:function(h,o,l){return this.has(h,o,l||{own:!0})},isIn:function(h,o,l){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t(h)!="object"||h===null||o===void 0)return!1;try{var m=!1,d=!1;return u(h,o,function(f,v,A,p){return m=m||f===l||!!f&&f[v]===l,d=g(A,p)&&t(f)==="object"&&v in f,f&&f[v]}),a.validPath?m&&d:m}catch(f){return!1}},ObjectPrototypeMutationError:c}},47:(e,t,n)=>{var r=n(410),s=function(h){return typeof h=="string"};function i(h,o){for(var l=[],a=0;a<h.length;a++){var m=h[a];m&&m!=="."&&(m===".."?l.length&&l[l.length-1]!==".."?l.pop():o&&l.push(".."):l.push(m))}return l}var c=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,u={};function g(h){return c.exec(h).slice(1)}u.resolve=function(){for(var h="",o=!1,l=arguments.length-1;l>=-1&&!o;l--){var a=l>=0?arguments[l]:zt.cwd();if(!s(a))throw new TypeError("Arguments to path.resolve must be strings");a&&(h=a+"/"+h,o=a.charAt(0)==="/")}return(o?"/":"")+(h=i(h.split("/"),!o).join("/"))||"."},u.normalize=function(h){var o=u.isAbsolute(h),l=h.substr(-1)==="/";return(h=i(h.split("/"),!o).join("/"))||o||(h="."),h&&l&&(h+="/"),(o?"/":"")+h},u.isAbsolute=function(h){return h.charAt(0)==="/"},u.join=function(){for(var h="",o=0;o<arguments.length;o++){var l=arguments[o];if(!s(l))throw new TypeError("Arguments to path.join must be strings");l&&(h+=h?"/"+l:l)}return u.normalize(h)},u.relative=function(h,o){function l(p){for(var y=0;y<p.length&&p[y]==="";y++);for(var x=p.length-1;x>=0&&p[x]==="";x--);return y>x?[]:p.slice(y,x+1)}h=u.resolve(h).substr(1),o=u.resolve(o).substr(1);for(var a=l(h.split("/")),m=l(o.split("/")),d=Math.min(a.length,m.length),f=d,v=0;v<d;v++)if(a[v]!==m[v]){f=v;break}var A=[];for(v=f;v<a.length;v++)A.push("..");return(A=A.concat(m.slice(f))).join("/")},u._makeLong=function(h){return h},u.dirname=function(h){var o=g(h),l=o[0],a=o[1];return l||a?(a&&(a=a.substr(0,a.length-1)),l+a):"."},u.basename=function(h,o){var l=g(h)[2];return o&&l.substr(-1*o.length)===o&&(l=l.substr(0,l.length-o.length)),l},u.extname=function(h){return g(h)[3]},u.format=function(h){if(!r.isObject(h))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof h);var o=h.root||"";if(!s(o))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof h.root);return(h.dir?h.dir+u.sep:"")+(h.base||"")},u.parse=function(h){if(!s(h))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof h);var o=g(h);if(!o||o.length!==4)throw new TypeError("Invalid path '"+h+"'");return o[1]=o[1]||"",o[2]=o[2]||"",o[3]=o[3]||"",{root:o[0],dir:o[0]+o[1].slice(0,o[1].length-1),base:o[2],ext:o[3],name:o[2].slice(0,o[2].length-o[3].length)}},u.sep="/",u.delimiter=":",e.exports=u},647:(e,t)=>{var n=Object.prototype.hasOwnProperty;function r(i){try{return decodeURIComponent(i.replace(/\+/g," "))}catch(c){return null}}function s(i){try{return encodeURIComponent(i)}catch(c){return null}}t.stringify=function(i,c){c=c||"";var u,g,h=[];for(g in typeof c!="string"&&(c="?"),i)if(n.call(i,g)){if((u=i[g])||u!=null&&!isNaN(u)||(u=""),g=s(g),u=s(u),g===null||u===null)continue;h.push(g+"="+u)}return h.length?c+h.join("&"):""},t.parse=function(i){for(var c,u=/([^=?#&]+)=?([^&]*)/g,g={};c=u.exec(i);){var h=r(c[1]),o=r(c[2]);h===null||o===null||h in g||(g[h]=o)}return g}},670:e=>{e.exports=function(t,n){if(n=n.split(":")[0],!(t=+t))return!1;switch(n){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0}},494:e=>{const t=/^[-+]?0x[a-fA-F0-9]+$/,n=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const r={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};e.exports=function(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i=Object.assign({},r,i),!s||typeof s!="string")return s;let c=s.trim();if(i.skipLike!==void 0&&i.skipLike.test(c))return s;if(i.hex&&t.test(c))return Number.parseInt(c,16);{const g=n.exec(c);if(g){const h=g[1],o=g[2];let l=((u=g[3])&&u.indexOf(".")!==-1&&((u=u.replace(/0+$/,""))==="."?u="0":u[0]==="."?u="0"+u:u[u.length-1]==="."&&(u=u.substr(0,u.length-1))),u);const a=g[4]||g[6];if(!i.leadingZeros&&o.length>0&&h&&c[2]!=="."||!i.leadingZeros&&o.length>0&&!h&&c[1]!==".")return s;{const m=Number(c),d=""+m;return d.search(/[eE]/)!==-1||a?i.eNotation?m:s:c.indexOf(".")!==-1?d==="0"&&l===""||d===l||h&&d==="-"+l?m:s:o?l===d||h+l===d?m:s:c===d||c===h+d?m:s}}return s}var u}},737:(e,t,n)=>{var r=n(670),s=n(647),i=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,c=/[\n\r\t]/g,u=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,g=/:\d+$/,h=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,o=/^[a-zA-Z]:/;function l(p){return(p||"").toString().replace(i,"")}var a=[["#","hash"],["?","query"],function(p,y){return f(y.protocol)?p.replace(/\\/g,"/"):p},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],m={hash:1,query:1};function d(p){var y,x=(typeof window<"u"?window:typeof Ft<"u"?Ft:typeof self<"u"?self:{}).location||{},E={},w=typeof(p=p||x);if(p.protocol==="blob:")E=new A(unescape(p.pathname),{});else if(w==="string")for(y in E=new A(p,{}),m)delete E[y];else if(w==="object"){for(y in p)y in m||(E[y]=p[y]);E.slashes===void 0&&(E.slashes=u.test(p.href))}return E}function f(p){return p==="file:"||p==="ftp:"||p==="http:"||p==="https:"||p==="ws:"||p==="wss:"}function v(p,y){p=(p=l(p)).replace(c,""),y=y||{};var x,E=h.exec(p),w=E[1]?E[1].toLowerCase():"",P=!!E[2],b=!!E[3],O=0;return P?b?(x=E[2]+E[3]+E[4],O=E[2].length+E[3].length):(x=E[2]+E[4],O=E[2].length):b?(x=E[3]+E[4],O=E[3].length):x=E[4],w==="file:"?O>=2&&(x=x.slice(2)):f(w)?x=E[4]:w?P&&(x=x.slice(2)):O>=2&&f(y.protocol)&&(x=E[4]),{protocol:w,slashes:P||f(w),slashesCount:O,rest:x}}function A(p,y,x){if(p=(p=l(p)).replace(c,""),!(this instanceof A))return new A(p,y,x);var E,w,P,b,O,j,S=a.slice(),C=typeof y,N=this,_=0;for(C!=="object"&&C!=="string"&&(x=y,y=null),x&&typeof x!="function"&&(x=s.parse),E=!(w=v(p||"",y=d(y))).protocol&&!w.slashes,N.slashes=w.slashes||E&&y.slashes,N.protocol=w.protocol||y.protocol||"",p=w.rest,(w.protocol==="file:"&&(w.slashesCount!==2||o.test(p))||!w.slashes&&(w.protocol||w.slashesCount<2||!f(N.protocol)))&&(S[3]=[/(.*)/,"pathname"]);_<S.length;_++)typeof(b=S[_])!="function"?(P=b[0],j=b[1],P!=P?N[j]=p:typeof P=="string"?~(O=P==="@"?p.lastIndexOf(P):p.indexOf(P))&&(typeof b[2]=="number"?(N[j]=p.slice(0,O),p=p.slice(O+b[2])):(N[j]=p.slice(O),p=p.slice(0,O))):(O=P.exec(p))&&(N[j]=O[1],p=p.slice(0,O.index)),N[j]=N[j]||E&&b[3]&&y[j]||"",b[4]&&(N[j]=N[j].toLowerCase())):p=b(p,N);x&&(N.query=x(N.query)),E&&y.slashes&&N.pathname.charAt(0)!=="/"&&(N.pathname!==""||y.pathname!=="")&&(N.pathname=function($,I){if($==="")return I;for(var Y=(I||"/").split("/").slice(0,-1).concat($.split("/")),q=Y.length,F=Y[q-1],at=!1,B=0;q--;)Y[q]==="."?Y.splice(q,1):Y[q]===".."?(Y.splice(q,1),B++):B&&(q===0&&(at=!0),Y.splice(q,1),B--);return at&&Y.unshift(""),F!=="."&&F!==".."||Y.push(""),Y.join("/")}(N.pathname,y.pathname)),N.pathname.charAt(0)!=="/"&&f(N.protocol)&&(N.pathname="/"+N.pathname),r(N.port,N.protocol)||(N.host=N.hostname,N.port=""),N.username=N.password="",N.auth&&(~(O=N.auth.indexOf(":"))?(N.username=N.auth.slice(0,O),N.username=encodeURIComponent(decodeURIComponent(N.username)),N.password=N.auth.slice(O+1),N.password=encodeURIComponent(decodeURIComponent(N.password))):N.username=encodeURIComponent(decodeURIComponent(N.auth)),N.auth=N.password?N.username+":"+N.password:N.username),N.origin=N.protocol!=="file:"&&f(N.protocol)&&N.host?N.protocol+"//"+N.host:"null",N.href=N.toString()}A.prototype={set:function(p,y,x){var E=this;switch(p){case"query":typeof y=="string"&&y.length&&(y=(x||s.parse)(y)),E[p]=y;break;case"port":E[p]=y,r(y,E.protocol)?y&&(E.host=E.hostname+":"+y):(E.host=E.hostname,E[p]="");break;case"hostname":E[p]=y,E.port&&(y+=":"+E.port),E.host=y;break;case"host":E[p]=y,g.test(y)?(y=y.split(":"),E.port=y.pop(),E.hostname=y.join(":")):(E.hostname=y,E.port="");break;case"protocol":E.protocol=y.toLowerCase(),E.slashes=!x;break;case"pathname":case"hash":if(y){var w=p==="pathname"?"/":"#";E[p]=y.charAt(0)!==w?w+y:y}else E[p]=y;break;case"username":case"password":E[p]=encodeURIComponent(y);break;case"auth":var P=y.indexOf(":");~P?(E.username=y.slice(0,P),E.username=encodeURIComponent(decodeURIComponent(E.username)),E.password=y.slice(P+1),E.password=encodeURIComponent(decodeURIComponent(E.password))):E.username=encodeURIComponent(decodeURIComponent(y))}for(var b=0;b<a.length;b++){var O=a[b];O[4]&&(E[O[1]]=E[O[1]].toLowerCase())}return E.auth=E.password?E.username+":"+E.password:E.username,E.origin=E.protocol!=="file:"&&f(E.protocol)&&E.host?E.protocol+"//"+E.host:"null",E.href=E.toString(),E},toString:function(p){p&&typeof p=="function"||(p=s.stringify);var y,x=this,E=x.host,w=x.protocol;w&&w.charAt(w.length-1)!==":"&&(w+=":");var P=w+(x.protocol&&x.slashes||f(x.protocol)?"//":"");return x.username?(P+=x.username,x.password&&(P+=":"+x.password),P+="@"):x.password?(P+=":"+x.password,P+="@"):x.protocol!=="file:"&&f(x.protocol)&&!E&&x.pathname!=="/"&&(P+="@"),(E[E.length-1]===":"||g.test(x.hostname)&&!x.port)&&(E+=":"),P+=E+x.pathname,(y=typeof x.query=="object"?p(x.query):x.query)&&(P+=y.charAt(0)!=="?"?"?"+y:y),x.hash&&(P+=x.hash),P}},A.extractProtocol=v,A.location=d,A.trimLeft=l,A.qs=s,e.exports=A},410:()=>{},388:()=>{},805:()=>{},345:()=>{},800:()=>{}},We={};function R(e){var t=We[e];if(t!==void 0)return t.exports;var n=We[e]={id:e,loaded:!1,exports:{}};return er[e].call(n.exports,n,n.exports,R),n.loaded=!0,n.exports}R.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return R.d(t,{a:t}),t},R.d=(e,t)=>{for(var n in t)R.o(t,n)&&!R.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},R.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),R.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var lt={};R.d(lt,{hT:()=>nt,O4:()=>mt,Kd:()=>lr,YK:()=>hr,UU:()=>vs,Gu:()=>vn,ky:()=>jn,h4:()=>Mt,ch:()=>ne,hq:()=>jt,i5:()=>Sn});var nr=R(737),rr=R.n(nr);function ae(e){if(!ge(e))throw new Error("Parameter was not an error")}function ge(e){return!!e&&typeof e=="object"&&(t=e,Object.prototype.toString.call(t)==="[object Error]")||e instanceof Error;var t}class st extends Error{constructor(t,n){const r=[...arguments],{options:s,shortMessage:i}=function(u){let g,h="";if(u.length===0)g={};else if(ge(u[0]))g={cause:u[0]},h=u.slice(1).join(" ")||"";else if(u[0]&&typeof u[0]=="object")g=Object.assign({},u[0]),h=u.slice(1).join(" ")||"";else{if(typeof u[0]!="string")throw new Error("Invalid arguments passed to Layerr");g={},h=h=u.join(" ")||""}return{options:g,shortMessage:h}}(r);let c=i;if(s.cause&&(c="".concat(c,": ").concat(s.cause.message)),super(c),this.message=c,s.name&&typeof s.name=="string"?this.name=s.name:this.name="Layerr",s.cause&&Object.defineProperty(this,"_cause",{value:s.cause}),Object.defineProperty(this,"_info",{value:{}}),s.info&&typeof s.info=="object"&&Object.assign(this._info,s.info),Error.captureStackTrace){const u=s.constructorOpt||this.constructor;Error.captureStackTrace(this,u)}}static cause(t){return ae(t),t._cause&&ge(t._cause)?t._cause:null}static fullStack(t){var r;ae(t);const n=st.cause(t);return n?"".concat(t.stack,"\ncaused by: ").concat(st.fullStack(n)):(r=t.stack)!=null?r:""}static info(t){ae(t);const n={},r=st.cause(t);return r&&Object.assign(n,st.info(r)),t._info&&Object.assign(n,t._info),n}toString(){let t=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(t="".concat(t,": ").concat(this.message)),t}}var sr=R(47),Ht=R.n(sr);const Ge="__PATH_SEPARATOR_POSIX__",He="__PATH_SEPARATOR_WINDOWS__";function D(e){try{const t=e.replace(/\//g,Ge).replace(/\\\\/g,He);return encodeURIComponent(t).split(He).join("\\\\").split(Ge).join("/")}catch(t){throw new st(t,"Failed encoding path")}}function Xe(e){return e.startsWith("/")?e:"/"+e}function Lt(e){let t=e;return t[0]!=="/"&&(t="/"+t),/^.+\/$/.test(t)&&(t=t.substr(0,t.length-1)),t}function or(e){let t=new(rr())(e).pathname;return t.length<=0&&(t="/"),Lt(t)}function M(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){return function(r){var s=[];if(r.length===0)return"";if(typeof r[0]!="string")throw new TypeError("Url must be a string. Received "+r[0]);if(r[0].match(/^[^/:]+:\/*$/)&&r.length>1){var i=r.shift();r[0]=i+r[0]}r[0].match(/^file:\/\/\//)?r[0]=r[0].replace(/^([^/:]+):\/*/,"$1:///"):r[0]=r[0].replace(/^([^/:]+):\/*/,"$1://");for(var c=0;c<r.length;c++){var u=r[c];if(typeof u!="string")throw new TypeError("Url must be a string. Received "+u);u!==""&&(c>0&&(u=u.replace(/^[\/]+/,"")),u=c<r.length-1?u.replace(/[\/]+$/,""):u.replace(/[\/]+$/,"/"),s.push(u))}var g=s.join("/"),h=(g=g.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return h.shift()+(h.length>0?"?":"")+h.join("&")}(typeof arguments[0]=="object"?arguments[0]:[].slice.call(arguments))}(t.reduce((r,s,i)=>((i===0||s!=="/"||s==="/"&&r[r.length-1]!=="/")&&r.push(s),r),[]))}var ir=R(542),_t=R.n(ir);const ar="abcdef0123456789";function Ze(e,t){const n=e.url.replace("//",""),r=n.indexOf("/")==-1?"/":n.slice(n.indexOf("/")),s=e.method?e.method.toUpperCase():"GET",i=!!/(^|,)\s*auth\s*($|,)/.test(t.qop)&&"auth",c="00000000".concat(t.nc).slice(-8),u=function(a,m,d,f,v,A,p){const y=p||_t()("".concat(m,":").concat(d,":").concat(f));return a&&a.toLowerCase()==="md5-sess"?_t()("".concat(y,":").concat(v,":").concat(A)):y}(t.algorithm,t.username,t.realm,t.password,t.nonce,t.cnonce,t.ha1),g=_t()("".concat(s,":").concat(r)),h=i?_t()("".concat(u,":").concat(t.nonce,":").concat(c,":").concat(t.cnonce,":").concat(i,":").concat(g)):_t()("".concat(u,":").concat(t.nonce,":").concat(g)),o={username:t.username,realm:t.realm,nonce:t.nonce,uri:r,qop:i,response:h,nc:c,cnonce:t.cnonce,algorithm:t.algorithm,opaque:t.opaque},l=[];for(const a in o)o[a]&&(a==="qop"||a==="nc"||a==="algorithm"?l.push("".concat(a,"=").concat(o[a])):l.push("".concat(a,'="').concat(o[a],'"')));return"Digest ".concat(l.join(", "))}function dn(e){return(e.headers&&e.headers.get("www-authenticate")||"").split(/\s/)[0].toLowerCase()==="digest"}var ur=R(101),gn=R.n(ur);function Ye(e){return gn().decode(e)}function Je(e,t){var n;return"Basic ".concat((n="".concat(e,":").concat(t),gn().encode(n)))}const Xt=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:typeof window<"u"?window:globalThis,cr=Xt.fetch.bind(Xt),lr=Xt.Request,hr=Xt.Response;let nt=function(e){return e.Auto="auto",e.Digest="digest",e.None="none",e.Password="password",e.Token="token",e}({}),mt=function(e){return e.DataTypeNoLength="data-type-no-length",e.InvalidAuthType="invalid-auth-type",e.InvalidOutputFormat="invalid-output-format",e.LinkUnsupportedAuthType="link-unsupported-auth",e.InvalidUpdateRange="invalid-update-range",e.NotSupported="not-supported",e}({});function mn(e,t,n,r,s){switch(e.authType){case nt.Auto:t&&n&&(e.headers.Authorization=Je(t,n));break;case nt.Digest:e.digest=function(c,u,g){return{username:c,password:u,ha1:g,nc:0,algorithm:"md5",hasDigestAuth:!1}}(t,n,s);break;case nt.None:break;case nt.Password:e.headers.Authorization=Je(t,n);break;case nt.Token:e.headers.Authorization="".concat((i=r).token_type," ").concat(i.access_token);break;default:throw new st({info:{code:mt.InvalidAuthType}},"Invalid auth type: ".concat(e.authType))}var i}R(345),R(800);const Ke="@@HOTPATCHER",pr=()=>{};function ue(e){return{original:e,methods:[e],final:!1}}class fr{constructor(){this._configuration={registry:{},getEmptyAction:"null"},this.__type__=Ke}get configuration(){return this._configuration}get getEmptyAction(){return this.configuration.getEmptyAction}set getEmptyAction(t){this.configuration.getEmptyAction=t}control(t){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!t||t.__type__!==Ke)throw new Error("Failed taking control of target HotPatcher instance: Invalid type or object");return Object.keys(t.configuration.registry).forEach(r=>{this.configuration.registry.hasOwnProperty(r)?n&&(this.configuration.registry[r]=Object.assign({},t.configuration.registry[r])):this.configuration.registry[r]=Object.assign({},t.configuration.registry[r])}),t._configuration=this.configuration,this}execute(t){const n=this.get(t)||pr;for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return n(...s)}get(t){const n=this.configuration.registry[t];if(!n)switch(this.getEmptyAction){case"null":return null;case"throw":throw new Error("Failed handling method request: No method provided for override: ".concat(t));default:throw new Error("Failed handling request which resulted in an empty method: Invalid empty-action specified: ".concat(this.getEmptyAction))}return function(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];if(s.length===0)throw new Error("Failed creating sequence: No functions provided");return function(){for(var c=arguments.length,u=new Array(c),g=0;g<c;g++)u[g]=arguments[g];let h=u;const o=this;for(;s.length>0;)h=[s.shift().apply(o,h)];return h[0]}}(...n.methods)}isPatched(t){return!!this.configuration.registry[t]}patch(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{chain:s=!1}=r;if(this.configuration.registry[t]&&this.configuration.registry[t].final)throw new Error("Failed patching '".concat(t,"': Method marked as being final"));if(typeof n!="function")throw new Error("Failed patching '".concat(t,"': Provided method is not a function"));if(s)this.configuration.registry[t]?this.configuration.registry[t].methods.push(n):this.configuration.registry[t]=ue(n);else if(this.isPatched(t)){const{original:i}=this.configuration.registry[t];this.configuration.registry[t]=Object.assign(ue(n),{original:i})}else this.configuration.registry[t]=ue(n);return this}patchInline(t,n){this.isPatched(t)||this.patch(t,n);for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];return this.execute(t,...s)}plugin(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.forEach(i=>{this.patch(t,i,{chain:!0})}),this}restore(t){if(!this.isPatched(t))throw new Error("Failed restoring method: No method present for key: ".concat(t));if(typeof this.configuration.registry[t].original!="function")throw new Error("Failed restoring method: Original method not found or of invalid type for key: ".concat(t));return this.configuration.registry[t].methods=[this.configuration.registry[t].original],this}setFinal(t){if(!this.configuration.registry.hasOwnProperty(t))throw new Error("Failed marking '".concat(t,"' as final: No method found for key"));return this.configuration.registry[t].final=!0,this}}let ce=null;function vn(){return ce||(ce=new fr),ce}function Zt(e){return function(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let n=t;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n}(e)?Object.assign({},e):Object.setPrototypeOf(Object.assign({},e),Object.getPrototypeOf(e))}function Qe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=null,s=[...t];for(;s.length>0;){const i=s.shift();r=r?yn(r,i):Zt(i)}return r}function yn(e,t){const n=Zt(e);return Object.keys(t).forEach(r=>{n.hasOwnProperty(r)?Array.isArray(t[r])?n[r]=Array.isArray(n[r])?[...n[r],...t[r]]:[...t[r]]:typeof t[r]=="object"&&t[r]?n[r]=typeof n[r]=="object"&&n[r]?yn(n[r],t[r]):Zt(t[r]):n[r]=t[r]:n[r]=t[r]}),n}function dr(e){const t={};for(const n of e.keys())t[n]=e.get(n);return t}function me(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length===0)return{};const r={};return t.reduce((s,i)=>(Object.keys(i).forEach(c=>{const u=c.toLowerCase();r.hasOwnProperty(u)?s[r[u]]=i[c]:(r[u]=c,s[c]=i[c])}),s),{})}R(805);const gr=typeof ArrayBuffer=="function",{toString:mr}=Object.prototype;function wn(e){return gr&&(e instanceof ArrayBuffer||mr.call(e)==="[object ArrayBuffer]")}function bn(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function Pe(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}function ve(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const xn=Pe(function(e){const t=e._digest;return delete e._digest,t.hasDigestAuth&&(e=Qe(e,{headers:{Authorization:Ze(e,t)}})),ve(Yt(e),function(n){let r=!1;return s=function(c){return r?c:n},(i=function(){if(n.status==401)return t.hasDigestAuth=function(c,u){if(!dn(c))return!1;const g=/([a-z0-9_-]+)=(?:"([^"]+)"|([a-z0-9_-]+))/gi;for(;;){const h=c.headers&&c.headers.get("www-authenticate")||"",o=g.exec(h);if(!o)break;u[o[1]]=o[2]||o[3]}return u.nc+=1,u.cnonce=function(){let h="";for(let o=0;o<32;++o)h="".concat(h).concat(ar[Math.floor(16*Math.random())]);return h}(),!0}(n,t),function(){if(t.hasDigestAuth)return ve(Yt(e=Qe(e,{headers:{Authorization:Ze(e,t)}})),function(c){return c.status==401?t.hasDigestAuth=!1:t.nc++,r=!0,c})}();t.nc++}())&&i.then?i.then(s):s(i);var s,i})}),vr=Pe(function(e,t){return ve(Yt(e),function(n){return n.ok?(t.authType=nt.Password,n):n.status==401&&dn(n)?(t.authType=nt.Digest,mn(t,t.username,t.password,void 0,void 0),e._digest=t.digest,xn(e)):n})}),G=Pe(function(e,t){return t.authType===nt.Auto?vr(e,t):e._digest?xn(e):Yt(e)});function H(e,t,n){const r=Zt(e);return r.headers=me(t.headers,r.headers||{},n.headers||{}),n.data!==void 0&&(r.data=n.data),n.signal&&(r.signal=n.signal),t.httpAgent&&(r.httpAgent=t.httpAgent),t.httpsAgent&&(r.httpsAgent=t.httpsAgent),t.digest&&(r._digest=t.digest),typeof t.withCredentials=="boolean"&&(r.withCredentials=t.withCredentials),r}function Yt(e){const t=vn();return t.patchInline("request",n=>t.patchInline("fetch",cr,n.url,function(r){let s={};const i={method:r.method};if(r.headers&&(s=me(s,r.headers)),r.data!==void 0){const[c,u]=function(g){if(typeof g=="string")return[g,{}];if(bn(g))return[g,{}];if(wn(g))return[g,{}];if(g&&typeof g=="object")return[JSON.stringify(g),{"content-type":"application/json"}];throw new Error("Unable to convert request body: Unexpected body type: "+typeof g)}(r.data);i.body=c,s=me(s,u)}return r.signal&&(i.signal=r.signal),r.withCredentials&&(i.credentials="include"),i.headers=s,i}(n)),e)}var yr=R(285);const Jt=e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},wr={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Rt=e=>e.replace(/[[\]\\-]/g,"\\$&"),tn=e=>e.join(""),br=(e,t)=>{const n=t;if(e.charAt(n)!=="[")throw new Error("not in a brace expression");const r=[],s=[];let i=n+1,c=!1,u=!1,g=!1,h=!1,o=n,l="";t:for(;i<e.length;){const f=e.charAt(i);if(f!=="!"&&f!=="^"||i!==n+1){if(f==="]"&&c&&!g){o=i+1;break}if(c=!0,f!=="\\"||g){if(f==="["&&!g){for(const[v,[A,p,y]]of Object.entries(wr))if(e.startsWith(v,i)){if(l)return["$.",!1,e.length-n,!0];i+=v.length,y?s.push(A):r.push(A),u=u||p;continue t}}g=!1,l?(f>l?r.push(Rt(l)+"-"+Rt(f)):f===l&&r.push(Rt(f)),l="",i++):e.startsWith("-]",i+1)?(r.push(Rt(f+"-")),i+=2):e.startsWith("-",i+1)?(l=f,i+=2):(r.push(Rt(f)),i++)}else g=!0,i++}else h=!0,i++}if(o<i)return["",!1,0,!1];if(!r.length&&!s.length)return["$.",!1,e.length-n,!0];if(s.length===0&&r.length===1&&/^\\?.$/.test(r[0])&&!h)return[(a=r[0].length===2?r[0].slice(-1):r[0],a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,o-n,!1];var a;const m="["+(h?"^":"")+tn(r)+"]",d="["+(h?"":"^")+tn(s)+"]";return[r.length&&s.length?"("+m+"|"+d+")":r.length?m:d,u,o-n,!0]},It=function(e){let{windowsPathsNoEscape:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1")},xr=new Set(["!","?","+","*","@"]),en=e=>xr.has(e),le="(?!\\.)",Ar=new Set(["[","."]),Er=new Set(["..","."]),Nr=new Set("().*{}+?[]^$\\!"),Oe="[^/]",nn=Oe+"*?",rn=Oe+"+?";var W,Z,gt,L,z,bt,Pt,xt,pt,Ot,Dt,Tt,An,At,Wt,ye,En;const et=class et{constructor(t,n){it(this,Tt);k(this,"type");it(this,W);it(this,Z);it(this,gt,!1);it(this,L,[]);it(this,z);it(this,bt);it(this,Pt);it(this,xt,!1);it(this,pt);it(this,Ot);it(this,Dt,!1);let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.type=t,t&&U(this,Z,!0),U(this,z,n),U(this,W,T(this,z)?T(T(this,z),W):this),U(this,pt,T(this,W)===this?r:T(T(this,W),pt)),U(this,Pt,T(this,W)===this?[]:T(T(this,W),Pt)),t!=="!"||T(T(this,W),xt)||T(this,Pt).push(this),U(this,bt,T(this,z)?T(T(this,z),L).length:0)}get hasMagic(){if(T(this,Z)!==void 0)return T(this,Z);for(const t of T(this,L))if(typeof t!="string"&&(t.type||t.hasMagic))return U(this,Z,!0);return T(this,Z)}toString(){return T(this,Ot)!==void 0?T(this,Ot):this.type?U(this,Ot,this.type+"("+T(this,L).map(t=>String(t)).join("|")+")"):U(this,Ot,T(this,L).map(t=>String(t)).join(""))}push(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)if(s!==""){if(typeof s!="string"&&!(s instanceof et&&T(s,z)===this))throw new Error("invalid part: "+s);T(this,L).push(s)}}toJSON(){var n;const t=this.type===null?T(this,L).slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...T(this,L).map(r=>r.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===T(this,W)||T(T(this,W),xt)&&((n=T(this,z))==null?void 0:n.type)==="!")&&t.push({}),t}isStart(){var n;if(T(this,W)===this)return!0;if(!((n=T(this,z))!=null&&n.isStart()))return!1;if(T(this,bt)===0)return!0;const t=T(this,z);for(let r=0;r<T(this,bt);r++){const s=T(t,L)[r];if(!(s instanceof et&&s.type==="!"))return!1}return!0}isEnd(){var n,r,s;if(T(this,W)===this||((n=T(this,z))==null?void 0:n.type)==="!")return!0;if(!((r=T(this,z))!=null&&r.isEnd()))return!1;if(!this.type)return(s=T(this,z))==null?void 0:s.isEnd();const t=T(this,z)?T(T(this,z),L).length:0;return T(this,bt)===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){const n=new et(this.type,t);for(const r of T(this,L))n.copyIn(r);return n}static fromGlob(t){var s;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=new et(null,void 0,n);return vt(s=et,At,Wt).call(s,t,r,0,n),r}toMMPattern(){if(this!==T(this,W))return T(this,W).toMMPattern();const t=this.toString(),[n,r,s,i]=this.toRegExpSource();if(!(s||T(this,Z)||T(this,pt).nocase&&!T(this,pt).nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return r;const c=(T(this,pt).nocase?"i":"")+(i?"u":"");return Object.assign(new RegExp("^".concat(n,"$"),c),{_src:n,_glob:t})}get options(){return T(this,pt)}toRegExpSource(t){var g;const n=t!=null?t:!!T(this,pt).dot;if(T(this,W)===this&&vt(this,Tt,An).call(this),!this.type){const h=this.isStart()&&this.isEnd(),o=T(this,L).map(m=>{var p;const[d,f,v,A]=typeof m=="string"?vt(p=et,At,En).call(p,m,T(this,Z),h):m.toRegExpSource(t);return U(this,Z,T(this,Z)||v),U(this,gt,T(this,gt)||A),d}).join("");let l="";if(this.isStart()&&typeof T(this,L)[0]=="string"&&(T(this,L).length!==1||!Er.has(T(this,L)[0]))){const m=Ar,d=n&&m.has(o.charAt(0))||o.startsWith("\\.")&&m.has(o.charAt(2))||o.startsWith("\\.\\.")&&m.has(o.charAt(4)),f=!n&&!t&&m.has(o.charAt(0));l=d?"(?!(?:^|/)\\.\\.?(?:$|/))":f?le:""}let a="";return this.isEnd()&&T(T(this,W),xt)&&((g=T(this,z))==null?void 0:g.type)==="!"&&(a="(?:$|\\/)"),[l+o+a,It(o),U(this,Z,!!T(this,Z)),T(this,gt)]}const r=this.type==="*"||this.type==="+",s=this.type==="!"?"(?:(?!(?:":"(?:";let i=vt(this,Tt,ye).call(this,n);if(this.isStart()&&this.isEnd()&&!i&&this.type!=="!"){const h=this.toString();return U(this,L,[h]),this.type=null,U(this,Z,void 0),[h,It(this.toString()),!1,!1]}let c=!r||t||n?"":vt(this,Tt,ye).call(this,!0);c===i&&(c=""),c&&(i="(?:".concat(i,")(?:").concat(c,")*?"));let u="";return u=this.type==="!"&&T(this,Dt)?(this.isStart()&&!n?le:"")+rn:s+i+(this.type==="!"?"))"+(!this.isStart()||n||t?"":le)+nn+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&c?")":this.type==="*"&&c?")?":")".concat(this.type)),[u,It(i),U(this,Z,!!T(this,Z)),T(this,gt)]}};W=new WeakMap,Z=new WeakMap,gt=new WeakMap,L=new WeakMap,z=new WeakMap,bt=new WeakMap,Pt=new WeakMap,xt=new WeakMap,pt=new WeakMap,Ot=new WeakMap,Dt=new WeakMap,Tt=new WeakSet,An=function(){if(this!==T(this,W))throw new Error("should only call on root");if(T(this,xt))return this;let t;for(this.toString(),U(this,xt,!0);t=T(this,Pt).pop();){if(t.type!=="!")continue;let n=t,r=T(n,z);for(;r;){for(let s=T(n,bt)+1;!r.type&&s<T(r,L).length;s++)for(const i of T(t,L)){if(typeof i=="string")throw new Error("string part in extglob AST??");i.copyIn(T(r,L)[s])}n=r,r=T(n,z)}}return this},At=new WeakSet,Wt=function(t,n,r,s){var m,d;let i=!1,c=!1,u=-1,g=!1;if(n.type===null){let f=r,v="";for(;f<t.length;){const A=t.charAt(f++);if(i||A==="\\")i=!i,v+=A;else if(c)f===u+1?A!=="^"&&A!=="!"||(g=!0):A!=="]"||f===u+2&&g||(c=!1),v+=A;else if(A!=="[")if(s.noext||!en(A)||t.charAt(f)!=="(")v+=A;else{n.push(v),v="";const p=new et(A,n);f=vt(m=et,At,Wt).call(m,t,p,f,s),n.push(p)}else c=!0,u=f,g=!1,v+=A}return n.push(v),f}let h=r+1,o=new et(null,n);const l=[];let a="";for(;h<t.length;){const f=t.charAt(h++);if(i||f==="\\")i=!i,a+=f;else if(c)h===u+1?f!=="^"&&f!=="!"||(g=!0):f!=="]"||h===u+2&&g||(c=!1),a+=f;else if(f!=="[")if(en(f)&&t.charAt(h)==="("){o.push(a),a="";const v=new et(f,o);o.push(v),h=vt(d=et,At,Wt).call(d,t,v,h,s)}else if(f!=="|"){if(f===")")return a===""&&T(n,L).length===0&&U(n,Dt,!0),o.push(a),a="",n.push(...l,o),h;a+=f}else o.push(a),a="",l.push(o),o=new et(null,n);else c=!0,u=h,g=!1,a+=f}return n.type=null,U(n,Z,void 0),U(n,L,[t.substring(r-1)]),h},ye=function(t){return T(this,L).map(n=>{if(typeof n=="string")throw new Error("string type in extglob ast??");const[r,s,i,c]=n.toRegExpSource(t);return U(this,gt,T(this,gt)||c),r}).filter(n=>!(this.isStart()&&this.isEnd()&&!n)).join("|")},En=function(t,n){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],s=!1,i="",c=!1;for(let u=0;u<t.length;u++){const g=t.charAt(u);if(s)s=!1,i+=(Nr.has(g)?"\\":"")+g;else if(g!=="\\"){if(g==="["){const[h,o,l,a]=br(t,u);if(l){i+=h,c=c||o,u+=l-1,n=n||a;continue}}g!=="*"?g!=="?"?i+=g.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):(i+=Oe,n=!0):(i+=r&&t==="*"?rn:nn,n=!0)}else u===t.length-1?i+="\\\\":s=!0}return[i,It(t),!!n,c]},it(et,At);let Kt=et;const tt=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Jt(t),!(!n.nocomment&&t.charAt(0)==="#")&&new Qt(t,n).match(e)},Pr=/^\*+([^+@!?\*\[\(]*)$/,Or=e=>t=>!t.startsWith(".")&&t.endsWith(e),Tr=e=>t=>t.endsWith(e),jr=e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),Sr=e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),Cr=/^\*+\.\*+$/,$r=e=>!e.startsWith(".")&&e.includes("."),_r=e=>e!=="."&&e!==".."&&e.includes("."),Rr=/^\.\*+$/,Ir=e=>e!=="."&&e!==".."&&e.startsWith("."),kr=/^\*+$/,Lr=e=>e.length!==0&&!e.startsWith("."),Dr=e=>e.length!==0&&e!=="."&&e!=="..",Mr=/^\?+([^+@!?\*\[\(]*)?$/,Fr=e=>{let[t,n=""]=e;const r=Nn([t]);return n?(n=n.toLowerCase(),s=>r(s)&&s.toLowerCase().endsWith(n)):r},Ur=e=>{let[t,n=""]=e;const r=Pn([t]);return n?(n=n.toLowerCase(),s=>r(s)&&s.toLowerCase().endsWith(n)):r},Br=e=>{let[t,n=""]=e;const r=Pn([t]);return n?s=>r(s)&&s.endsWith(n):r},Vr=e=>{let[t,n=""]=e;const r=Nn([t]);return n?s=>r(s)&&s.endsWith(n):r},Nn=e=>{let[t]=e;const n=t.length;return r=>r.length===n&&!r.startsWith(".")},Pn=e=>{let[t]=e;const n=t.length;return r=>r.length===n&&r!=="."&&r!==".."},On=typeof zt=="object"&&zt?typeof ie=="object"&&ie&&ie.__MINIMATCH_TESTING_PLATFORM__||zt.platform:"posix";tt.sep=On==="win32"?"\\":"/";const ct=Symbol("globstar **");tt.GLOBSTAR=ct,tt.filter=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return n=>tt(n,e,t)};const ut=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.assign({},e,t)};tt.defaults=e=>{if(!e||typeof e!="object"||!Object.keys(e).length)return tt;const t=tt;return Object.assign(function(n,r){return t(n,r,ut(e,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))},{Minimatch:class extends t.Minimatch{constructor(n){super(n,ut(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}))}static defaults(n){return t.defaults(ut(e,n)).Minimatch}},AST:class extends t.AST{constructor(n,r){super(n,r,ut(e,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))}static fromGlob(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.AST.fromGlob(n,ut(e,r))}},unescape:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.unescape(n,ut(e,r))},escape:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.escape(n,ut(e,r))},filter:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.filter(n,ut(e,r))},defaults:n=>t.defaults(ut(e,n)),makeRe:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.makeRe(n,ut(e,r))},braceExpand:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.braceExpand(n,ut(e,r))},match:function(n,r){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t.match(n,r,ut(e,s))},sep:t.sep,GLOBSTAR:ct})};const Tn=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Jt(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:yr(e)};tt.braceExpand=Tn,tt.makeRe=function(e){return new Qt(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).makeRe()},tt.match=function(e,t){const n=new Qt(t,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{});return e=e.filter(r=>n.match(r)),n.options.nonull&&!e.length&&e.push(t),e};const sn=/[?*]|[+@!]\(.*?\)|\[|\]/;class Qt{constructor(t){k(this,"options");k(this,"set");k(this,"pattern");k(this,"windowsPathsNoEscape");k(this,"nonegate");k(this,"negate");k(this,"comment");k(this,"empty");k(this,"preserveMultipleSlashes");k(this,"partial");k(this,"globSet");k(this,"globParts");k(this,"nocase");k(this,"isWindows");k(this,"platform");k(this,"windowsNoMagicRoot");k(this,"regexp");let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Jt(t),n=n||{},this.options=n,this.pattern=t,this.platform=n.platform||On,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!n.windowsPathsNoEscape||n.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!n.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!n.nonegate,this.comment=!1,this.empty=!1,this.partial=!!n.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=n.windowsNoMagicRoot!==void 0?n.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const t of this.set)for(const n of t)if(typeof n!="string")return!0;return!1}debug(){}make(){const t=this.pattern,n=this.options;if(!n.nocomment&&t.charAt(0)==="#")return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],n.debug&&(this.debug=function(){return console.error(...arguments)}),this.debug(this.pattern,this.globSet);const r=this.globSet.map(i=>this.slashSplit(i));this.globParts=this.preprocess(r),this.debug(this.pattern,this.globParts);let s=this.globParts.map((i,c,u)=>{if(this.isWindows&&this.windowsNoMagicRoot){const g=!(i[0]!==""||i[1]!==""||i[2]!=="?"&&sn.test(i[2])||sn.test(i[3])),h=/^[a-z]:/i.test(i[0]);if(g)return[...i.slice(0,4),...i.slice(4).map(o=>this.parse(o))];if(h)return[i[0],...i.slice(1).map(o=>this.parse(o))]}return i.map(g=>this.parse(g))});if(this.debug(this.pattern,s),this.set=s.filter(i=>i.indexOf(!1)===-1),this.isWindows)for(let i=0;i<this.set.length;i++){const c=this.set[i];c[0]===""&&c[1]===""&&this.globParts[i][2]==="?"&&typeof c[3]=="string"&&/^[a-z]:$/i.test(c[3])&&(c[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let r=0;r<t.length;r++)for(let s=0;s<t[r].length;s++)t[r][s]==="**"&&(t[r][s]="*");const{optimizationLevel:n=1}=this.options;return n>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):t=n>=1?this.levelOneOptimize(t):this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(n=>{let r=-1;for(;(r=n.indexOf("**",r+1))!==-1;){let s=r;for(;n[s+1]==="**";)s++;s!==r&&n.splice(r,s-r)}return n})}levelOneOptimize(t){return t.map(n=>(n=n.reduce((r,s)=>{const i=r[r.length-1];return s==="**"&&i==="**"?r:s===".."&&i&&i!==".."&&i!=="."&&i!=="**"?(r.pop(),r):(r.push(s),r)},[])).length===0?[""]:n)}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let n=!1;do{if(n=!1,!this.preserveMultipleSlashes){for(let s=1;s<t.length-1;s++){const i=t[s];s===1&&i===""&&t[0]===""||i!=="."&&i!==""||(n=!0,t.splice(s,1),s--)}t[0]!=="."||t.length!==2||t[1]!=="."&&t[1]!==""||(n=!0,t.pop())}let r=0;for(;(r=t.indexOf("..",r+1))!==-1;){const s=t[r-1];s&&s!=="."&&s!==".."&&s!=="**"&&(n=!0,t.splice(r-1,2),r-=2)}}while(n);return t.length===0?[""]:t}firstPhasePreProcess(t){let n=!1;do{n=!1;for(let r of t){let s=-1;for(;(s=r.indexOf("**",s+1))!==-1;){let c=s;for(;r[c+1]==="**";)c++;c>s&&r.splice(s+1,c-s);let u=r[s+1];const g=r[s+2],h=r[s+3];if(u!==".."||!g||g==="."||g===".."||!h||h==="."||h==="..")continue;n=!0,r.splice(s,1);const o=r.slice(0);o[s]="**",t.push(o),s--}if(!this.preserveMultipleSlashes){for(let c=1;c<r.length-1;c++){const u=r[c];c===1&&u===""&&r[0]===""||u!=="."&&u!==""||(n=!0,r.splice(c,1),c--)}r[0]!=="."||r.length!==2||r[1]!=="."&&r[1]!==""||(n=!0,r.pop())}let i=0;for(;(i=r.indexOf("..",i+1))!==-1;){const c=r[i-1];if(c&&c!=="."&&c!==".."&&c!=="**"){n=!0;const u=i===1&&r[i+1]==="**"?["."]:[];r.splice(i-1,2,...u),r.length===0&&r.push(""),i-=2}}}}while(n);return t}secondPhasePreProcess(t){for(let n=0;n<t.length-1;n++)for(let r=n+1;r<t.length;r++){const s=this.partsMatch(t[n],t[r],!this.preserveMultipleSlashes);if(s){t[n]=[],t[r]=s;break}}return t.filter(n=>n.length)}partsMatch(t,n){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],s=0,i=0,c=[],u="";for(;s<t.length&&i<n.length;)if(t[s]===n[i])c.push(u==="b"?n[i]:t[s]),s++,i++;else if(r&&t[s]==="**"&&n[i]===t[s+1])c.push(t[s]),s++;else if(r&&n[i]==="**"&&t[s]===n[i+1])c.push(n[i]),i++;else if(t[s]!=="*"||!n[i]||!this.options.dot&&n[i].startsWith(".")||n[i]==="**"){if(n[i]!=="*"||!t[s]||!this.options.dot&&t[s].startsWith(".")||t[s]==="**"||u==="a")return!1;u="b",c.push(n[i]),s++,i++}else{if(u==="b")return!1;u="a",c.push(t[s]),s++,i++}return t.length===n.length&&c}parseNegate(){if(this.nonegate)return;const t=this.pattern;let n=!1,r=0;for(let s=0;s<t.length&&t.charAt(s)==="!";s++)n=!n,r++;r&&(this.pattern=t.slice(r)),this.negate=n}matchOne(t,n){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const s=this.options;if(this.isWindows){const f=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),v=!f&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),A=typeof n[0]=="string"&&/^[a-z]:$/i.test(n[0]),p=v?3:f?0:void 0,y=!A&&n[0]===""&&n[1]===""&&n[2]==="?"&&typeof n[3]=="string"&&/^[a-z]:$/i.test(n[3])?3:A?0:void 0;if(typeof p=="number"&&typeof y=="number"){const[x,E]=[t[p],n[y]];x.toLowerCase()===E.toLowerCase()&&(n[y]=x,y>p?n=n.slice(y):p>y&&(t=t.slice(p)))}}const{optimizationLevel:i=1}=this.options;i>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:n}),this.debug("matchOne",t.length,n.length);for(var c=0,u=0,g=t.length,h=n.length;c<g&&u<h;c++,u++){this.debug("matchOne loop");var o=n[u],l=t[c];if(this.debug(n,o,l),o===!1)return!1;if(o===ct){this.debug("GLOBSTAR",[n,o,l]);var a=c,m=u+1;if(m===h){for(this.debug("** at the end");c<g;c++)if(t[c]==="."||t[c]===".."||!s.dot&&t[c].charAt(0)===".")return!1;return!0}for(;a<g;){var d=t[a];if(this.debug("\nglobstar while",t,a,n,m,d),this.matchOne(t.slice(a),n.slice(m),r))return this.debug("globstar found match!",a,g,d),!0;if(d==="."||d===".."||!s.dot&&d.charAt(0)==="."){this.debug("dot detected!",t,a,n,m);break}this.debug("globstar swallow a segment, and continue"),a++}return!(!r||(this.debug("\n>>> no match, partial?",t,a,n,m),a!==g))}let f;if(typeof o=="string"?(f=l===o,this.debug("string match",o,l,f)):(f=o.test(l),this.debug("pattern match",o,l,f)),!f)return!1}if(c===g&&u===h)return!0;if(c===g)return r;if(u===h)return c===g-1&&t[c]==="";throw new Error("wtf?")}braceExpand(){return Tn(this.pattern,this.options)}parse(t){Jt(t);const n=this.options;if(t==="**")return ct;if(t==="")return"";let r,s=null;(r=t.match(kr))?s=n.dot?Dr:Lr:(r=t.match(Pr))?s=(n.nocase?n.dot?Sr:jr:n.dot?Tr:Or)(r[1]):(r=t.match(Mr))?s=(n.nocase?n.dot?Ur:Fr:n.dot?Br:Vr)(r):(r=t.match(Cr))?s=n.dot?_r:$r:(r=t.match(Rr))&&(s=Ir);const i=Kt.fromGlob(t,this.options).toMMPattern();return s&&typeof i=="object"&&Reflect.defineProperty(i,"test",{value:s}),i}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const n=this.options,r=n.noglobstar?"[^/]*?":n.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",s=new Set(n.nocase?["i"]:[]);let i=t.map(g=>{const h=g.map(o=>{if(o instanceof RegExp)for(const l of o.flags.split(""))s.add(l);return typeof o=="string"?o.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):o===ct?ct:o._src});return h.forEach((o,l)=>{const a=h[l+1],m=h[l-1];o===ct&&m!==ct&&(m===void 0?a!==void 0&&a!==ct?h[l+1]="(?:\\/|"+r+"\\/)?"+a:h[l]=r:a===void 0?h[l-1]=m+"(?:\\/|"+r+")?":a!==ct&&(h[l-1]=m+"(?:\\/|\\/"+r+"\\/)"+a,h[l+1]=ct))}),h.filter(o=>o!==ct).join("/")}).join("|");const[c,u]=t.length>1?["(?:",")"]:["",""];i="^"+c+i+u+"$",this.negate&&(i="^(?!"+i+").+$");try{this.regexp=new RegExp(i,[...s].join(""))}catch(g){this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.partial;if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&n)return!0;const r=this.options;this.isWindows&&(t=t.split("\\").join("/"));const s=this.slashSplit(t);this.debug(this.pattern,"split",s);const i=this.set;this.debug(this.pattern,"set",i);let c=s[s.length-1];if(!c)for(let u=s.length-2;!c&&u>=0;u--)c=s[u];for(let u=0;u<i.length;u++){const g=i[u];let h=s;if(r.matchBase&&g.length===1&&(h=[c]),this.matchOne(h,g,n))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate}static defaults(t){return tt.defaults(t).Minimatch}}function Te(e){const t=new Error("".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"","Invalid response: ").concat(e.status," ").concat(e.statusText));return t.status=e.status,t.response=e,t}function X(e,t){const{status:n}=t;if(n===401&&e.digest)return t;if(n>=400)throw Te(t);return t}function jt(e,t){return arguments.length>2&&arguments[2]!==void 0&&arguments[2]?{data:t,headers:e.headers?dr(e.headers):{},status:e.status,statusText:e.statusText}:t}tt.AST=Kt,tt.Minimatch=Qt,tt.escape=function(e){let{windowsPathsNoEscape:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&")},tt.unescape=It;const zr=(on=function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=H({url:M(e.remoteURL,D(t)),method:"COPY",headers:{Destination:M(e.remoteURL,D(n)),Overwrite:r.overwrite===!1?"F":"T",Depth:r.shallow?"0":"infinity"}},e,r);return c=function(u){X(e,u)},(i=G(s,e))&&i.then||(i=Promise.resolve(i)),c?i.then(c):i;var i,c},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(on.apply(this,e))}catch(n){return Promise.reject(n)}});var on,je=R(635),qr=R(829),dt=R.n(qr),St=function(e){return e.Array="array",e.Object="object",e.Original="original",e}(St||{});function Vt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:St.Original;const r=dt().get(e,t);return n==="array"&&Array.isArray(r)===!1?[r]:n==="object"&&Array.isArray(r)?r[0]:r}function Mt(e){return new Promise(t=>{t(function(n){const{multistatus:r}=n;if(r==="")return{multistatus:{response:[]}};if(!r)throw new Error("Invalid response: No root multistatus found");const s={multistatus:Array.isArray(r)?r[0]:r};return dt().set(s,"multistatus.response",Vt(s,"multistatus.response",St.Array)),dt().set(s,"multistatus.response",dt().get(s,"multistatus.response").map(i=>function(c){const u=Object.assign({},c);return u.status?dt().set(u,"status",Vt(u,"status",St.Object)):(dt().set(u,"propstat",Vt(u,"propstat",St.Object)),dt().set(u,"propstat.prop",Vt(u,"propstat.prop",St.Object))),u}(i))),s}(new je.XMLParser({allowBooleanAttributes:!0,attributeNamePrefix:"",textNodeName:"text",ignoreAttributes:!1,removeNSPrefix:!0,numberParseOptions:{hex:!0,leadingZeros:!1},attributeValueProcessor:(n,r,s)=>r==="true"||r==="false"?r==="true":r,tagValueProcessor(n,r,s){if(!s.endsWith("propstat.prop.displayname"))return r}}).parse(e)))})}function ne(e,t){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const{getlastmodified:r=null,getcontentlength:s="0",resourcetype:i=null,getcontenttype:c=null,getetag:u=null}=e,g=i&&typeof i=="object"&&i.collection!==void 0?"directory":"file",h={filename:t,basename:Ht().basename(t),lastmod:r,size:parseInt(s,10),type:g,etag:typeof u=="string"?u.replace(/"/g,""):null};return g==="file"&&(h.mime=c&&typeof c=="string"?c.split(";")[0]:""),n&&(e.displayname!==void 0&&(e.displayname=String(e.displayname)),h.props=e),h}function jn(e,t){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=null;try{e.multistatus.response[0].propstat&&(r=e.multistatus.response[0])}catch(o){}if(!r)throw new Error("Failed getting item stat: bad response");const{propstat:{prop:s,status:i}}=r,[c,u,g]=i.split(" ",3),h=parseInt(u,10);if(h>=400){const o=new Error("Invalid response: ".concat(h," ").concat(g));throw o.status=h,o}return ne(s,Lt(t),n)}function Sn(e){switch(String(e)){case"-3":return"unlimited";case"-2":case"-1":return"unknown";default:return parseInt(String(e),10)}}function he(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const Se=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:r=!1}=n,s=H({url:M(e.remoteURL,D(t)),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},e,n);return he(G(s,e),function(i){return X(e,i),he(i.text(),function(c){return he(Mt(c),function(u){const g=jn(u,t,r);return jt(i,g,r)})})})});function Cn(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const Wr=$n(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=function(i){if(!i||i==="/")return[];let c=i;const u=[];do u.push(c),c=Ht().dirname(c);while(c&&c!=="/");return u}(Lt(t));r.sort((i,c)=>i.length>c.length?1:c.length>i.length?-1:0);let s=!1;return function(i,c,u){if(typeof i[un]=="function"){let f=function(v){try{for(;!(g=l.next()).done;)if((v=c(g.value))&&v.then){if(!cn(v))return void v.then(f,o||(o=rt.bind(null,h=new Ct,2)));v=v.v}h?rt(h,1,v):h=v}catch(A){rt(h||(h=new Ct),2,A)}};var g,h,o,l=i[un]();if(f(),l.return){var a=function(v){try{g.done||l.return()}catch(A){}return v};if(h&&h.then)return h.then(a,function(v){throw a(v)});a()}return h}if(!("length"in i))throw new TypeError("Object is not iterable");for(var m=[],d=0;d<i.length;d++)m.push(i[d]);return function(f,v,A){var p,y,x=-1;return function E(w){try{for(;++x<f.length&&(!A||!A());)if((w=v(x))&&w.then){if(!cn(w))return void w.then(E,y||(y=rt.bind(null,p=new Ct,2)));w=w.v}p?rt(p,1,w):p=w}catch(P){rt(p||(p=new Ct),2,P)}}(),p}(m,function(f){return c(m[f])},u)}(r,function(i){return c=function(){return function(g,h){try{var o=Cn(Se(e,i),function(l){if(l.type!=="directory")throw new Error("Path includes a file: ".concat(t))})}catch(l){return h(l)}return o&&o.then?o.then(void 0,h):o}(0,function(g){const h=g;return function(){if(h.status===404)return s=!0,an(we(e,i,ot(V({},n),{recursive:!1})));throw g}()})},(u=function(){if(s)return an(we(e,i,ot(V({},n),{recursive:!1})))}())&&u.then?u.then(c):c();var c,u},function(){return!1})});function $n(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}function Gr(){}function an(e,t){return e&&e.then?e.then(Gr):Promise.resolve()}const un=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function rt(e,t,n){if(!e.s){if(n instanceof Ct){if(!n.s)return void(n.o=rt.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(rt.bind(null,e,t),rt.bind(null,e,2));e.s=t,e.v=n;const r=e.o;r&&r(e)}}const Ct=function(){function e(){}return e.prototype.then=function(t,n){const r=new e,s=this.s;if(s){const i=1&s?t:n;if(i){try{rt(r,1,i(this.v))}catch(c){rt(r,2,c)}return r}return this}return this.o=function(i){try{const c=i.v;1&i.s?rt(r,1,t?t(c):c):n?rt(r,1,n(c)):rt(r,2,c)}catch(c){rt(r,2,c)}},r},e}();function cn(e){return e instanceof Ct&&1&e.s}const we=$n(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n.recursive===!0)return Wr(e,t,n);const r=H({url:M(e.remoteURL,(s=D(t),s.endsWith("/")?s:s+"/")),method:"MKCOL"},e,n);var s;return Cn(G(r,e),function(i){X(e,i)})});var Hr=R(388),ln=R.n(Hr);const Xr=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r={};if(typeof n.range=="object"&&typeof n.range.start=="number"){let u="bytes=".concat(n.range.start,"-");typeof n.range.end=="number"&&(u="".concat(u).concat(n.range.end)),r.Range=u}const s=H({url:M(e.remoteURL,D(t)),method:"GET",headers:r},e,n);return c=function(u){if(X(e,u),r.Range&&u.status!==206){const g=new Error("Invalid response code for partial request: ".concat(u.status));throw g.status=u.status,g}return n.callback&&setTimeout(()=>{n.callback(u)},0),u.body},(i=G(s,e))&&i.then||(i=Promise.resolve(i)),c?i.then(c):i;var i,c}),Zr=()=>{},Yr=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t,n){n.url||(n.url=M(e.remoteURL,D(t)));const r=H(n,e,{});return i=function(c){return X(e,c),c},(s=G(r,e))&&s.then||(s=Promise.resolve(s)),i?s.then(i):s;var s,i}),Jr=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=H({url:M(e.remoteURL,D(t)),method:"DELETE"},e,n);return i=function(c){X(e,c)},(s=G(r,e))&&s.then||(s=Promise.resolve(s)),i?s.then(i):s;var s,i}),Kr=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function(r,s){try{var i=(c=Se(e,t,n),u=function(){return!0},g?u?u(c):c:(c&&c.then||(c=Promise.resolve(c)),u?c.then(u):c))}catch(h){return s(h)}var c,u,g;return i&&i.then?i.then(void 0,s):i}(0,function(r){if(r.status===404)return!1;throw r})});function pe(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const Qr=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=H({url:M(e.remoteURL,D(t),"/"),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:n.deep?"infinity":"1"}},e,n);return pe(G(r,e),function(s){return X(e,s),pe(s.text(),function(i){if(!i)throw new Error("Failed parsing directory contents: Empty response");return pe(Mt(i),function(c){const u=Xe(t);let g=function(h,o,l){let a=arguments.length>3&&arguments[3]!==void 0&&arguments[3],m=arguments.length>4&&arguments[4]!==void 0&&arguments[4];const d=Ht().join(o,"/"),{multistatus:{response:f}}=h,v=f.map(A=>{const p=function(x){try{return x.replace(/^https?:\/\/[^\/]+/,"")}catch(E){throw new st(E,"Failed normalising HREF")}}(A.href),{propstat:{prop:y}}=A;return ne(y,d==="/"?decodeURIComponent(Lt(p)):Lt(Ht().relative(decodeURIComponent(d),decodeURIComponent(p))),a)});return m?v:v.filter(A=>A.basename&&(A.type==="file"||A.filename!==l.replace(/\/$/,"")))}(c,Xe(e.remoteBasePath||e.remotePath),u,n.details,n.includeSelf);return n.glob&&(g=function(h,o){return h.filter(l=>tt(l.filename,o,{matchBase:!0}))}(g,n.glob)),jt(s,g,n.details)})})})});function Ce(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}const ts=Ce(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=H({url:M(e.remoteURL,D(t)),method:"GET",headers:{Accept:"text/plain"},transformResponse:[rs]},e,n);return te(G(r,e),function(s){return X(e,s),te(s.text(),function(i){return jt(s,i,n.details)})})});function te(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const es=Ce(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=H({url:M(e.remoteURL,D(t)),method:"GET"},e,n);return te(G(r,e),function(s){let i;return X(e,s),function(c,u){var g=c();return g&&g.then?g.then(u):u()}(function(){return te(s.arrayBuffer(),function(c){i=c})},function(){return jt(s,i,n.details)})})}),ns=Ce(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{format:r="binary"}=n;if(r!=="binary"&&r!=="text")throw new st({info:{code:mt.InvalidOutputFormat}},"Invalid output format: ".concat(r));return r==="text"?ts(e,t,n):es(e,t,n)}),rs=e=>e;function ss(e){return new je.XMLBuilder({attributeNamePrefix:"@_",format:!0,ignoreAttributes:!1,suppressEmptyNode:!0}).build(_n({lockinfo:{"@_xmlns:d":"DAV:",lockscope:{exclusive:{}},locktype:{write:{}},owner:{href:e}}},"d"))}function _n(e,t){const n=V({},e);for(const r in n)n.hasOwnProperty(r)&&(n[r]&&typeof n[r]=="object"&&r.indexOf(":")===-1?(n["".concat(t,":").concat(r)]=_n(n[r],t),delete n[r]):/^@_/.test(r)===!1&&(n["".concat(t,":").concat(r)]=n[r],delete n[r]));return n}function be(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function Rn(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}const os=Rn(function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=H({url:M(e.remoteURL,D(t)),method:"UNLOCK",headers:{"Lock-Token":n}},e,r);return be(G(s,e),function(i){if(X(e,i),i.status!==204&&i.status!==200)throw Te(i)})}),is=Rn(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{refreshToken:r,timeout:s=as}=n,i={Accept:"text/plain,application/xml",Timeout:s};r&&(i.If=r);const c=H({url:M(e.remoteURL,D(t)),method:"LOCK",headers:i,data:ss(e.contactHref)},e,n);return be(G(c,e),function(u){return X(e,u),be(u.text(),function(g){const h=(a=g,new je.XMLParser({removeNSPrefix:!0,parseAttributeValue:!0,parseTagValue:!0}).parse(a)),o=dt().get(h,"prop.lockdiscovery.activelock.locktoken.href"),l=dt().get(h,"prop.lockdiscovery.activelock.timeout");var a;if(!o)throw Te(u,"No lock token received: ");return{token:o,serverTimeout:l}})})}),as="Infinite, Second-4100000000";function fe(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const us=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=t.path||"/",r=H({url:M(e.remoteURL,n),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},e,t);return fe(G(r,e),function(s){return X(e,s),fe(s.text(),function(i){return fe(Mt(i),function(c){const u=function(g){try{const[h]=g.multistatus.response,{propstat:{prop:{"quota-used-bytes":o,"quota-available-bytes":l}}}=h;return o!==void 0&&l!==void 0?{used:parseInt(String(o),10),available:Sn(l)}:null}catch(h){}return null}(c);return jt(s,u,t.details)})})})});function de(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const cs=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:r=!1}=n,s=H({url:M(e.remoteURL,D(t)),method:"SEARCH",headers:{Accept:"text/plain,application/xml","Content-Type":e.headers["Content-Type"]||"application/xml; charset=utf-8"}},e,n);return de(G(s,e),function(i){return X(e,i),de(i.text(),function(c){return de(Mt(c),function(u){const g=function(h,o,l){const a={truncated:!1,results:[]};return a.truncated=h.multistatus.response.some(m=>{var d,f;return((f=(m.status||((d=m.propstat)==null?void 0:d.status)).split(" ",3))==null?void 0:f[1])==="507"&&m.href.replace(/\/$/,"").endsWith(D(o).replace(/\/$/,""))}),h.multistatus.response.forEach(m=>{if(m.propstat===void 0)return;const d=m.href.split("/").map(decodeURIComponent).join("/");a.results.push(ne(m.propstat.prop,d,l))}),a}(u,t,r);return jt(i,g,r)})})})}),ls=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=H({url:M(e.remoteURL,D(t)),method:"MOVE",headers:{Destination:M(e.remoteURL,D(n)),Overwrite:r.overwrite===!1?"F":"T"}},e,r);return c=function(u){X(e,u)},(i=G(s,e))&&i.then||(i=Promise.resolve(i)),c?i.then(c):i;var i,c});var hs=R(172);const ps=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const{contentLength:s=!0,overwrite:i=!0}=r,c={"Content-Type":"application/octet-stream"};s===!1||(c["Content-Length"]=typeof s=="number"?"".concat(s):"".concat(function(o){if(wn(o))return o.byteLength;if(bn(o))return o.length;if(typeof o=="string")return(0,hs.d)(o);throw new st({info:{code:mt.DataTypeNoLength}},"Cannot calculate data length: Invalid type")}(n))),i||(c["If-None-Match"]="*");const u=H({url:M(e.remoteURL,D(t)),method:"PUT",headers:c,data:n},e,r);return h=function(o){try{X(e,o)}catch(l){const a=l;if(a.status!==412||i)throw a;return!1}return!0},(g=G(u,e))&&g.then||(g=Promise.resolve(g)),h?g.then(h):g;var g,h}),In=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=H({url:M(e.remoteURL,D(t)),method:"OPTIONS"},e,n);return i=function(c){var u,g;try{X(e,c)}catch(h){throw h}return{compliance:((u=c.headers.get("DAV"))!=null?u:"").split(",").map(h=>h.trim()),server:(g=c.headers.get("Server"))!=null?g:""}},(s=G(r,e))&&s.then||(s=Promise.resolve(s)),i?s.then(i):s;var s,i});function kt(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const fs=$e(function(e,t,n,r,s){let i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(n>r||n<0)throw new st({info:{code:mt.InvalidUpdateRange}},"Invalid update range ".concat(n," for partial update"));const c={"Content-Type":"application/octet-stream","Content-Length":""+(r-n+1),"Content-Range":"bytes ".concat(n,"-").concat(r,"/*")},u=H({url:M(e.remoteURL,D(t)),method:"PUT",headers:c,data:s},e,i);return kt(G(u,e),function(g){X(e,g)})});function hn(e,t){var n=e();return n&&n.then?n.then(t):t(n)}const ds=$e(function(e,t,n,r,s){let i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(n>r||n<0)throw new st({info:{code:mt.InvalidUpdateRange}},"Invalid update range ".concat(n," for partial update"));const c={"Content-Type":"application/x-sabredav-partialupdate","Content-Length":""+(r-n+1),"X-Update-Range":"bytes=".concat(n,"-").concat(r)},u=H({url:M(e.remoteURL,D(t)),method:"PATCH",headers:c,data:s},e,i);return kt(G(u,e),function(g){X(e,g)})});function $e(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}const gs=$e(function(e,t,n,r,s){let i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};return kt(In(e,t,i),function(c){let u=!1;return hn(function(){if(c.compliance.includes("sabredav-partialupdate"))return kt(ds(e,t,n,r,s,i),function(g){return u=!0,g})},function(g){let h=!1;return u?g:hn(function(){if(c.server.includes("Apache")&&c.compliance.includes("<http://apache.org/dav/propset/fs/1>"))return kt(fs(e,t,n,r,s,i),function(o){return h=!0,o})},function(o){if(h)return o;throw new st({info:{code:mt.NotSupported}},"Not supported")})})})}),ms="https://github.com/perry-mitchell/webdav-client/blob/master/LOCK_CONTACT.md";function vs(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{authType:n=null,remoteBasePath:r,contactHref:s=ms,ha1:i,headers:c={},httpAgent:u,httpsAgent:g,password:h,token:o,username:l,withCredentials:a}=t;let m=n;m||(m=l||h?nt.Password:nt.None);const d={authType:m,remoteBasePath:r,contactHref:s,ha1:i,headers:Object.assign({},c),httpAgent:u,httpsAgent:g,password:h,remotePath:or(e),remoteURL:e,token:o,username:l,withCredentials:a};return mn(d,l,h,o,i),{copyFile:(f,v,A)=>zr(d,f,v,A),createDirectory:(f,v)=>we(d,f,v),createReadStream:(f,v)=>function(A,p){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const x=new(ln()).PassThrough;return Xr(A,p,y).then(E=>{E.pipe(x)}).catch(E=>{x.emit("error",E)}),x}(d,f,v),createWriteStream:(f,v,A)=>function(p,y){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Zr;const w=new(ln()).PassThrough,P={};x.overwrite===!1&&(P["If-None-Match"]="*");const b=H({url:M(p.remoteURL,D(y)),method:"PUT",headers:P,data:w,maxRedirects:0},p,x);return G(b,p).then(O=>X(p,O)).then(O=>{setTimeout(()=>{E(O)},0)}).catch(O=>{w.emit("error",O)}),w}(d,f,v,A),customRequest:(f,v)=>Yr(d,f,v),deleteFile:(f,v)=>Jr(d,f,v),exists:(f,v)=>Kr(d,f,v),getDirectoryContents:(f,v)=>Qr(d,f,v),getFileContents:(f,v)=>ns(d,f,v),getFileDownloadLink:f=>function(v,A){let p=M(v.remoteURL,D(A));const y=/^https:/i.test(p)?"https":"http";switch(v.authType){case nt.None:break;case nt.Password:{const x=Ye(v.headers.Authorization.replace(/^Basic /i,"").trim());p=p.replace(/^https?:\/\//,"".concat(y,"://").concat(x,"@"));break}default:throw new st({info:{code:mt.LinkUnsupportedAuthType}},"Unsupported auth type for file link: ".concat(v.authType))}return p}(d,f),getFileUploadLink:f=>function(v,A){let p="".concat(M(v.remoteURL,D(A)),"?Content-Type=application/octet-stream");const y=/^https:/i.test(p)?"https":"http";switch(v.authType){case nt.None:break;case nt.Password:{const x=Ye(v.headers.Authorization.replace(/^Basic /i,"").trim());p=p.replace(/^https?:\/\//,"".concat(y,"://").concat(x,"@"));break}default:throw new st({info:{code:mt.LinkUnsupportedAuthType}},"Unsupported auth type for file link: ".concat(v.authType))}return p}(d,f),getHeaders:()=>Object.assign({},d.headers),getQuota:f=>us(d,f),lock:(f,v)=>is(d,f,v),moveFile:(f,v,A)=>ls(d,f,v,A),putFileContents:(f,v,A)=>ps(d,f,v,A),partialUpdateFileContents:(f,v,A,p,y)=>gs(d,f,v,A,p,y),getDAVCompliance:f=>In(d,f),search:(f,v)=>cs(d,f,v),setHeaders:f=>{d.headers=Object.assign({},f)},stat:(f,v)=>Se(d,f,v),unlock:(f,v,A)=>os(d,f,v,A)}}lt.hT,lt.O4,lt.Kd,lt.YK;var ys=lt.UU,ws=lt.Gu;lt.ky,lt.h4,lt.ch,lt.hq,lt.i5;function bs(e){return e&&e.split("/").map(encodeURIComponent).join("/")}const Gt=Gn().setApp("@nextcloud/files").detectUser().build();var _e=(e=>(e.Folder="folder",e.File="file",e))(_e||{}),ht=(e=>(e[e.NONE=0]="NONE",e[e.CREATE=4]="CREATE",e[e.READ=1]="READ",e[e.UPDATE=2]="UPDATE",e[e.DELETE=8]="DELETE",e[e.SHARE=16]="SHARE",e[e.ALL=31]="ALL",e))(ht||{});const kn=function(e,t){return e.match(t)!==null},yt=(e,t)=>{if(e.id&&typeof e.id!="number")throw new Error("Invalid id type of value");if(!e.source)throw new Error("Missing mandatory source");try{new URL(e.source)}catch(n){throw new Error("Invalid source format, source must be a valid URL")}if(!e.source.startsWith("http"))throw new Error("Invalid source format, only http(s) is supported");if(e.displayname&&typeof e.displayname!="string")throw new Error("Invalid displayname type");if(e.mtime&&!(e.mtime instanceof Date))throw new Error("Invalid mtime type");if(e.crtime&&!(e.crtime instanceof Date))throw new Error("Invalid crtime type");if(!e.mime||typeof e.mime!="string"||!e.mime.match(/^[-\w.]+\/[-+\w.]+$/gi))throw new Error("Missing or invalid mandatory mime");if("size"in e&&typeof e.size!="number"&&e.size!==void 0)throw new Error("Invalid size type");if("permissions"in e&&e.permissions!==void 0&&!(typeof e.permissions=="number"&&e.permissions>=ht.NONE&&e.permissions<=ht.ALL))throw new Error("Invalid permissions");if(e.owner&&e.owner!==null&&typeof e.owner!="string")throw new Error("Invalid owner type");if(e.attributes&&typeof e.attributes!="object")throw new Error("Invalid attributes type");if(e.root&&typeof e.root!="string")throw new Error("Invalid root type");if(e.root&&!e.root.startsWith("/"))throw new Error("Root must start with a leading slash");if(e.root&&!e.source.includes(e.root))throw new Error("Root must be part of the source");if(e.root&&kn(e.source,t)){const n=e.source.match(t)[0];if(!e.source.includes(Nt.join(n,e.root)))throw new Error("The root must be relative to the service. e.g /files/emma")}if(e.status&&!Object.values(Re).includes(e.status))throw new Error("Status must be a valid NodeStatus")};var Re=(e=>(e.NEW="new",e.FAILED="failed",e.LOADING="loading",e.LOCKED="locked",e))(Re||{});class re{constructor(t,n){k(this,"_data");k(this,"_attributes");k(this,"_knownDavService",/(remote|public)\.php\/(web)?dav/i);k(this,"readonlyAttributes",Object.entries(Object.getOwnPropertyDescriptors(re.prototype)).filter(t=>typeof t[1].get=="function"&&t[0]!=="__proto__").map(t=>t[0]));k(this,"handler",{set:(t,n,r)=>this.readonlyAttributes.includes(n)?!1:Reflect.set(t,n,r),deleteProperty:(t,n)=>this.readonlyAttributes.includes(n)?!1:Reflect.deleteProperty(t,n),get:(t,n,r)=>this.readonlyAttributes.includes(n)?(Gt.warn('Accessing "Node.attributes.'.concat(n,'" is deprecated, access it directly on the Node instance.')),Reflect.get(this,n)):Reflect.get(t,n,r)});var r,s;t.mime||(t.mime="application/octet-stream"),yt(t,n||this._knownDavService),this._data=ot(V({displayname:(r=t.attributes)==null?void 0:r.displayname},t),{attributes:{}}),this._attributes=new Proxy(this._data.attributes,this.handler),this.update((s=t.attributes)!=null?s:{}),n&&(this._knownDavService=n)}get source(){return this._data.source.replace(/\/$/i,"")}get encodedSource(){const{origin:t}=new URL(this.source);return t+bs(this.source.slice(t.length))}get basename(){return Nt.basename(this.source)}get displayname(){return this._data.displayname||this.basename}set displayname(t){yt(ot(V({},this._data),{displayname:t}),this._knownDavService),this._data.displayname=t}get extension(){return Nt.extname(this.source)}get dirname(){if(this.root){let n=this.source;this.isDavResource&&(n=n.split(this._knownDavService).pop());const r=n.indexOf(this.root),s=this.root.replace(/\/$/,"");return Nt.dirname(n.slice(r+s.length)||"/")}const t=new URL(this.source);return Nt.dirname(t.pathname)}get mime(){return this._data.mime||"application/octet-stream"}set mime(t){t!=null||(t="application/octet-stream"),yt(ot(V({},this._data),{mime:t}),this._knownDavService),this._data.mime=t}get mtime(){return this._data.mtime}set mtime(t){yt(ot(V({},this._data),{mtime:t}),this._knownDavService),this._data.mtime=t}get crtime(){return this._data.crtime}get size(){return this._data.size}set size(t){yt(ot(V({},this._data),{size:t}),this._knownDavService),this.updateMtime(),this._data.size=t}get attributes(){return this._attributes}get permissions(){return this.owner===null&&!this.isDavResource?ht.READ:this._data.permissions!==void 0?this._data.permissions:ht.NONE}set permissions(t){yt(ot(V({},this._data),{permissions:t}),this._knownDavService),this.updateMtime(),this._data.permissions=t}get owner(){return this.isDavResource?this._data.owner:null}get isDavResource(){return kn(this.source,this._knownDavService)}get isDavRessource(){return this.isDavResource}get root(){return this._data.root?this._data.root.replace(/^(.+)\/$/,"$1"):this.isDavResource&&Nt.dirname(this.source).split(this._knownDavService).pop()||null}get path(){if(this.root){let t=this.source;this.isDavResource&&(t=t.split(this._knownDavService).pop());const n=t.indexOf(this.root),r=this.root.replace(/\/$/,"");return t.slice(n+r.length)||"/"}return(this.dirname+"/"+this.basename).replace(/\/\//g,"/")}get fileid(){var t;return(t=this._data)==null?void 0:t.id}get status(){var t;return(t=this._data)==null?void 0:t.status}set status(t){yt(ot(V({},this._data),{status:t}),this._knownDavService),this._data.status=t}get data(){return structuredClone(this._data)}move(t){yt(ot(V({},this._data),{source:t}),this._knownDavService);const n=this.basename;this._data.source=t,this.displayname===n&&this.basename!==n&&(this.displayname=this.basename)}rename(t){if(t.includes("/"))throw new Error("Invalid basename");this.move(Nt.dirname(this.source)+"/"+t)}updateMtime(){this._data.mtime&&(this._data.mtime=new Date)}update(t){for(const[n,r]of Object.entries(t))try{r===void 0?delete this.attributes[n]:this.attributes[n]=r}catch(s){if(s instanceof TypeError)continue;throw s}}}class Ie extends re{get type(){return _e.File}clone(){return new Ie(this.data)}}class ke extends re{constructor(t){super(ot(V({},t),{mime:"httpd/unix-directory"}))}get type(){return _e.Folder}get extension(){return null}get mime(){return"httpd/unix-directory"}clone(){return new ke(this.data)}}const xs=function(e=""){let t=ht.NONE;return e&&((e.includes("C")||e.includes("K"))&&(t|=ht.CREATE),e.includes("G")&&(t|=ht.READ),(e.includes("W")||e.includes("N")||e.includes("V"))&&(t|=ht.UPDATE),e.includes("D")&&(t|=ht.DELETE),e.includes("R")&&(t|=ht.SHARE)),t},Ln=["d:getcontentlength","d:getcontenttype","d:getetag","d:getlastmodified","d:creationdate","d:displayname","d:quota-available-bytes","d:resourcetype","nc:has-preview","nc:is-encrypted","nc:mount-type","oc:comments-unread","oc:favorite","oc:fileid","oc:owner-display-name","oc:owner-id","oc:permissions","oc:size"],Dn={d:"DAV:",nc:"http://nextcloud.org/ns",oc:"http://owncloud.org/ns",ocs:"http://open-collaboration-services.org/ns"},$s=function(e,t={nc:"http://nextcloud.org/ns"}){typeof window._nc_dav_properties>"u"&&(window._nc_dav_properties=[...Ln],window._nc_dav_namespaces=V({},Dn));const n=V(V({},window._nc_dav_namespaces),t);if(window._nc_dav_properties.find(s=>s===e))return Gt.warn("".concat(e," already registered"),{prop:e}),!1;if(e.startsWith("<")||e.split(":").length!==2)return Gt.error("".concat(e," is not valid. See example: 'oc:fileid'"),{prop:e}),!1;const r=e.split(":")[0];return n[r]?(window._nc_dav_properties.push(e),window._nc_dav_namespaces=n,!0):(Gt.error("".concat(e," namespace unknown"),{prop:e,namespaces:n}),!1)},Le=function(){return typeof window._nc_dav_properties>"u"&&(window._nc_dav_properties=[...Ln]),window._nc_dav_properties.map(e=>"<".concat(e," />")).join(" ")},De=function(){return typeof window._nc_dav_namespaces>"u"&&(window._nc_dav_namespaces=V({},Dn)),Object.keys(window._nc_dav_namespaces).map(e=>{var t;return"xmlns:".concat(e,'="').concat((t=window._nc_dav_namespaces)==null?void 0:t[e],'"')}).join(" ")},_s=function(){return'<?xml version="1.0"?>\n		<d:propfind '.concat(De(),">\n			<d:prop>\n				").concat(Le(),"\n			</d:prop>\n		</d:propfind>")},As=function(){return'<?xml version="1.0"?>\n		<oc:filter-files '.concat(De(),">\n			<d:prop>\n				").concat(Le(),"\n			</d:prop>\n			<oc:filter-rules>\n				<oc:favorite>1</oc:favorite>\n			</oc:filter-rules>\n		</oc:filter-files>")},Rs=function(e){var t;return'<?xml version="1.0" encoding="UTF-8"?>\n<d:searchrequest '.concat(De(),'\n	xmlns:ns="https://github.com/icewind1991/SearchDAV/ns">\n	<d:basicsearch>\n		<d:select>\n			<d:prop>\n				').concat(Le(),"\n			</d:prop>\n		</d:select>\n		<d:from>\n			<d:scope>\n				<d:href>/files/").concat((t=xe())==null?void 0:t.uid,"/</d:href>\n				<d:depth>infinity</d:depth>\n			</d:scope>\n		</d:from>\n		<d:where>\n			<d:and>\n				<d:or>\n					<d:not>\n						<d:eq>\n							<d:prop>\n								<d:getcontenttype/>\n							</d:prop>\n							<d:literal>httpd/unix-directory</d:literal>\n						</d:eq>\n					</d:not>\n					<d:eq>\n						<d:prop>\n							<oc:size/>\n						</d:prop>\n						<d:literal>0</d:literal>\n					</d:eq>\n				</d:or>\n				<d:gt>\n					<d:prop>\n						<d:getlastmodified/>\n					</d:prop>\n					<d:literal>").concat(e,"</d:literal>\n				</d:gt>\n			</d:and>\n		</d:where>\n		<d:orderby>\n			<d:order>\n				<d:prop>\n					<d:getlastmodified/>\n				</d:prop>\n				<d:descending/>\n			</d:order>\n		</d:orderby>\n		<d:limit>\n			<d:nresults>100</d:nresults>\n			<ns:firstresult>0</ns:firstresult>\n		</d:limit>\n	</d:basicsearch>\n</d:searchrequest>")};function Es(){var e;return Ae()?"/files/".concat(Yn()):"/files/".concat((e=xe())==null?void 0:e.uid)}const Mn=Es();function Ns(){const e=Zn("dav");return Ae()?e.replace("remote.php","public.php"):e}const Fn=Ns(),Is=function(e=Fn,t={}){const n=ys(e,{headers:t});function r(s){n.setHeaders(ot(V({},t),{"X-Requested-With":"XMLHttpRequest",requesttoken:s!=null?s:""}))}return Xn(r),r(Hn()),ws().patch("fetch",(s,i)=>{const c=i.headers;return c!=null&&c.method&&(i.method=c.method,delete c.method),fetch(s,i)}),n},ks=(e,t="/",n=Mn)=>{const r=new AbortController;return new ft(async(s,i,c)=>{c(()=>r.abort());try{const u=(await e.getDirectoryContents("".concat(n).concat(t),{signal:r.signal,details:!0,data:As(),headers:{method:"REPORT"},includeSelf:!0})).data.filter(g=>g.filename!==t).map(g=>Ps(g,n));s(u)}catch(u){i(u)}})},Ps=function(e,t=Mn,n=Fn){var l,a;let r=(l=xe())==null?void 0:l.uid;if(Ae())r=r!=null?r:"anonymous";else if(!r)throw new Error("No user id found");const s=e.props,i=xs(s==null?void 0:s.permissions),c=String((s==null?void 0:s["owner-id"])||r),u=s.fileid||0,g=new Date(Date.parse(e.lastmod)),h=new Date(Date.parse(s.creationdate)),o={id:u,source:"".concat(n).concat(e.filename),mtime:!isNaN(g.getTime())&&g.getTime()!==0?g:void 0,crtime:!isNaN(h.getTime())&&h.getTime()!==0?h:void 0,mime:e.mime||"application/octet-stream",displayname:s.displayname!==void 0?String(s.displayname):void 0,size:(s==null?void 0:s.size)||Number.parseInt(s.getcontentlength||"0"),status:u<0?Re.FAILED:void 0,permissions:i,owner:c,root:t,attributes:ot(V(V({},e),s),{hasPreview:s==null?void 0:s["has-preview"]})};return(a=o.attributes)==null||delete a.props,e.type==="file"?new Ie(o):new ke(o)};export{ft as C,Ie as F,ht as P,Es as a,ks as b,_e as c,Mn as d,Rs as e,Ps as f,Is as g,_s as h,Gt as l,$s as r};
//# sourceMappingURL=dav-CQDyL7M_-zte0U9Np.chunk.mjs.map
