{"version":3,"file":"index-D5dRV40B.chunk.mjs","sources":["../node_modules/@nextcloud/initial-state/dist/index.js"],"sourcesContent":["/**\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: GPL-3.0-or-later\n */\n/**\n * @param app app ID, e.g. \"mail\"\n * @param key name of the property\n * @param fallback optional parameter to use as default value\n * @throws if the key can't be found\n */\nexport function loadState(app, key, fallback) {\n    const selector = `#initial-state-${app}-${key}`;\n    if (window._nc_initial_state?.has(selector)) {\n        return window._nc_initial_state.get(selector);\n    }\n    else if (!window._nc_initial_state) {\n        window._nc_initial_state = new Map();\n    }\n    const elem = document.querySelector(selector);\n    if (elem === null) {\n        if (fallback !== undefined) {\n            return fallback;\n        }\n        throw new Error(`Could not find initial state ${key} of ${app}`);\n    }\n    try {\n        const parsedValue = JSON.parse(atob(elem.value));\n        window._nc_initial_state.set(selector, parsedValue);\n        return parsedValue;\n    }\n    catch (error) {\n        console.error('[@nextcloud/initial-state] Could not parse initial state', { key, app, error });\n        if (fallback !== undefined) {\n            return fallback;\n        }\n        throw new Error(`Could not parse initial state ${key} of ${app}`, { cause: error });\n    }\n}\n"],"names":[],"mappings":";;AAUO,SAAS,UAAU,KAAK,KAAK,UAAU;AAC1C,QAAM,WAAW,kBAAkB,GAAG,IAAI,GAAG;AAC7C,MAAI,OAAO,mBAAmB,IAAI,QAAQ,GAAG;AACzC,WAAO,OAAO,kBAAkB,IAAI,QAAQ;AAAA,EAChD,WACS,CAAC,OAAO,mBAAmB;AAChC,WAAO,oBAAoB,oBAAI,IAAG;AAAA,EACtC;AACA,QAAM,OAAO,SAAS,cAAc,QAAQ;AAC5C,MAAI,SAAS,MAAM;AACf,QAAI,aAAa,QAAW;AACxB,aAAO;AAAA,IACX;AACA,UAAM,IAAI,MAAM,gCAAgC,GAAG,OAAO,GAAG,EAAE;AAAA,EACnE;AACA,MAAI;AACA,UAAM,cAAc,KAAK,MAAM,KAAK,KAAK,KAAK,CAAC;AAC/C,WAAO,kBAAkB,IAAI,UAAU,WAAW;AAClD,WAAO;AAAA,EACX,SACO,OAAO;AACV,YAAQ,MAAM,4DAA4D,EAAE,KAAK,KAAK,OAAO;AAC7F,QAAI,aAAa,QAAW;AACxB,aAAO;AAAA,IACX;AACA,UAAM,IAAI,MAAM,iCAAiC,GAAG,OAAO,GAAG,IAAI,EAAE,OAAO,OAAO;AAAA,EACtF;AACJ;;;;;","x_google_ignoreList":[0]}