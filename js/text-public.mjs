const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=[window.OC.filePath('text', '', 'js/Editor-DYTyUNbw.chunk.mjs'),window.OC.filePath('text', '', 'js/modulepreload-polyfill-Pz2ckkzf.chunk.mjs'),window.OC.filePath('text', '', 'js/emoji-picker-DlAAdvrL.chunk.mjs'),window.OC.filePath('text', '', 'js/vue.runtime.esm-BSiu2UOd.chunk.mjs'),window.OC.filePath('text', '', 'js/index-DfiDB3im.chunk.mjs'),window.OC.filePath('text', '', 'js/index-s7cEOwE1.chunk.mjs'),window.OC.filePath('text', '', 'js/index-C0-nO3LG.chunk.mjs'),window.OC.filePath('text', '', 'js/public-DZjpO8Tq.chunk.mjs'),window.OC.filePath('text', '', 'js/NcLoadingIcon-BFPuXP3q.chunk.mjs'),window.OC.filePath('text', '', 'css/NcLoadingIcon-CFe6qyTF.chunk.css'),window.OC.filePath('text', '', 'css/public-DY8mPymx.chunk.css'),window.OC.filePath('text', '', 'js/index-DJ2hczD-.chunk.mjs'),window.OC.filePath('text', '', 'js/NcColorPicker-mDcoGqyd.chunk.mjs'),window.OC.filePath('text', '', 'js/index-BOsVt1qJ.chunk.mjs'),window.OC.filePath('text', '', 'js/MediaHandler.provider-BE50DDzt.chunk.mjs'),window.OC.filePath('text', '', 'js/logger-Bvti-6nU.chunk.mjs'),window.OC.filePath('text', '', 'js/_plugin-vue2_normalizer-wd1ZAbRr.chunk.mjs'),window.OC.filePath('text', '', 'js/NcCheckboxRadioSwitch-ip_mRd2T-DHC_vlea.chunk.mjs'),window.OC.filePath('text', '', 'css/NcCheckboxRadioSwitch-ip_mRd2T-Bebqso8K.chunk.css'),window.OC.filePath('text', '', 'css/NcColorPicker-kNGLaPXu.chunk.css'),window.OC.filePath('text', '', 'js/MenuBar-DroOJMWe.chunk.mjs'),window.OC.filePath('text', '', 'js/index-BqoyqHyb.chunk.mjs'),window.OC.filePath('text', '', 'css/MenuBar-5E2XOajh.chunk.css'),window.OC.filePath('text', '', 'js/Wrapper-D7ineqlM.chunk.mjs'),window.OC.filePath('text', '', 'css/Wrapper-BXi-C4QZ.chunk.css'),window.OC.filePath('text', '', 'js/_commonjs-dynamic-modules-Cdb4quZm.chunk.mjs'),window.OC.filePath('text', '', 'css/Editor-2GyFOngl.chunk.css')])))=>i.map(i=>d[i]);
import{_ as l,s as c,e as u}from"./modulepreload-polyfill-Pz2ckkzf.chunk.mjs";import{l as s}from"./index-DfiDB3im.chunk.mjs";import{registerFileActionFallback as f,registerFileCreate as h}from"./files-CILxC_Ce.chunk.mjs";import{l as w}from"./logger-Bvti-6nU.chunk.mjs";import{b as g}from"./mime-CHM8nmeB.chunk.mjs";import{s as p}from"./index-BOsVt1qJ.chunk.mjs";import y from"./RichWorkspace-C6_HwF8E.chunk.mjs";import"./emoji-picker-DlAAdvrL.chunk.mjs";import"./public-DZjpO8Tq.chunk.mjs";import"./NcLoadingIcon-BFPuXP3q.chunk.mjs";import"./vue.runtime.esm-BSiu2UOd.chunk.mjs";import"./index-s7cEOwE1.chunk.mjs";import"./index-C0-nO3LG.chunk.mjs";import"./index-DJ2hczD-.chunk.mjs";import"./token-DsHNcSTq.chunk.mjs";import"./Editor.singleton-CezzbHSb.chunk.mjs";import"./RichTextReader-CHxbCz90.chunk.mjs";import"./BaseReader-D8csJt8v.chunk.mjs";import"./NcColorPicker-mDcoGqyd.chunk.mjs";import"./MediaHandler.provider-BE50DDzt.chunk.mjs";import"./_plugin-vue2_normalizer-wd1ZAbRr.chunk.mjs";import"./NcCheckboxRadioSwitch-ip_mRd2T-DHC_vlea.chunk.mjs";const _=function(e){const i=()=>setTimeout(e,0);(document.attachEvent?document.readyState==="complete":document.readyState!=="loading")?i():document.addEventListener("DOMContentLoaded",e)},E={attach(e){const i=e.fileList,r=t("text","Readme")+"."+s("text","default_file_extension");i.id!=="files"&&i.id!=="files.public"||e.addMenuEntry({id:"rich-workspace-init",displayName:t("text","Add folder description"),templateName:r,iconClass:"icon-add-folder-description",fileType:"file",useInput:!1,actionHandler(){return window.FileList.createFile(r,{scrollTo:!1,animate:!1}).then(()=>u("Text::showRichWorkspace",{autofocus:!0}))},shouldShow(){return!i.findFile(r)}})}},C={el:null,attach(e){e.id!=="files"&&e.id!=="files.public"||(this.el=document.createElement("div"),e.registerHeader({id:"workspace",el:this.el,render:this.render.bind(this),priority:10}))},render(e){e.id!=="files"&&e.id!=="files.public"||(OC.Plugins.register("OCA.Files.NewFileMenu",E),l(()=>import("./vue.runtime.esm-BSiu2UOd.chunk.mjs").then(i=>i.v),[],import.meta.url).then(i=>{const r=i.default;this.el.id="files-workspace-wrapper",r.prototype.t=window.t,r.prototype.n=window.n,r.prototype.OCA=window.OCA;const a=r.extend(y),n=new a({propsData:{path:e.getCurrentDirectory(),hasRichWorkspace:!0},store:p}).$mount(this.el);c("files:navigation:changed",()=>{n.active=OCA.Files.App.getCurrentFileList()===e}),e.$el.on("urlChanged",o=>{n.path=o.dir.toString()}),e.$el.on("changeDirectory",o=>{n.path=o.dir.toString()})}))}},v=({sharingToken:e,mimetype:i,fileId:r,$el:a})=>{const n=document.createElement("div");n.id="texteditor",document.getElementById("app-content").appendChild(n),Promise.all([l(()=>import("./vue.runtime.esm-BSiu2UOd.chunk.mjs").then(o=>o.v),[],import.meta.url),l(()=>import("./Editor-DYTyUNbw.chunk.mjs").then(o=>o.b),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]),import.meta.url)]).then(([o,d])=>({Vue:o.default,Editor:d.default})).then(({Vue:o,Editor:d})=>{o.prototype.t=window.t,o.prototype.OCA=window.OCA,new o({render:m=>m(d,{props:{active:!0,shareToken:e,mime:i,fileId:r}}),store:p}).$mount(a)}).catch(o=>w.error("Failed to attach editor",{error:o}))};_(()=>{const e=document.getElementById("sharingToken")?document.getElementById("sharingToken").value:null;if(!e)return;if(document.querySelector("#preview table.files-filestable")){OC.Plugins.register("OCA.Files.FileList",C),f(),h();return}const i=document.getElementById("mimetype")?.value;if(i&&g.indexOf(i)!==-1){const r=document.getElementById("preview"),a=s("text","file_id");v({mimetype:i,sharingToken:e,fileId:a,$el:r})}}),OCA.Text={...window?.OCA?.Text??{},RichWorkspaceEnabled:s("text","workspace_available")};
//# sourceMappingURL=text-public.mjs.map
