import{g as ae}from"./emoji-picker-_ZUJ6YnW.chunk.mjs";function me(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ce={exports:{}},I=ce.exports={},L,m;function B(){throw new Error("setTimeout has not been defined")}function V(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?L=setTimeout:L=B}catch{L=B}try{typeof clearTimeout=="function"?m=clearTimeout:m=V}catch{m=V}})();function ue(r){if(L===setTimeout)return setTimeout(r,0);if((L===B||!L)&&setTimeout)return L=setTimeout,setTimeout(r,0);try{return L(r,0)}catch{try{return L.call(null,r,0)}catch{return L.call(this,r,0)}}}function Re(r){if(m===clearTimeout)return clearTimeout(r);if((m===V||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(r);try{return m(r)}catch{try{return m.call(null,r)}catch{return m.call(this,r)}}}var v=[],w=!1,N,D=-1;function Oe(){!w||!N||(w=!1,N.length?v=N.concat(v):D=-1,v.length&&le())}function le(){if(!w){var r=ue(Oe);w=!0;for(var e=v.length;e;){for(N=v,v=[];++D<e;)N&&N[D].run();D=-1,e=v.length}N=null,w=!1,Re(r)}}I.nextTick=function(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];v.push(new Ee(r,e)),v.length===1&&!w&&ue(le)};function Ee(r,e){this.fun=r,this.array=e}Ee.prototype.run=function(){this.fun.apply(null,this.array)},I.title="browser",I.browser=!0,I.env={},I.argv=[],I.version="",I.versions={};function O(){}I.on=O,I.addListener=O,I.once=O,I.off=O,I.removeListener=O,I.removeAllListeners=O,I.emit=O,I.prependListener=O,I.prependOnceListener=O,I.listeners=function(r){return[]},I.binding=function(r){throw new Error("process.binding is not supported")},I.cwd=function(){return"/"},I.chdir=function(r){throw new Error("process.chdir is not supported")},I.umask=function(){return 0};var ve=ce.exports;const Ne=me(ve);var C,W;function he(){if(W)return C;W=1;var r={};return C=typeof Ne=="object"&&r&&r.NODE_DEBUG&&/\bsemver\b/i.test(r.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{},C}var F,z;function pe(){if(z)return F;z=1;const r="2.0.0",e=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,i=16,a=e-6;return F={MAX_LENGTH:e,MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_BUILD_LENGTH:a,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:r,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},F}var M={exports:{}},K;function ge(){return K||(K=1,function(r,e){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:a}=pe(),l=he();e=r.exports={};const u=e.re=[],o=e.safeRe=[],s=e.src=[],t=e.t={};let h=0;const E="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",a],[E,i]],f=g=>{for(const[R,A]of p)g=g.split(`${R}*`).join(`${R}{0,${A}}`).split(`${R}+`).join(`${R}{1,${A}}`);return g},c=(g,R,A)=>{const Le=f(R),$=h++;l(g,$,R),t[g]=$,s[$]=R,u[$]=new RegExp(R,A?"g":void 0),o[$]=new RegExp(Le,A?"g":void 0)};c("NUMERICIDENTIFIER","0|[1-9]\\d*"),c("NUMERICIDENTIFIERLOOSE","\\d+"),c("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${E}*`),c("MAINVERSION",`(${s[t.NUMERICIDENTIFIER]})\\.(${s[t.NUMERICIDENTIFIER]})\\.(${s[t.NUMERICIDENTIFIER]})`),c("MAINVERSIONLOOSE",`(${s[t.NUMERICIDENTIFIERLOOSE]})\\.(${s[t.NUMERICIDENTIFIERLOOSE]})\\.(${s[t.NUMERICIDENTIFIERLOOSE]})`),c("PRERELEASEIDENTIFIER",`(?:${s[t.NUMERICIDENTIFIER]}|${s[t.NONNUMERICIDENTIFIER]})`),c("PRERELEASEIDENTIFIERLOOSE",`(?:${s[t.NUMERICIDENTIFIERLOOSE]}|${s[t.NONNUMERICIDENTIFIER]})`),c("PRERELEASE",`(?:-(${s[t.PRERELEASEIDENTIFIER]}(?:\\.${s[t.PRERELEASEIDENTIFIER]})*))`),c("PRERELEASELOOSE",`(?:-?(${s[t.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[t.PRERELEASEIDENTIFIERLOOSE]})*))`),c("BUILDIDENTIFIER",`${E}+`),c("BUILD",`(?:\\+(${s[t.BUILDIDENTIFIER]}(?:\\.${s[t.BUILDIDENTIFIER]})*))`),c("FULLPLAIN",`v?${s[t.MAINVERSION]}${s[t.PRERELEASE]}?${s[t.BUILD]}?`),c("FULL",`^${s[t.FULLPLAIN]}$`),c("LOOSEPLAIN",`[v=\\s]*${s[t.MAINVERSIONLOOSE]}${s[t.PRERELEASELOOSE]}?${s[t.BUILD]}?`),c("LOOSE",`^${s[t.LOOSEPLAIN]}$`),c("GTLT","((?:<|>)?=?)"),c("XRANGEIDENTIFIERLOOSE",`${s[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),c("XRANGEIDENTIFIER",`${s[t.NUMERICIDENTIFIER]}|x|X|\\*`),c("XRANGEPLAIN",`[v=\\s]*(${s[t.XRANGEIDENTIFIER]})(?:\\.(${s[t.XRANGEIDENTIFIER]})(?:\\.(${s[t.XRANGEIDENTIFIER]})(?:${s[t.PRERELEASE]})?${s[t.BUILD]}?)?)?`),c("XRANGEPLAINLOOSE",`[v=\\s]*(${s[t.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[t.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[t.XRANGEIDENTIFIERLOOSE]})(?:${s[t.PRERELEASELOOSE]})?${s[t.BUILD]}?)?)?`),c("XRANGE",`^${s[t.GTLT]}\\s*${s[t.XRANGEPLAIN]}$`),c("XRANGELOOSE",`^${s[t.GTLT]}\\s*${s[t.XRANGEPLAINLOOSE]}$`),c("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),c("COERCE",`${s[t.COERCEPLAIN]}(?:$|[^\\d])`),c("COERCEFULL",s[t.COERCEPLAIN]+`(?:${s[t.PRERELEASE]})?(?:${s[t.BUILD]})?(?:$|[^\\d])`),c("COERCERTL",s[t.COERCE],!0),c("COERCERTLFULL",s[t.COERCEFULL],!0),c("LONETILDE","(?:~>?)"),c("TILDETRIM",`(\\s*)${s[t.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",c("TILDE",`^${s[t.LONETILDE]}${s[t.XRANGEPLAIN]}$`),c("TILDELOOSE",`^${s[t.LONETILDE]}${s[t.XRANGEPLAINLOOSE]}$`),c("LONECARET","(?:\\^)"),c("CARETTRIM",`(\\s*)${s[t.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",c("CARET",`^${s[t.LONECARET]}${s[t.XRANGEPLAIN]}$`),c("CARETLOOSE",`^${s[t.LONECARET]}${s[t.XRANGEPLAINLOOSE]}$`),c("COMPARATORLOOSE",`^${s[t.GTLT]}\\s*(${s[t.LOOSEPLAIN]})$|^$`),c("COMPARATOR",`^${s[t.GTLT]}\\s*(${s[t.FULLPLAIN]})$|^$`),c("COMPARATORTRIM",`(\\s*)${s[t.GTLT]}\\s*(${s[t.LOOSEPLAIN]}|${s[t.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",c("HYPHENRANGE",`^\\s*(${s[t.XRANGEPLAIN]})\\s+-\\s+(${s[t.XRANGEPLAIN]})\\s*$`),c("HYPHENRANGELOOSE",`^\\s*(${s[t.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[t.XRANGEPLAINLOOSE]})\\s*$`),c("STAR","(<|>)?=?\\s*\\*"),c("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),c("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(M,M.exports)),M.exports}var G,Y;function be(){if(Y)return G;Y=1;const r=Object.freeze({loose:!0}),e=Object.freeze({});return G=n=>n?typeof n!="object"?r:n:e,G}var j,Z;function Te(){if(Z)return j;Z=1;const r=/^[0-9]+$/,e=(n,i)=>{const a=r.test(n),l=r.test(i);return a&&l&&(n=+n,i=+i),n===i?0:a&&!l?-1:l&&!a?1:n<i?-1:1};return j={compareIdentifiers:e,rcompareIdentifiers:(n,i)=>e(i,n)},j}var U,q;function Ie(){if(q)return U;q=1;const r=he(),{MAX_LENGTH:e,MAX_SAFE_INTEGER:n}=pe(),{safeRe:i,t:a}=ge(),l=be(),{compareIdentifiers:u}=Te();class o{constructor(t,h){if(h=l(h),t instanceof o){if(t.loose===!!h.loose&&t.includePrerelease===!!h.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>e)throw new TypeError(`version is longer than ${e} characters`);r("SemVer",t,h),this.options=h,this.loose=!!h.loose,this.includePrerelease=!!h.includePrerelease;const E=t.trim().match(h.loose?i[a.LOOSE]:i[a.FULL]);if(!E)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+E[1],this.minor=+E[2],this.patch=+E[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");E[4]?this.prerelease=E[4].split(".").map(p=>{if(/^[0-9]+$/.test(p)){const f=+p;if(f>=0&&f<n)return f}return p}):this.prerelease=[],this.build=E[5]?E[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(r("SemVer.compare",this.version,this.options,t),!(t instanceof o)){if(typeof t=="string"&&t===this.version)return 0;t=new o(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof o||(t=new o(t,this.options)),u(this.major,t.major)||u(this.minor,t.minor)||u(this.patch,t.patch)}comparePre(t){if(t instanceof o||(t=new o(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let h=0;do{const E=this.prerelease[h],p=t.prerelease[h];if(r("prerelease compare",h,E,p),E===void 0&&p===void 0)return 0;if(p===void 0)return 1;if(E===void 0)return-1;if(E!==p)return u(E,p)}while(++h)}compareBuild(t){t instanceof o||(t=new o(t,this.options));let h=0;do{const E=this.build[h],p=t.build[h];if(r("build compare",h,E,p),E===void 0&&p===void 0)return 0;if(p===void 0)return 1;if(E===void 0)return-1;if(E!==p)return u(E,p)}while(++h)}inc(t,h,E){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",h,E);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",h,E);break;case"prepatch":this.prerelease.length=0,this.inc("patch",h,E),this.inc("pre",h,E);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",h,E),this.inc("pre",h,E);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const p=Number(E)?1:0;if(!h&&E===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[p];else{let f=this.prerelease.length;for(;--f>=0;)typeof this.prerelease[f]=="number"&&(this.prerelease[f]++,f=-2);if(f===-1){if(h===this.prerelease.join(".")&&E===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(p)}}if(h){let f=[h,p];E===!1&&(f=[h]),u(this.prerelease[0],h)===0?isNaN(this.prerelease[1])&&(this.prerelease=f):this.prerelease=f}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return U=o,U}var x,J;function we(){if(J)return x;J=1;const r=Ie();return x=(e,n,i=!1)=>{if(e instanceof r)return e;try{return new r(e,n)}catch(a){if(!i)return null;throw a}},x}var X,Q;function Ae(){if(Q)return X;Q=1;const r=we();return X=(e,n)=>{const i=r(e,n);return i?i.version:null},X}var $e=Ae();const Se=ae($e);var k,ee;function ye(){if(ee)return k;ee=1;const r=Ie();return k=(e,n)=>new r(e,n).major,k}var Pe=ye();const te=ae(Pe);class _e{bus;constructor(e){typeof e.getVersion!="function"||!Se(e.getVersion())?console.warn("Proxying an event bus with an unknown or invalid version"):te(e.getVersion())!==te(this.getVersion())&&console.warn("Proxying an event bus of version "+e.getVersion()+" with "+this.getVersion()),this.bus=e}getVersion(){return"3.3.1"}subscribe(e,n){this.bus.subscribe(e,n)}unsubscribe(e,n){this.bus.unsubscribe(e,n)}emit(e,n){this.bus.emit(e,n)}}class De{handlers=new Map;getVersion(){return"3.3.1"}subscribe(e,n){this.handlers.set(e,(this.handlers.get(e)||[]).concat(n))}unsubscribe(e,n){this.handlers.set(e,(this.handlers.get(e)||[]).filter(i=>i!==n))}emit(e,n){(this.handlers.get(e)||[]).forEach(i=>{try{i(n)}catch(a){console.error("could not invoke event listener",a)}})}}let S=null;function H(){return S!==null?S:typeof window>"u"?new Proxy({},{get:()=>()=>console.error("Window not available, EventBus can not be established!")}):(window.OC?._eventBus&&typeof window._nc_event_bus>"u"&&(console.warn("found old event bus instance at OC._eventBus. Update your version!"),window._nc_event_bus=window.OC._eventBus),typeof window?._nc_event_bus<"u"?S=new _e(window._nc_event_bus):S=window._nc_event_bus=new De,S)}function Ce(r,e){H().subscribe(r,e)}function Ke(r,e){H().unsubscribe(r,e)}function Ye(r,e){H().emit(r,e)}var b={},y={},P={},re;function de(){if(re)return P;re=1,Object.defineProperty(P,"__esModule",{value:!0}),P.default=void 0;function r(a,l,u){return l=e(l),l in a?Object.defineProperty(a,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):a[l]=u,a}function e(a){var l=n(a,"string");return typeof l=="symbol"?l:l+""}function n(a,l){if(typeof a!="object"||!a)return a;var u=a[Symbol.toPrimitive];if(u!==void 0){var o=u.call(a,l);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(a)}class i{constructor(l,u,o){r(this,"scope",void 0),r(this,"wrapped",void 0),this.scope="".concat(o?i.GLOBAL_SCOPE_PERSISTENT:i.GLOBAL_SCOPE_VOLATILE,"_").concat(btoa(l),"_"),this.wrapped=u}scopeKey(l){return"".concat(this.scope).concat(l)}setItem(l,u){this.wrapped.setItem(this.scopeKey(l),u)}getItem(l){return this.wrapped.getItem(this.scopeKey(l))}removeItem(l){this.wrapped.removeItem(this.scopeKey(l))}clear(){Object.keys(this.wrapped).filter(l=>l.startsWith(this.scope)).map(this.wrapped.removeItem.bind(this.wrapped))}}return P.default=i,r(i,"GLOBAL_SCOPE_VOLATILE","nextcloud_vol"),r(i,"GLOBAL_SCOPE_PERSISTENT","nextcloud_per"),P}var ne;function Fe(){if(ne)return y;ne=1,Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var r=e(de());function e(u){return u&&u.__esModule?u:{default:u}}function n(u,o,s){return o=i(o),o in u?Object.defineProperty(u,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):u[o]=s,u}function i(u){var o=a(u,"string");return typeof o=="symbol"?o:o+""}function a(u,o){if(typeof u!="object"||!u)return u;var s=u[Symbol.toPrimitive];if(s!==void 0){var t=s.call(u,o);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(u)}class l{constructor(o){n(this,"appId",void 0),n(this,"persisted",!1),n(this,"clearedOnLogout",!1),this.appId=o}persist(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.persisted=o,this}clearOnLogout(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clearedOnLogout=o,this}build(){return new r.default(this.appId,this.persisted?window.localStorage:window.sessionStorage,!this.clearedOnLogout)}}return y.default=l,y}var se;function Me(){if(se)return b;se=1,Object.defineProperty(b,"__esModule",{value:!0}),b.clearAll=l,b.clearNonPersistent=u,b.getBuilder=i;var r=n(Fe()),e=n(de());function n(o){return o&&o.__esModule?o:{default:o}}function i(o){return new r.default(o)}function a(o,s){Object.keys(o).filter(t=>s?s(t):!0).map(o.removeItem.bind(o))}function l(){[window.sessionStorage,window.localStorage].map(o=>a(o))}function u(){[window.sessionStorage,window.localStorage].map(o=>a(o,s=>!s.startsWith(e.default.GLOBAL_SCOPE_PERSISTENT)))}return b}var Ge=Me();let _;const fe=[];function Ze(){return _===void 0&&(_=document.head.dataset.requesttoken??null),_}function qe(r){fe.push(r)}Ce("csrf-token-update",r=>{_=r.token,fe.forEach(e=>{try{e(_)}catch(n){console.error("Error updating CSRF token observer",n)}})}),Ge.getBuilder("public").persist().build();let T;const ie=(r,e)=>r?r.getAttribute(e):null;function je(){if(T!==void 0)return T;const r=document?.getElementsByTagName("head")[0];if(!r)return null;const e=ie(r,"data-user");return e===null?(T=null,T):(T={uid:e,displayName:ie(r,"data-user-displayname"),isAdmin:!!window._oc_isadmin},T)}var d=(r=>(r[r.Debug=0]="Debug",r[r.Info=1]="Info",r[r.Warn=2]="Warn",r[r.Error=3]="Error",r[r.Fatal=4]="Fatal",r))(d||{}),Ue=Object.defineProperty,xe=(r,e,n)=>e in r?Ue(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,Xe=(r,e,n)=>(xe(r,e+"",n),n);class ke{constructor(e){Xe(this,"context"),this.context=e||{}}formatMessage(e,n,i){let a="["+d[n].toUpperCase()+"] ";return i&&i.app&&(a+=i.app+": "),typeof e=="string"?a+e:(a+="Unexpected ".concat(e.name),e.message&&(a+=' "'.concat(e.message,'"')),n===d.Debug&&e.stack&&(a+=`

Stack trace:
`.concat(e.stack)),a)}log(e,n,i){var a,l;if(!(typeof((a=this.context)==null?void 0:a.level)=="number"&&e<((l=this.context)==null?void 0:l.level)))switch(typeof n=="object"&&i?.error===void 0&&(i.error=n),e){case d.Debug:console.debug(this.formatMessage(n,d.Debug,i),i);break;case d.Info:console.info(this.formatMessage(n,d.Info,i),i);break;case d.Warn:console.warn(this.formatMessage(n,d.Warn,i),i);break;case d.Error:console.error(this.formatMessage(n,d.Error,i),i);break;case d.Fatal:default:console.error(this.formatMessage(n,d.Fatal,i),i);break}}debug(e,n){this.log(d.Debug,e,Object.assign({},this.context,n))}info(e,n){this.log(d.Info,e,Object.assign({},this.context,n))}warn(e,n){this.log(d.Warn,e,Object.assign({},this.context,n))}error(e,n){this.log(d.Error,e,Object.assign({},this.context,n))}fatal(e,n){this.log(d.Fatal,e,Object.assign({},this.context,n))}}function Be(r){return new ke(r)}var Ve=Object.defineProperty,He=(r,e,n)=>e in r?Ve(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,oe=(r,e,n)=>(He(r,typeof e!="symbol"?e+"":e,n),n);class We{constructor(e){oe(this,"context"),oe(this,"factory"),this.context={},this.factory=e}setApp(e){return this.context.app=e,this}setLogLevel(e){return this.context.level=e,this}setUid(e){return this.context.uid=e,this}detectUser(){const e=je();return e!==null&&(this.context.uid=e.uid),this}detectLogLevel(){const e=this,n=()=>{var i,a;document.readyState==="complete"||document.readyState==="interactive"?(e.context.level=(a=(i=window._oc_config)==null?void 0:i.loglevel)!=null?a:d.Warn,window._oc_debug&&(e.context.level=d.Debug),document.removeEventListener("readystatechange",n)):document.addEventListener("readystatechange",n)};return n(),this}build(){return this.context.level===void 0&&this.detectLogLevel(),this.factory(this.context)}}function Je(){return new We(Be)}export{je as a,Ze as b,ye as c,Ge as d,Ye as e,Me as f,Je as g,qe as o,Ne as p,Ae as r,Ce as s,Ke as u};
