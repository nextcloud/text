{"version":3,"sources":["webpack:///./src/components/GuestNameDialog.vue?fe6c","webpack:///./src/components/GuestNameDialog.vue?dd23","webpack:///./src/components/GuestNameDialog.vue?1d6e","webpack:///./src/components/GuestNameDialog.vue?09e7","webpack:///src/components/GuestNameDialog.vue","webpack:///./src/components/GuestNameDialog.vue","webpack:///./src/components/GuestNameDialog.vue?9061"],"names":["_node_modules_vue_style_loader_index_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_sass_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_GuestNameDialog_vue_vue_type_style_index_0_id_754ab6dc_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","module","exports","push","i","components_GuestNameDialogvue_type_script_lang_js_","name","components","Avatar","a","directives","tooltip","Tooltip_default","props","syncService","type","Object","default","data","guestName","guestNameBuffered","computed","avatarUrl","OC","generateUrl","user","this","size","window","location","protocol","host","beforeMount","session","updateBufferedGuestName","methods","setGuestName","_this","previousGuestName","updateSession","then","localStorage","setItem","catch","e","component","componentNormalizer","_vm","_h","$createElement","_c","_self","rawName","value","t","expression","staticClass","on","submit","$event","preventDefault","attrs","url","disable-tooltip","_v","aria-label","domProps","input","target","composing","__webpack_exports__","content","locals","add"],"mappings":"4FAAA,IAAAA,EAAAC,EAAA,IAAAA,EAAAC,EAAAF,GAAuX,wBCAvXG,EAAAC,QAA2BH,EAAQ,GAARA,EAA2D,IAEtFI,KAAA,CAAcF,EAAAG,EAAS,wYAAsY,8CCF7Z,6BCA+LC,ECkC/L,CACAC,KAAA,kBACAC,WAAA,CACAC,cAAAC,GAEAC,WAAA,CACAC,QAAAC,EAAAH,GAEAI,MAAA,CACAC,YAAA,CACAC,KAAAC,OACAC,QAAA,OAGAC,KAdA,WAeA,OACAC,UAAA,GACAC,kBAAA,KAGAC,SAAA,CACAC,UADA,WAEA,IACAA,EAAAC,GAAAC,YACA,8BACA,CACAC,KAAAC,KAAAN,kBACAO,KALA,KAOA,OAAAC,OAAAC,SAAAC,SAAA,KAAAF,OAAAC,SAAAE,KAAAT,IAGAU,YAhCA,WAiCAN,KAAAP,UAAAO,KAAAZ,YAAAmB,QAAAd,UACAO,KAAAQ,2BAEAC,QAAA,CACAC,aADA,WACA,IAAAC,EAAAX,KACAY,EAAAZ,KAAAZ,YAAAmB,QAAAd,UACAO,KAAAZ,YAAAyB,cAAAb,KAAAP,WAAAqB,KAAA,WACAC,aAAAC,QAAA,OAAAL,EAAAlB,WACAkB,EAAAH,4BACAS,MAAA,SAAAC,GACAP,EAAAlB,UAAAmB,KAGAJ,wBAVA,WAWAR,KAAAN,kBAAAM,KAAAP,6BCzEA0B,EAAgB7B,OAAA8B,EAAA,EAAA9B,CACdX,EHTF,WAA0B,IAAA0C,EAAArB,KAAasB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,QAAkBxC,WAAA,EAAaJ,KAAA,UAAA8C,QAAA,YAAAC,MAAAN,EAAAO,EAAA,gEAAAC,WAAA,uEAAkMC,YAAA,oBAAAC,GAAA,CAAsCC,OAAA,SAAAC,GAAkD,OAAxBA,EAAAC,iBAAwBb,EAAAX,kBAA4B,CAAAc,EAAA,SAAAA,EAAA,UAA2BW,MAAA,CAAOC,IAAAf,EAAAzB,UAAAyC,mBAAA,EAAApC,KAAA,OAAsD,GAAAoB,EAAAiB,GAAA,KAAAd,EAAA,SAA8BxC,WAAA,EAAaJ,KAAA,QAAA8C,QAAA,UAAAC,MAAAN,EAAA,UAAAQ,WAAA,cAA4EM,MAAA,CAAS9C,KAAA,OAAAkD,aAAAlB,EAAAO,EAAA,2BAA4DY,SAAA,CAAWb,MAAAN,EAAA,WAAwBU,GAAA,CAAKU,MAAA,SAAAR,GAAyBA,EAAAS,OAAAC,YAAsCtB,EAAA5B,UAAAwC,EAAAS,OAAAf,WAAoCN,EAAAiB,GAAA,KAAAd,EAAA,SAA0BM,YAAA,eAAAK,MAAA,CAAkC9C,KAAA,SAAAkD,aAAAlB,EAAAO,EAAA,gCACz4B,IGWA,EACA,KACA,WACA,MAIegB,EAAA,QAAAzB,8BChBf,IAAA0B,EAAcxE,EAAQ,KACtB,iBAAAwE,MAAA,EAA4CtE,EAAAG,EAASmE,EAAA,MACrDA,EAAAC,SAAAvE,EAAAC,QAAAqE,EAAAC,SAGAC,EADU1E,EAAQ,IAA6DkB,SAC/E,WAAAsD,GAAA","file":"editor-guest.js?v=97b285789e8911a46f38","sourcesContent":["import mod from \"-!../../node_modules/vue-style-loader/index.js!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GuestNameDialog.vue?vue&type=style&index=0&id=754ab6dc&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/vue-style-loader/index.js!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GuestNameDialog.vue?vue&type=style&index=0&id=754ab6dc&scoped=true&lang=scss&\"","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"form.guest-name-dialog[data-v-754ab6dc] {\\n  display: flex;\\n  max-width: 200px;\\n  margin: auto;\\n  margin-top: -2px;\\n  padding: 3px;\\n}\\nform.guest-name-dialog[data-v-754ab6dc] img {\\n    margin: 0 !important;\\n}\\nform.guest-name-dialog input[type=text][data-v-754ab6dc] {\\n    flex-grow: 1;\\n}\\nform.guest-name-dialog label[data-v-754ab6dc] {\\n    padding: 3px;\\n    height: 32px;\\n}\\n\", \"\"]);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.t('text', 'Enter your name so other users can see who is editing')),expression:\"t('text', 'Enter your name so other users can see who is editing')\"}],staticClass:\"guest-name-dialog\",on:{\"submit\":function($event){$event.preventDefault();return _vm.setGuestName()}}},[_c('label',[_c('avatar',{attrs:{\"url\":_vm.avatarUrl,\"disable-tooltip\":true,\"size\":32}})],1),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.guestName),expression:\"guestName\"}],attrs:{\"type\":\"text\",\"aria-label\":_vm.t('text', 'Edit guest name')},domProps:{\"value\":(_vm.guestName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.guestName=$event.target.value}}}),_vm._v(\" \"),_c('input',{staticClass:\"icon-confirm\",attrs:{\"type\":\"submit\",\"aria-label\":_vm.t('text', 'Save guest name')}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GuestNameDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GuestNameDialog.vue?vue&type=script&lang=js&\"","<!--\n  - @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<form v-tooltip=\"t('text', 'Enter your name so other users can see who is editing')\" class=\"guest-name-dialog\" @submit.prevent=\"setGuestName()\">\n\t\t<label><avatar :url=\"avatarUrl\" :disable-tooltip=\"true\" :size=\"32\" /></label>\n\t\t<input v-model=\"guestName\" type=\"text\" :aria-label=\"t('text', 'Edit guest name')\">\n\t\t<input type=\"submit\" class=\"icon-confirm\" :aria-label=\"t('text', 'Save guest name')\">\n\t</form>\n</template>\n\n<script>\nimport Tooltip from 'nextcloud-vue/dist/Directives/Tooltip'\nimport Avatar from 'nextcloud-vue/dist/Components/Avatar'\n\nexport default {\n\tname: 'GuestNameDialog',\n\tcomponents: {\n\t\tAvatar\n\t},\n\tdirectives: {\n\t\ttooltip: Tooltip\n\t},\n\tprops: {\n\t\tsyncService: {\n\t\t\ttype: Object,\n\t\t\tdefault: null\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tguestName: '',\n\t\t\tguestNameBuffered: ''\n\t\t}\n\t},\n\tcomputed: {\n\t\tavatarUrl() {\n\t\t\tconst size = 32\n\t\t\tconst avatarUrl = OC.generateUrl(\n\t\t\t\t'/avatar/guest/{user}/{size}',\n\t\t\t\t{\n\t\t\t\t\tuser: this.guestNameBuffered,\n\t\t\t\t\tsize: size\n\t\t\t\t})\n\t\t\treturn window.location.protocol + '//' + window.location.host + avatarUrl\n\t\t}\n\t},\n\tbeforeMount() {\n\t\tthis.guestName = this.syncService.session.guestName\n\t\tthis.updateBufferedGuestName()\n\t},\n\tmethods: {\n\t\tsetGuestName() {\n\t\t\tconst previousGuestName = this.syncService.session.guestName\n\t\t\tthis.syncService.updateSession(this.guestName).then(() => {\n\t\t\t\tlocalStorage.setItem('nick', this.guestName)\n\t\t\t\tthis.updateBufferedGuestName()\n\t\t\t}).catch((e) => {\n\t\t\t\tthis.guestName = previousGuestName\n\t\t\t})\n\t\t},\n\t\tupdateBufferedGuestName() {\n\t\t\tthis.guestNameBuffered = this.guestName\n\t\t}\n\t}\n}\n</script>\n\n<style scoped lang=\"scss\">\n\tform.guest-name-dialog {\n\t\tdisplay: flex;\n\t\tmax-width: 200px;\n\t\tmargin: auto;\n\t\tmargin-top: -2px;\n\t\tpadding: 3px;\n\n\t\t& /deep/ img {\n\t\t\tmargin: 0 !important;\n\t\t}\n\n\t\tinput[type=text] {\n\t\t\tflex-grow: 1;\n\t\t}\n\t\tlabel {\n\t\t\tpadding: 3px;\n\t\t\theight: 32px;\n\t\t}\n\t}\n</style>\n","import { render, staticRenderFns } from \"./GuestNameDialog.vue?vue&type=template&id=754ab6dc&scoped=true&\"\nimport script from \"./GuestNameDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./GuestNameDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GuestNameDialog.vue?vue&type=style&index=0&id=754ab6dc&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"754ab6dc\",\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/lib/loader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GuestNameDialog.vue?vue&type=style&index=0&id=754ab6dc&scoped=true&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"2efd7c60\", content, true, {});"],"sourceRoot":""}