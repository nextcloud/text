{"version":3,"file":"editor-guest.js?v=f9f1066de382f2fadbd7","mappings":"iLAGIA,E,MAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,wSAAyS,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,kDAAkD,MAAQ,GAAG,SAAW,oGAAoG,eAAiB,CAAC,6aAA6a,WAAa,MAEr+B,W,8CCPA,I,8DCuCA,MCvCgL,EDuChL,CACAC,KAAAA,kBACAC,WAAAA,CACAC,OAAAA,KAEAC,WAAAA,CACAC,QAAAA,KAEAC,OAAAA,CAAAA,EAAAA,IACAC,KATA,WAUA,OACAC,UAAAA,GACAC,kBAAAA,KAGAC,SAAAA,CACAC,UADA,WAEA,IACA,oBACA,8BACA,CACAC,KAAAA,KAAAA,kBACAC,KALA,KAOA,8DAGAC,YA3BA,WA4BA,mDACA,gCAEAC,QAAAA,CACAC,aADA,WACA,WACA,sCACA,iEACAC,aAAAA,QAAAA,OAAAA,EAAAA,WACA,+BACAC,OAAA,YACA,kBAGAC,wBAVA,WAWA,yC,qIEtEIC,EAAU,GAEdA,EAAQC,kBAAoB,IAC5BD,EAAQE,cAAgB,IAElBF,EAAQG,OAAS,SAAc,KAAM,QAE3CH,EAAQI,OAAS,IACjBJ,EAAQK,mBAAqB,IAEhB,IAAI,IAASL,GAKJ,KAAW,YAAiB,WCPlD,SAXgB,E,SAAA,GACd,GJTW,WAAa,IAAIM,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAAC1B,WAAW,CAAC,CAACH,KAAK,UAAU+B,QAAQ,YAAYC,MAAOP,EAAIQ,EAAE,OAAQ,yDAA0DC,WAAW,uEAAuEC,YAAY,oBAAoBC,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBb,EAAIV,kBAAkB,CAACc,EAAG,QAAQ,CAACA,EAAG,SAAS,CAACU,MAAM,CAAC,IAAMd,EAAIf,UAAU,mBAAkB,EAAK,KAAO,OAAO,GAAGe,EAAIe,GAAG,KAAKX,EAAG,QAAQ,CAAC1B,WAAW,CAAC,CAACH,KAAK,QAAQ+B,QAAQ,UAAUC,MAAOP,EAAa,UAAES,WAAW,cAAcK,MAAM,CAAC,KAAO,OAAO,aAAad,EAAIQ,EAAE,OAAQ,oBAAoBQ,SAAS,CAAC,MAAShB,EAAa,WAAGW,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOK,OAAOC,YAAqBlB,EAAIlB,UAAU8B,EAAOK,OAAOV,WAAUP,EAAIe,GAAG,KAAKX,EAAG,QAAQ,CAACM,YAAY,eAAeI,MAAM,CAAC,KAAO,SAAS,aAAad,EAAIQ,EAAE,OAAQ,mBAAmB,MAAQ,UACz7B,IIWpB,EACA,KACA,WACA,MAI8B","sources":["webpack:///text/src/components/GuestNameDialog.vue?vue&type=style&index=0&id=08efae4a&scoped=true&lang=scss&","webpack:///text/src/components/GuestNameDialog.vue?vue&type=template&id=08efae4a&scoped=true&","webpack:///text/src/components/GuestNameDialog.vue","webpack:///text/src/components/GuestNameDialog.vue?vue&type=script&lang=js&","webpack://text/./src/components/GuestNameDialog.vue?ef08","webpack://text/./src/components/GuestNameDialog.vue?bdff"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"form.guest-name-dialog[data-v-08efae4a]{display:flex;align-items:center;padding:6px}form.guest-name-dialog[data-v-08efae4a] img{margin:0 !important}form.guest-name-dialog input[type=text][data-v-08efae4a]{flex-grow:1}form.guest-name-dialog label[data-v-08efae4a]{padding-right:3px;height:32px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/GuestNameDialog.vue\"],\"names\":[],\"mappings\":\"AAwFA,wCACC,YAAA,CACA,kBAAA,CACA,WAAA,CAEA,4CACC,mBAAA,CAGD,yDACC,WAAA,CAED,8CACC,iBAAA,CACA,WAAA\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nform.guest-name-dialog {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tpadding: 6px;\\n\\n\\t&::v-deep img {\\n\\t\\tmargin: 0 !important;\\n\\t}\\n\\n\\tinput[type=text] {\\n\\t\\tflex-grow: 1;\\n\\t}\\n\\tlabel {\\n\\t\\tpadding-right: 3px;\\n\\t\\theight: 32px;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.t('text', 'Enter your name so other users can see who is editing')),expression:\"t('text', 'Enter your name so other users can see who is editing')\"}],staticClass:\"guest-name-dialog\",on:{\"submit\":function($event){$event.preventDefault();return _vm.setGuestName()}}},[_c('label',[_c('Avatar',{attrs:{\"url\":_vm.avatarUrl,\"disable-tooltip\":true,\"size\":32}})],1),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.guestName),expression:\"guestName\"}],attrs:{\"type\":\"text\",\"aria-label\":_vm.t('text', 'Edit guest name')},domProps:{\"value\":(_vm.guestName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.guestName=$event.target.value}}}),_vm._v(\" \"),_c('input',{staticClass:\"icon-confirm\",attrs:{\"type\":\"submit\",\"aria-label\":_vm.t('text', 'Save guest name'),\"value\":\"\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n  -\n  - @author Julius Härtl <jus@bitgrid.net>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<form v-tooltip=\"t('text', 'Enter your name so other users can see who is editing')\" class=\"guest-name-dialog\" @submit.prevent=\"setGuestName()\">\n\t\t<label><Avatar :url=\"avatarUrl\" :disable-tooltip=\"true\" :size=\"32\" /></label>\n\t\t<input v-model=\"guestName\" type=\"text\" :aria-label=\"t('text', 'Edit guest name')\">\n\t\t<input type=\"submit\"\n\t\t\tclass=\"icon-confirm\"\n\t\t\t:aria-label=\"t('text', 'Save guest name')\"\n\t\t\tvalue=\"\">\n\t</form>\n</template>\n\n<script>\nimport Tooltip from '@nextcloud/vue/dist/Directives/Tooltip'\nimport Avatar from '@nextcloud/vue/dist/Components/Avatar'\nimport { generateUrl } from '@nextcloud/router'\nimport { useSyncServiceMixin } from './EditorWrapper.provider.js'\n\nexport default {\n\tname: 'GuestNameDialog',\n\tcomponents: {\n\t\tAvatar,\n\t},\n\tdirectives: {\n\t\ttooltip: Tooltip,\n\t},\n\tmixins: [useSyncServiceMixin],\n\tdata() {\n\t\treturn {\n\t\t\tguestName: '',\n\t\t\tguestNameBuffered: '',\n\t\t}\n\t},\n\tcomputed: {\n\t\tavatarUrl() {\n\t\t\tconst size = 32\n\t\t\tconst avatarUrl = generateUrl(\n\t\t\t\t'/avatar/guest/{user}/{size}',\n\t\t\t\t{\n\t\t\t\t\tuser: this.guestNameBuffered,\n\t\t\t\t\tsize,\n\t\t\t\t})\n\t\t\treturn window.location.protocol + '//' + window.location.host + avatarUrl\n\t\t},\n\t},\n\tbeforeMount() {\n\t\tthis.guestName = this.$syncService.session.guestName\n\t\tthis.updateBufferedGuestName()\n\t},\n\tmethods: {\n\t\tsetGuestName() {\n\t\t\tconst previousGuestName = this.$syncService.session.guestName\n\t\t\tthis.$syncService.updateSession(this.guestName).then(() => {\n\t\t\t\tlocalStorage.setItem('nick', this.guestName)\n\t\t\t\tthis.updateBufferedGuestName()\n\t\t\t}).catch((e) => {\n\t\t\t\tthis.guestName = previousGuestName\n\t\t\t})\n\t\t},\n\t\tupdateBufferedGuestName() {\n\t\t\tthis.guestNameBuffered = this.guestName\n\t\t},\n\t},\n}\n</script>\n\n<style scoped lang=\"scss\">\n\tform.guest-name-dialog {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tpadding: 6px;\n\n\t\t&::v-deep img {\n\t\t\tmargin: 0 !important;\n\t\t}\n\n\t\tinput[type=text] {\n\t\t\tflex-grow: 1;\n\t\t}\n\t\tlabel {\n\t\t\tpadding-right: 3px;\n\t\t\theight: 32px;\n\t\t}\n\t}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GuestNameDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GuestNameDialog.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GuestNameDialog.vue?vue&type=style&index=0&id=08efae4a&scoped=true&lang=scss&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GuestNameDialog.vue?vue&type=style&index=0&id=08efae4a&scoped=true&lang=scss&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./GuestNameDialog.vue?vue&type=template&id=08efae4a&scoped=true&\"\nimport script from \"./GuestNameDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./GuestNameDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GuestNameDialog.vue?vue&type=style&index=0&id=08efae4a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"08efae4a\",\n  null\n  \n)\n\nexport default component.exports"],"names":["___CSS_LOADER_EXPORT___","push","module","id","name","components","Avatar","directives","tooltip","mixins","data","guestName","guestNameBuffered","computed","avatarUrl","user","size","beforeMount","methods","setGuestName","localStorage","catch","updateBufferedGuestName","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","_vm","this","_h","$createElement","_c","_self","rawName","value","t","expression","staticClass","on","$event","preventDefault","attrs","_v","domProps","target","composing"],"sourceRoot":""}