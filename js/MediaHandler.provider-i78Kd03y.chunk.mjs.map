{"version":3,"file":"MediaHandler.provider-i78Kd03y.chunk.mjs","sources":["../src/components/Editor.provider.js","../src/components/Editor/MediaHandler.provider.js"],"sourcesContent":["/**\n * SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport { logger } from '../helpers/logger.js'\n\nexport const EDITOR = Symbol('tiptap:editor')\nexport const FILE = Symbol('editor:file')\nexport const ATTACHMENT_RESOLVER = Symbol('attachment:resolver')\nexport const IS_MOBILE = Symbol('editor:is-mobile')\nexport const IS_PUBLIC = Symbol('editor:is-public')\nexport const IS_RICH_EDITOR = Symbol('editor:is-rich-editor')\nexport const IS_RICH_WORKSPACE = Symbol('editor:is-rich-woskapace')\nexport const SYNC_SERVICE = Symbol('sync:service')\nexport const EDITOR_UPLOAD = Symbol('editor:upload')\nexport const HOOK_MENTION_SEARCH = Symbol('hook:mention-search')\nexport const HOOK_MENTION_INSERT = Symbol('hook:mention-insert')\n\nexport const useEditorMixin = {\n\tinject: {\n\t\t$editor: { from: EDITOR, default: null },\n\t},\n}\n\nexport const useSyncServiceMixin = {\n\tinject: {\n\t\t$syncService: { from: SYNC_SERVICE, default: null },\n\t},\n}\n\nexport const useIsPublicMixin = {\n\tinject: {\n\t\t$isPublic: { from: IS_PUBLIC, default: false },\n\t},\n}\n\nexport const useIsRichWorkspaceMixin = {\n\tinject: {\n\t\t$isRichWorkspace: { from: IS_RICH_WORKSPACE, default: false },\n\t},\n}\n\nexport const useIsRichEditorMixin = {\n\tinject: {\n\t\t$isRichEditor: { from: IS_RICH_EDITOR, default: false },\n\t},\n}\n\nexport const useIsMobileMixin = {\n\tinject: {\n\t\t$isMobile: { from: IS_MOBILE, default: false },\n\t},\n}\n\nexport const useFileMixin = {\n\tinject: {\n\t\t$file: {\n\t\t\tfrom: FILE,\n\t\t\tdefault: () => ({\n\t\t\t\tfileId: 0,\n\t\t\t\trelativePath: null,\n\t\t\t\tdocument: null,\n\t\t\t}),\n\t\t},\n\t},\n}\n\nexport const useAttachmentResolver = {\n\tinject: {\n\t\t$attachmentResolver: {\n\t\t\tfrom: ATTACHMENT_RESOLVER,\n\t\t\tdefault: {\n\t\t\t\tresolve(src) {\n\t\t\t\t\tlogger.warn('No attachment resolver provided. Some attachment sources cannot be resolved.')\n\t\t\t\t\treturn [src]\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t},\n}\nexport const useEditorUpload = {\n\tinject: {\n\t\t$editorUpload: {\n\t\t\tfrom: EDITOR_UPLOAD,\n\t\t\tdefault: true,\n\t\t},\n\t},\n}\nexport const useMentionHook = {\n\tinject: {\n\t\t$mentionHookInsert: {\n\t\t\tfrom: HOOK_MENTION_INSERT,\n\t\t\tdefault: true,\n\t\t},\n\t\t$mentionHookSearch: {\n\t\t\tfrom: HOOK_MENTION_SEARCH,\n\t\t\tdefault: true,\n\t\t},\n\t},\n}\n","/**\n * SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nexport const STATE_UPLOADING = Symbol('state:uploading-state')\nexport const ACTION_ATTACHMENT_PROMPT = Symbol('editor:action:attachment-prompt')\nexport const ACTION_CHOOSE_LOCAL_ATTACHMENT = Symbol('editor:action:upload-attachment')\n\nexport const useUploadingStateMixin = {\n\tinject: {\n\t\t$uploadingState: {\n\t\t\tfrom: STATE_UPLOADING,\n\t\t\tdefault: {\n\t\t\t\tisUploadingAttachments: false,\n\t\t\t},\n\t\t},\n\t},\n}\n\nexport const useActionAttachmentPromptMixin = {\n\tinject: {\n\t\t$callAttachmentPrompt: { from: ACTION_ATTACHMENT_PROMPT, default: () => {} },\n\t},\n}\n\nexport const useActionChooseLocalAttachmentMixin = {\n\tinject: {\n\t\t$callChooseLocalAttachment: { from: ACTION_CHOOSE_LOCAL_ATTACHMENT, default: () => {} },\n\t},\n}\n"],"names":["EDITOR","FILE","ATTACHMENT_RESOLVER","IS_MOBILE","IS_PUBLIC","IS_RICH_EDITOR","IS_RICH_WORKSPACE","SYNC_SERVICE","EDITOR_UPLOAD","HOOK_MENTION_SEARCH","HOOK_MENTION_INSERT","useEditorMixin","useSyncServiceMixin","useIsPublicMixin","useIsRichWorkspaceMixin","useIsRichEditorMixin","useIsMobileMixin","useFileMixin","useAttachmentResolver","src","logger","useEditorUpload","STATE_UPLOADING","ACTION_ATTACHMENT_PROMPT","ACTION_CHOOSE_LOCAL_ATTACHMENT","useUploadingStateMixin","useActionAttachmentPromptMixin","useActionChooseLocalAttachmentMixin"],"mappings":"gDAOY,MAACA,EAAS,OAAO,eAAe,EAC/BC,EAAO,OAAO,aAAa,EAC3BC,EAAsB,OAAO,qBAAqB,EAClDC,EAAY,OAAO,kBAAkB,EACrCC,EAAY,OAAO,kBAAkB,EACrCC,EAAiB,OAAO,uBAAuB,EAC/CC,EAAoB,OAAO,0BAA0B,EACrDC,EAAe,OAAO,cAAc,EACpCC,EAAgB,OAAO,eAAe,EACtCC,EAAsB,OAAO,qBAAqB,EAClDC,EAAsB,OAAO,qBAAqB,EAElDC,EAAiB,CAC7B,OAAQ,CACP,QAAS,CAAE,KAAMX,EAAQ,QAAS,IAAM,CACxC,CACF,EAEaY,EAAsB,CAClC,OAAQ,CACP,aAAc,CAAE,KAAML,EAAc,QAAS,IAAM,CACnD,CACF,EAEaM,EAAmB,CAC/B,OAAQ,CACP,UAAW,CAAE,KAAMT,EAAW,QAAS,EAAO,CAC9C,CACF,EAEaU,EAA0B,CACtC,OAAQ,CACP,iBAAkB,CAAE,KAAMR,EAAmB,QAAS,EAAO,CAC7D,CACF,EAEaS,EAAuB,CACnC,OAAQ,CACP,cAAe,CAAE,KAAMV,EAAgB,QAAS,EAAO,CACvD,CACF,EAEaW,EAAmB,CAC/B,OAAQ,CACP,UAAW,CAAE,KAAMb,EAAW,QAAS,EAAO,CAC9C,CACF,EAEac,EAAe,CAC3B,OAAQ,CACP,MAAO,CACN,KAAMhB,EACN,QAAS,KAAO,CACf,OAAQ,EACR,aAAc,KACd,SAAU,IACd,EACG,CACD,CACF,EAEaiB,EAAwB,CACpC,OAAQ,CACP,oBAAqB,CACpB,KAAMhB,EACN,QAAS,CACR,QAAQiB,EAAK,CACZ,OAAAC,EAAO,KAAK,8EAA8E,EACnF,CAACD,CAAG,CACX,CACD,CACD,CACD,CACF,EACaE,EAAkB,CAC9B,OAAQ,CACP,cAAe,CACd,KAAMb,EACN,QAAS,EACT,CACD,CACF,ECnFac,EAAkB,OAAO,uBAAuB,EAChDC,EAA2B,OAAO,iCAAiC,EACnEC,EAAiC,OAAO,iCAAiC,EAEzEC,EAAyB,CACrC,OAAQ,CACP,gBAAiB,CAChB,KAAMH,EACN,QAAS,CACR,uBAAwB,EACxB,CACD,CACD,CACF,EAEaI,EAAiC,CAC7C,OAAQ,CACP,sBAAuB,CAAE,KAAMH,EAA0B,QAAS,IAAM,CAAA,CAAI,CAC5E,CACF,EAEaI,EAAsC,CAClD,OAAQ,CACP,2BAA4B,CAAE,KAAMH,EAAgC,QAAS,IAAM,CAAA,CAAI,CACvF,CACF"}