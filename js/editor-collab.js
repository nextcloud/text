"use strict";(self.webpackChunk_nextcloud_text=self.webpackChunk_nextcloud_text||[]).push([["editor-collab"],{21525:(t,s,e)=>{e.d(s,{A:()=>r});var a=e(71354),A=e.n(a),i=e(76314),n=e.n(i)()(A());n.push([t.id,".avatar[data-v-1bf0295d],.avatar-wrapper[data-v-1bf0295d]{border-radius:50%;width:var(--size);height:var(--size);text-align:center;color:#fff;line-height:var(--size);font-size:var(--font-size);font-weight:normal;display:flex;justify-content:center;align-items:center}","",{version:3,sources:["webpack://./src/components/Editor/AvatarWrapper.vue"],names:[],mappings:"AAEA,0DACC,iBAAA,CACA,iBAAA,CACA,kBAAA,CACA,iBAAA,CACA,UAAA,CACA,uBAAA,CACA,0BAAA,CACA,kBAAA,CACA,YAAA,CACA,sBAAA,CACA,kBAAA",sourceRoot:""}]);const r=n},86365:(t,s,e)=>{e.d(s,{A:()=>r});var a=e(71354),A=e.n(a),i=e(76314),n=e.n(i)()(A());n.push([t.id,".session-list[data-v-61181d6f]{height:44px}.avatar-list[data-v-61181d6f]{border:none;background-color:var(--color-main-background);padding:0;margin:0;padding-left:3px;display:inline-flex;flex-direction:row-reverse}.avatar-list .avatar-wrapper[data-v-61181d6f]{margin:0 -18px 0 0;z-index:1;border-radius:50%;overflow:hidden;box-sizing:content-box !important;height:36px;width:36px}.avatar-list .icon-more[data-v-61181d6f],.avatar-list .icon-group[data-v-61181d6f],.avatar-list .icon-settings-dark[data-v-61181d6f]{width:44px;height:44px;margin:0 3px 0 0}.avatar-list .icon-more[data-v-61181d6f]:hover,.avatar-list .icon-group[data-v-61181d6f]:hover,.avatar-list .icon-settings-dark[data-v-61181d6f]:hover{background-color:var(--color-background-hover)}.session-menu[data-v-61181d6f]{max-width:280px;padding-top:6px;padding-bottom:6px}.session-menu ul li[data-v-61181d6f]{align-items:center;display:flex;padding:6px}.session-menu ul li .avatar-wrapper[data-v-61181d6f]{height:36px;width:36px;margin-right:6px}.session-menu ul li .session-label[data-v-61181d6f]{padding-right:3px}.session-menu ul li .guest-label[data-v-61181d6f]{padding-left:3px;color:var(--color-text-maxcontrast)}label[data-v-61181d6f]{display:block;margin:8px}.hint[data-v-61181d6f]{margin:8px;color:var(--color-text-maxcontrast)}","",{version:3,sources:["webpack://./src/components/Editor/SessionList.vue"],names:[],mappings:"AACA,+BACC,WAAA,CAED,8BACC,WAAA,CACA,6CAAA,CACA,SAAA,CACA,QAAA,CACA,gBAAA,CACA,mBAAA,CACA,0BAAA,CAEA,8CACC,kBAAA,CACA,SAAA,CACA,iBAAA,CACA,eAAA,CACA,iCAAA,CACA,WAAA,CACA,UAAA,CAGD,qIACC,UAAA,CACA,WAAA,CACA,gBAAA,CAEA,uJACC,8CAAA,CAKH,+BACC,eAAA,CACA,eAAA,CACA,kBAAA,CAEA,qCACC,kBAAA,CACA,YAAA,CACA,WAAA,CAEA,qDACC,WAAA,CACA,UAAA,CACA,gBAAA,CAGD,oDACC,iBAAA,CAED,kDACC,gBAAA,CACA,mCAAA,CAKH,uBACC,aAAA,CACA,UAAA,CAGD,uBACC,UAAA,CACA,mCAAA",sourceRoot:""}]);const r=n},85556:(t,s,e)=>{e.d(s,{A:()=>m});const a={name:"AvatarWrapper",components:{NcAvatar:e(28317).Bx},props:{session:{type:Object,required:!0},size:{type:Number,default:()=>32}},computed:{sessionAvatarStyle(){return{...this.sessionBackgroundStyle,"border-color":this.session.color,"border-width":"2px","border-style":"solid","--size":this.size+"px","--font-size":this.size/2+"px"}},sessionBackgroundStyle(){return{"background-color":this.session.userId?this.session.color+" !important":"#b9b9b9"}},guestInitial(){return""===this.session.guestName?"?":this.session.guestName.slice(0,1).toUpperCase()}}};var A=e(85072),i=e.n(A),n=e(97825),r=e.n(n),o=e(77659),l=e.n(o),d=e(55056),u=e.n(d),C=e(10540),p=e.n(C),c=e(41113),v=e.n(c),h=e(21525),g={};g.styleTagTransform=v(),g.setAttributes=u(),g.insert=l().bind(null,"head"),g.domAPI=r(),g.insertStyleElement=p();i()(h.A,g);h.A&&h.A.locals&&h.A.locals;const m=(0,e(14486).A)(a,(function(){var t=this,s=t._self._c;return s("div",{staticClass:"avatar-wrapper",style:t.sessionAvatarStyle},[t.session.userId?s("NcAvatar",{attrs:{user:t.session.userId?t.session.userId:t.session.guestName,"is-guest":null===t.session.userId,"disable-menu":!0,"show-user-status":!1,"disable-tooltip":!0,size:t.size}}):s("div",{staticClass:"avatar",style:t.sessionBackgroundStyle},[t._v("\n\t\t"+t._s(t.guestInitial)+"\n\t")])],1)}),[],!1,null,"1bf0295d",null).exports},27177:(s,e,a)=>{a.r(e),a.d(e,{default:()=>B});var A=a(28317),i=a(85556),n=a(95353),r=a(11441),o=a(88784);const l={name:"SessionList",components:{AvatarWrapper:i.A,NcPopover:A.rI},mixins:[r.A],props:{sessions:{type:Object,default:()=>({})}},data:()=>({myName:""}),computed:{...(0,n.aH)({storeShowAuthorAnnotations:t=>t.text.showAuthorAnnotations}),label:()=>t("text","Active people"),showAuthorAnnotations:{get(){return this.storeShowAuthorAnnotations},set(t){this.setShowAuthorAnnotations(t)}},participantsPopover(){return this.currentSession?.guestName?this.participantsWithoutCurrent:this.participants},participantsWithoutCurrent(){return this.participants.filter((t=>!t.isCurrent))},participants(){return Object.values(this.sessions).filter((t=>t.lastContact>Date.now()/1e3-o.kR&&(null!==t.userId||null!==t.guestName))).sort(((t,s)=>t.lastContact<s.lastContact))},currentSession(){return Object.values(this.sessions).find((t=>t.isCurrent))},avatarStyle:()=>t=>({opacity:t.lastContact>Date.now()/1e3-o.g1?1:.5}),sessionsVisible(){return this.participantsWithoutCurrent.slice(0,3)}},methods:{...(0,n.i0)("text",["setShowAuthorAnnotations"])}};var d=a(85072),u=a.n(d),C=a(97825),p=a.n(C),c=a(77659),v=a.n(c),h=a(55056),g=a.n(h),m=a(10540),f=a.n(m),b=a(41113),x=a.n(b),y=a(86365),k={};k.styleTagTransform=x(),k.setAttributes=g(),k.insert=v().bind(null,"head"),k.domAPI=p(),k.insertStyleElement=f();u()(y.A,k);y.A&&y.A.locals&&y.A.locals;const B=(0,a(14486).A)(l,(function(){var t=this,s=t._self._c;return s("NcPopover",{staticClass:"session-list",attrs:{placement:"bottom"},scopedSlots:t._u([{key:"trigger",fn:function(e){let{attrs:a}=e;return[s("div",[s("button",t._b({staticClass:"avatar-list",attrs:{title:t.label,"aria-label":t.label}},"button",a,!1),[s("div",{staticClass:"avatardiv icon-group"}),t._v(" "),t._l(t.sessionsVisible,(function(t){return s("AvatarWrapper",{key:t.id,attrs:{session:t,size:40}})}))],2)])]}},{key:"default",fn:function(){return[s("div",{staticClass:"session-menu"},[t._t("lastSaved"),t._v(" "),s("ul",[t._t("default"),t._v(" "),t._l(t.participantsPopover,(function(e){return s("li",{key:e.id,style:t.avatarStyle(e)},[s("AvatarWrapper",{attrs:{session:e,size:36}}),t._v(" "),s("span",{staticClass:"session-label"},[t._v("\n\t\t\t\t\t\t"+t._s(e.userId?e.displayName:e.guestName?e.guestName:t.t("text","Guest"))+"\n\t\t\t\t\t")]),t._v(" "),null===e.userId?s("span",{staticClass:"guest-label"},[t._v("("+t._s(t.t("text","guest"))+")")]):t._e()],1)}))],2)],2)]},proxy:!0}],null,!0)})}),[],!1,null,"61181d6f",null).exports}}]);
//# sourceMappingURL=editor-collab.js.map?v=2b6651ace41f45d540db