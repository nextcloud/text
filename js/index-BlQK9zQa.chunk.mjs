var Re=Object.defineProperty;var Ne=(t,n,i)=>n in t?Re(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i;var D=(t,n,i)=>Ne(t,typeof n!="symbol"?n+"":n,i);import{g as Ee}from"./emoji-picker-DQhTjoLy.chunk.mjs";function Oe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ue={exports:{}},I=ue.exports={},d,L;function k(){throw new Error("setTimeout has not been defined")}function H(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?d=setTimeout:d=k}catch(t){d=k}try{typeof clearTimeout=="function"?L=clearTimeout:L=H}catch(t){L=H}})();function ce(t){if(d===setTimeout)return setTimeout(t,0);if((d===k||!d)&&setTimeout)return d=setTimeout,setTimeout(t,0);try{return d(t,0)}catch(n){try{return d.call(null,t,0)}catch(i){return d.call(this,t,0)}}}function me(t){if(L===clearTimeout)return clearTimeout(t);if((L===H||!L)&&clearTimeout)return L=clearTimeout,clearTimeout(t);try{return L(t)}catch(n){try{return L.call(null,t)}catch(i){return L.call(this,t)}}}var O=[],S=!1,m,C=-1;function ve(){!S||!m||(S=!1,m.length?O=m.concat(O):C=-1,O.length&&le())}function le(){if(!S){var t=ce(ve);S=!0;for(var n=O.length;n;){for(m=O,O=[];++C<n;)m&&m[C].run();C=-1,n=O.length}m=null,S=!1,me(t)}}I.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)n[i-1]=arguments[i];O.push(new he(t,n)),O.length===1&&!S&&ce(le)};function he(t,n){this.fun=t,this.array=n}he.prototype.run=function(){this.fun.apply(null,this.array)},I.title="browser",I.browser=!0,I.env={},I.argv=[],I.version="",I.versions={};function N(){}I.on=N,I.addListener=N,I.once=N,I.off=N,I.removeListener=N,I.removeAllListeners=N,I.emit=N,I.prependListener=N,I.prependOnceListener=N,I.listeners=function(t){return[]},I.binding=function(t){throw new Error("process.binding is not supported")},I.cwd=function(){return"/"},I.chdir=function(t){throw new Error("process.chdir is not supported")},I.umask=function(){return 0};var Te=ue.exports;const Ae=Oe(Te);var G,W;function pe(){if(W)return G;W=1;var t={};return G=typeof Ae=="object"&&t&&t.NODE_DEBUG&&/\bsemver\b/i.test(t.NODE_DEBUG)?(...n)=>console.error("SEMVER",...n):()=>{},G}var F,Y;function Ie(){if(Y)return F;Y=1;const t="2.0.0",n=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,l=16,h=n-6;return F={MAX_LENGTH:n,MAX_SAFE_COMPONENT_LENGTH:l,MAX_SAFE_BUILD_LENGTH:h,MAX_SAFE_INTEGER:i,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:t,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},F}var M={exports:{}},q;function $e(){return q||(q=1,function(t,n){const{MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_BUILD_LENGTH:l,MAX_LENGTH:h}=Ie(),a=pe();n=t.exports={};const u=n.re=[],s=n.safeRe=[],r=n.src=[],v=n.safeSrc=[],e=n.t={};let E=0;const c="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",h],[c,l]],f=T=>{for(const[R,b]of p)T=T.split("".concat(R,"*")).join("".concat(R,"{0,").concat(b,"}")).split("".concat(R,"+")).join("".concat(R,"{1,").concat(b,"}"));return T},o=(T,R,b)=>{const K=f(R),A=E++;a(T,A,R),e[T]=A,r[A]=R,v[A]=K,u[A]=new RegExp(R,b?"g":void 0),s[A]=new RegExp(K,b?"g":void 0)};o("NUMERICIDENTIFIER","0|[1-9]\\d*"),o("NUMERICIDENTIFIERLOOSE","\\d+"),o("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-]".concat(c,"*")),o("MAINVERSION","(".concat(r[e.NUMERICIDENTIFIER],")\\.(").concat(r[e.NUMERICIDENTIFIER],")\\.(").concat(r[e.NUMERICIDENTIFIER],")")),o("MAINVERSIONLOOSE","(".concat(r[e.NUMERICIDENTIFIERLOOSE],")\\.(").concat(r[e.NUMERICIDENTIFIERLOOSE],")\\.(").concat(r[e.NUMERICIDENTIFIERLOOSE],")")),o("PRERELEASEIDENTIFIER","(?:".concat(r[e.NUMERICIDENTIFIER],"|").concat(r[e.NONNUMERICIDENTIFIER],")")),o("PRERELEASEIDENTIFIERLOOSE","(?:".concat(r[e.NUMERICIDENTIFIERLOOSE],"|").concat(r[e.NONNUMERICIDENTIFIER],")")),o("PRERELEASE","(?:-(".concat(r[e.PRERELEASEIDENTIFIER],"(?:\\.").concat(r[e.PRERELEASEIDENTIFIER],")*))")),o("PRERELEASELOOSE","(?:-?(".concat(r[e.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(r[e.PRERELEASEIDENTIFIERLOOSE],")*))")),o("BUILDIDENTIFIER","".concat(c,"+")),o("BUILD","(?:\\+(".concat(r[e.BUILDIDENTIFIER],"(?:\\.").concat(r[e.BUILDIDENTIFIER],")*))")),o("FULLPLAIN","v?".concat(r[e.MAINVERSION]).concat(r[e.PRERELEASE],"?").concat(r[e.BUILD],"?")),o("FULL","^".concat(r[e.FULLPLAIN],"$")),o("LOOSEPLAIN","[v=\\s]*".concat(r[e.MAINVERSIONLOOSE]).concat(r[e.PRERELEASELOOSE],"?").concat(r[e.BUILD],"?")),o("LOOSE","^".concat(r[e.LOOSEPLAIN],"$")),o("GTLT","((?:<|>)?=?)"),o("XRANGEIDENTIFIERLOOSE","".concat(r[e.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),o("XRANGEIDENTIFIER","".concat(r[e.NUMERICIDENTIFIER],"|x|X|\\*")),o("XRANGEPLAIN","[v=\\s]*(".concat(r[e.XRANGEIDENTIFIER],")(?:\\.(").concat(r[e.XRANGEIDENTIFIER],")(?:\\.(").concat(r[e.XRANGEIDENTIFIER],")(?:").concat(r[e.PRERELEASE],")?").concat(r[e.BUILD],"?)?)?")),o("XRANGEPLAINLOOSE","[v=\\s]*(".concat(r[e.XRANGEIDENTIFIERLOOSE],")(?:\\.(").concat(r[e.XRANGEIDENTIFIERLOOSE],")(?:\\.(").concat(r[e.XRANGEIDENTIFIERLOOSE],")(?:").concat(r[e.PRERELEASELOOSE],")?").concat(r[e.BUILD],"?)?)?")),o("XRANGE","^".concat(r[e.GTLT],"\\s*").concat(r[e.XRANGEPLAIN],"$")),o("XRANGELOOSE","^".concat(r[e.GTLT],"\\s*").concat(r[e.XRANGEPLAINLOOSE],"$")),o("COERCEPLAIN","(^|[^\\d])(\\d{1,".concat(i,"})(?:\\.(\\d{1,").concat(i,"}))?(?:\\.(\\d{1,").concat(i,"}))?")),o("COERCE","".concat(r[e.COERCEPLAIN],"(?:$|[^\\d])")),o("COERCEFULL",r[e.COERCEPLAIN]+"(?:".concat(r[e.PRERELEASE],")?(?:").concat(r[e.BUILD],")?(?:$|[^\\d])")),o("COERCERTL",r[e.COERCE],!0),o("COERCERTLFULL",r[e.COERCEFULL],!0),o("LONETILDE","(?:~>?)"),o("TILDETRIM","(\\s*)".concat(r[e.LONETILDE],"\\s+"),!0),n.tildeTrimReplace="$1~",o("TILDE","^".concat(r[e.LONETILDE]).concat(r[e.XRANGEPLAIN],"$")),o("TILDELOOSE","^".concat(r[e.LONETILDE]).concat(r[e.XRANGEPLAINLOOSE],"$")),o("LONECARET","(?:\\^)"),o("CARETTRIM","(\\s*)".concat(r[e.LONECARET],"\\s+"),!0),n.caretTrimReplace="$1^",o("CARET","^".concat(r[e.LONECARET]).concat(r[e.XRANGEPLAIN],"$")),o("CARETLOOSE","^".concat(r[e.LONECARET]).concat(r[e.XRANGEPLAINLOOSE],"$")),o("COMPARATORLOOSE","^".concat(r[e.GTLT],"\\s*(").concat(r[e.LOOSEPLAIN],")$|^$")),o("COMPARATOR","^".concat(r[e.GTLT],"\\s*(").concat(r[e.FULLPLAIN],")$|^$")),o("COMPARATORTRIM","(\\s*)".concat(r[e.GTLT],"\\s*(").concat(r[e.LOOSEPLAIN],"|").concat(r[e.XRANGEPLAIN],")"),!0),n.comparatorTrimReplace="$1$2$3",o("HYPHENRANGE","^\\s*(".concat(r[e.XRANGEPLAIN],")\\s+-\\s+(").concat(r[e.XRANGEPLAIN],")\\s*$")),o("HYPHENRANGELOOSE","^\\s*(".concat(r[e.XRANGEPLAINLOOSE],")\\s+-\\s+(").concat(r[e.XRANGEPLAINLOOSE],")\\s*$")),o("STAR","(<|>)?=?\\s*\\*"),o("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),o("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(M,M.exports)),M.exports}var U,Z;function we(){if(Z)return U;Z=1;const t=Object.freeze({loose:!0}),n=Object.freeze({});return U=i=>i?typeof i!="object"?t:i:n,U}var j,J;function Se(){if(J)return j;J=1;const t=/^[0-9]+$/,n=(i,l)=>{const h=t.test(i),a=t.test(l);return h&&a&&(i=+i,l=+l),i===l?0:h&&!a?-1:a&&!h?1:i<l?-1:1};return j={compareIdentifiers:n,rcompareIdentifiers:(i,l)=>n(l,i)},j}var X,Q;function fe(){if(Q)return X;Q=1;const t=pe(),{MAX_LENGTH:n,MAX_SAFE_INTEGER:i}=Ie(),{safeRe:l,safeSrc:h,t:a}=$e(),u=we(),{compareIdentifiers:s}=Se();class r{constructor(e,E){if(E=u(E),e instanceof r){if(e.loose===!!E.loose&&e.includePrerelease===!!E.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError('Invalid version. Must be a string. Got type "'.concat(typeof e,'".'));if(e.length>n)throw new TypeError("version is longer than ".concat(n," characters"));t("SemVer",e,E),this.options=E,this.loose=!!E.loose,this.includePrerelease=!!E.includePrerelease;const c=e.trim().match(E.loose?l[a.LOOSE]:l[a.FULL]);if(!c)throw new TypeError("Invalid Version: ".concat(e));if(this.raw=e,this.major=+c[1],this.minor=+c[2],this.patch=+c[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");c[4]?this.prerelease=c[4].split(".").map(p=>{if(/^[0-9]+$/.test(p)){const f=+p;if(f>=0&&f<i)return f}return p}):this.prerelease=[],this.build=c[5]?c[5].split("."):[],this.format()}format(){return this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch),this.prerelease.length&&(this.version+="-".concat(this.prerelease.join("."))),this.version}toString(){return this.version}compare(e){if(t("SemVer.compare",this.version,this.options,e),!(e instanceof r)){if(typeof e=="string"&&e===this.version)return 0;e=new r(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof r||(e=new r(e,this.options)),s(this.major,e.major)||s(this.minor,e.minor)||s(this.patch,e.patch)}comparePre(e){if(e instanceof r||(e=new r(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let E=0;do{const c=this.prerelease[E],p=e.prerelease[E];if(t("prerelease compare",E,c,p),c===void 0&&p===void 0)return 0;if(p===void 0)return 1;if(c===void 0)return-1;if(c!==p)return s(c,p)}while(++E)}compareBuild(e){e instanceof r||(e=new r(e,this.options));let E=0;do{const c=this.build[E],p=e.build[E];if(t("build compare",E,c,p),c===void 0&&p===void 0)return 0;if(p===void 0)return 1;if(c===void 0)return-1;if(c!==p)return s(c,p)}while(++E)}inc(e,E,c){if(e.startsWith("pre")){if(!E&&c===!1)throw new Error("invalid increment argument: identifier is empty");if(E){const p=new RegExp("^".concat(this.options.loose?h[a.PRERELEASELOOSE]:h[a.PRERELEASE],"$")),f="-".concat(E).match(p);if(!f||f[1]!==E)throw new Error("invalid identifier: ".concat(E))}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",E,c);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",E,c);break;case"prepatch":this.prerelease.length=0,this.inc("patch",E,c),this.inc("pre",E,c);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",E,c),this.inc("pre",E,c);break;case"release":if(this.prerelease.length===0)throw new Error("version ".concat(this.raw," is not a prerelease"));this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const p=Number(c)?1:0;if(this.prerelease.length===0)this.prerelease=[p];else{let f=this.prerelease.length;for(;--f>=0;)typeof this.prerelease[f]=="number"&&(this.prerelease[f]++,f=-2);if(f===-1){if(E===this.prerelease.join(".")&&c===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(p)}}if(E){let f=[E,p];c===!1&&(f=[E]),s(this.prerelease[0],E)===0?isNaN(this.prerelease[1])&&(this.prerelease=f):this.prerelease=f}break}default:throw new Error("invalid increment argument: ".concat(e))}return this.raw=this.format(),this.build.length&&(this.raw+="+".concat(this.build.join("."))),this}}return X=r,X}var B,ee;function be(){if(ee)return B;ee=1;const t=fe();return B=(n,i,l=!1)=>{if(n instanceof t)return n;try{return new t(n,i)}catch(h){if(!l)return null;throw h}},B}var x,te;function ge(){if(te)return x;te=1;const t=be();return x=(n,i)=>{const l=t(n,i);return l?l.version:null},x}var Pe=ge();const ye=Ee(Pe);var V,re;function _e(){if(re)return V;re=1;const t=fe();return V=(n,i)=>new t(n,i).major,V}var Ce=_e();const ne=Ee(Ce);class De{constructor(n){D(this,"bus");typeof n.getVersion!="function"||!ye(n.getVersion())?console.warn("Proxying an event bus with an unknown or invalid version"):ne(n.getVersion())!==ne(this.getVersion())&&console.warn("Proxying an event bus of version "+n.getVersion()+" with "+this.getVersion()),this.bus=n}getVersion(){return"3.3.2"}subscribe(n,i){this.bus.subscribe(n,i)}unsubscribe(n,i){this.bus.unsubscribe(n,i)}emit(n,...i){this.bus.emit(n,...i)}}class Ge{constructor(){D(this,"handlers",new Map)}getVersion(){return"3.3.2"}subscribe(n,i){this.handlers.set(n,(this.handlers.get(n)||[]).concat(i))}unsubscribe(n,i){this.handlers.set(n,(this.handlers.get(n)||[]).filter(l=>l!==i))}emit(n,...i){(this.handlers.get(n)||[]).forEach(l=>{try{l(i[0])}catch(h){console.error("could not invoke event listener",h)}})}}let g=null;function z(){var t;return g!==null?g:typeof window>"u"?new Proxy({},{get:()=>()=>console.error("Window not available, EventBus can not be established!")}):((t=window.OC)!=null&&t._eventBus&&typeof window._nc_event_bus>"u"&&(console.warn("found old event bus instance at OC._eventBus. Update your version!"),window._nc_event_bus=window.OC._eventBus),typeof(window==null?void 0:window._nc_event_bus)<"u"?g=new De(window._nc_event_bus):g=window._nc_event_bus=new Ge,g)}function Fe(t,n){z().subscribe(t,n)}function xe(t,n){z().unsubscribe(t,n)}function Ve(t,...n){z().emit(t,...n)}var $={},P={},y={},ie;function de(){if(ie)return y;ie=1,Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;function t(h,a,u){return a=n(a),a in h?Object.defineProperty(h,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):h[a]=u,h}function n(h){var a=i(h,"string");return typeof a=="symbol"?a:a+""}function i(h,a){if(typeof h!="object"||!h)return h;var u=h[Symbol.toPrimitive];if(u!==void 0){var s=u.call(h,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(h)}class l{constructor(a,u,s){t(this,"scope",void 0),t(this,"wrapped",void 0),this.scope="".concat(s?l.GLOBAL_SCOPE_PERSISTENT:l.GLOBAL_SCOPE_VOLATILE,"_").concat(btoa(a),"_"),this.wrapped=u}scopeKey(a){return"".concat(this.scope).concat(a)}setItem(a,u){this.wrapped.setItem(this.scopeKey(a),u)}getItem(a){return this.wrapped.getItem(this.scopeKey(a))}removeItem(a){this.wrapped.removeItem(this.scopeKey(a))}clear(){Object.keys(this.wrapped).filter(a=>a.startsWith(this.scope)).map(this.wrapped.removeItem.bind(this.wrapped))}}return y.default=l,t(l,"GLOBAL_SCOPE_VOLATILE","nextcloud_vol"),t(l,"GLOBAL_SCOPE_PERSISTENT","nextcloud_per"),y}var se;function Me(){if(se)return P;se=1,Object.defineProperty(P,"__esModule",{value:!0}),P.default=void 0;var t=n(de());function n(u){return u&&u.__esModule?u:{default:u}}function i(u,s,r){return s=l(s),s in u?Object.defineProperty(u,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):u[s]=r,u}function l(u){var s=h(u,"string");return typeof s=="symbol"?s:s+""}function h(u,s){if(typeof u!="object"||!u)return u;var r=u[Symbol.toPrimitive];if(r!==void 0){var v=r.call(u,s);if(typeof v!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(u)}class a{constructor(s){i(this,"appId",void 0),i(this,"persisted",!1),i(this,"clearedOnLogout",!1),this.appId=s}persist(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.persisted=s,this}clearOnLogout(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clearedOnLogout=s,this}build(){return new t.default(this.appId,this.persisted?window.localStorage:window.sessionStorage,!this.clearedOnLogout)}}return P.default=a,P}var oe;function Ue(){if(oe)return $;oe=1,Object.defineProperty($,"__esModule",{value:!0}),$.clearAll=a,$.clearNonPersistent=u,$.getBuilder=l;var t=i(Me()),n=i(de());function i(s){return s&&s.__esModule?s:{default:s}}function l(s){return new t.default(s)}function h(s,r){Object.keys(s).filter(v=>r?r(v):!0).map(s.removeItem.bind(s))}function a(){[window.sessionStorage,window.localStorage].map(s=>h(s))}function u(){[window.sessionStorage,window.localStorage].map(s=>h(s,r=>!r.startsWith(n.default.GLOBAL_SCOPE_PERSISTENT)))}return $}var je=Ue();let _;const Le=[];function ke(){var t;return _===void 0&&(_=(t=document.head.dataset.requesttoken)!=null?t:null),_}function He(t){Le.push(t)}Fe("csrf-token-update",t=>{_=t.token,Le.forEach(n=>{try{n(_)}catch(i){console.error("Error updating CSRF token observer",i)}})});je.getBuilder("public").persist().build();let w;function ae(t,n){return t?t.getAttribute(n):null}function ze(){if(w!==void 0)return w;const t=document==null?void 0:document.getElementsByTagName("head")[0];if(!t)return null;const n=ae(t,"data-user");return n===null?(w=null,w):(w={uid:n,displayName:ae(t,"data-user-displayname"),isAdmin:!!window._oc_isadmin},w)}export{ke as a,_e as b,Ue as c,je as d,Ve as e,ze as g,He as o,Ae as p,ge as r,Fe as s,xe as u};
//# sourceMappingURL=index-BlQK9zQa.chunk.mjs.map
