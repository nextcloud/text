import{f as i}from"./public-BQSk-kMe.chunk.mjs";import{A as o}from"./AvatarWrapper-CwBREMzq.chunk.mjs";import{C as n,a as p}from"./Editor-D_i_UKUB.chunk.mjs";import{n as l}from"./_plugin-vue2_normalizer-wd1ZAbRr.chunk.mjs";import"./modulepreload-polyfill-BbX-W30F.chunk.mjs";import"./emoji-picker-DlAAdvrL.chunk.mjs";import"./NcLoadingIcon-DNqaLvLX.chunk.mjs";import"./vue.runtime.esm-CF8vEa-4.chunk.mjs";import"./index-DfiDB3im.chunk.mjs";import"./RichText-Bl4rcoFL.chunk.mjs";import"./index-D85sbSYG.chunk.mjs";import"./index-DyuGUWxl.chunk.mjs";import"./MediaHandler.provider-iCiOLi3t.chunk.mjs";import"./logger-DvmA7f2u.chunk.mjs";import"./index-mgFfDjoT.chunk.mjs";import"./NcCheckboxRadioSwitch-VeztTzpz-Di1Oh6HC.chunk.mjs";import"./index-DlUZRlKQ.chunk.mjs";import"./Wrapper-SYA5eSyB.chunk.mjs";import"./index-CntyOPgG.chunk.mjs";import"./Tooltip-BSu6k6i_.chunk.mjs";import"./_commonjs-dynamic-modules-Cdb4quZm.chunk.mjs";const u={name:"SessionList",components:{AvatarWrapper:o,NcPopover:i},props:{sessions:{type:Object,default:()=>({})}},data(){return{myName:""}},computed:{label(){return t("text","Active people")},participantsPopover(){return this.currentSession?.guestName?this.participantsWithoutCurrent:this.participants},participantsWithoutCurrent(){return this.participants.filter(s=>!s.isCurrent)},participants(){return Object.values(this.sessions).filter(s=>s.lastContact>Date.now()/1e3-n&&(s.userId!==null||s.guestName!==null)).sort((s,r)=>s.lastContact<r.lastContact)},currentSession(){return Object.values(this.sessions).find(s=>s.isCurrent)},avatarStyle(){return s=>({opacity:s.lastContact>Date.now()/1e3-p?1:.5})},sessionsVisible(){return this.participantsWithoutCurrent.slice(0,3)}}};var c=function(){var s=this,r=s._self._c;return r("NcPopover",{staticClass:"session-list",attrs:{placement:"bottom"},scopedSlots:s._u([{key:"trigger",fn:function({attrs:e}){return[r("div",[r("button",s._b({staticClass:"avatar-list",attrs:{title:s.label,"aria-label":s.label}},"button",e,!1),[r("div",{staticClass:"avatardiv icon-group"}),s._l(s.sessionsVisible,function(a){return r("AvatarWrapper",{key:a.id,attrs:{session:a,size:30}})})],2)])]}},{key:"default",fn:function(){return[r("div",{staticClass:"session-menu"},[s._t("lastSaved"),r("ul",[s._t("default"),s._l(s.participantsPopover,function(e){return r("li",{key:e.id,style:s.avatarStyle(e)},[r("AvatarWrapper",{attrs:{session:e,size:36}}),r("span",{staticClass:"session-label"},[s._v(" "+s._s(e.userId?e.displayName:e.guestName?e.guestName:s.t("text","Guest"))+" ")]),e.userId===null?r("span",{staticClass:"guest-label"},[s._v("("+s._s(s.t("text","guest"))+")")]):s._e()],1)})],2)],2)]},proxy:!0}],null,!0)})},m=[],v=l(u,c,m,!1,null,"886d35f7");const V=v.exports;export{V as default};
//# sourceMappingURL=SessionList-DU_DwYyk.chunk.mjs.map
